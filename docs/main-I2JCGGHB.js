import{$ as jt,$a as vd,$b as J,$c as Lt,A as Ry,Aa as e5,Ab as pt,Ac as de,B as eo,Ba as er,Bb as we,Bc as wt,C as wh,Ca as t5,Cb as ie,Cc as ja,D as j4,Da as Sh,Db as Kc,Dc as Bo,E as zw,Ea as i5,Eb as Oy,Ec as qa,F as q4,Fa as Zw,Fb as _i,Fc as E5,G as $4,Ga as r5,Gb as vi,Gc as T5,H as Na,Ha as Ah,Hb as E,Hc as Ed,I as hd,Ia as yd,Ib as T,Ic as w5,J as Rl,Ja as bd,Jb as N,Jc as S5,K as Kw,Ka as n5,Kb as It,Kc as ci,L as md,La as o5,Lb as Pt,Lc as A5,M as gd,Ma as s5,Mb as Pe,Mc as kh,N as kl,Na as a5,Nb as W,Nc as R5,O as Hw,Oa as l5,Ob as V,Oc as k5,P as z4,Pa as c5,Pb as _,Pc as Dh,Q as K4,Qa as u5,Qb as Wi,Qc as Fy,R as H4,Ra as $c,Rb as xi,Rc as Gt,S as dn,Sa as zc,Sb as Cd,Sc as D5,T as ky,Ta as dt,Tb as Re,Tc as $a,U as G4,Ua as d5,Ub as Zt,Uc as si,V as jr,Va as p5,Vb as be,Vc as Ii,W as ei,Wa as _d,Wb as _e,Wc as rt,X as Fa,Xa as v,Xb as tS,Xc as Ih,Y as Ce,Ya as Rh,Yb as yr,Yc as Uy,Z as bt,Za as Iy,Zb as br,Zc as tt,_ as W4,_a as f5,_b as Ue,_c as I5,a as R,aa as Gw,ab as Po,ac as Ze,ad as Ph,b as ue,ba as Ke,bb as ne,bc as ft,bd as P5,c as Eh,ca as se,cb as Py,cc as y5,cd as jy,d as Jt,da as Ua,db as Dl,dc as Hc,dd as Td,e as k,ea as X4,eb as Rr,ec as Gc,f as Rn,fa as qc,fb as h5,fc as Wc,g as Dt,ga as Io,gb as Qw,gc as b5,gd as Tr,h as Al,ha as Ji,hb as $s,hc as My,hd as Si,i as Y,ia as P,ib as m5,ic as io,j as B4,ja as L,jb as Yw,jc as He,jd as ti,k as O4,ka as _t,kb as oe,kc as $e,kd as Ks,l as M4,la as ve,lb as vt,lc as Fe,ld as Ci,m as V4,ma as Z4,mb as Ht,mc as Rt,md as za,n as N4,na as to,nb as Ne,nc as zs,nd as L5,o as Ay,oa as Q4,ob as Se,oc as Lo,od as Ka,p as qw,pa as Y4,pb as D,pc as _5,pd as B5,q as $w,qa as Dy,qb as Jw,qc as fe,r as oi,ra as Me,rb as Ly,rc as xe,s as Qr,sa as Bi,sb as eS,sc as Er,t as Va,ta as Ww,tb as g5,tc as Vy,u as Xe,ua as qt,ub as By,uc as Le,v as it,va as $t,vb as xd,vc as Ny,w as Th,wa as Kt,wb as ae,wc as v5,x as F4,xa as mt,xb as C,xc as Wt,y as U4,ya as J4,yb as pn,yc as x5,z as Ut,za as Xw,zb as bi,zc as C5}from"./chunk-Q6ZXS4PR.js";var sm=k(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.getParsedType=Oi.ZodParsedType=Oi.objectUtil=Oi.util=void 0;var JS;(function(i){i.assertEqual=n=>n;function e(n){}i.assertIs=e;function t(n){throw new Error}i.assertNever=t,i.arrayToEnum=n=>{let o={};for(let s of n)o[s]=s;return o},i.getValidEnumValues=n=>{let o=i.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),s={};for(let a of o)s[a]=n[a];return i.objectValues(s)},i.objectValues=n=>i.objectKeys(n).map(function(o){return n[o]}),i.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let o=[];for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&o.push(s);return o},i.find=(n,o)=>{for(let s of n)if(o(s))return s},i.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function r(n,o=" | "){return n.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}i.joinValues=r,i.jsonStringifyReplacer=(n,o)=>typeof o=="bigint"?o.toString():o})(JS||(Oi.util=JS={}));var eO=function(i){return i.mergeShapes=(e,t)=>R(R({},e),t),i}(eO||(Oi.objectUtil=eO={}));Oi.ZodParsedType=JS.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var _ne=i=>{switch(typeof i){case"undefined":return Oi.ZodParsedType.undefined;case"string":return Oi.ZodParsedType.string;case"number":return isNaN(i)?Oi.ZodParsedType.nan:Oi.ZodParsedType.number;case"boolean":return Oi.ZodParsedType.boolean;case"function":return Oi.ZodParsedType.function;case"bigint":return Oi.ZodParsedType.bigint;case"symbol":return Oi.ZodParsedType.symbol;case"object":return Array.isArray(i)?Oi.ZodParsedType.array:i===null?Oi.ZodParsedType.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?Oi.ZodParsedType.promise:typeof Map<"u"&&i instanceof Map?Oi.ZodParsedType.map:typeof Set<"u"&&i instanceof Set?Oi.ZodParsedType.set:typeof Date<"u"&&i instanceof Date?Oi.ZodParsedType.date:Oi.ZodParsedType.object;default:return Oi.ZodParsedType.unknown}};Oi.getParsedType=_ne});var bb=k(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.ZodError=Ol.quotelessJson=Ol.ZodIssueCode=void 0;var tO=sm();Ol.ZodIssueCode=tO.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var vne=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");Ol.quotelessJson=vne;var am=class i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(o){return o.message},r={_errors:[]},n=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(n);else if(s.code==="invalid_return_type")n(s.returnTypeError);else if(s.code==="invalid_arguments")n(s.argumentsError);else if(s.path.length===0)r._errors.push(t(s));else{let a=r,l=0;for(;l<s.path.length;){let d=s.path[l];l===s.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(t(s))):a[d]=a[d]||{_errors:[]},a=a[d],l++}}};return n(this),r}static assert(e){if(!(e instanceof i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tO.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};Ol.ZodError=am;am.create=i=>new am(i)});var t2=k(e2=>{"use strict";Object.defineProperty(e2,"__esModule",{value:!0});var Jc=sm(),Yr=bb(),xne=(i,e)=>{let t;switch(i.code){case Yr.ZodIssueCode.invalid_type:i.received===Jc.ZodParsedType.undefined?t="Required":t=`Expected ${i.expected}, received ${i.received}`;break;case Yr.ZodIssueCode.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(i.expected,Jc.util.jsonStringifyReplacer)}`;break;case Yr.ZodIssueCode.unrecognized_keys:t=`Unrecognized key(s) in object: ${Jc.util.joinValues(i.keys,", ")}`;break;case Yr.ZodIssueCode.invalid_union:t="Invalid input";break;case Yr.ZodIssueCode.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Jc.util.joinValues(i.options)}`;break;case Yr.ZodIssueCode.invalid_enum_value:t=`Invalid enum value. Expected ${Jc.util.joinValues(i.options)}, received '${i.received}'`;break;case Yr.ZodIssueCode.invalid_arguments:t="Invalid function arguments";break;case Yr.ZodIssueCode.invalid_return_type:t="Invalid function return type";break;case Yr.ZodIssueCode.invalid_date:t="Invalid date";break;case Yr.ZodIssueCode.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(t=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?t=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?t=`Invalid input: must end with "${i.validation.endsWith}"`:Jc.util.assertNever(i.validation):i.validation!=="regex"?t=`Invalid ${i.validation}`:t="Invalid";break;case Yr.ZodIssueCode.too_small:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:t="Invalid input";break;case Yr.ZodIssueCode.too_big:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?t=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:t="Invalid input";break;case Yr.ZodIssueCode.custom:t="Invalid input";break;case Yr.ZodIssueCode.invalid_intersection_types:t="Intersection results could not be merged";break;case Yr.ZodIssueCode.not_multiple_of:t=`Number must be a multiple of ${i.multipleOf}`;break;case Yr.ZodIssueCode.not_finite:t="Number must be finite";break;default:t=e.defaultError,Jc.util.assertNever(i)}return{message:t}};e2.default=xne});var _b=k(Gs=>{"use strict";var Cne=Gs&&Gs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.getErrorMap=Gs.setErrorMap=Gs.defaultErrorMap=void 0;var iO=Cne(t2());Gs.defaultErrorMap=iO.default;var rO=iO.default;function Ene(i){rO=i}Gs.setErrorMap=Ene;function Tne(){return rO}Gs.getErrorMap=Tne});var r2=k(di=>{"use strict";var wne=di&&di.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(di,"__esModule",{value:!0});di.isAsync=di.isValid=di.isDirty=di.isAborted=di.OK=di.DIRTY=di.INVALID=di.ParseStatus=di.addIssueToContext=di.EMPTY_PATH=di.makeIssue=void 0;var Sne=_b(),nO=wne(t2()),Ane=i=>{let{data:e,path:t,errorMaps:r,issueData:n}=i,o=[...t,...n.path||[]],s=ue(R({},n),{path:o});if(n.message!==void 0)return ue(R({},n),{path:o,message:n.message});let a="",l=r.filter(d=>!!d).slice().reverse();for(let d of l)a=d(s,{data:e,defaultError:a}).message;return ue(R({},n),{path:o,message:a})};di.makeIssue=Ane;di.EMPTY_PATH=[];function Rne(i,e){let t=(0,Sne.getErrorMap)(),r=(0,di.makeIssue)({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,t,t===nO.default?void 0:nO.default].filter(n=>!!n)});i.common.issues.push(r)}di.addIssueToContext=Rne;var i2=class i{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if(n.status==="aborted")return di.INVALID;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static mergeObjectAsync(e,t){return Y(this,null,function*(){let r=[];for(let n of t){let o=yield n.key,s=yield n.value;r.push({key:o,value:s})}return i.mergeObjectSync(e,r)})}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:o,value:s}=n;if(o.status==="aborted"||s.status==="aborted")return di.INVALID;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||n.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}};di.ParseStatus=i2;di.INVALID=Object.freeze({status:"aborted"});var kne=i=>({status:"dirty",value:i});di.DIRTY=kne;var Dne=i=>({status:"valid",value:i});di.OK=Dne;var Ine=i=>i.status==="aborted";di.isAborted=Ine;var Pne=i=>i.status==="dirty";di.isDirty=Pne;var Lne=i=>i.status==="valid";di.isValid=Lne;var Bne=i=>typeof Promise<"u"&&i instanceof Promise;di.isAsync=Bne});var sO=k(oO=>{"use strict";Object.defineProperty(oO,"__esModule",{value:!0})});var lO=k(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.errorUtil=void 0;var aO=function(i){return i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e?.message,i}(aO||(vb.errorUtil=aO={}))});var xO=k(Q=>{"use strict";var Cb=Q&&Q.__classPrivateFieldGet||function(i,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)},dO=Q&&Q.__classPrivateFieldSet||function(i,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(i,t):n?n.value=t:e.set(i,t),t},lm,cm;Object.defineProperty(Q,"__esModule",{value:!0});Q.boolean=Q.bigint=Q.array=Q.any=Q.coerce=Q.ZodFirstPartyTypeKind=Q.late=Q.ZodSchema=Q.Schema=Q.custom=Q.ZodReadonly=Q.ZodPipeline=Q.ZodBranded=Q.BRAND=Q.ZodNaN=Q.ZodCatch=Q.ZodDefault=Q.ZodNullable=Q.ZodOptional=Q.ZodTransformer=Q.ZodEffects=Q.ZodPromise=Q.ZodNativeEnum=Q.ZodEnum=Q.ZodLiteral=Q.ZodLazy=Q.ZodFunction=Q.ZodSet=Q.ZodMap=Q.ZodRecord=Q.ZodTuple=Q.ZodIntersection=Q.ZodDiscriminatedUnion=Q.ZodUnion=Q.ZodObject=Q.ZodArray=Q.ZodVoid=Q.ZodNever=Q.ZodUnknown=Q.ZodAny=Q.ZodNull=Q.ZodUndefined=Q.ZodSymbol=Q.ZodDate=Q.ZodBoolean=Q.ZodBigInt=Q.ZodNumber=Q.ZodString=Q.datetimeRegex=Q.ZodType=void 0;Q.NEVER=Q.void=Q.unknown=Q.union=Q.undefined=Q.tuple=Q.transformer=Q.symbol=Q.string=Q.strictObject=Q.set=Q.record=Q.promise=Q.preprocess=Q.pipeline=Q.ostring=Q.optional=Q.onumber=Q.oboolean=Q.object=Q.number=Q.nullable=Q.null=Q.never=Q.nativeEnum=Q.nan=Q.map=Q.literal=Q.lazy=Q.intersection=Q.instanceof=Q.function=Q.enum=Q.effect=Q.discriminatedUnion=Q.date=void 0;var xb=_b(),Qe=lO(),ee=r2(),Be=sm(),De=bb(),Vo=class{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},cO=(i,e)=>{if((0,ee.isValid)(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new De.ZodError(i.common.issues);return this._error=t,this._error}}};function xt(i){if(!i)return{};let{errorMap:e,invalid_type_error:t,required_error:r,description:n}=i;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(s,a)=>{var l,d;let{message:f}=i;return s.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(l=f??r)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(d=f??t)!==null&&d!==void 0?d:a.defaultError}},description:n}}var Ct=class{get description(){return this._def.description}_getType(e){return(0,Be.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,Be.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ee.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,Be.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,ee.isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:(r=t?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,Be.getParsedType)(e)},o=this._parseSync({data:e,path:n.path,parent:n});return cO(n,o)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,Be.getParsedType)(e)};if(!this["~standard"].async)try{let o=this._parseSync({data:e,path:[],parent:n});return(0,ee.isValid)(o)?{value:o.value}:{issues:n.common.issues}}catch(o){!((r=(t=o?.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>(0,ee.isValid)(o)?{value:o.value}:{issues:n.common.issues})}parseAsync(e,t){return Y(this,null,function*(){let r=yield this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error})}safeParseAsync(e,t){return Y(this,null,function*(){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,Be.getParsedType)(e)},n=this._parse({data:e,path:r.path,parent:r}),o=yield(0,ee.isAsync)(n)?n:Promise.resolve(n);return cO(r,o)})}refine(e,t){let r=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,o)=>{let s=e(n),a=()=>o.addIssue(R({code:De.ZodIssueCode.custom},r(n)));return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof t=="function"?t(r,n):t),!1))}_refinement(e){return new oo({schema:this,typeName:ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Mo.create(this,this._def)}nullable(){return Xs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Za.create(this)}promise(){return Nl.create(this,this._def)}or(e){return su.create([this,e],this._def)}and(e){return au.create(this,e,this._def)}transform(e){return new oo(ue(R({},xt(this._def)),{schema:this,typeName:ut.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let t=typeof e=="function"?e:()=>e;return new pu(ue(R({},xt(this._def)),{innerType:this,defaultValue:t,typeName:ut.ZodDefault}))}brand(){return new um(R({typeName:ut.ZodBranded,type:this},xt(this._def)))}catch(e){let t=typeof e=="function"?e:()=>e;return new fu(ue(R({},xt(this._def)),{innerType:this,catchValue:t,typeName:ut.ZodCatch}))}describe(e){let t=this.constructor;return new t(ue(R({},this._def),{description:e}))}pipe(e){return dm.create(this,e)}readonly(){return hu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};Q.ZodType=Ct;Q.Schema=Ct;Q.ZodSchema=Ct;var One=/^c[^\s-]{8,}$/i,Mne=/^[0-9a-z]+$/,Vne=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nne=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fne=/^[a-z0-9_-]{21}$/i,Une=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$ne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",n2,zne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wne=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xne=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zne=new RegExp(`^${pO}$`);function fO(i){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Qne(i){return new RegExp(`^${fO(i)}$`)}function hO(i){let e=`${pO}T${fO(i)}`,t=[];return t.push(i.local?"Z?":"Z"),i.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}Q.datetimeRegex=hO;function Yne(i,e){return!!((e==="v4"||!e)&&zne.test(i)||(e==="v6"||!e)&&Hne.test(i))}function Jne(i,e){if(!Une.test(i))return!1;try{let[t]=i.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function eoe(i,e){return!!((e==="v4"||!e)&&Kne.test(i)||(e==="v6"||!e)&&Gne.test(i))}var Ml=class i extends Ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Be.ZodParsedType.string){let o=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(o,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.string,received:o.parsedType}),ee.INVALID}let r=new ee.ParseStatus,n;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){let s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(n=this._getOrReturnCtx(e,n),s?(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")qne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"email",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")n2||(n2=new RegExp($ne,"u")),n2.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"emoji",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Nne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"uuid",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Fne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"nanoid",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")One.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"cuid",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Mne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"cuid2",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Vne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"ulid",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"url",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"regex",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?hO(o).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Zne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Qne(o).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?jne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"duration",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Yne(e.data,o.version)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"ip",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Jne(e.data,o.alg)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"jwt",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?eoe(e.data,o.version)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"cidr",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Wne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"base64",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Xne.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{validation:"base64url",code:De.ZodIssueCode.invalid_string,message:o.message}),r.dirty()):Be.util.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(n=>e.test(n),R({validation:t,code:De.ZodIssueCode.invalid_string},Qe.errorUtil.errToObj(r)))}_addCheck(e){return new i(ue(R({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(R({kind:"email"},Qe.errorUtil.errToObj(e)))}url(e){return this._addCheck(R({kind:"url"},Qe.errorUtil.errToObj(e)))}emoji(e){return this._addCheck(R({kind:"emoji"},Qe.errorUtil.errToObj(e)))}uuid(e){return this._addCheck(R({kind:"uuid"},Qe.errorUtil.errToObj(e)))}nanoid(e){return this._addCheck(R({kind:"nanoid"},Qe.errorUtil.errToObj(e)))}cuid(e){return this._addCheck(R({kind:"cuid"},Qe.errorUtil.errToObj(e)))}cuid2(e){return this._addCheck(R({kind:"cuid2"},Qe.errorUtil.errToObj(e)))}ulid(e){return this._addCheck(R({kind:"ulid"},Qe.errorUtil.errToObj(e)))}base64(e){return this._addCheck(R({kind:"base64"},Qe.errorUtil.errToObj(e)))}base64url(e){return this._addCheck(R({kind:"base64url"},Qe.errorUtil.errToObj(e)))}jwt(e){return this._addCheck(R({kind:"jwt"},Qe.errorUtil.errToObj(e)))}ip(e){return this._addCheck(R({kind:"ip"},Qe.errorUtil.errToObj(e)))}cidr(e){return this._addCheck(R({kind:"cidr"},Qe.errorUtil.errToObj(e)))}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(R({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1},Qe.errorUtil.errToObj(e?.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(R({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision},Qe.errorUtil.errToObj(e?.message)))}duration(e){return this._addCheck(R({kind:"duration"},Qe.errorUtil.errToObj(e)))}regex(e,t){return this._addCheck(R({kind:"regex",regex:e},Qe.errorUtil.errToObj(t)))}includes(e,t){return this._addCheck(R({kind:"includes",value:e,position:t?.position},Qe.errorUtil.errToObj(t?.message)))}startsWith(e,t){return this._addCheck(R({kind:"startsWith",value:e},Qe.errorUtil.errToObj(t)))}endsWith(e,t){return this._addCheck(R({kind:"endsWith",value:e},Qe.errorUtil.errToObj(t)))}min(e,t){return this._addCheck(R({kind:"min",value:e},Qe.errorUtil.errToObj(t)))}max(e,t){return this._addCheck(R({kind:"max",value:e},Qe.errorUtil.errToObj(t)))}length(e,t){return this._addCheck(R({kind:"length",value:e},Qe.errorUtil.errToObj(t)))}nonempty(e){return this.min(1,Qe.errorUtil.errToObj(e))}trim(){return new i(ue(R({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new i(ue(R({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new i(ue(R({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Q.ZodString=Ml;Ml.create=i=>{var e;return new Ml(R({checks:[],typeName:ut.ZodString,coerce:(e=i?.coerce)!==null&&e!==void 0?e:!1},xt(i)))};function toe(i,e){let t=(i.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=t>r?t:r,o=parseInt(i.toFixed(n).replace(".","")),s=parseInt(e.toFixed(n).replace(".",""));return o%s/Math.pow(10,n)}var eu=class i extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Be.ZodParsedType.number){let o=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(o,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.number,received:o.parsedType}),ee.INVALID}let r,n=new ee.ParseStatus;for(let o of this._def.checks)o.kind==="int"?Be.util.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:o.message}),n.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="multipleOf"?toe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.not_finite,message:o.message}),n.dirty()):Be.util.assertNever(o);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Qe.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Qe.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Qe.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Qe.errorUtil.toString(t))}setLimit(e,t,r,n){return new i(ue(R({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Qe.errorUtil.toString(n)}]}))}_addCheck(e){return new i(ue(R({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Qe.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Qe.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Qe.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Q.ZodNumber=eu;eu.create=i=>new eu(R({checks:[],typeName:ut.ZodNumber,coerce:i?.coerce||!1},xt(i)));var tu=class i extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Be.ZodParsedType.bigint)return this._getInvalidInput(e);let r,n=new ee.ParseStatus;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):Be.util.assertNever(o);return{status:n.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.bigint,received:t.parsedType}),ee.INVALID}gte(e,t){return this.setLimit("min",e,!0,Qe.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Qe.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Qe.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Qe.errorUtil.toString(t))}setLimit(e,t,r,n){return new i(ue(R({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Qe.errorUtil.toString(n)}]}))}_addCheck(e){return new i(ue(R({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Qe.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Q.ZodBigInt=tu;tu.create=i=>{var e;return new tu(R({checks:[],typeName:ut.ZodBigInt,coerce:(e=i?.coerce)!==null&&e!==void 0?e:!1},xt(i)))};var iu=class extends Ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Be.ZodParsedType.boolean){let r=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.boolean,received:r.parsedType}),ee.INVALID}return(0,ee.OK)(e.data)}};Q.ZodBoolean=iu;iu.create=i=>new iu(R({typeName:ut.ZodBoolean,coerce:i?.coerce||!1},xt(i)));var ru=class i extends Ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Be.ZodParsedType.date){let o=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(o,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.date,received:o.parsedType}),ee.INVALID}if(isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(o,{code:De.ZodIssueCode.invalid_date}),ee.INVALID}let r=new ee.ParseStatus,n;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(n=this._getOrReturnCtx(e,n),(0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Be.util.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new i(ue(R({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Qe.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Qe.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Q.ZodDate=ru;ru.create=i=>new ru(R({checks:[],coerce:i?.coerce||!1,typeName:ut.ZodDate},xt(i)));var Nd=class extends Ct{_parse(e){if(this._getType(e)!==Be.ZodParsedType.symbol){let r=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.symbol,received:r.parsedType}),ee.INVALID}return(0,ee.OK)(e.data)}};Q.ZodSymbol=Nd;Nd.create=i=>new Nd(R({typeName:ut.ZodSymbol},xt(i)));var nu=class extends Ct{_parse(e){if(this._getType(e)!==Be.ZodParsedType.undefined){let r=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.undefined,received:r.parsedType}),ee.INVALID}return(0,ee.OK)(e.data)}};Q.ZodUndefined=nu;nu.create=i=>new nu(R({typeName:ut.ZodUndefined},xt(i)));var ou=class extends Ct{_parse(e){if(this._getType(e)!==Be.ZodParsedType.null){let r=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.null,received:r.parsedType}),ee.INVALID}return(0,ee.OK)(e.data)}};Q.ZodNull=ou;ou.create=i=>new ou(R({typeName:ut.ZodNull},xt(i)));var Vl=class extends Ct{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,ee.OK)(e.data)}};Q.ZodAny=Vl;Vl.create=i=>new Vl(R({typeName:ut.ZodAny},xt(i)));var Xa=class extends Ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,ee.OK)(e.data)}};Q.ZodUnknown=Xa;Xa.create=i=>new Xa(R({typeName:ut.ZodUnknown},xt(i)));var hs=class extends Ct{_parse(e){let t=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.never,received:t.parsedType}),ee.INVALID}};Q.ZodNever=hs;hs.create=i=>new hs(R({typeName:ut.ZodNever},xt(i)));var Fd=class extends Ct{_parse(e){if(this._getType(e)!==Be.ZodParsedType.undefined){let r=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.void,received:r.parsedType}),ee.INVALID}return(0,ee.OK)(e.data)}};Q.ZodVoid=Fd;Fd.create=i=>new Fd(R({typeName:ut.ZodVoid},xt(i)));var Za=class i extends Ct{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==Be.ZodParsedType.array)return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.array,received:t.parsedType}),ee.INVALID;if(n.exactLength!==null){let s=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(s||a)&&((0,ee.addIssueToContext)(t,{code:s?De.ZodIssueCode.too_big:De.ZodIssueCode.too_small,minimum:a?n.exactLength.value:void 0,maximum:s?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&((0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&((0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((s,a)=>n.type._parseAsync(new Vo(t,s,t.path,a)))).then(s=>ee.ParseStatus.mergeArray(r,s));let o=[...t.data].map((s,a)=>n.type._parseSync(new Vo(t,s,t.path,a)));return ee.ParseStatus.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new i(ue(R({},this._def),{minLength:{value:e,message:Qe.errorUtil.toString(t)}}))}max(e,t){return new i(ue(R({},this._def),{maxLength:{value:e,message:Qe.errorUtil.toString(t)}}))}length(e,t){return new i(ue(R({},this._def),{exactLength:{value:e,message:Qe.errorUtil.toString(t)}}))}nonempty(e){return this.min(1,e)}};Q.ZodArray=Za;Za.create=(i,e)=>new Za(R({type:i,minLength:null,maxLength:null,exactLength:null,typeName:ut.ZodArray},xt(e)));function Vd(i){if(i instanceof kn){let e={};for(let t in i.shape){let r=i.shape[t];e[t]=Mo.create(Vd(r))}return new kn(ue(R({},i._def),{shape:()=>e}))}else return i instanceof Za?new Za(ue(R({},i._def),{type:Vd(i.element)})):i instanceof Mo?Mo.create(Vd(i.unwrap())):i instanceof Xs?Xs.create(Vd(i.unwrap())):i instanceof Ws?Ws.create(i.items.map(e=>Vd(e))):i}var kn=class i extends Ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Be.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Be.ZodParsedType.object){let d=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(d,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.object,received:d.parsedType}),ee.INVALID}let{status:r,ctx:n}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof hs&&this._def.unknownKeys==="strip"))for(let d in n.data)s.includes(d)||a.push(d);let l=[];for(let d of s){let f=o[d],g=n.data[d];l.push({key:{status:"valid",value:d},value:f._parse(new Vo(n,g,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof hs){let d=this._def.unknownKeys;if(d==="passthrough")for(let f of a)l.push({key:{status:"valid",value:f},value:{status:"valid",value:n.data[f]}});else if(d==="strict")a.length>0&&((0,ee.addIssueToContext)(n,{code:De.ZodIssueCode.unrecognized_keys,keys:a}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let f of a){let g=n.data[f];l.push({key:{status:"valid",value:f},value:d._parse(new Vo(n,g,n.path,f)),alwaysSet:f in n.data})}}return n.common.async?Promise.resolve().then(()=>Y(this,null,function*(){let d=[];for(let f of l){let g=yield f.key,w=yield f.value;d.push({key:g,value:w,alwaysSet:f.alwaysSet})}return d})).then(d=>ee.ParseStatus.mergeObjectSync(r,d)):ee.ParseStatus.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Qe.errorUtil.errToObj,new i(R(ue(R({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,r)=>{var n,o,s,a;let l=(s=(o=(n=this._def).errorMap)===null||o===void 0?void 0:o.call(n,t,r).message)!==null&&s!==void 0?s:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=Qe.errorUtil.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}))}strip(){return new i(ue(R({},this._def),{unknownKeys:"strip"}))}passthrough(){return new i(ue(R({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new i(ue(R({},this._def),{shape:()=>R(R({},this._def.shape()),e)}))}merge(e){return new i({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>R(R({},this._def.shape()),e._def.shape()),typeName:ut.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new i(ue(R({},this._def),{catchall:e}))}pick(e){let t={};return Be.util.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new i(ue(R({},this._def),{shape:()=>t}))}omit(e){let t={};return Be.util.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new i(ue(R({},this._def),{shape:()=>t}))}deepPartial(){return Vd(this)}partial(e){let t={};return Be.util.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new i(ue(R({},this._def),{shape:()=>t}))}required(e){let t={};return Be.util.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Mo;)o=o._def.innerType;t[r]=o}}),new i(ue(R({},this._def),{shape:()=>t}))}keyof(){return mO(Be.util.objectKeys(this.shape))}};Q.ZodObject=kn;kn.create=(i,e)=>new kn(R({shape:()=>i,unknownKeys:"strip",catchall:hs.create(),typeName:ut.ZodObject},xt(e)));kn.strictCreate=(i,e)=>new kn(R({shape:()=>i,unknownKeys:"strict",catchall:hs.create(),typeName:ut.ZodObject},xt(e)));kn.lazycreate=(i,e)=>new kn(R({shape:i,unknownKeys:"strip",catchall:hs.create(),typeName:ut.ZodObject},xt(e)));var su=class extends Ct{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function n(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new De.ZodError(a.ctx.common.issues));return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_union,unionErrors:s}),ee.INVALID}if(t.common.async)return Promise.all(r.map(o=>Y(this,null,function*(){let s=ue(R({},t),{common:ue(R({},t.common),{issues:[]}),parent:null});return{result:yield o._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}}))).then(n);{let o,s=[];for(let l of r){let d=ue(R({},t),{common:ue(R({},t.common),{issues:[]}),parent:null}),f=l._parseSync({data:t.data,path:t.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:d}),d.common.issues.length&&s.push(d.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(l=>new De.ZodError(l));return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_union,unionErrors:a}),ee.INVALID}}get options(){return this._def.options}};Q.ZodUnion=su;su.create=(i,e)=>new su(R({options:i,typeName:ut.ZodUnion},xt(e)));var Wa=i=>i instanceof lu?Wa(i.schema):i instanceof oo?Wa(i.innerType()):i instanceof cu?[i.value]:i instanceof uu?i.options:i instanceof du?Be.util.objectValues(i.enum):i instanceof pu?Wa(i._def.innerType):i instanceof nu?[void 0]:i instanceof ou?[null]:i instanceof Mo?[void 0,...Wa(i.unwrap())]:i instanceof Xs?[null,...Wa(i.unwrap())]:i instanceof um||i instanceof hu?Wa(i.unwrap()):i instanceof fu?Wa(i._def.innerType):[],Eb=class i extends Ct{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Be.ZodParsedType.object)return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.object,received:t.parsedType}),ee.INVALID;let r=this.discriminator,n=t.data[r],o=this.optionsMap.get(n);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):((0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ee.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let o of t){let s=Wa(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,o)}}return new i(R({typeName:ut.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n},xt(r)))}};Q.ZodDiscriminatedUnion=Eb;function o2(i,e){let t=(0,Be.getParsedType)(i),r=(0,Be.getParsedType)(e);if(i===e)return{valid:!0,data:i};if(t===Be.ZodParsedType.object&&r===Be.ZodParsedType.object){let n=Be.util.objectKeys(e),o=Be.util.objectKeys(i).filter(a=>n.indexOf(a)!==-1),s=R(R({},i),e);for(let a of o){let l=o2(i[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(t===Be.ZodParsedType.array&&r===Be.ZodParsedType.array){if(i.length!==e.length)return{valid:!1};let n=[];for(let o=0;o<i.length;o++){let s=i[o],a=e[o],l=o2(s,a);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return t===Be.ZodParsedType.date&&r===Be.ZodParsedType.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}var au=class extends Ct{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(o,s)=>{if((0,ee.isAborted)(o)||(0,ee.isAborted)(s))return ee.INVALID;let a=o2(o.value,s.value);return a.valid?(((0,ee.isDirty)(o)||(0,ee.isDirty)(s))&&t.dirty(),{status:t.value,value:a.data}):((0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_intersection_types}),ee.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>n(o,s)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Q.ZodIntersection=au;au.create=(i,e,t)=>new au(R({left:i,right:e,typeName:ut.ZodIntersection},xt(t)));var Ws=class i extends Ct{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.ZodParsedType.array)return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.array,received:r.parsedType}),ee.INVALID;if(r.data.length<this._def.items.length)return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee.INVALID;!this._def.rest&&r.data.length>this._def.items.length&&((0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let o=[...r.data].map((s,a)=>{let l=this._def.items[a]||this._def.rest;return l?l._parse(new Vo(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>ee.ParseStatus.mergeArray(t,s)):ee.ParseStatus.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new i(ue(R({},this._def),{rest:e}))}};Q.ZodTuple=Ws;Ws.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ws(R({items:i,typeName:ut.ZodTuple,rest:null},xt(e)))};var Tb=class i extends Ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.ZodParsedType.object)return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.object,received:r.parsedType}),ee.INVALID;let n=[],o=this._def.keyType,s=this._def.valueType;for(let a in r.data)n.push({key:o._parse(new Vo(r,a,r.path,a)),value:s._parse(new Vo(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?ee.ParseStatus.mergeObjectAsync(t,n):ee.ParseStatus.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Ct?new i(R({keyType:e,valueType:t,typeName:ut.ZodRecord},xt(r))):new i(R({keyType:Ml.create(),valueType:e,typeName:ut.ZodRecord},xt(t)))}};Q.ZodRecord=Tb;var Ud=class extends Ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.ZodParsedType.map)return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.map,received:r.parsedType}),ee.INVALID;let n=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],d)=>({key:n._parse(new Vo(r,a,r.path,[d,"key"])),value:o._parse(new Vo(r,l,r.path,[d,"value"]))}));if(r.common.async){let a=new Map;return Promise.resolve().then(()=>Y(this,null,function*(){for(let l of s){let d=yield l.key,f=yield l.value;if(d.status==="aborted"||f.status==="aborted")return ee.INVALID;(d.status==="dirty"||f.status==="dirty")&&t.dirty(),a.set(d.value,f.value)}return{status:t.value,value:a}}))}else{let a=new Map;for(let l of s){let d=l.key,f=l.value;if(d.status==="aborted"||f.status==="aborted")return ee.INVALID;(d.status==="dirty"||f.status==="dirty")&&t.dirty(),a.set(d.value,f.value)}return{status:t.value,value:a}}}};Q.ZodMap=Ud;Ud.create=(i,e,t)=>new Ud(R({valueType:e,keyType:i,typeName:ut.ZodMap},xt(t)));var jd=class i extends Ct{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.ZodParsedType.set)return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.set,received:r.parsedType}),ee.INVALID;let n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&((0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&((0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let o=this._def.valueType;function s(l){let d=new Set;for(let f of l){if(f.status==="aborted")return ee.INVALID;f.status==="dirty"&&t.dirty(),d.add(f.value)}return{status:t.value,value:d}}let a=[...r.data.values()].map((l,d)=>o._parse(new Vo(r,l,r.path,d)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,t){return new i(ue(R({},this._def),{minSize:{value:e,message:Qe.errorUtil.toString(t)}}))}max(e,t){return new i(ue(R({},this._def),{maxSize:{value:e,message:Qe.errorUtil.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Q.ZodSet=jd;jd.create=(i,e)=>new jd(R({valueType:i,minSize:null,maxSize:null,typeName:ut.ZodSet},xt(e)));var wb=class i extends Ct{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Be.ZodParsedType.function)return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.function,received:t.parsedType}),ee.INVALID;function r(a,l){return(0,ee.makeIssue)({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,xb.getErrorMap)(),xb.defaultErrorMap].filter(d=>!!d),issueData:{code:De.ZodIssueCode.invalid_arguments,argumentsError:l}})}function n(a,l){return(0,ee.makeIssue)({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,xb.getErrorMap)(),xb.defaultErrorMap].filter(d=>!!d),issueData:{code:De.ZodIssueCode.invalid_return_type,returnTypeError:l}})}let o={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof Nl){let a=this;return(0,ee.OK)(function(...l){return Y(this,null,function*(){let d=new De.ZodError([]),f=yield a._def.args.parseAsync(l,o).catch(A=>{throw d.addIssue(r(l,A)),d}),g=yield Reflect.apply(s,this,f);return yield a._def.returns._def.type.parseAsync(g,o).catch(A=>{throw d.addIssue(n(g,A)),d})})})}else{let a=this;return(0,ee.OK)(function(...l){let d=a._def.args.safeParse(l,o);if(!d.success)throw new De.ZodError([r(l,d.error)]);let f=Reflect.apply(s,this,d.data),g=a._def.returns.safeParse(f,o);if(!g.success)throw new De.ZodError([n(f,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new i(ue(R({},this._def),{args:Ws.create(e).rest(Xa.create())}))}returns(e){return new i(ue(R({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new i(R({args:e||Ws.create([]).rest(Xa.create()),returns:t||Xa.create(),typeName:ut.ZodFunction},xt(r)))}};Q.ZodFunction=wb;var lu=class extends Ct{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Q.ZodLazy=lu;lu.create=(i,e)=>new lu(R({getter:i,typeName:ut.ZodLazy},xt(e)));var cu=class extends Ct{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(t,{received:t.data,code:De.ZodIssueCode.invalid_literal,expected:this._def.value}),ee.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}};Q.ZodLiteral=cu;cu.create=(i,e)=>new cu(R({value:i,typeName:ut.ZodLiteral},xt(e)));function mO(i,e){return new uu(R({values:i,typeName:ut.ZodEnum},xt(e)))}var uu=class i extends Ct{constructor(){super(...arguments),lm.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,ee.addIssueToContext)(t,{expected:Be.util.joinValues(r),received:t.parsedType,code:De.ZodIssueCode.invalid_type}),ee.INVALID}if(Cb(this,lm,"f")||dO(this,lm,new Set(this._def.values),"f"),!Cb(this,lm,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,ee.addIssueToContext)(t,{received:t.data,code:De.ZodIssueCode.invalid_enum_value,options:r}),ee.INVALID}return(0,ee.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return i.create(e,R(R({},this._def),t))}exclude(e,t=this._def){return i.create(this.options.filter(r=>!e.includes(r)),R(R({},this._def),t))}};Q.ZodEnum=uu;lm=new WeakMap;uu.create=mO;var du=class extends Ct{constructor(){super(...arguments),cm.set(this,void 0)}_parse(e){let t=Be.util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Be.ZodParsedType.string&&r.parsedType!==Be.ZodParsedType.number){let n=Be.util.objectValues(t);return(0,ee.addIssueToContext)(r,{expected:Be.util.joinValues(n),received:r.parsedType,code:De.ZodIssueCode.invalid_type}),ee.INVALID}if(Cb(this,cm,"f")||dO(this,cm,new Set(Be.util.getValidEnumValues(this._def.values)),"f"),!Cb(this,cm,"f").has(e.data)){let n=Be.util.objectValues(t);return(0,ee.addIssueToContext)(r,{received:r.data,code:De.ZodIssueCode.invalid_enum_value,options:n}),ee.INVALID}return(0,ee.OK)(e.data)}get enum(){return this._def.values}};Q.ZodNativeEnum=du;cm=new WeakMap;du.create=(i,e)=>new du(R({values:i,typeName:ut.ZodNativeEnum},xt(e)));var Nl=class extends Ct{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Be.ZodParsedType.promise&&t.common.async===!1)return(0,ee.addIssueToContext)(t,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.promise,received:t.parsedType}),ee.INVALID;let r=t.parsedType===Be.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,ee.OK)(r.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Q.ZodPromise=Nl;Nl.create=(i,e)=>new Nl(R({type:i,typeName:ut.ZodPromise},xt(e)));var oo=class extends Ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,o={addIssue:s=>{(0,ee.addIssueToContext)(r,s),s.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),n.type==="preprocess"){let s=n.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(a=>Y(this,null,function*(){if(t.value==="aborted")return ee.INVALID;let l=yield this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ee.INVALID:l.status==="dirty"||t.value==="dirty"?(0,ee.DIRTY)(l.value):l}));{if(t.value==="aborted")return ee.INVALID;let a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?ee.INVALID:a.status==="dirty"||t.value==="dirty"?(0,ee.DIRTY)(a.value):a}}if(n.type==="refinement"){let s=a=>{let l=n.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ee.INVALID:(a.status==="dirty"&&t.dirty(),s(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ee.INVALID:(a.status==="dirty"&&t.dirty(),s(a.value).then(()=>({status:t.value,value:a.value}))))}if(n.type==="transform")if(r.common.async===!1){let s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,ee.isValid)(s))return s;let a=n.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>(0,ee.isValid)(s)?Promise.resolve(n.transform(s.value,o)).then(a=>({status:t.value,value:a})):s);Be.util.assertNever(n)}};Q.ZodEffects=oo;Q.ZodTransformer=oo;oo.create=(i,e,t)=>new oo(R({schema:i,typeName:ut.ZodEffects,effect:e},xt(t)));oo.createWithPreprocess=(i,e,t)=>new oo(R({schema:e,effect:{type:"preprocess",transform:i},typeName:ut.ZodEffects},xt(t)));var Mo=class extends Ct{_parse(e){return this._getType(e)===Be.ZodParsedType.undefined?(0,ee.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Q.ZodOptional=Mo;Mo.create=(i,e)=>new Mo(R({innerType:i,typeName:ut.ZodOptional},xt(e)));var Xs=class extends Ct{_parse(e){return this._getType(e)===Be.ZodParsedType.null?(0,ee.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Q.ZodNullable=Xs;Xs.create=(i,e)=>new Xs(R({innerType:i,typeName:ut.ZodNullable},xt(e)));var pu=class extends Ct{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===Be.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Q.ZodDefault=pu;pu.create=(i,e)=>new pu(R({innerType:i,typeName:ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},xt(e)));var fu=class extends Ct{_parse(e){let{ctx:t}=this._processInputParams(e),r=ue(R({},t),{common:ue(R({},t.common),{issues:[]})}),n=this._def.innerType._parse({data:r.data,path:r.path,parent:R({},r)});return(0,ee.isAsync)(n)?n.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new De.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new De.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Q.ZodCatch=fu;fu.create=(i,e)=>new fu(R({innerType:i,typeName:ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},xt(e)));var qd=class extends Ct{_parse(e){if(this._getType(e)!==Be.ZodParsedType.nan){let r=this._getOrReturnCtx(e);return(0,ee.addIssueToContext)(r,{code:De.ZodIssueCode.invalid_type,expected:Be.ZodParsedType.nan,received:r.parsedType}),ee.INVALID}return{status:"valid",value:e.data}}};Q.ZodNaN=qd;qd.create=i=>new qd(R({typeName:ut.ZodNaN},xt(i)));Q.BRAND=Symbol("zod_brand");var um=class extends Ct{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}};Q.ZodBranded=um;var dm=class i extends Ct{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return Y(this,null,function*(){let o=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ee.INVALID:o.status==="dirty"?(t.dirty(),(0,ee.DIRTY)(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})});{let n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?ee.INVALID:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,t){return new i({in:e,out:t,typeName:ut.ZodPipeline})}};Q.ZodPipeline=dm;var hu=class extends Ct{_parse(e){let t=this._def.innerType._parse(e),r=n=>((0,ee.isValid)(n)&&(n.value=Object.freeze(n.value)),n);return(0,ee.isAsync)(t)?t.then(n=>r(n)):r(t)}unwrap(){return this._def.innerType}};Q.ZodReadonly=hu;hu.create=(i,e)=>new hu(R({innerType:i,typeName:ut.ZodReadonly},xt(e)));function uO(i,e){let t=typeof i=="function"?i(e):typeof i=="string"?{message:i}:i;return typeof t=="string"?{message:t}:t}function gO(i,e={},t){return i?Vl.create().superRefine((r,n)=>{var o,s;let a=i(r);if(a instanceof Promise)return a.then(l=>{var d,f;if(!l){let g=uO(e,r),w=(f=(d=g.fatal)!==null&&d!==void 0?d:t)!==null&&f!==void 0?f:!0;n.addIssue(ue(R({code:"custom"},g),{fatal:w}))}});if(!a){let l=uO(e,r),d=(s=(o=l.fatal)!==null&&o!==void 0?o:t)!==null&&s!==void 0?s:!0;n.addIssue(ue(R({code:"custom"},l),{fatal:d}))}}):Vl.create()}Q.custom=gO;Q.late={object:kn.lazycreate};var ut=function(i){return i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly",i}(ut||(Q.ZodFirstPartyTypeKind=ut={})),ioe=(i,e={message:`Input not instance of ${i.name}`})=>gO(t=>t instanceof i,e);Q.instanceof=ioe;var yO=Ml.create;Q.string=yO;var bO=eu.create;Q.number=bO;var roe=qd.create;Q.nan=roe;var noe=tu.create;Q.bigint=noe;var _O=iu.create;Q.boolean=_O;var ooe=ru.create;Q.date=ooe;var soe=Nd.create;Q.symbol=soe;var aoe=nu.create;Q.undefined=aoe;var loe=ou.create;Q.null=loe;var coe=Vl.create;Q.any=coe;var uoe=Xa.create;Q.unknown=uoe;var doe=hs.create;Q.never=doe;var poe=Fd.create;Q.void=poe;var foe=Za.create;Q.array=foe;var hoe=kn.create;Q.object=hoe;var moe=kn.strictCreate;Q.strictObject=moe;var goe=su.create;Q.union=goe;var yoe=Eb.create;Q.discriminatedUnion=yoe;var boe=au.create;Q.intersection=boe;var _oe=Ws.create;Q.tuple=_oe;var voe=Tb.create;Q.record=voe;var xoe=Ud.create;Q.map=xoe;var Coe=jd.create;Q.set=Coe;var Eoe=wb.create;Q.function=Eoe;var Toe=lu.create;Q.lazy=Toe;var woe=cu.create;Q.literal=woe;var Soe=uu.create;Q.enum=Soe;var Aoe=du.create;Q.nativeEnum=Aoe;var Roe=Nl.create;Q.promise=Roe;var vO=oo.create;Q.effect=vO;Q.transformer=vO;var koe=Mo.create;Q.optional=koe;var Doe=Xs.create;Q.nullable=Doe;var Ioe=oo.createWithPreprocess;Q.preprocess=Ioe;var Poe=dm.create;Q.pipeline=Poe;var Loe=()=>yO().optional();Q.ostring=Loe;var Boe=()=>bO().optional();Q.onumber=Boe;var Ooe=()=>_O().optional();Q.oboolean=Ooe;Q.coerce={string:i=>Ml.create(ue(R({},i),{coerce:!0})),number:i=>eu.create(ue(R({},i),{coerce:!0})),boolean:i=>iu.create(ue(R({},i),{coerce:!0})),bigint:i=>tu.create(ue(R({},i),{coerce:!0})),date:i=>ru.create(ue(R({},i),{coerce:!0}))};Q.NEVER=ee.INVALID});var s2=k(No=>{"use strict";var Moe=No&&No.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),$d=No&&No.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Moe(e,i,t)};Object.defineProperty(No,"__esModule",{value:!0});$d(_b(),No);$d(r2(),No);$d(sO(),No);$d(sm(),No);$d(xO(),No);$d(bb(),No)});var Fl=k(Dn=>{"use strict";var CO=Dn&&Dn.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),Voe=Dn&&Dn.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),Noe=Dn&&Dn.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&CO(e,i,t);return Voe(e,i),e},Foe=Dn&&Dn.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&CO(e,i,t)};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.z=void 0;var EO=Noe(s2());Dn.z=EO;Foe(s2(),Dn);Dn.default=EO});var u2=k(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.DisallowedDomainError=pi.UnsupportedDomainError=pi.ReservedHandleError=pi.InvalidHandleError=pi.isValidTld=pi.isValidHandle=pi.normalizeAndEnsureValidHandle=pi.normalizeHandle=pi.ensureValidHandleRegex=pi.ensureValidHandle=pi.DISALLOWED_TLDS=pi.INVALID_HANDLE=void 0;pi.INVALID_HANDLE="handle.invalid";pi.DISALLOWED_TLDS=[".local",".arpa",".invalid",".localhost",".internal",".example",".alt",".onion"];var Uoe=i=>{if(!/^[a-zA-Z0-9.-]*$/.test(i))throw new so("Disallowed characters in handle (ASCII letters, digits, dashes, periods only)");if(i.length>253)throw new so("Handle is too long (253 chars max)");let e=i.split(".");if(e.length<2)throw new so("Handle domain needs at least two parts");for(let t=0;t<e.length;t++){let r=e[t];if(r.length<1)throw new so("Handle parts can not be empty");if(r.length>63)throw new so("Handle part too long (max 63 chars)");if(r.endsWith("-")||r.startsWith("-"))throw new so("Handle parts can not start or end with hyphens");if(t+1===e.length&&!/^[a-zA-Z]/.test(r))throw new so("Handle final component (TLD) must start with ASCII letter")}};pi.ensureValidHandle=Uoe;var joe=i=>{if(!/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?$/.test(i))throw new so("Handle didn't validate via regex");if(i.length>253)throw new so("Handle is too long (253 chars max)")};pi.ensureValidHandleRegex=joe;var qoe=i=>i.toLowerCase();pi.normalizeHandle=qoe;var $oe=i=>{let e=(0,pi.normalizeHandle)(i);return(0,pi.ensureValidHandle)(e),e};pi.normalizeAndEnsureValidHandle=$oe;var zoe=i=>{try{(0,pi.ensureValidHandle)(i)}catch(e){if(e instanceof so)return!1;throw e}return!0};pi.isValidHandle=zoe;var Koe=i=>!pi.DISALLOWED_TLDS.some(e=>i.endsWith(e));pi.isValidTld=Koe;var so=class extends Error{};pi.InvalidHandleError=so;var a2=class extends Error{};pi.ReservedHandleError=a2;var l2=class extends Error{};pi.UnsupportedDomainError=l2;var c2=class extends Error{};pi.DisallowedDomainError=c2});var d2=k(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.InvalidDidError=Ul.ensureValidDidRegex=Ul.ensureValidDid=void 0;var Hoe=i=>{if(!i.startsWith("did:"))throw new ms('DID requires "did:" prefix');if(!/^[a-zA-Z0-9._:%-]*$/.test(i))throw new ms("Disallowed characters in DID (ASCII letters, digits, and a couple other characters only)");let{length:e,1:t}=i.split(":");if(e<3)throw new ms("DID requires prefix, method, and method-specific content");if(!/^[a-z]+$/.test(t))throw new ms("DID method must be lower-case letters");if(i.endsWith(":")||i.endsWith("%"))throw new ms('DID can not end with ":" or "%"');if(i.length>2*1024)throw new ms("DID is too long (2048 chars max)")};Ul.ensureValidDid=Hoe;var Goe=i=>{if(!/^did:[a-z]+:[a-zA-Z0-9._:%-]*[a-zA-Z0-9._-]$/.test(i))throw new ms("DID didn't validate via regex");if(i.length>2*1024)throw new ms("DID is too long (2048 chars max)")};Ul.ensureValidDidRegex=Goe;var ms=class extends Error{};Ul.InvalidDidError=ms});var f2=k(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.InvalidNsidError=gs.ensureValidNsidRegex=gs.ensureValidNsid=gs.NSID=void 0;var p2=class i{static parse(e){return new i(e)}static create(e,t){let r=[...e.split(".").reverse(),t].join(".");return new i(r)}static isValid(e){try{return i.parse(e),!0}catch{return!1}}constructor(e){Object.defineProperty(this,"segments",{enumerable:!0,configurable:!0,writable:!0,value:[]}),(0,gs.ensureValidNsid)(e),this.segments=e.split(".")}get authority(){return this.segments.slice(0,this.segments.length-1).reverse().join(".")}get name(){return this.segments.at(this.segments.length-1)}toString(){return this.segments.join(".")}};gs.NSID=p2;var Woe=i=>{let e=i;if(!/^[a-zA-Z0-9.-]*$/.test(e))throw new ao("Disallowed characters in NSID (ASCII letters, digits, dashes, periods only)");if(e.length>317)throw new ao("NSID is too long (317 chars max)");let t=e.split(".");if(t.length<3)throw new ao("NSID needs at least three parts");for(let r=0;r<t.length;r++){let n=t[r];if(n.length<1)throw new ao("NSID parts can not be empty");if(n.length>63)throw new ao("NSID part too long (max 63 chars)");if(n.endsWith("-")||n.startsWith("-"))throw new ao("NSID parts can not start or end with hyphen");if(/^[0-9]/.test(n)&&r===0)throw new ao("NSID first part may not start with a digit");if(!/^[a-zA-Z]+$/.test(n)&&r+1===t.length)throw new ao("NSID name part must be only letters")}};gs.ensureValidNsid=Woe;var Xoe=i=>{if(!/^[a-zA-Z]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(\.[a-zA-Z]([a-zA-Z]{0,61}[a-zA-Z])?)$/.test(i))throw new ao("NSID didn't validate via regex");if(i.length>317)throw new ao("NSID is too long (317 chars max)")};gs.ensureValidNsidRegex=Xoe;var ao=class extends Error{};gs.InvalidNsidError=ao});var AO=k(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.ensureValidAtUriRegex=zd.ensureValidAtUri=void 0;var TO=d2(),wO=u2(),SO=f2(),Zoe=i=>{let e=i.split("#");if(e.length>2)throw new Error('ATURI can have at most one "#", separating fragment out');let t=e[1]||null;if(i=e[0],!/^[a-zA-Z0-9._~:@!$&')(*+,;=%/-]*$/.test(i))throw new Error("Disallowed characters in ATURI (ASCII)");let r=i.split("/");if(r.length>=3&&(r[0]!=="at:"||r[1].length!==0))throw new Error('ATURI must start with "at://"');if(r.length<3)throw new Error("ATURI requires at least method and authority sections");try{r[2].startsWith("did:")?(0,TO.ensureValidDid)(r[2]):(0,wO.ensureValidHandle)(r[2])}catch{throw new Error("ATURI authority must be a valid handle or DID")}if(r.length>=4){if(r[3].length===0)throw new Error("ATURI can not have a slash after authority without a path segment");try{(0,SO.ensureValidNsid)(r[3])}catch{throw new Error("ATURI requires first path segment (if supplied) to be valid NSID")}}if(r.length>=5&&r[4].length===0)throw new Error("ATURI can not have a slash after collection, unless record key is provided");if(r.length>=6)throw new Error("ATURI path can have at most two parts, and no trailing slash");if(e.length>=2&&t==null)throw new Error("ATURI fragment must be non-empty and start with slash");if(t!=null){if(t.length===0||t[0]!=="/")throw new Error("ATURI fragment must be non-empty and start with slash");if(!/^\/[a-zA-Z0-9._~:@!$&')(*+,;=%[\]/-]*$/.test(t))throw new Error("Disallowed characters in ATURI fragment (ASCII)")}if(i.length>8*1024)throw new Error("ATURI is far too long")};zd.ensureValidAtUri=Zoe;var Qoe=i=>{let e=/^at:\/\/(?<authority>[a-zA-Z0-9._:%-]+)(\/(?<collection>[a-zA-Z0-9-.]+)(\/(?<rkey>[a-zA-Z0-9._~:@!$&%')(*+,;=-]+))?)?(#(?<fragment>\/[a-zA-Z0-9._~:@!$&%')(*+,;=\-[\]/\\]*))?$/,t=i.match(e);if(!t||!t.groups)throw new Error("ATURI didn't validate via regex");let r=t.groups;try{(0,wO.ensureValidHandleRegex)(r.authority)}catch{try{(0,TO.ensureValidDidRegex)(r.authority)}catch{throw new Error("ATURI authority must be a valid handle or DID")}}if(r.collection)try{(0,SO.ensureValidNsidRegex)(r.collection)}catch{throw new Error("ATURI collection path segment must be a valid NSID")}if(i.length>8*1024)throw new Error("ATURI is far too long")};zd.ensureValidAtUriRegex=Qoe});var kO=k(Fo=>{"use strict";var Yoe=Fo&&Fo.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),Joe=Fo&&Fo.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Yoe(e,i,t)};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.AtUri=Fo.ATP_URI_REGEX=void 0;Joe(AO(),Fo);Fo.ATP_URI_REGEX=/^(at:\/\/)?((?:did:[a-z0-9:%-]+)|(?:[a-z0-9][a-z0-9.:-]*))(\/[^?#\s]*)?(\?[^#\s]+)?(#[^\s]+)?$/i;var ese=/^(\/[^?#\s]*)?(\?[^#\s]+)?(#[^\s]+)?$/i,h2=class i{constructor(e,t){Object.defineProperty(this,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"host",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"searchParams",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r;if(t){if(r=RO(t),!r)throw new Error(`Invalid at uri: ${t}`);let n=tse(e);if(!n)throw new Error(`Invalid path: ${e}`);Object.assign(r,n)}else if(r=RO(e),!r)throw new Error(`Invalid at uri: ${e}`);this.hash=r.hash,this.host=r.host,this.pathname=r.pathname,this.searchParams=r.searchParams}static make(e,t,r){let n=e;return t&&(n+="/"+t),r&&(n+="/"+r),new i(n)}get protocol(){return"at:"}get origin(){return`at://${this.host}`}get hostname(){return this.host}set hostname(e){this.host=e}get search(){return this.searchParams.toString()}set search(e){this.searchParams=new URLSearchParams(e)}get collection(){return this.pathname.split("/").filter(Boolean)[0]||""}set collection(e){let t=this.pathname.split("/").filter(Boolean);t[0]=e,this.pathname=t.join("/")}get rkey(){return this.pathname.split("/").filter(Boolean)[1]||""}set rkey(e){let t=this.pathname.split("/").filter(Boolean);t[0]||(t[0]="undefined"),t[1]=e,this.pathname=t.join("/")}get href(){return this.toString()}toString(){let e=this.pathname||"/";e.startsWith("/")||(e=`/${e}`);let t=this.searchParams.toString();t&&!t.startsWith("?")&&(t=`?${t}`);let r=this.hash;return r&&!r.startsWith("#")&&(r=`#${r}`),`at://${this.host}${e}${t}${r}`}};Fo.AtUri=h2;function RO(i){let e=Fo.ATP_URI_REGEX.exec(i);if(e)return{hash:e[5]||"",host:e[2]||"",pathname:e[3]||"",searchParams:new URLSearchParams(e[4]||"")}}function tse(i){let e=ese.exec(i);if(e)return{hash:e[3]||"",pathname:e[1]||"",searchParams:new URLSearchParams(e[2]||"")}}});var IO=k(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.InvalidTidError=jl.isValidTid=jl.ensureValidTid=void 0;var m2=13,DO=/^[234567abcdefghij][234567abcdefghijklmnopqrstuvwxyz]{12}$/,ise=i=>{if(i.length!==m2)throw new pm(`TID must be ${m2} characters`);if(!DO.test(i))throw new pm("TID syntax not valid (regex)")};jl.ensureValidTid=ise;var rse=i=>i.length===m2&&DO.test(i);jl.isValidTid=rse;var pm=class extends Error{};jl.InvalidTidError=pm});var PO=k(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.InvalidRecordKeyError=Qa.isValidRecordKey=Qa.ensureValidRecordKey=void 0;var nse=i=>{if(i.length>512||i.length<1)throw new mu("record key must be 1 to 512 characters");if(!/^[a-zA-Z0-9_~.:-]{1,512}$/.test(i))throw new mu("record key syntax not valid (regex)");if(i==="."||i==="..")throw new mu('record key can not be "." or ".."')};Qa.ensureValidRecordKey=nse;var ose=i=>{try{(0,Qa.ensureValidRecordKey)(i)}catch(e){if(e instanceof mu)return!1;throw e}return!0};Qa.isValidRecordKey=ose;var mu=class extends Error{};Qa.InvalidRecordKeyError=mu});var LO=k(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.InvalidDatetimeError=Ir.normalizeDatetimeAlways=Ir.normalizeDatetime=Ir.isValidDatetime=Ir.ensureValidDatetime=void 0;var sse=i=>{let e=new Date(i);if(isNaN(e.getTime()))throw new lo("datetime did not parse as ISO 8601");if(e.toISOString().startsWith("-"))throw new lo("datetime normalized to a negative time");if(!/^[0-9]{4}-[01][0-9]-[0-3][0-9]T[0-2][0-9]:[0-6][0-9]:[0-6][0-9](.[0-9]{1,20})?(Z|([+-][0-2][0-9]:[0-5][0-9]))$/.test(i))throw new lo("datetime didn't validate via regex");if(i.length>64)throw new lo("datetime is too long (64 chars max)");if(i.endsWith("-00:00"))throw new lo('datetime can not use "-00:00" for UTC timezone');if(i.startsWith("000"))throw new lo("datetime so close to year zero not allowed")};Ir.ensureValidDatetime=sse;var ase=i=>{try{(0,Ir.ensureValidDatetime)(i)}catch(e){if(e instanceof lo)return!1;throw e}return!0};Ir.isValidDatetime=ase;var lse=i=>{if((0,Ir.isValidDatetime)(i)){let r=new Date(i).toISOString();if((0,Ir.isValidDatetime)(r))return r}if(!/.*(([+-]\d\d:?\d\d)|[a-zA-Z])$/.test(i)){let r=new Date(i+"Z");if(!isNaN(r.getTime())){let n=r.toISOString();if((0,Ir.isValidDatetime)(n))return n}}let e=new Date(i);if(isNaN(e.getTime()))throw new lo("datetime did not parse as any timestamp format");let t=e.toISOString();if((0,Ir.isValidDatetime)(t))return t;throw new lo("datetime normalized to invalid timestamp string")};Ir.normalizeDatetime=lse;var cse=i=>{try{return(0,Ir.normalizeDatetime)(i)}catch(e){if(e instanceof lo)return new Date(0).toISOString();throw e}};Ir.normalizeDatetimeAlways=cse;var lo=class extends Error{};Ir.InvalidDatetimeError=lo});var yu=k(co=>{"use strict";var use=co&&co.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),gu=co&&co.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&use(e,i,t)};Object.defineProperty(co,"__esModule",{value:!0});gu(u2(),co);gu(d2(),co);gu(f2(),co);gu(kO(),co);gu(IO(),co);gu(PO(),co);gu(LO(),co)});var Ab=k(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.toLexUri=dse;Sb.requiredPropertiesRefinement=pse;var g2=Fl();function dse(i,e){if(i.split("#").length>2)throw new Error("Uri can only have one hash segment");if(i.startsWith("lex:"))return i;if(i.startsWith("#")){if(!e)throw new Error(`Unable to resolve uri without anchor: ${i}`);return`${e}${i}`}return`lex:${i}`}function pse(i,e){if(i.required!==void 0){if(!Array.isArray(i.required)){e.addIssue({code:g2.z.ZodIssueCode.invalid_type,received:typeof i.required,expected:"array"});return}if(i.properties===void 0){i.required.length>0&&e.addIssue({code:g2.z.ZodIssueCode.custom,message:"Required fields defined but no properties defined"});return}for(let t of i.required)i.properties[t]===void 0&&e.addIssue({code:g2.z.ZodIssueCode.custom,message:`Required field "${t}" not defined`})}}});var ql=k(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.LexiconDefNotFoundError=pe.InvalidLexiconError=pe.ValidationError=pe.lexiconDoc=pe.lexUserType=pe.lexRecord=pe.lexXrpcSubscription=pe.lexXrpcProcedure=pe.lexXrpcQuery=pe.lexXrpcError=pe.lexXrpcSubscriptionMessage=pe.lexXrpcBody=pe.lexXrpcParameters=pe.lexObject=pe.lexToken=pe.lexPrimitiveArray=pe.lexArray=pe.lexBlob=pe.lexRefVariant=pe.lexRefUnion=pe.lexRef=pe.lexIpldType=pe.lexCidLink=pe.lexBytes=pe.lexPrimitive=pe.lexUnknown=pe.lexString=pe.lexStringFormat=pe.lexInteger=pe.lexBoolean=void 0;pe.isValidLexiconDoc=hse;pe.isObj=OO;pe.isDiscriminatedObject=mse;pe.parseLexiconDoc=gse;var Te=Fl(),fse=yu(),BO=Ab();pe.lexBoolean=Te.z.object({type:Te.z.literal("boolean"),description:Te.z.string().optional(),default:Te.z.boolean().optional(),const:Te.z.boolean().optional()}).strict();pe.lexInteger=Te.z.object({type:Te.z.literal("integer"),description:Te.z.string().optional(),default:Te.z.number().int().optional(),minimum:Te.z.number().int().optional(),maximum:Te.z.number().int().optional(),enum:Te.z.number().int().array().optional(),const:Te.z.number().int().optional()}).strict();pe.lexStringFormat=Te.z.enum(["datetime","uri","at-uri","did","handle","at-identifier","nsid","cid","language","tid","record-key"]);pe.lexString=Te.z.object({type:Te.z.literal("string"),format:pe.lexStringFormat.optional(),description:Te.z.string().optional(),default:Te.z.string().optional(),minLength:Te.z.number().int().optional(),maxLength:Te.z.number().int().optional(),minGraphemes:Te.z.number().int().optional(),maxGraphemes:Te.z.number().int().optional(),enum:Te.z.string().array().optional(),const:Te.z.string().optional(),knownValues:Te.z.string().array().optional()}).strict();pe.lexUnknown=Te.z.object({type:Te.z.literal("unknown"),description:Te.z.string().optional()}).strict();pe.lexPrimitive=Te.z.discriminatedUnion("type",[pe.lexBoolean,pe.lexInteger,pe.lexString,pe.lexUnknown]);pe.lexBytes=Te.z.object({type:Te.z.literal("bytes"),description:Te.z.string().optional(),maxLength:Te.z.number().optional(),minLength:Te.z.number().optional()}).strict();pe.lexCidLink=Te.z.object({type:Te.z.literal("cid-link"),description:Te.z.string().optional()}).strict();pe.lexIpldType=Te.z.discriminatedUnion("type",[pe.lexBytes,pe.lexCidLink]);pe.lexRef=Te.z.object({type:Te.z.literal("ref"),description:Te.z.string().optional(),ref:Te.z.string()}).strict();pe.lexRefUnion=Te.z.object({type:Te.z.literal("union"),description:Te.z.string().optional(),refs:Te.z.string().array(),closed:Te.z.boolean().optional()}).strict();pe.lexRefVariant=Te.z.discriminatedUnion("type",[pe.lexRef,pe.lexRefUnion]);pe.lexBlob=Te.z.object({type:Te.z.literal("blob"),description:Te.z.string().optional(),accept:Te.z.string().array().optional(),maxSize:Te.z.number().optional()}).strict();pe.lexArray=Te.z.object({type:Te.z.literal("array"),description:Te.z.string().optional(),items:Te.z.discriminatedUnion("type",[pe.lexBoolean,pe.lexInteger,pe.lexString,pe.lexUnknown,pe.lexBytes,pe.lexCidLink,pe.lexRef,pe.lexRefUnion,pe.lexBlob]),minLength:Te.z.number().int().optional(),maxLength:Te.z.number().int().optional()}).strict();pe.lexPrimitiveArray=pe.lexArray.merge(Te.z.object({items:pe.lexPrimitive}).strict());pe.lexToken=Te.z.object({type:Te.z.literal("token"),description:Te.z.string().optional()}).strict();pe.lexObject=Te.z.object({type:Te.z.literal("object"),description:Te.z.string().optional(),required:Te.z.string().array().optional(),nullable:Te.z.string().array().optional(),properties:Te.z.record(Te.z.discriminatedUnion("type",[pe.lexArray,pe.lexBoolean,pe.lexInteger,pe.lexString,pe.lexUnknown,pe.lexBytes,pe.lexCidLink,pe.lexRef,pe.lexRefUnion,pe.lexBlob]))}).strict().superRefine(BO.requiredPropertiesRefinement);pe.lexXrpcParameters=Te.z.object({type:Te.z.literal("params"),description:Te.z.string().optional(),required:Te.z.string().array().optional(),properties:Te.z.record(Te.z.discriminatedUnion("type",[pe.lexPrimitiveArray,pe.lexBoolean,pe.lexInteger,pe.lexString,pe.lexUnknown]))}).strict().superRefine(BO.requiredPropertiesRefinement);pe.lexXrpcBody=Te.z.object({description:Te.z.string().optional(),encoding:Te.z.string(),schema:Te.z.union([pe.lexRefVariant,pe.lexObject]).optional()}).strict();pe.lexXrpcSubscriptionMessage=Te.z.object({description:Te.z.string().optional(),schema:Te.z.union([pe.lexRefVariant,pe.lexObject]).optional()}).strict();pe.lexXrpcError=Te.z.object({name:Te.z.string(),description:Te.z.string().optional()}).strict();pe.lexXrpcQuery=Te.z.object({type:Te.z.literal("query"),description:Te.z.string().optional(),parameters:pe.lexXrpcParameters.optional(),output:pe.lexXrpcBody.optional(),errors:pe.lexXrpcError.array().optional()}).strict();pe.lexXrpcProcedure=Te.z.object({type:Te.z.literal("procedure"),description:Te.z.string().optional(),parameters:pe.lexXrpcParameters.optional(),input:pe.lexXrpcBody.optional(),output:pe.lexXrpcBody.optional(),errors:pe.lexXrpcError.array().optional()}).strict();pe.lexXrpcSubscription=Te.z.object({type:Te.z.literal("subscription"),description:Te.z.string().optional(),parameters:pe.lexXrpcParameters.optional(),message:pe.lexXrpcSubscriptionMessage.optional(),errors:pe.lexXrpcError.array().optional()}).strict();pe.lexRecord=Te.z.object({type:Te.z.literal("record"),description:Te.z.string().optional(),key:Te.z.string().optional(),record:pe.lexObject}).strict();pe.lexUserType=Te.z.custom(i=>{if(!(!i||typeof i!="object")&&i.type!==void 0)switch(i.type){case"record":return pe.lexRecord.parse(i);case"query":return pe.lexXrpcQuery.parse(i);case"procedure":return pe.lexXrpcProcedure.parse(i);case"subscription":return pe.lexXrpcSubscription.parse(i);case"blob":return pe.lexBlob.parse(i);case"array":return pe.lexArray.parse(i);case"token":return pe.lexToken.parse(i);case"object":return pe.lexObject.parse(i);case"boolean":return pe.lexBoolean.parse(i);case"integer":return pe.lexInteger.parse(i);case"string":return pe.lexString.parse(i);case"bytes":return pe.lexBytes.parse(i);case"cid-link":return pe.lexCidLink.parse(i);case"unknown":return pe.lexUnknown.parse(i)}},i=>!i||typeof i!="object"?{message:"Must be an object",fatal:!0}:i.type===void 0?{message:"Must have a type",fatal:!0}:typeof i.type!="string"?{message:"Type property must be a string",fatal:!0}:{message:`Invalid type: ${i.type} must be one of: record, query, procedure, subscription, blob, array, token, object, boolean, integer, string, bytes, cid-link, unknown`,fatal:!0});pe.lexiconDoc=Te.z.object({lexicon:Te.z.literal(1),id:Te.z.string().refine(i=>fse.NSID.isValid(i),{message:"Must be a valid NSID"}),revision:Te.z.number().optional(),description:Te.z.string().optional(),defs:Te.z.record(pe.lexUserType)}).strict().superRefine((i,e)=>{for(let t in i.defs){let r=i.defs[t];t!=="main"&&(r.type==="record"||r.type==="procedure"||r.type==="query"||r.type==="subscription")&&e.addIssue({code:Te.z.ZodIssueCode.custom,message:"Records, procedures, queries, and subscriptions must be the main definition."})}});function hse(i){return pe.lexiconDoc.safeParse(i).success}function OO(i){return i!=null&&typeof i=="object"}function mse(i){return OO(i)&&"$type"in i&&typeof i.$type=="string"}function gse(i){return pe.lexiconDoc.parse(i),i}var y2=class extends Error{};pe.ValidationError=y2;var b2=class extends Error{};pe.InvalidLexiconError=b2;var _2=class extends Error{};pe.LexiconDefNotFoundError=_2});function NO(i,e,t){e=e||[],t=t||0;for(var r=t;i>=vse;)e[t++]=i&255|MO,i/=128;for(;i&_se;)e[t++]=i&255|MO,i>>>=7;return e[t]=i|0,NO.bytes=t-r+1,e}function v2(i,r){var t=0,r=r||0,n=0,o=r,s,a=i.length;do{if(o>=a)throw v2.bytes=0,new RangeError("Could not decode varint");s=i[o++],t+=n<28?(s&VO)<<n:(s&VO)*Math.pow(2,n),n+=7}while(s>=Cse);return v2.bytes=o-r,t}var yse,MO,bse,_se,vse,xse,Cse,VO,Ese,Tse,wse,Sse,Ase,Rse,kse,Dse,Ise,Pse,Lse,Bse,fm,FO=Jt(()=>{"use strict";yse=NO,MO=128,bse=127,_se=~bse,vse=Math.pow(2,31);xse=v2,Cse=128,VO=127;Ese=Math.pow(2,7),Tse=Math.pow(2,14),wse=Math.pow(2,21),Sse=Math.pow(2,28),Ase=Math.pow(2,35),Rse=Math.pow(2,42),kse=Math.pow(2,49),Dse=Math.pow(2,56),Ise=Math.pow(2,63),Pse=function(i){return i<Ese?1:i<Tse?2:i<wse?3:i<Sse?4:i<Ase?5:i<Rse?6:i<kse?7:i<Dse?8:i<Ise?9:10},Lse={encode:yse,decode:xse,encodingLength:Pse},Bse=Lse,fm=Bse});var hm,Kd,Hd,kb=Jt(()=>{"use strict";FO();hm=(i,e=0)=>[fm.decode(i,e),fm.decode.bytes],Kd=(i,e,t=0)=>(fm.encode(i,e,t),e),Hd=i=>fm.encodingLength(i)});var DXe,UO,Ya,jO,qO,$l=Jt(()=>{"use strict";DXe=new Uint8Array(0),UO=(i,e)=>{if(i===e)return!0;if(i.byteLength!==e.byteLength)return!1;for(let t=0;t<i.byteLength;t++)if(i[t]!==e[t])return!1;return!0},Ya=i=>{if(i instanceof Uint8Array&&i.constructor.name==="Uint8Array")return i;if(i instanceof ArrayBuffer)return new Uint8Array(i);if(ArrayBuffer.isView(i))return new Uint8Array(i.buffer,i.byteOffset,i.byteLength);throw new Error("Unknown type, must be binary type")},jO=i=>new TextEncoder().encode(i),qO=i=>new TextDecoder().decode(i)});var bu,zO,KO,Gd,gm=Jt(()=>{"use strict";$l();kb();bu=(i,e)=>{let t=e.byteLength,r=Hd(i),n=r+Hd(t),o=new Uint8Array(n+t);return Kd(i,o,0),Kd(t,o,r),o.set(e,n),new Gd(i,t,e,o)},zO=i=>{let e=Ya(i),[t,r]=hm(e),[n,o]=hm(e.subarray(r)),s=e.subarray(r+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Gd(t,n,s,e)},KO=(i,e)=>i===e?!0:i.code===e.code&&i.size===e.size&&UO(i.bytes,e.bytes),Gd=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function Ose(i,e){if(i.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<i.length;n++){var o=i.charAt(n),s=o.charCodeAt(0);if(t[s]!==255)throw new TypeError(o+" is ambiguous");t[s]=n}var a=i.length,l=i.charAt(0),d=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function g(B){if(B instanceof Uint8Array||(ArrayBuffer.isView(B)?B=new Uint8Array(B.buffer,B.byteOffset,B.byteLength):Array.isArray(B)&&(B=Uint8Array.from(B))),!(B instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(B.length===0)return"";for(var S=0,U=0,q=0,G=B.length;q!==G&&B[q]===0;)q++,S++;for(var K=(G-q)*f+1>>>0,Z=new Uint8Array(K);q!==G;){for(var re=B[q],ge=0,ce=K-1;(re!==0||ge<U)&&ce!==-1;ce--,ge++)re+=256*Z[ce]>>>0,Z[ce]=re%a>>>0,re=re/a>>>0;if(re!==0)throw new Error("Non-zero carry");U=ge,q++}for(var Ee=K-U;Ee!==K&&Z[Ee]===0;)Ee++;for(var We=l.repeat(S);Ee<K;++Ee)We+=i.charAt(Z[Ee]);return We}function w(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return new Uint8Array;var S=0;if(B[S]!==" "){for(var U=0,q=0;B[S]===l;)U++,S++;for(var G=(B.length-S)*d+1>>>0,K=new Uint8Array(G);B[S];){var Z=t[B.charCodeAt(S)];if(Z===255)return;for(var re=0,ge=G-1;(Z!==0||re<q)&&ge!==-1;ge--,re++)Z+=a*K[ge]>>>0,K[ge]=Z%256>>>0,Z=Z/256>>>0;if(Z!==0)throw new Error("Non-zero carry");q=re,S++}if(B[S]!==" "){for(var ce=G-q;ce!==G&&K[ce]===0;)ce++;for(var Ee=new Uint8Array(U+(G-ce)),We=U;ce!==G;)Ee[We++]=K[ce++];return Ee}}}function A(B){var S=w(B);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:w,decode:A}}var Mse,Vse,HO,GO=Jt(()=>{"use strict";Mse=Ose,Vse=Mse,HO=Vse});var x2,C2,E2,WO,T2,Wd,zl,Nse,Fse,or,ys=Jt(()=>{"use strict";GO();$l();x2=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},C2=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return WO(this,e)}},E2=class{constructor(e){this.decoders=e}or(e){return WO(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},WO=(i,e)=>new E2(R(R({},i.decoders||{[i.prefix]:i}),e.decoders||{[e.prefix]:e})),T2=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new x2(e,t,r),this.decoder=new C2(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Wd=({name:i,prefix:e,encode:t,decode:r})=>new T2(i,e,t,r),zl=({prefix:i,name:e,alphabet:t})=>{let{encode:r,decode:n}=HO(t,e);return Wd({prefix:i,name:e,encode:r,decode:o=>Ya(n(o))})},Nse=(i,e,t,r)=>{let n={};for(let f=0;f<e.length;++f)n[e[f]]=f;let o=i.length;for(;i[o-1]==="=";)--o;let s=new Uint8Array(o*t/8|0),a=0,l=0,d=0;for(let f=0;f<o;++f){let g=n[i[f]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<t|g,a+=t,a>=8&&(a-=8,s[d++]=255&l>>a)}if(a>=t||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},Fse=(i,e,t)=>{let r=e[e.length-1]==="=",n=(1<<t)-1,o="",s=0,a=0;for(let l=0;l<i.length;++l)for(a=a<<8|i[l],s+=8;s>t;)s-=t,o+=e[n&a>>s];if(s&&(o+=e[n&a<<t-s]),r)for(;o.length*t&7;)o+="=";return o},or=({name:i,prefix:e,bitsPerChar:t,alphabet:r})=>Wd({prefix:e,name:i,encode(n){return Fse(n,r,t)},decode(n){return Nse(n,r,t,i)}})});var w2={};Rn(w2,{base58btc:()=>Zs,base58flickr:()=>Use});var Zs,Use,S2=Jt(()=>{"use strict";ys();Zs=zl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Use=zl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var A2={};Rn(A2,{base32:()=>Xd,base32hex:()=>zse,base32hexpad:()=>Hse,base32hexpadupper:()=>Gse,base32hexupper:()=>Kse,base32pad:()=>qse,base32padupper:()=>$se,base32upper:()=>jse,base32z:()=>Wse});var Xd,jse,qse,$se,zse,Kse,Hse,Gse,Wse,R2=Jt(()=>{"use strict";ys();Xd=or({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jse=or({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qse=or({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$se=or({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zse=or({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kse=or({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Hse=or({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Gse=or({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wse=or({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var _u={};Rn(_u,{CID:()=>bm});var bm,Xse,Zse,Qse,ym,Yse,XO,ZO,Db,Ib,Jse,eae,tae,Kl=Jt(()=>{"use strict";kb();gm();S2();R2();$l();bm=class i{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ib,byteLength:Ib,code:Db,version:Db,multihash:Db,bytes:Db,_baseCache:Ib,asCID:Ib})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ym)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Yse)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return i.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=bu(e,t);return i.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&KO(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return Zse(t,n,e||Zs.encoder);default:return Qse(t,n,e||Xd.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eae(/^0\.0/,tae),!!(e&&(e[ZO]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof i)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new i(t,r,n,o||XO(t,r,n.bytes))}else if(e!=null&&e[ZO]===!0){let{version:t,multihash:r,code:n}=e,o=zO(r);return i.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ym)throw new Error(`Version 0 CID must use dag-pb (code: ${ym}) block encoding`);return new i(e,t,r,r.bytes)}case 1:{let n=XO(e,t,r.bytes);return new i(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return i.create(0,ym,e)}static createV1(e,t){return i.create(1,e,t)}static decode(e){let[t,r]=i.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=i.inspectBytes(e),r=t.size-t.multihashSize,n=Ya(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),s=new Gd(t.multihashCode,t.digestSize,o,n);return[t.version===0?i.createV0(s):i.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[g,w]=hm(e.subarray(t));return t+=w,g},n=r(),o=ym;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=t,a=r(),l=r(),d=t+l,f=d-s;return{version:n,codec:o,multihashCode:a,digestSize:l,multihashSize:f,size:d}}static parse(e,t){let[r,n]=Xse(e,t),o=i.decode(n);return o._baseCache.set(r,e),o}},Xse=(i,e)=>{switch(i[0]){case"Q":{let t=e||Zs;return[Zs.prefix,t.decode(`${Zs.prefix}${i}`)]}case Zs.prefix:{let t=e||Zs;return[Zs.prefix,t.decode(i)]}case Xd.prefix:{let t=e||Xd;return[Xd.prefix,t.decode(i)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[i[0],e.decode(i)]}}},Zse=(i,e,t)=>{let{prefix:r}=t;if(r!==Zs.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let n=e.get(r);if(n==null){let o=t.encode(i).slice(1);return e.set(r,o),o}else return n},Qse=(i,e,t)=>{let{prefix:r}=t,n=e.get(r);if(n==null){let o=t.encode(i);return e.set(r,o),o}else return n},ym=112,Yse=18,XO=(i,e,t)=>{let r=Hd(i),n=r+Hd(e),o=new Uint8Array(n+t.byteLength);return Kd(i,o,0),Kd(e,o,r),o.set(t,n),o},ZO=Symbol.for("@ipld/js-cid/CID"),Db={writable:!1,configurable:!1,enumerable:!0},Ib={writable:!1,enumerable:!1,configurable:!1},Jse="0.0.0-dev",eae=(i,e)=>{if(i.test(Jse))console.warn(e);else throw new Error(e)},tae=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var QO=k(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.isObject=Qs.assure=Qs.create=Qs.is=void 0;var iae=(i,e)=>e.safeParse(i).success;Qs.is=iae;var rae=i=>e=>i.safeParse(e).success;Qs.create=rae;var nae=(i,e)=>i.parse(e);Qs.assure=nae;var oae=i=>typeof i=="object"&&i!==null;Qs.isObject=oae});var Zd=k(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.parseIntWithFallback=zt.dedupeStrs=zt.range=zt.chunkArray=zt.errHasMsg=zt.isErrnoException=zt.asyncFilter=zt.s32decode=zt.s32encode=zt.streamToBuffer=zt.flattenUint8Arrays=zt.bailableWait=zt.wait=zt.jitter=zt.noUndefinedVals=void 0;zt.omit=aae;var sae=i=>(Object.keys(i).forEach(e=>{i[e]===void 0&&delete i[e]}),i);zt.noUndefinedVals=sae;function aae(i,e){if(!i)return i;let t={},r=Object.keys(i);for(let n=0;n<r.length;n++){let o=r[n];e.includes(o)||(t[o]=i[o])}return t}var lae=i=>Math.round((Math.random()-.5)*i*2);zt.jitter=lae;var cae=i=>new Promise(e=>setTimeout(e,i));zt.wait=cae;var uae=i=>{let e,t=new Promise(r=>{let n=setTimeout(r,i);e=()=>{clearTimeout(n),r()}});return{bail:e,wait:()=>t}};zt.bailableWait=uae;var dae=i=>{let e=i.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e),r=0;return i.forEach(n=>{t.set(n,r),r+=n.length}),t};zt.flattenUint8Arrays=dae;var pae=i=>Y(zt,null,function*(){let e=[];try{for(var t=M4(i),r,n,o;r=!(n=yield t.next()).done;r=!1){let s=n.value;e.push(s)}}catch{o=[n]}finally{try{r&&(n=t.return)&&(yield n.call(t))}finally{if(o)throw o[0]}}return(0,zt.flattenUint8Arrays)(e)});zt.streamToBuffer=pae;var YO="234567abcdefghijklmnopqrstuvwxyz",fae=i=>{let e="";for(;i;){let t=i%32;i=Math.floor(i/32),e=YO.charAt(t)+e}return e};zt.s32encode=fae;var hae=i=>{let e=0;for(let t of i)e=e*32+YO.indexOf(t);return e};zt.s32decode=hae;var mae=(i,e)=>Y(zt,null,function*(){let t=yield Promise.all(i.map(r=>e(r)));return i.filter((r,n)=>t[n])});zt.asyncFilter=mae;var gae=i=>!!i&&i.code;zt.isErrnoException=gae;var yae=(i,e)=>!!i&&typeof i=="object"&&i.message===e;zt.errHasMsg=yae;var bae=(i,e)=>i.reduce((t,r,n)=>{let o=Math.floor(n/e);return t[o]||(t[o]=[]),t[o].push(r),t},[]);zt.chunkArray=bae;var _ae=i=>{let e=[];for(let t=0;t<i;t++)e.push(t);return e};zt.range=_ae;var vae=i=>[...new Set(i)];zt.dedupeStrs=vae;var xae=(i,e)=>{let t=parseInt(i||"",10);return isNaN(t)?e:t};zt.parseIntWithFallback=xae});var JO=k(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.mapDefined=void 0;_m.keyBy=Cae;function Cae(i,e){return i.reduce((t,r)=>(t.set(r[e],r),t),new Map)}var Eae=(i,e)=>{let t=[];for(let r of i){let n=e(r);n!==void 0&&t.push(n)}return t};_m.mapDefined=Eae});var iM=k(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.AsyncBufferFullError=sr.AsyncBuffer=sr.allComplete=sr.createDeferrables=sr.createDeferrable=sr.readFromGenerator=void 0;sr.allFulfilled=kae;sr.handleAllSettledErrors=eM;sr.isRejectedResult=tM;sr.isFulfilledResult=Iae;var Tae=Zd(),wae=(n,o,...s)=>Y(sr,[n,o,...s],function*(i,e,t=Promise.resolve(),r=Number.MAX_SAFE_INTEGER){let a=[],l,d=!1,f=()=>Y(sr,null,function*(){if(yield e(a.at(-1)))return!0;let w=(0,Tae.bailableWait)(20);return yield w.wait(),l=w.bail,d?!1:yield f()}),g=new Promise(w=>{t.then(()=>{f().then(()=>w())})});try{for(;a.length<r;){let w=yield Promise.race([i.next(),g]);if(!w)break;let A=w;if(A.done)break;a.push(A.value)}}finally{d=!0,l&&l()}return a});sr.readFromGenerator=wae;var Sae=()=>{let i,e=new Promise(t=>{i=()=>t()});return{resolve:i,complete:e}};sr.createDeferrable=Sae;var Aae=i=>{let e=[];for(let t=0;t<i;t++)e.push((0,sr.createDeferrable)());return e};sr.createDeferrables=Aae;var Rae=i=>Y(sr,null,function*(){yield Promise.all(i.map(e=>e.complete))});sr.allComplete=Rae;var k2=class{constructor(e){Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"buffer",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"promise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolve",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"toThrow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.promise=Promise.resolve(),this.resolve=()=>null,this.resetPromise()}get curr(){return this.buffer}get size(){return this.buffer.length}get isClosed(){return this.closed}resetPromise(){this.promise=new Promise(e=>this.resolve=e)}push(e){this.buffer.push(e),this.resolve()}pushMany(e){e.forEach(t=>this.buffer.push(t)),this.resolve()}events(){return O4(this,null,function*(){for(;;){if(this.closed&&this.buffer.length===0){if(this.toThrow)throw this.toThrow;return}if(yield new B4(this.promise),this.toThrow)throw this.toThrow;if(this.maxSize&&this.size>this.maxSize)throw new Pb(this.maxSize);let[e,...t]=this.buffer;e?(this.buffer=t,yield e):this.resetPromise()}})}throw(e){this.toThrow=e,this.closed=!0,this.resolve()}close(){this.closed=!0,this.resolve()}};sr.AsyncBuffer=k2;var Pb=class extends Error{constructor(e){super(`ReachedMaxBufferSize: ${e}`)}};sr.AsyncBufferFullError=Pb;function kae(i){return Promise.allSettled(i).then(eM)}function eM(i){let e=i.filter(tM).map(Dae);if(e.length===0)return i.map(Pae);throw e.length===1?e[0]:new AggregateError(e,`Multiple errors: ${e.map(Lae).join(`
`)}`)}function tM(i){return i.status==="rejected"}function Dae(i){return i.reason}function Iae(i){return i.status==="fulfilled"}function Pae(i){return i.value}function Lae(i){return i instanceof Error?i.message:String(i)}});var sM=k(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.TID=void 0;var Lb=Zd(),rM=13,D2=0,nM=0,Bb=null;function oM(i){return i.replaceAll("-","")}var I2=class i{constructor(e){Object.defineProperty(this,"str",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let t=oM(e);if(t.length!==rM)throw new Error(`Poorly formatted TID: ${t.length} length`);this.str=t}static next(e){let t=Math.max(Date.now(),D2);t===D2&&nM++,D2=t;let r=t*1e3+nM;Bb===null&&(Bb=Math.floor(Math.random()*32));let n=i.fromTime(r,Bb);return!e||n.newerThan(e)?n:i.fromTime(e.timestamp()+1,Bb)}static nextStr(e){return i.next(e?new i(e):void 0).toString()}static fromTime(e,t){let r=`${(0,Lb.s32encode)(e)}${(0,Lb.s32encode)(t).padStart(2,"2")}`;return new i(r)}static fromStr(e){return new i(e)}static oldestFirst(e,t){return e.compareTo(t)}static newestFirst(e,t){return t.compareTo(e)}static is(e){return oM(e).length===rM}timestamp(){return(0,Lb.s32decode)(this.str.slice(0,11))}clockid(){return(0,Lb.s32decode)(this.str.slice(11,13))}formatted(){let e=this.toString();return`${e.slice(0,4)}-${e.slice(4,7)}-${e.slice(7,11)}-${e.slice(11,13)}`}toString(){return this.str}compareTo(e){return this.str>e.str?1:this.str<e.str?-1:0}equals(e){return this.str===e.str}newerThan(e){return this.compareTo(e)>0}olderThan(e){return this.compareTo(e)<0}};Ob.TID=I2});function aM(i,e){for(let t=0;t<i.byteLength;t++){if(i[t]<e[t])return-1;if(i[t]>e[t])return 1}return i.byteLength>e.byteLength?1:i.byteLength<e.byteLength?-1:0}var lM=Jt(()=>{"use strict"});function cM(i,e){e||(e=i.reduce((n,o)=>n+o.length,0));let t=new Uint8Array(e),r=0;for(let n of i)t.set(n,r),r+=n.length;return t}var uM=Jt(()=>{"use strict"});function dM(i,e){if(i===e)return!0;if(i.byteLength!==e.byteLength)return!1;for(let t=0;t<i.byteLength;t++)if(i[t]!==e[t])return!1;return!0}var pM=Jt(()=>{"use strict"});var P2={};Rn(P2,{identity:()=>Bae});var Bae,fM=Jt(()=>{"use strict";ys();$l();Bae=Wd({prefix:"\0",name:"identity",encode:i=>qO(i),decode:i=>jO(i)})});var L2={};Rn(L2,{base2:()=>Oae});var Oae,hM=Jt(()=>{"use strict";ys();Oae=or({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var B2={};Rn(B2,{base8:()=>Mae});var Mae,mM=Jt(()=>{"use strict";ys();Mae=or({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var O2={};Rn(O2,{base10:()=>Vae});var Vae,gM=Jt(()=>{"use strict";ys();Vae=zl({prefix:"9",name:"base10",alphabet:"0123456789"})});var M2={};Rn(M2,{base16:()=>Nae,base16upper:()=>Fae});var Nae,Fae,yM=Jt(()=>{"use strict";ys();Nae=or({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fae=or({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var V2={};Rn(V2,{base36:()=>Uae,base36upper:()=>jae});var Uae,jae,bM=Jt(()=>{"use strict";ys();Uae=zl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jae=zl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var N2={};Rn(N2,{base64:()=>qae,base64pad:()=>$ae,base64url:()=>zae,base64urlpad:()=>Kae});var qae,$ae,zae,Kae,_M=Jt(()=>{"use strict";ys();qae=or({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$ae=or({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zae=or({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Kae=or({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var F2={};Rn(F2,{base256emoji:()=>Zae});function Wae(i){return i.reduce((e,t)=>(e+=Hae[t],e),"")}function Xae(i){let e=[];for(let t of i){let r=Gae[t.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}var vM,Hae,Gae,Zae,xM=Jt(()=>{"use strict";ys();vM=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Hae=vM.reduce((i,e,t)=>(i[t]=e,i),[]),Gae=vM.reduce((i,e,t)=>(i[e.codePointAt(0)]=t,i),[]);Zae=Wd({prefix:"\u{1F680}",name:"base256emoji",encode:Wae,decode:Xae})});var j2,U2,q2=Jt(()=>{"use strict";gm();j2=({name:i,code:e,encode:t})=>new U2(i,e,t),U2=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?bu(this.code,t):t.then(r=>bu(this.code,r))}else throw Error("Unknown type, must be binary type")}}});var $2={};Rn($2,{sha256:()=>Qae,sha512:()=>Yae});var EM,Qae,Yae,TM=Jt(()=>{"use strict";q2();EM=i=>e=>Y(void 0,null,function*(){return new Uint8Array(yield crypto.subtle.digest(i,e))}),Qae=j2({name:"sha2-256",code:18,encode:EM("SHA-256")}),Yae=j2({name:"sha2-512",code:19,encode:EM("SHA-512")})});var z2={};Rn(z2,{identity:()=>tle});var wM,Jae,SM,ele,tle,AM=Jt(()=>{"use strict";$l();gm();wM=0,Jae="identity",SM=Ya,ele=i=>bu(wM,SM(i)),tle={code:wM,name:Jae,encode:SM,digest:ele}});var RM=Jt(()=>{"use strict";$l()});var dZe,pZe,kM=Jt(()=>{"use strict";dZe=new TextEncoder,pZe=new TextDecoder});var DM=Jt(()=>{"use strict";Kl();kb();$l();q2();gm()});var K2,gZe,IM=Jt(()=>{"use strict";fM();hM();mM();gM();yM();R2();bM();S2();_M();xM();TM();AM();RM();kM();DM();K2=R(R(R(R(R(R(R(R(R(R({},P2),L2),B2),O2),M2),A2),V2),w2),N2),F2),gZe=R(R({},$2),z2)});function LM(i,e,t,r){return{name:i,prefix:e,encoder:{name:i,prefix:e,encode:t},decoder:{decode:r}}}var PM,H2,nle,Mb,G2=Jt(()=>{"use strict";IM();PM=LM("utf8","u",i=>"u"+new TextDecoder("utf8").decode(i),i=>new TextEncoder().encode(i.substring(1))),H2=LM("ascii","a",i=>{let e="a";for(let t=0;t<i.length;t++)e+=String.fromCharCode(i[t]);return e},i=>{i=i.substring(1);let e=new Uint8Array(i.length);for(let t=0;t<i.length;t++)e[t]=i.charCodeAt(t);return e}),nle=R({utf8:PM,"utf-8":PM,hex:K2.base16,latin1:H2,ascii:H2,binary:H2},K2),Mb=nle});function BM(i,e="utf8"){let t=Mb[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${i}`)}var OM=Jt(()=>{"use strict";G2()});function MM(i,e="utf8"){let t=Mb[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(i).substring(1)}var VM=Jt(()=>{"use strict";G2()});function NM(i,e){if(i.length!==e.length)throw new Error("Inputs should have the same length");let t=new Uint8Array(i.length);for(let r=0;r<i.length;r++)t[r]=i[r]^e[r];return t}var FM=Jt(()=>{"use strict"});var W2={};Rn(W2,{compare:()=>aM,concat:()=>cM,equals:()=>dM,fromString:()=>BM,toString:()=>MM,xor:()=>NM});var X2=Jt(()=>{"use strict";lM();uM();pM();OM();VM();FM()});var UM=k(_r=>{"use strict";var ole=_r&&_r.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),sle=_r&&_r.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),ale=_r&&_r.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&ole(e,i,t);return sle(e,i),e};Object.defineProperty(_r,"__esModule",{value:!0});_r.ipldEquals=_r.ipldToJson=_r.jsonToIpld=void 0;var Qd=(Kl(),Al(_u)),Z2=ale((X2(),Al(W2))),lle=i=>{if(Array.isArray(i))return i.map(e=>(0,_r.jsonToIpld)(e));if(i&&typeof i=="object"){if(typeof i.$link=="string"&&Object.keys(i).length===1)return Qd.CID.parse(i.$link);if(typeof i.$bytes=="string"&&Object.keys(i).length===1)return Z2.fromString(i.$bytes,"base64");let e={};for(let t of Object.keys(i))e[t]=(0,_r.jsonToIpld)(i[t]);return e}return i};_r.jsonToIpld=lle;var cle=i=>{if(Array.isArray(i))return i.map(e=>(0,_r.ipldToJson)(e));if(i&&typeof i=="object"){if(i instanceof Uint8Array)return{$bytes:Z2.toString(i,"base64")};if(Qd.CID.asCID(i))return{$link:i.toString()};let e={};for(let t of Object.keys(i))e[t]=(0,_r.ipldToJson)(i[t]);return e}return i};_r.ipldToJson=cle;var ule=(i,e)=>{if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!(0,_r.ipldEquals)(i[t],e[t]))return!1;return!0}if(i&&e&&typeof i=="object"&&typeof e=="object"){if(i instanceof Uint8Array&&e instanceof Uint8Array)return Z2.equals(i,e);if(Qd.CID.asCID(i)&&Qd.CID.asCID(e))return Qd.CID.asCID(i)?.equals(Qd.CID.asCID(e));if(Object.keys(i).length!==Object.keys(e).length)return!1;for(let t of Object.keys(i))if(!(0,_r.ipldEquals)(i[t],e[t]))return!1;return!0}return i===e};_r.ipldEquals=ule});var $M=k(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.retry=jM;vm.createRetryable=ple;vm.backoffMs=qM;var dle=Zd();function jM(t){return Y(this,arguments,function*(i,e={}){let{maxRetries:r=3,retryable:n=()=>!0,getWaitMs:o=qM}=e,s=0,a;for(;!a;)try{return yield i()}catch(l){let d=o(s);s<r&&d!==null&&n(l)?(s+=1,d!==0&&(yield(0,dle.wait)(d))):a=l}throw a})}function ple(i){return(e,t)=>Y(this,null,function*(){return jM(e,ue(R({},t),{retryable:i}))})}function qM(i,e=100,t=1e3){let r=Math.pow(2,i)*e,n=Math.min(r,t);return fle(n)}function fle(i){let e=i*.15;return i+hle(-e,e)}function hle(i,e){return Math.random()*(e-i)+i}});var KM=k(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.def=bs.schema=void 0;var zM=(Kl(),Al(_u)),Ja=Fl(),mle=Ja.z.any().refine(i=>zM.CID.asCID(i)!==null,{message:"Not a CID"}).transform(i=>zM.CID.asCID(i));bs.schema={cid:mle,bytes:Ja.z.instanceof(Uint8Array),string:Ja.z.string(),array:Ja.z.array(Ja.z.unknown()),map:Ja.z.record(Ja.z.string(),Ja.z.unknown()),unknown:Ja.z.unknown()};bs.def={cid:{name:"cid",schema:bs.schema.cid},bytes:{name:"bytes",schema:bs.schema.bytes},string:{name:"string",schema:bs.schema.string},map:{name:"map",schema:bs.schema.map},unknown:{name:"unknown",schema:bs.schema.unknown}}});var HM=k(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.addHoursToDate=qr.lessThanAgoMs=qr.DAY=qr.HOUR=qr.MINUTE=qr.SECOND=void 0;qr.SECOND=1e3;qr.MINUTE=qr.SECOND*60;qr.HOUR=qr.MINUTE*60;qr.DAY=qr.HOUR*24;var gle=(i,e)=>Date.now()<i.getTime()+e;qr.lessThanAgoMs=gle;var yle=(i,e)=>{let t=e?new Date(e):new Date;return t.setHours(t.getHours()+i),t};qr.addHoursToDate=yle});var Q2=k(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.EXTENDED_PICTOGRAPHIC=vu.CLUSTER_BREAK=void 0;var ble;(function(i){i[i.CR=0]="CR",i[i.LF=1]="LF",i[i.CONTROL=2]="CONTROL",i[i.EXTEND=3]="EXTEND",i[i.REGIONAL_INDICATOR=4]="REGIONAL_INDICATOR",i[i.SPACINGMARK=5]="SPACINGMARK",i[i.L=6]="L",i[i.V=7]="V",i[i.T=8]="T",i[i.LV=9]="LV",i[i.LVT=10]="LVT",i[i.OTHER=11]="OTHER",i[i.PREPEND=12]="PREPEND",i[i.E_BASE=13]="E_BASE",i[i.E_MODIFIER=14]="E_MODIFIER",i[i.ZWJ=15]="ZWJ",i[i.GLUE_AFTER_ZWJ=16]="GLUE_AFTER_ZWJ",i[i.E_BASE_GAZ=17]="E_BASE_GAZ"})(ble=vu.CLUSTER_BREAK||(vu.CLUSTER_BREAK={}));vu.EXTENDED_PICTOGRAPHIC=101});var GM=k(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});var Vt=Q2(),el=0,Y2=1,_le=2,vle=3,xle=4,J2=class{static isSurrogate(e,t){return 55296<=e.charCodeAt(t)&&e.charCodeAt(t)<=56319&&56320<=e.charCodeAt(t+1)&&e.charCodeAt(t+1)<=57343}static codePointAt(e,t){t===void 0&&(t=0);let r=e.charCodeAt(t);if(55296<=r&&r<=56319&&t<e.length-1){let n=r,o=e.charCodeAt(t+1);return 56320<=o&&o<=57343?(n-55296)*1024+(o-56320)+65536:n}if(56320<=r&&r<=57343&&t>=1){let n=e.charCodeAt(t-1),o=r;return 55296<=n&&n<=56319?(n-55296)*1024+(o-56320)+65536:o}return r}static shouldBreak(e,t,r,n,o,s){let a=[e].concat(t).concat([r]),l=[n].concat(o).concat([s]),d=a[a.length-2],f=r,g=s,w=a.lastIndexOf(Vt.CLUSTER_BREAK.REGIONAL_INDICATOR);if(w>0&&a.slice(1,w).every(function(B){return B===Vt.CLUSTER_BREAK.REGIONAL_INDICATOR})&&[Vt.CLUSTER_BREAK.PREPEND,Vt.CLUSTER_BREAK.REGIONAL_INDICATOR].indexOf(d)===-1)return a.filter(function(B){return B===Vt.CLUSTER_BREAK.REGIONAL_INDICATOR}).length%2===1?vle:xle;if(d===Vt.CLUSTER_BREAK.CR&&f===Vt.CLUSTER_BREAK.LF)return el;if(d===Vt.CLUSTER_BREAK.CONTROL||d===Vt.CLUSTER_BREAK.CR||d===Vt.CLUSTER_BREAK.LF)return Y2;if(f===Vt.CLUSTER_BREAK.CONTROL||f===Vt.CLUSTER_BREAK.CR||f===Vt.CLUSTER_BREAK.LF)return Y2;if(d===Vt.CLUSTER_BREAK.L&&(f===Vt.CLUSTER_BREAK.L||f===Vt.CLUSTER_BREAK.V||f===Vt.CLUSTER_BREAK.LV||f===Vt.CLUSTER_BREAK.LVT))return el;if((d===Vt.CLUSTER_BREAK.LV||d===Vt.CLUSTER_BREAK.V)&&(f===Vt.CLUSTER_BREAK.V||f===Vt.CLUSTER_BREAK.T))return el;if((d===Vt.CLUSTER_BREAK.LVT||d===Vt.CLUSTER_BREAK.T)&&f===Vt.CLUSTER_BREAK.T)return el;if(f===Vt.CLUSTER_BREAK.EXTEND||f===Vt.CLUSTER_BREAK.ZWJ)return el;if(f===Vt.CLUSTER_BREAK.SPACINGMARK)return el;if(d===Vt.CLUSTER_BREAK.PREPEND)return el;let A=l.slice(0,-1).lastIndexOf(Vt.EXTENDED_PICTOGRAPHIC);return A!==-1&&l[A]===Vt.EXTENDED_PICTOGRAPHIC&&a.slice(A+1,-2).every(function(B){return B===Vt.CLUSTER_BREAK.EXTEND})&&d===Vt.CLUSTER_BREAK.ZWJ&&g===Vt.EXTENDED_PICTOGRAPHIC?el:t.indexOf(Vt.CLUSTER_BREAK.REGIONAL_INDICATOR)!==-1?_le:d===Vt.CLUSTER_BREAK.REGIONAL_INDICATOR&&f===Vt.CLUSTER_BREAK.REGIONAL_INDICATOR?el:Y2}};eA.default=J2});var WM=k(iA=>{"use strict";Object.defineProperty(iA,"__esModule",{value:!0});var tA=class{constructor(e,t){this._index=0,this._str=e,this._nextBreak=t}[Symbol.iterator](){return this}next(){let e;if((e=this._nextBreak(this._str,this._index))<this._str.length){let t=this._str.slice(this._index,e);return this._index=e,{value:t,done:!1}}if(this._index<this._str.length){let t=this._str.slice(this._index);return this._index=this._str.length,{value:t,done:!1}}return{value:void 0,done:!0}}};iA.default=tA});var ZM=k(xm=>{"use strict";var XM=xm&&xm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xm,"__esModule",{value:!0});var c=Q2(),Vb=XM(GM()),Cle=XM(WM()),rA=class i{static nextBreak(e,t){if(t===void 0&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;let r=Vb.default.codePointAt(e,t),n=i.getGraphemeBreakProperty(r),o=i.getEmojiProperty(r),s=[],a=[];for(let l=t+1;l<e.length;l++){if(Vb.default.isSurrogate(e,l-1))continue;let d=Vb.default.codePointAt(e,l),f=i.getGraphemeBreakProperty(d),g=i.getEmojiProperty(d);if(Vb.default.shouldBreak(n,s,f,o,a,g))return l;s.push(f),a.push(g)}return e.length}splitGraphemes(e){let t=[],r=0,n;for(;(n=i.nextBreak(e,r))<e.length;)t.push(e.slice(r,n)),r=n;return r<e.length&&t.push(e.slice(r)),t}iterateGraphemes(e){return new Cle.default(e,i.nextBreak)}countGraphemes(e){let t=0,r=0,n;for(;(n=i.nextBreak(e,r))<e.length;)r=n,t++;return r<e.length&&t++,t}static getGraphemeBreakProperty(e){if(e<48905){if(e<44116){if(e<4141){if(e<2818){if(e<2363)if(e<1759){if(e<1471){if(e<127){if(e<11){if(e<10){if(0<=e&&e<=9)return c.CLUSTER_BREAK.CONTROL}else if(e===10)return c.CLUSTER_BREAK.LF}else if(e<13){if(11<=e&&e<=12)return c.CLUSTER_BREAK.CONTROL}else if(e<14){if(e===13)return c.CLUSTER_BREAK.CR}else if(14<=e&&e<=31)return c.CLUSTER_BREAK.CONTROL}else if(e<768){if(e<173){if(127<=e&&e<=159)return c.CLUSTER_BREAK.CONTROL}else if(e===173)return c.CLUSTER_BREAK.CONTROL}else if(e<1155){if(768<=e&&e<=879)return c.CLUSTER_BREAK.EXTEND}else if(e<1425){if(1155<=e&&e<=1161)return c.CLUSTER_BREAK.EXTEND}else if(1425<=e&&e<=1469)return c.CLUSTER_BREAK.EXTEND}else if(e<1552){if(e<1476){if(e<1473){if(e===1471)return c.CLUSTER_BREAK.EXTEND}else if(1473<=e&&e<=1474)return c.CLUSTER_BREAK.EXTEND}else if(e<1479){if(1476<=e&&e<=1477)return c.CLUSTER_BREAK.EXTEND}else if(e<1536){if(e===1479)return c.CLUSTER_BREAK.EXTEND}else if(1536<=e&&e<=1541)return c.CLUSTER_BREAK.PREPEND}else if(e<1648){if(e<1564){if(1552<=e&&e<=1562)return c.CLUSTER_BREAK.EXTEND}else if(e<1611){if(e===1564)return c.CLUSTER_BREAK.CONTROL}else if(1611<=e&&e<=1631)return c.CLUSTER_BREAK.EXTEND}else if(e<1750){if(e===1648)return c.CLUSTER_BREAK.EXTEND}else if(e<1757){if(1750<=e&&e<=1756)return c.CLUSTER_BREAK.EXTEND}else if(e===1757)return c.CLUSTER_BREAK.PREPEND}else if(e<2075){if(e<1840)if(e<1770){if(e<1767){if(1759<=e&&e<=1764)return c.CLUSTER_BREAK.EXTEND}else if(1767<=e&&e<=1768)return c.CLUSTER_BREAK.EXTEND}else if(e<1807){if(1770<=e&&e<=1773)return c.CLUSTER_BREAK.EXTEND}else{if(e===1807)return c.CLUSTER_BREAK.PREPEND;if(e===1809)return c.CLUSTER_BREAK.EXTEND}else if(e<2027){if(e<1958){if(1840<=e&&e<=1866)return c.CLUSTER_BREAK.EXTEND}else if(1958<=e&&e<=1968)return c.CLUSTER_BREAK.EXTEND}else if(e<2045){if(2027<=e&&e<=2035)return c.CLUSTER_BREAK.EXTEND}else if(e<2070){if(e===2045)return c.CLUSTER_BREAK.EXTEND}else if(2070<=e&&e<=2073)return c.CLUSTER_BREAK.EXTEND}else if(e<2200){if(e<2089){if(e<2085){if(2075<=e&&e<=2083)return c.CLUSTER_BREAK.EXTEND}else if(2085<=e&&e<=2087)return c.CLUSTER_BREAK.EXTEND}else if(e<2137){if(2089<=e&&e<=2093)return c.CLUSTER_BREAK.EXTEND}else if(e<2192){if(2137<=e&&e<=2139)return c.CLUSTER_BREAK.EXTEND}else if(2192<=e&&e<=2193)return c.CLUSTER_BREAK.PREPEND}else if(e<2275){if(e<2250){if(2200<=e&&e<=2207)return c.CLUSTER_BREAK.EXTEND}else if(e<2274){if(2250<=e&&e<=2273)return c.CLUSTER_BREAK.EXTEND}else if(e===2274)return c.CLUSTER_BREAK.PREPEND}else if(e<2307){if(2275<=e&&e<=2306)return c.CLUSTER_BREAK.EXTEND}else{if(e===2307)return c.CLUSTER_BREAK.SPACINGMARK;if(e===2362)return c.CLUSTER_BREAK.EXTEND}else if(e<2561){if(e<2434){if(e<2381){if(e<2366){if(e===2363)return c.CLUSTER_BREAK.SPACINGMARK;if(e===2364)return c.CLUSTER_BREAK.EXTEND}else if(e<2369){if(2366<=e&&e<=2368)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2377){if(2369<=e&&e<=2376)return c.CLUSTER_BREAK.EXTEND}else if(2377<=e&&e<=2380)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2385){if(e<2382){if(e===2381)return c.CLUSTER_BREAK.EXTEND}else if(2382<=e&&e<=2383)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2402){if(2385<=e&&e<=2391)return c.CLUSTER_BREAK.EXTEND}else if(e<2433){if(2402<=e&&e<=2403)return c.CLUSTER_BREAK.EXTEND}else if(e===2433)return c.CLUSTER_BREAK.EXTEND}else if(e<2503){if(e<2494){if(e<2492){if(2434<=e&&e<=2435)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===2492)return c.CLUSTER_BREAK.EXTEND}else if(e<2495){if(e===2494)return c.CLUSTER_BREAK.EXTEND}else if(e<2497){if(2495<=e&&e<=2496)return c.CLUSTER_BREAK.SPACINGMARK}else if(2497<=e&&e<=2500)return c.CLUSTER_BREAK.EXTEND}else if(e<2519){if(e<2507){if(2503<=e&&e<=2504)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2509){if(2507<=e&&e<=2508)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===2509)return c.CLUSTER_BREAK.EXTEND}else if(e<2530){if(e===2519)return c.CLUSTER_BREAK.EXTEND}else if(e<2558){if(2530<=e&&e<=2531)return c.CLUSTER_BREAK.EXTEND}else if(e===2558)return c.CLUSTER_BREAK.EXTEND}else if(e<2691){if(e<2631){if(e<2620){if(e<2563){if(2561<=e&&e<=2562)return c.CLUSTER_BREAK.EXTEND}else if(e===2563)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2622){if(e===2620)return c.CLUSTER_BREAK.EXTEND}else if(e<2625){if(2622<=e&&e<=2624)return c.CLUSTER_BREAK.SPACINGMARK}else if(2625<=e&&e<=2626)return c.CLUSTER_BREAK.EXTEND}else if(e<2672){if(e<2635){if(2631<=e&&e<=2632)return c.CLUSTER_BREAK.EXTEND}else if(e<2641){if(2635<=e&&e<=2637)return c.CLUSTER_BREAK.EXTEND}else if(e===2641)return c.CLUSTER_BREAK.EXTEND}else if(e<2677){if(2672<=e&&e<=2673)return c.CLUSTER_BREAK.EXTEND}else if(e<2689){if(e===2677)return c.CLUSTER_BREAK.EXTEND}else if(2689<=e&&e<=2690)return c.CLUSTER_BREAK.EXTEND}else if(e<2761){if(e<2750){if(e===2691)return c.CLUSTER_BREAK.SPACINGMARK;if(e===2748)return c.CLUSTER_BREAK.EXTEND}else if(e<2753){if(2750<=e&&e<=2752)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2759){if(2753<=e&&e<=2757)return c.CLUSTER_BREAK.EXTEND}else if(2759<=e&&e<=2760)return c.CLUSTER_BREAK.EXTEND}else if(e<2786){if(e<2763){if(e===2761)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2765){if(2763<=e&&e<=2764)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===2765)return c.CLUSTER_BREAK.EXTEND}else if(e<2810){if(2786<=e&&e<=2787)return c.CLUSTER_BREAK.EXTEND}else if(e<2817){if(2810<=e&&e<=2815)return c.CLUSTER_BREAK.EXTEND}else if(e===2817)return c.CLUSTER_BREAK.EXTEND}else if(e<3315){if(e<3076){if(e<2946){if(e<2887){if(e<2878){if(e<2876){if(2818<=e&&e<=2819)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===2876)return c.CLUSTER_BREAK.EXTEND}else if(e<2880){if(2878<=e&&e<=2879)return c.CLUSTER_BREAK.EXTEND}else if(e<2881){if(e===2880)return c.CLUSTER_BREAK.SPACINGMARK}else if(2881<=e&&e<=2884)return c.CLUSTER_BREAK.EXTEND}else if(e<2893){if(e<2891){if(2887<=e&&e<=2888)return c.CLUSTER_BREAK.SPACINGMARK}else if(2891<=e&&e<=2892)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<2901){if(e===2893)return c.CLUSTER_BREAK.EXTEND}else if(e<2914){if(2901<=e&&e<=2903)return c.CLUSTER_BREAK.EXTEND}else if(2914<=e&&e<=2915)return c.CLUSTER_BREAK.EXTEND}else if(e<3014){if(e<3007){if(e===2946||e===3006)return c.CLUSTER_BREAK.EXTEND}else if(e<3008){if(e===3007)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3009){if(e===3008)return c.CLUSTER_BREAK.EXTEND}else if(3009<=e&&e<=3010)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3031){if(e<3018){if(3014<=e&&e<=3016)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3021){if(3018<=e&&e<=3020)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===3021)return c.CLUSTER_BREAK.EXTEND}else if(e<3072){if(e===3031)return c.CLUSTER_BREAK.EXTEND}else if(e<3073){if(e===3072)return c.CLUSTER_BREAK.EXTEND}else if(3073<=e&&e<=3075)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3262){if(e<3146){if(e<3134){if(e===3076||e===3132)return c.CLUSTER_BREAK.EXTEND}else if(e<3137){if(3134<=e&&e<=3136)return c.CLUSTER_BREAK.EXTEND}else if(e<3142){if(3137<=e&&e<=3140)return c.CLUSTER_BREAK.SPACINGMARK}else if(3142<=e&&e<=3144)return c.CLUSTER_BREAK.EXTEND}else if(e<3201){if(e<3157){if(3146<=e&&e<=3149)return c.CLUSTER_BREAK.EXTEND}else if(e<3170){if(3157<=e&&e<=3158)return c.CLUSTER_BREAK.EXTEND}else if(3170<=e&&e<=3171)return c.CLUSTER_BREAK.EXTEND}else if(e<3202){if(e===3201)return c.CLUSTER_BREAK.EXTEND}else if(e<3260){if(3202<=e&&e<=3203)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===3260)return c.CLUSTER_BREAK.EXTEND}else if(e<3270){if(e<3264){if(e===3262)return c.CLUSTER_BREAK.SPACINGMARK;if(e===3263)return c.CLUSTER_BREAK.EXTEND}else if(e<3266){if(3264<=e&&e<=3265)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3267){if(e===3266)return c.CLUSTER_BREAK.EXTEND}else if(3267<=e&&e<=3268)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3276){if(e<3271){if(e===3270)return c.CLUSTER_BREAK.EXTEND}else if(e<3274){if(3271<=e&&e<=3272)return c.CLUSTER_BREAK.SPACINGMARK}else if(3274<=e&&e<=3275)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3285){if(3276<=e&&e<=3277)return c.CLUSTER_BREAK.EXTEND}else if(e<3298){if(3285<=e&&e<=3286)return c.CLUSTER_BREAK.EXTEND}else if(3298<=e&&e<=3299)return c.CLUSTER_BREAK.EXTEND}else if(e<3551){if(e<3406){if(e<3391){if(e<3330){if(e<3328){if(e===3315)return c.CLUSTER_BREAK.SPACINGMARK}else if(3328<=e&&e<=3329)return c.CLUSTER_BREAK.EXTEND}else if(e<3387){if(3330<=e&&e<=3331)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3390){if(3387<=e&&e<=3388)return c.CLUSTER_BREAK.EXTEND}else if(e===3390)return c.CLUSTER_BREAK.EXTEND}else if(e<3398){if(e<3393){if(3391<=e&&e<=3392)return c.CLUSTER_BREAK.SPACINGMARK}else if(3393<=e&&e<=3396)return c.CLUSTER_BREAK.EXTEND}else if(e<3402){if(3398<=e&&e<=3400)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3405){if(3402<=e&&e<=3404)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===3405)return c.CLUSTER_BREAK.EXTEND}else if(e<3530){if(e<3426){if(e===3406)return c.CLUSTER_BREAK.PREPEND;if(e===3415)return c.CLUSTER_BREAK.EXTEND}else if(e<3457){if(3426<=e&&e<=3427)return c.CLUSTER_BREAK.EXTEND}else if(e<3458){if(e===3457)return c.CLUSTER_BREAK.EXTEND}else if(3458<=e&&e<=3459)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3538){if(e<3535){if(e===3530)return c.CLUSTER_BREAK.EXTEND}else if(e<3536){if(e===3535)return c.CLUSTER_BREAK.EXTEND}else if(3536<=e&&e<=3537)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3542){if(3538<=e&&e<=3540)return c.CLUSTER_BREAK.EXTEND}else if(e<3544){if(e===3542)return c.CLUSTER_BREAK.EXTEND}else if(3544<=e&&e<=3550)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3893){if(e<3655){if(e<3633){if(e<3570){if(e===3551)return c.CLUSTER_BREAK.EXTEND}else if(3570<=e&&e<=3571)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3635){if(e===3633)return c.CLUSTER_BREAK.EXTEND}else if(e<3636){if(e===3635)return c.CLUSTER_BREAK.SPACINGMARK}else if(3636<=e&&e<=3642)return c.CLUSTER_BREAK.EXTEND}else if(e<3764)if(e<3761){if(3655<=e&&e<=3662)return c.CLUSTER_BREAK.EXTEND}else{if(e===3761)return c.CLUSTER_BREAK.EXTEND;if(e===3763)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3784){if(3764<=e&&e<=3772)return c.CLUSTER_BREAK.EXTEND}else if(e<3864){if(3784<=e&&e<=3790)return c.CLUSTER_BREAK.EXTEND}else if(3864<=e&&e<=3865)return c.CLUSTER_BREAK.EXTEND}else if(e<3967){if(e<3897){if(e===3893||e===3895)return c.CLUSTER_BREAK.EXTEND}else if(e<3902){if(e===3897)return c.CLUSTER_BREAK.EXTEND}else if(e<3953){if(3902<=e&&e<=3903)return c.CLUSTER_BREAK.SPACINGMARK}else if(3953<=e&&e<=3966)return c.CLUSTER_BREAK.EXTEND}else if(e<3981){if(e<3968){if(e===3967)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<3974){if(3968<=e&&e<=3972)return c.CLUSTER_BREAK.EXTEND}else if(3974<=e&&e<=3975)return c.CLUSTER_BREAK.EXTEND}else if(e<3993){if(3981<=e&&e<=3991)return c.CLUSTER_BREAK.EXTEND}else if(e<4038){if(3993<=e&&e<=4028)return c.CLUSTER_BREAK.EXTEND}else if(e===4038)return c.CLUSTER_BREAK.EXTEND}else if(e<7204){if(e<6448){if(e<5938){if(e<4226){if(e<4157){if(e<4146){if(e<4145){if(4141<=e&&e<=4144)return c.CLUSTER_BREAK.EXTEND}else if(e===4145)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<4153){if(4146<=e&&e<=4151)return c.CLUSTER_BREAK.EXTEND}else if(e<4155){if(4153<=e&&e<=4154)return c.CLUSTER_BREAK.EXTEND}else if(4155<=e&&e<=4156)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<4184){if(e<4182){if(4157<=e&&e<=4158)return c.CLUSTER_BREAK.EXTEND}else if(4182<=e&&e<=4183)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<4190){if(4184<=e&&e<=4185)return c.CLUSTER_BREAK.EXTEND}else if(e<4209){if(4190<=e&&e<=4192)return c.CLUSTER_BREAK.EXTEND}else if(4209<=e&&e<=4212)return c.CLUSTER_BREAK.EXTEND}else if(e<4352){if(e<4229){if(e===4226)return c.CLUSTER_BREAK.EXTEND;if(e===4228)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<4237){if(4229<=e&&e<=4230)return c.CLUSTER_BREAK.EXTEND}else if(e===4237||e===4253)return c.CLUSTER_BREAK.EXTEND}else if(e<4957){if(e<4448){if(4352<=e&&e<=4447)return c.CLUSTER_BREAK.L}else if(e<4520){if(4448<=e&&e<=4519)return c.CLUSTER_BREAK.V}else if(4520<=e&&e<=4607)return c.CLUSTER_BREAK.T}else if(e<5906){if(4957<=e&&e<=4959)return c.CLUSTER_BREAK.EXTEND}else if(e<5909){if(5906<=e&&e<=5908)return c.CLUSTER_BREAK.EXTEND}else if(e===5909)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6089){if(e<6070){if(e<5970){if(e<5940){if(5938<=e&&e<=5939)return c.CLUSTER_BREAK.EXTEND}else if(e===5940)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6002){if(5970<=e&&e<=5971)return c.CLUSTER_BREAK.EXTEND}else if(e<6068){if(6002<=e&&e<=6003)return c.CLUSTER_BREAK.EXTEND}else if(6068<=e&&e<=6069)return c.CLUSTER_BREAK.EXTEND}else if(e<6078){if(e<6071){if(e===6070)return c.CLUSTER_BREAK.SPACINGMARK}else if(6071<=e&&e<=6077)return c.CLUSTER_BREAK.EXTEND}else if(e<6086){if(6078<=e&&e<=6085)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6087){if(e===6086)return c.CLUSTER_BREAK.EXTEND}else if(6087<=e&&e<=6088)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6277)if(e<6155){if(e<6109){if(6089<=e&&e<=6099)return c.CLUSTER_BREAK.EXTEND}else if(e===6109)return c.CLUSTER_BREAK.EXTEND}else if(e<6158){if(6155<=e&&e<=6157)return c.CLUSTER_BREAK.EXTEND}else{if(e===6158)return c.CLUSTER_BREAK.CONTROL;if(e===6159)return c.CLUSTER_BREAK.EXTEND}else if(e<6435){if(e<6313){if(6277<=e&&e<=6278)return c.CLUSTER_BREAK.EXTEND}else if(e<6432){if(e===6313)return c.CLUSTER_BREAK.EXTEND}else if(6432<=e&&e<=6434)return c.CLUSTER_BREAK.EXTEND}else if(e<6439){if(6435<=e&&e<=6438)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6441){if(6439<=e&&e<=6440)return c.CLUSTER_BREAK.EXTEND}else if(6441<=e&&e<=6443)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6971){if(e<6744)if(e<6681){if(e<6451){if(e<6450){if(6448<=e&&e<=6449)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===6450)return c.CLUSTER_BREAK.EXTEND}else if(e<6457){if(6451<=e&&e<=6456)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6679){if(6457<=e&&e<=6459)return c.CLUSTER_BREAK.EXTEND}else if(6679<=e&&e<=6680)return c.CLUSTER_BREAK.EXTEND}else if(e<6741){if(e<6683){if(6681<=e&&e<=6682)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===6683)return c.CLUSTER_BREAK.EXTEND}else if(e<6742){if(e===6741)return c.CLUSTER_BREAK.SPACINGMARK}else{if(e===6742)return c.CLUSTER_BREAK.EXTEND;if(e===6743)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6771){if(e<6754){if(e<6752){if(6744<=e&&e<=6750)return c.CLUSTER_BREAK.EXTEND}else if(e===6752)return c.CLUSTER_BREAK.EXTEND}else if(e<6757){if(e===6754)return c.CLUSTER_BREAK.EXTEND}else if(e<6765){if(6757<=e&&e<=6764)return c.CLUSTER_BREAK.EXTEND}else if(6765<=e&&e<=6770)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6912){if(e<6783){if(6771<=e&&e<=6780)return c.CLUSTER_BREAK.EXTEND}else if(e<6832){if(e===6783)return c.CLUSTER_BREAK.EXTEND}else if(6832<=e&&e<=6862)return c.CLUSTER_BREAK.EXTEND}else if(e<6916){if(6912<=e&&e<=6915)return c.CLUSTER_BREAK.EXTEND}else if(e<6964){if(e===6916)return c.CLUSTER_BREAK.SPACINGMARK}else if(6964<=e&&e<=6970)return c.CLUSTER_BREAK.EXTEND}else if(e<7080){if(e<7019){if(e<6973){if(e===6971)return c.CLUSTER_BREAK.SPACINGMARK;if(e===6972)return c.CLUSTER_BREAK.EXTEND}else if(e<6978){if(6973<=e&&e<=6977)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<6979){if(e===6978)return c.CLUSTER_BREAK.EXTEND}else if(6979<=e&&e<=6980)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7073){if(e<7040){if(7019<=e&&e<=7027)return c.CLUSTER_BREAK.EXTEND}else if(e<7042){if(7040<=e&&e<=7041)return c.CLUSTER_BREAK.EXTEND}else if(e===7042)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7074){if(e===7073)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7078){if(7074<=e&&e<=7077)return c.CLUSTER_BREAK.EXTEND}else if(7078<=e&&e<=7079)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7144)if(e<7083){if(e<7082){if(7080<=e&&e<=7081)return c.CLUSTER_BREAK.EXTEND}else if(e===7082)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7142){if(7083<=e&&e<=7085)return c.CLUSTER_BREAK.EXTEND}else{if(e===7142)return c.CLUSTER_BREAK.EXTEND;if(e===7143)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7150){if(e<7146){if(7144<=e&&e<=7145)return c.CLUSTER_BREAK.EXTEND}else if(e<7149){if(7146<=e&&e<=7148)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===7149)return c.CLUSTER_BREAK.EXTEND}else if(e<7151){if(e===7150)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7154){if(7151<=e&&e<=7153)return c.CLUSTER_BREAK.EXTEND}else if(7154<=e&&e<=7155)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43346){if(e<11647){if(e<7415){if(e<7380){if(e<7220){if(e<7212){if(7204<=e&&e<=7211)return c.CLUSTER_BREAK.SPACINGMARK}else if(7212<=e&&e<=7219)return c.CLUSTER_BREAK.EXTEND}else if(e<7222){if(7220<=e&&e<=7221)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7376){if(7222<=e&&e<=7223)return c.CLUSTER_BREAK.EXTEND}else if(7376<=e&&e<=7378)return c.CLUSTER_BREAK.EXTEND}else if(e<7394){if(e<7393){if(7380<=e&&e<=7392)return c.CLUSTER_BREAK.EXTEND}else if(e===7393)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<7405){if(7394<=e&&e<=7400)return c.CLUSTER_BREAK.EXTEND}else if(e===7405||e===7412)return c.CLUSTER_BREAK.EXTEND}else if(e<8205)if(e<7616){if(e<7416){if(e===7415)return c.CLUSTER_BREAK.SPACINGMARK}else if(7416<=e&&e<=7417)return c.CLUSTER_BREAK.EXTEND}else if(e<8203){if(7616<=e&&e<=7679)return c.CLUSTER_BREAK.EXTEND}else{if(e===8203)return c.CLUSTER_BREAK.CONTROL;if(e===8204)return c.CLUSTER_BREAK.EXTEND}else if(e<8288){if(e<8206){if(e===8205)return c.CLUSTER_BREAK.ZWJ}else if(e<8232){if(8206<=e&&e<=8207)return c.CLUSTER_BREAK.CONTROL}else if(8232<=e&&e<=8238)return c.CLUSTER_BREAK.CONTROL}else if(e<8400){if(8288<=e&&e<=8303)return c.CLUSTER_BREAK.CONTROL}else if(e<11503){if(8400<=e&&e<=8432)return c.CLUSTER_BREAK.EXTEND}else if(11503<=e&&e<=11505)return c.CLUSTER_BREAK.EXTEND}else if(e<43043){if(e<42612){if(e<12330){if(e<11744){if(e===11647)return c.CLUSTER_BREAK.EXTEND}else if(11744<=e&&e<=11775)return c.CLUSTER_BREAK.EXTEND}else if(e<12441){if(12330<=e&&e<=12335)return c.CLUSTER_BREAK.EXTEND}else if(e<42607){if(12441<=e&&e<=12442)return c.CLUSTER_BREAK.EXTEND}else if(42607<=e&&e<=42610)return c.CLUSTER_BREAK.EXTEND}else if(e<43010){if(e<42654){if(42612<=e&&e<=42621)return c.CLUSTER_BREAK.EXTEND}else if(e<42736){if(42654<=e&&e<=42655)return c.CLUSTER_BREAK.EXTEND}else if(42736<=e&&e<=42737)return c.CLUSTER_BREAK.EXTEND}else if(e<43014){if(e===43010)return c.CLUSTER_BREAK.EXTEND}else if(e===43014||e===43019)return c.CLUSTER_BREAK.EXTEND}else if(e<43188){if(e<43047){if(e<43045){if(43043<=e&&e<=43044)return c.CLUSTER_BREAK.SPACINGMARK}else if(43045<=e&&e<=43046)return c.CLUSTER_BREAK.EXTEND}else if(e<43052){if(e===43047)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43136){if(e===43052)return c.CLUSTER_BREAK.EXTEND}else if(43136<=e&&e<=43137)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43263){if(e<43204){if(43188<=e&&e<=43203)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43232){if(43204<=e&&e<=43205)return c.CLUSTER_BREAK.EXTEND}else if(43232<=e&&e<=43249)return c.CLUSTER_BREAK.EXTEND}else if(e<43302){if(e===43263)return c.CLUSTER_BREAK.EXTEND}else if(e<43335){if(43302<=e&&e<=43309)return c.CLUSTER_BREAK.EXTEND}else if(43335<=e&&e<=43345)return c.CLUSTER_BREAK.EXTEND}else if(e<43698){if(e<43493){if(e<43444)if(e<43392){if(e<43360){if(43346<=e&&e<=43347)return c.CLUSTER_BREAK.SPACINGMARK}else if(43360<=e&&e<=43388)return c.CLUSTER_BREAK.L}else if(e<43395){if(43392<=e&&e<=43394)return c.CLUSTER_BREAK.EXTEND}else{if(e===43395)return c.CLUSTER_BREAK.SPACINGMARK;if(e===43443)return c.CLUSTER_BREAK.EXTEND}else if(e<43450){if(e<43446){if(43444<=e&&e<=43445)return c.CLUSTER_BREAK.SPACINGMARK}else if(43446<=e&&e<=43449)return c.CLUSTER_BREAK.EXTEND}else if(e<43452){if(43450<=e&&e<=43451)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43454){if(43452<=e&&e<=43453)return c.CLUSTER_BREAK.EXTEND}else if(43454<=e&&e<=43456)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43573){if(e<43567){if(e<43561){if(e===43493)return c.CLUSTER_BREAK.EXTEND}else if(43561<=e&&e<=43566)return c.CLUSTER_BREAK.EXTEND}else if(e<43569){if(43567<=e&&e<=43568)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43571){if(43569<=e&&e<=43570)return c.CLUSTER_BREAK.EXTEND}else if(43571<=e&&e<=43572)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43597){if(e<43587){if(43573<=e&&e<=43574)return c.CLUSTER_BREAK.EXTEND}else if(e===43587||e===43596)return c.CLUSTER_BREAK.EXTEND}else if(e<43644){if(e===43597)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===43644||e===43696)return c.CLUSTER_BREAK.EXTEND}else if(e<44006){if(e<43756)if(e<43710){if(e<43703){if(43698<=e&&e<=43700)return c.CLUSTER_BREAK.EXTEND}else if(43703<=e&&e<=43704)return c.CLUSTER_BREAK.EXTEND}else if(e<43713){if(43710<=e&&e<=43711)return c.CLUSTER_BREAK.EXTEND}else{if(e===43713)return c.CLUSTER_BREAK.EXTEND;if(e===43755)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<43766){if(e<43758){if(43756<=e&&e<=43757)return c.CLUSTER_BREAK.EXTEND}else if(e<43765){if(43758<=e&&e<=43759)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===43765)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<44003){if(e===43766)return c.CLUSTER_BREAK.EXTEND}else if(e<44005){if(44003<=e&&e<=44004)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===44005)return c.CLUSTER_BREAK.EXTEND}else if(e<44032)if(e<44009){if(e<44008){if(44006<=e&&e<=44007)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===44008)return c.CLUSTER_BREAK.EXTEND}else if(e<44012){if(44009<=e&&e<=44010)return c.CLUSTER_BREAK.SPACINGMARK}else{if(e===44012)return c.CLUSTER_BREAK.SPACINGMARK;if(e===44013)return c.CLUSTER_BREAK.EXTEND}else if(e<44061){if(e<44033){if(e===44032)return c.CLUSTER_BREAK.LV}else if(e<44060){if(44033<=e&&e<=44059)return c.CLUSTER_BREAK.LVT}else if(e===44060)return c.CLUSTER_BREAK.LV}else if(e<44088){if(44061<=e&&e<=44087)return c.CLUSTER_BREAK.LVT}else if(e<44089){if(e===44088)return c.CLUSTER_BREAK.LV}else if(44089<=e&&e<=44115)return c.CLUSTER_BREAK.LVT}else if(e<46497){if(e<45293){if(e<44704){if(e<44397){if(e<44256){if(e<44173){if(e<44144){if(e<44117){if(e===44116)return c.CLUSTER_BREAK.LV}else if(44117<=e&&e<=44143)return c.CLUSTER_BREAK.LVT}else if(e<44145){if(e===44144)return c.CLUSTER_BREAK.LV}else if(e<44172){if(44145<=e&&e<=44171)return c.CLUSTER_BREAK.LVT}else if(e===44172)return c.CLUSTER_BREAK.LV}else if(e<44201){if(e<44200){if(44173<=e&&e<=44199)return c.CLUSTER_BREAK.LVT}else if(e===44200)return c.CLUSTER_BREAK.LV}else if(e<44228){if(44201<=e&&e<=44227)return c.CLUSTER_BREAK.LVT}else if(e<44229){if(e===44228)return c.CLUSTER_BREAK.LV}else if(44229<=e&&e<=44255)return c.CLUSTER_BREAK.LVT}else if(e<44313){if(e<44284){if(e<44257){if(e===44256)return c.CLUSTER_BREAK.LV}else if(44257<=e&&e<=44283)return c.CLUSTER_BREAK.LVT}else if(e<44285){if(e===44284)return c.CLUSTER_BREAK.LV}else if(e<44312){if(44285<=e&&e<=44311)return c.CLUSTER_BREAK.LVT}else if(e===44312)return c.CLUSTER_BREAK.LV}else if(e<44368){if(e<44340){if(44313<=e&&e<=44339)return c.CLUSTER_BREAK.LVT}else if(e<44341){if(e===44340)return c.CLUSTER_BREAK.LV}else if(44341<=e&&e<=44367)return c.CLUSTER_BREAK.LVT}else if(e<44369){if(e===44368)return c.CLUSTER_BREAK.LV}else if(e<44396){if(44369<=e&&e<=44395)return c.CLUSTER_BREAK.LVT}else if(e===44396)return c.CLUSTER_BREAK.LV}else if(e<44537){if(e<44480){if(e<44425){if(e<44424){if(44397<=e&&e<=44423)return c.CLUSTER_BREAK.LVT}else if(e===44424)return c.CLUSTER_BREAK.LV}else if(e<44452){if(44425<=e&&e<=44451)return c.CLUSTER_BREAK.LVT}else if(e<44453){if(e===44452)return c.CLUSTER_BREAK.LV}else if(44453<=e&&e<=44479)return c.CLUSTER_BREAK.LVT}else if(e<44508){if(e<44481){if(e===44480)return c.CLUSTER_BREAK.LV}else if(44481<=e&&e<=44507)return c.CLUSTER_BREAK.LVT}else if(e<44509){if(e===44508)return c.CLUSTER_BREAK.LV}else if(e<44536){if(44509<=e&&e<=44535)return c.CLUSTER_BREAK.LVT}else if(e===44536)return c.CLUSTER_BREAK.LV}else if(e<44620){if(e<44565){if(e<44564){if(44537<=e&&e<=44563)return c.CLUSTER_BREAK.LVT}else if(e===44564)return c.CLUSTER_BREAK.LV}else if(e<44592){if(44565<=e&&e<=44591)return c.CLUSTER_BREAK.LVT}else if(e<44593){if(e===44592)return c.CLUSTER_BREAK.LV}else if(44593<=e&&e<=44619)return c.CLUSTER_BREAK.LVT}else if(e<44649){if(e<44621){if(e===44620)return c.CLUSTER_BREAK.LV}else if(e<44648){if(44621<=e&&e<=44647)return c.CLUSTER_BREAK.LVT}else if(e===44648)return c.CLUSTER_BREAK.LV}else if(e<44676){if(44649<=e&&e<=44675)return c.CLUSTER_BREAK.LVT}else if(e<44677){if(e===44676)return c.CLUSTER_BREAK.LV}else if(44677<=e&&e<=44703)return c.CLUSTER_BREAK.LVT}else if(e<44985){if(e<44844){if(e<44761){if(e<44732){if(e<44705){if(e===44704)return c.CLUSTER_BREAK.LV}else if(44705<=e&&e<=44731)return c.CLUSTER_BREAK.LVT}else if(e<44733){if(e===44732)return c.CLUSTER_BREAK.LV}else if(e<44760){if(44733<=e&&e<=44759)return c.CLUSTER_BREAK.LVT}else if(e===44760)return c.CLUSTER_BREAK.LV}else if(e<44789){if(e<44788){if(44761<=e&&e<=44787)return c.CLUSTER_BREAK.LVT}else if(e===44788)return c.CLUSTER_BREAK.LV}else if(e<44816){if(44789<=e&&e<=44815)return c.CLUSTER_BREAK.LVT}else if(e<44817){if(e===44816)return c.CLUSTER_BREAK.LV}else if(44817<=e&&e<=44843)return c.CLUSTER_BREAK.LVT}else if(e<44901){if(e<44872){if(e<44845){if(e===44844)return c.CLUSTER_BREAK.LV}else if(44845<=e&&e<=44871)return c.CLUSTER_BREAK.LVT}else if(e<44873){if(e===44872)return c.CLUSTER_BREAK.LV}else if(e<44900){if(44873<=e&&e<=44899)return c.CLUSTER_BREAK.LVT}else if(e===44900)return c.CLUSTER_BREAK.LV}else if(e<44956){if(e<44928){if(44901<=e&&e<=44927)return c.CLUSTER_BREAK.LVT}else if(e<44929){if(e===44928)return c.CLUSTER_BREAK.LV}else if(44929<=e&&e<=44955)return c.CLUSTER_BREAK.LVT}else if(e<44957){if(e===44956)return c.CLUSTER_BREAK.LV}else if(e<44984){if(44957<=e&&e<=44983)return c.CLUSTER_BREAK.LVT}else if(e===44984)return c.CLUSTER_BREAK.LV}else if(e<45152){if(e<45068){if(e<45013){if(e<45012){if(44985<=e&&e<=45011)return c.CLUSTER_BREAK.LVT}else if(e===45012)return c.CLUSTER_BREAK.LV}else if(e<45040){if(45013<=e&&e<=45039)return c.CLUSTER_BREAK.LVT}else if(e<45041){if(e===45040)return c.CLUSTER_BREAK.LV}else if(45041<=e&&e<=45067)return c.CLUSTER_BREAK.LVT}else if(e<45097){if(e<45069){if(e===45068)return c.CLUSTER_BREAK.LV}else if(e<45096){if(45069<=e&&e<=45095)return c.CLUSTER_BREAK.LVT}else if(e===45096)return c.CLUSTER_BREAK.LV}else if(e<45124){if(45097<=e&&e<=45123)return c.CLUSTER_BREAK.LVT}else if(e<45125){if(e===45124)return c.CLUSTER_BREAK.LV}else if(45125<=e&&e<=45151)return c.CLUSTER_BREAK.LVT}else if(e<45209){if(e<45180){if(e<45153){if(e===45152)return c.CLUSTER_BREAK.LV}else if(45153<=e&&e<=45179)return c.CLUSTER_BREAK.LVT}else if(e<45181){if(e===45180)return c.CLUSTER_BREAK.LV}else if(e<45208){if(45181<=e&&e<=45207)return c.CLUSTER_BREAK.LVT}else if(e===45208)return c.CLUSTER_BREAK.LV}else if(e<45264){if(e<45236){if(45209<=e&&e<=45235)return c.CLUSTER_BREAK.LVT}else if(e<45237){if(e===45236)return c.CLUSTER_BREAK.LV}else if(45237<=e&&e<=45263)return c.CLUSTER_BREAK.LVT}else if(e<45265){if(e===45264)return c.CLUSTER_BREAK.LV}else if(e<45292){if(45265<=e&&e<=45291)return c.CLUSTER_BREAK.LVT}else if(e===45292)return c.CLUSTER_BREAK.LV}else if(e<45908){if(e<45600){if(e<45433){if(e<45376){if(e<45321){if(e<45320){if(45293<=e&&e<=45319)return c.CLUSTER_BREAK.LVT}else if(e===45320)return c.CLUSTER_BREAK.LV}else if(e<45348){if(45321<=e&&e<=45347)return c.CLUSTER_BREAK.LVT}else if(e<45349){if(e===45348)return c.CLUSTER_BREAK.LV}else if(45349<=e&&e<=45375)return c.CLUSTER_BREAK.LVT}else if(e<45404){if(e<45377){if(e===45376)return c.CLUSTER_BREAK.LV}else if(45377<=e&&e<=45403)return c.CLUSTER_BREAK.LVT}else if(e<45405){if(e===45404)return c.CLUSTER_BREAK.LV}else if(e<45432){if(45405<=e&&e<=45431)return c.CLUSTER_BREAK.LVT}else if(e===45432)return c.CLUSTER_BREAK.LV}else if(e<45516){if(e<45461){if(e<45460){if(45433<=e&&e<=45459)return c.CLUSTER_BREAK.LVT}else if(e===45460)return c.CLUSTER_BREAK.LV}else if(e<45488){if(45461<=e&&e<=45487)return c.CLUSTER_BREAK.LVT}else if(e<45489){if(e===45488)return c.CLUSTER_BREAK.LV}else if(45489<=e&&e<=45515)return c.CLUSTER_BREAK.LVT}else if(e<45545){if(e<45517){if(e===45516)return c.CLUSTER_BREAK.LV}else if(e<45544){if(45517<=e&&e<=45543)return c.CLUSTER_BREAK.LVT}else if(e===45544)return c.CLUSTER_BREAK.LV}else if(e<45572){if(45545<=e&&e<=45571)return c.CLUSTER_BREAK.LVT}else if(e<45573){if(e===45572)return c.CLUSTER_BREAK.LV}else if(45573<=e&&e<=45599)return c.CLUSTER_BREAK.LVT}else if(e<45741){if(e<45657){if(e<45628){if(e<45601){if(e===45600)return c.CLUSTER_BREAK.LV}else if(45601<=e&&e<=45627)return c.CLUSTER_BREAK.LVT}else if(e<45629){if(e===45628)return c.CLUSTER_BREAK.LV}else if(e<45656){if(45629<=e&&e<=45655)return c.CLUSTER_BREAK.LVT}else if(e===45656)return c.CLUSTER_BREAK.LV}else if(e<45712){if(e<45684){if(45657<=e&&e<=45683)return c.CLUSTER_BREAK.LVT}else if(e<45685){if(e===45684)return c.CLUSTER_BREAK.LV}else if(45685<=e&&e<=45711)return c.CLUSTER_BREAK.LVT}else if(e<45713){if(e===45712)return c.CLUSTER_BREAK.LV}else if(e<45740){if(45713<=e&&e<=45739)return c.CLUSTER_BREAK.LVT}else if(e===45740)return c.CLUSTER_BREAK.LV}else if(e<45824){if(e<45769){if(e<45768){if(45741<=e&&e<=45767)return c.CLUSTER_BREAK.LVT}else if(e===45768)return c.CLUSTER_BREAK.LV}else if(e<45796){if(45769<=e&&e<=45795)return c.CLUSTER_BREAK.LVT}else if(e<45797){if(e===45796)return c.CLUSTER_BREAK.LV}else if(45797<=e&&e<=45823)return c.CLUSTER_BREAK.LVT}else if(e<45853){if(e<45825){if(e===45824)return c.CLUSTER_BREAK.LV}else if(e<45852){if(45825<=e&&e<=45851)return c.CLUSTER_BREAK.LVT}else if(e===45852)return c.CLUSTER_BREAK.LV}else if(e<45880){if(45853<=e&&e<=45879)return c.CLUSTER_BREAK.LVT}else if(e<45881){if(e===45880)return c.CLUSTER_BREAK.LV}else if(45881<=e&&e<=45907)return c.CLUSTER_BREAK.LVT}else if(e<46189){if(e<46048){if(e<45965){if(e<45936){if(e<45909){if(e===45908)return c.CLUSTER_BREAK.LV}else if(45909<=e&&e<=45935)return c.CLUSTER_BREAK.LVT}else if(e<45937){if(e===45936)return c.CLUSTER_BREAK.LV}else if(e<45964){if(45937<=e&&e<=45963)return c.CLUSTER_BREAK.LVT}else if(e===45964)return c.CLUSTER_BREAK.LV}else if(e<45993){if(e<45992){if(45965<=e&&e<=45991)return c.CLUSTER_BREAK.LVT}else if(e===45992)return c.CLUSTER_BREAK.LV}else if(e<46020){if(45993<=e&&e<=46019)return c.CLUSTER_BREAK.LVT}else if(e<46021){if(e===46020)return c.CLUSTER_BREAK.LV}else if(46021<=e&&e<=46047)return c.CLUSTER_BREAK.LVT}else if(e<46105){if(e<46076){if(e<46049){if(e===46048)return c.CLUSTER_BREAK.LV}else if(46049<=e&&e<=46075)return c.CLUSTER_BREAK.LVT}else if(e<46077){if(e===46076)return c.CLUSTER_BREAK.LV}else if(e<46104){if(46077<=e&&e<=46103)return c.CLUSTER_BREAK.LVT}else if(e===46104)return c.CLUSTER_BREAK.LV}else if(e<46160){if(e<46132){if(46105<=e&&e<=46131)return c.CLUSTER_BREAK.LVT}else if(e<46133){if(e===46132)return c.CLUSTER_BREAK.LV}else if(46133<=e&&e<=46159)return c.CLUSTER_BREAK.LVT}else if(e<46161){if(e===46160)return c.CLUSTER_BREAK.LV}else if(e<46188){if(46161<=e&&e<=46187)return c.CLUSTER_BREAK.LVT}else if(e===46188)return c.CLUSTER_BREAK.LV}else if(e<46356){if(e<46272){if(e<46217){if(e<46216){if(46189<=e&&e<=46215)return c.CLUSTER_BREAK.LVT}else if(e===46216)return c.CLUSTER_BREAK.LV}else if(e<46244){if(46217<=e&&e<=46243)return c.CLUSTER_BREAK.LVT}else if(e<46245){if(e===46244)return c.CLUSTER_BREAK.LV}else if(46245<=e&&e<=46271)return c.CLUSTER_BREAK.LVT}else if(e<46301){if(e<46273){if(e===46272)return c.CLUSTER_BREAK.LV}else if(e<46300){if(46273<=e&&e<=46299)return c.CLUSTER_BREAK.LVT}else if(e===46300)return c.CLUSTER_BREAK.LV}else if(e<46328){if(46301<=e&&e<=46327)return c.CLUSTER_BREAK.LVT}else if(e<46329){if(e===46328)return c.CLUSTER_BREAK.LV}else if(46329<=e&&e<=46355)return c.CLUSTER_BREAK.LVT}else if(e<46413){if(e<46384){if(e<46357){if(e===46356)return c.CLUSTER_BREAK.LV}else if(46357<=e&&e<=46383)return c.CLUSTER_BREAK.LVT}else if(e<46385){if(e===46384)return c.CLUSTER_BREAK.LV}else if(e<46412){if(46385<=e&&e<=46411)return c.CLUSTER_BREAK.LVT}else if(e===46412)return c.CLUSTER_BREAK.LV}else if(e<46468){if(e<46440){if(46413<=e&&e<=46439)return c.CLUSTER_BREAK.LVT}else if(e<46441){if(e===46440)return c.CLUSTER_BREAK.LV}else if(46441<=e&&e<=46467)return c.CLUSTER_BREAK.LVT}else if(e<46469){if(e===46468)return c.CLUSTER_BREAK.LV}else if(e<46496){if(46469<=e&&e<=46495)return c.CLUSTER_BREAK.LVT}else if(e===46496)return c.CLUSTER_BREAK.LV}else if(e<47701){if(e<47112){if(e<46804){if(e<46637){if(e<46580){if(e<46525){if(e<46524){if(46497<=e&&e<=46523)return c.CLUSTER_BREAK.LVT}else if(e===46524)return c.CLUSTER_BREAK.LV}else if(e<46552){if(46525<=e&&e<=46551)return c.CLUSTER_BREAK.LVT}else if(e<46553){if(e===46552)return c.CLUSTER_BREAK.LV}else if(46553<=e&&e<=46579)return c.CLUSTER_BREAK.LVT}else if(e<46608){if(e<46581){if(e===46580)return c.CLUSTER_BREAK.LV}else if(46581<=e&&e<=46607)return c.CLUSTER_BREAK.LVT}else if(e<46609){if(e===46608)return c.CLUSTER_BREAK.LV}else if(e<46636){if(46609<=e&&e<=46635)return c.CLUSTER_BREAK.LVT}else if(e===46636)return c.CLUSTER_BREAK.LV}else if(e<46720){if(e<46665){if(e<46664){if(46637<=e&&e<=46663)return c.CLUSTER_BREAK.LVT}else if(e===46664)return c.CLUSTER_BREAK.LV}else if(e<46692){if(46665<=e&&e<=46691)return c.CLUSTER_BREAK.LVT}else if(e<46693){if(e===46692)return c.CLUSTER_BREAK.LV}else if(46693<=e&&e<=46719)return c.CLUSTER_BREAK.LVT}else if(e<46749){if(e<46721){if(e===46720)return c.CLUSTER_BREAK.LV}else if(e<46748){if(46721<=e&&e<=46747)return c.CLUSTER_BREAK.LVT}else if(e===46748)return c.CLUSTER_BREAK.LV}else if(e<46776){if(46749<=e&&e<=46775)return c.CLUSTER_BREAK.LVT}else if(e<46777){if(e===46776)return c.CLUSTER_BREAK.LV}else if(46777<=e&&e<=46803)return c.CLUSTER_BREAK.LVT}else if(e<46945){if(e<46861){if(e<46832){if(e<46805){if(e===46804)return c.CLUSTER_BREAK.LV}else if(46805<=e&&e<=46831)return c.CLUSTER_BREAK.LVT}else if(e<46833){if(e===46832)return c.CLUSTER_BREAK.LV}else if(e<46860){if(46833<=e&&e<=46859)return c.CLUSTER_BREAK.LVT}else if(e===46860)return c.CLUSTER_BREAK.LV}else if(e<46916){if(e<46888){if(46861<=e&&e<=46887)return c.CLUSTER_BREAK.LVT}else if(e<46889){if(e===46888)return c.CLUSTER_BREAK.LV}else if(46889<=e&&e<=46915)return c.CLUSTER_BREAK.LVT}else if(e<46917){if(e===46916)return c.CLUSTER_BREAK.LV}else if(e<46944){if(46917<=e&&e<=46943)return c.CLUSTER_BREAK.LVT}else if(e===46944)return c.CLUSTER_BREAK.LV}else if(e<47028){if(e<46973){if(e<46972){if(46945<=e&&e<=46971)return c.CLUSTER_BREAK.LVT}else if(e===46972)return c.CLUSTER_BREAK.LV}else if(e<47e3){if(46973<=e&&e<=46999)return c.CLUSTER_BREAK.LVT}else if(e<47001){if(e===47e3)return c.CLUSTER_BREAK.LV}else if(47001<=e&&e<=47027)return c.CLUSTER_BREAK.LVT}else if(e<47057){if(e<47029){if(e===47028)return c.CLUSTER_BREAK.LV}else if(e<47056){if(47029<=e&&e<=47055)return c.CLUSTER_BREAK.LVT}else if(e===47056)return c.CLUSTER_BREAK.LV}else if(e<47084){if(47057<=e&&e<=47083)return c.CLUSTER_BREAK.LVT}else if(e<47085){if(e===47084)return c.CLUSTER_BREAK.LV}else if(47085<=e&&e<=47111)return c.CLUSTER_BREAK.LVT}else if(e<47393){if(e<47252){if(e<47169){if(e<47140){if(e<47113){if(e===47112)return c.CLUSTER_BREAK.LV}else if(47113<=e&&e<=47139)return c.CLUSTER_BREAK.LVT}else if(e<47141){if(e===47140)return c.CLUSTER_BREAK.LV}else if(e<47168){if(47141<=e&&e<=47167)return c.CLUSTER_BREAK.LVT}else if(e===47168)return c.CLUSTER_BREAK.LV}else if(e<47197){if(e<47196){if(47169<=e&&e<=47195)return c.CLUSTER_BREAK.LVT}else if(e===47196)return c.CLUSTER_BREAK.LV}else if(e<47224){if(47197<=e&&e<=47223)return c.CLUSTER_BREAK.LVT}else if(e<47225){if(e===47224)return c.CLUSTER_BREAK.LV}else if(47225<=e&&e<=47251)return c.CLUSTER_BREAK.LVT}else if(e<47309){if(e<47280){if(e<47253){if(e===47252)return c.CLUSTER_BREAK.LV}else if(47253<=e&&e<=47279)return c.CLUSTER_BREAK.LVT}else if(e<47281){if(e===47280)return c.CLUSTER_BREAK.LV}else if(e<47308){if(47281<=e&&e<=47307)return c.CLUSTER_BREAK.LVT}else if(e===47308)return c.CLUSTER_BREAK.LV}else if(e<47364){if(e<47336){if(47309<=e&&e<=47335)return c.CLUSTER_BREAK.LVT}else if(e<47337){if(e===47336)return c.CLUSTER_BREAK.LV}else if(47337<=e&&e<=47363)return c.CLUSTER_BREAK.LVT}else if(e<47365){if(e===47364)return c.CLUSTER_BREAK.LV}else if(e<47392){if(47365<=e&&e<=47391)return c.CLUSTER_BREAK.LVT}else if(e===47392)return c.CLUSTER_BREAK.LV}else if(e<47560){if(e<47476){if(e<47421){if(e<47420){if(47393<=e&&e<=47419)return c.CLUSTER_BREAK.LVT}else if(e===47420)return c.CLUSTER_BREAK.LV}else if(e<47448){if(47421<=e&&e<=47447)return c.CLUSTER_BREAK.LVT}else if(e<47449){if(e===47448)return c.CLUSTER_BREAK.LV}else if(47449<=e&&e<=47475)return c.CLUSTER_BREAK.LVT}else if(e<47505){if(e<47477){if(e===47476)return c.CLUSTER_BREAK.LV}else if(e<47504){if(47477<=e&&e<=47503)return c.CLUSTER_BREAK.LVT}else if(e===47504)return c.CLUSTER_BREAK.LV}else if(e<47532){if(47505<=e&&e<=47531)return c.CLUSTER_BREAK.LVT}else if(e<47533){if(e===47532)return c.CLUSTER_BREAK.LV}else if(47533<=e&&e<=47559)return c.CLUSTER_BREAK.LVT}else if(e<47617){if(e<47588){if(e<47561){if(e===47560)return c.CLUSTER_BREAK.LV}else if(47561<=e&&e<=47587)return c.CLUSTER_BREAK.LVT}else if(e<47589){if(e===47588)return c.CLUSTER_BREAK.LV}else if(e<47616){if(47589<=e&&e<=47615)return c.CLUSTER_BREAK.LVT}else if(e===47616)return c.CLUSTER_BREAK.LV}else if(e<47672){if(e<47644){if(47617<=e&&e<=47643)return c.CLUSTER_BREAK.LVT}else if(e<47645){if(e===47644)return c.CLUSTER_BREAK.LV}else if(47645<=e&&e<=47671)return c.CLUSTER_BREAK.LVT}else if(e<47673){if(e===47672)return c.CLUSTER_BREAK.LV}else if(e<47700){if(47673<=e&&e<=47699)return c.CLUSTER_BREAK.LVT}else if(e===47700)return c.CLUSTER_BREAK.LV}else if(e<48316){if(e<48008){if(e<47841){if(e<47784){if(e<47729){if(e<47728){if(47701<=e&&e<=47727)return c.CLUSTER_BREAK.LVT}else if(e===47728)return c.CLUSTER_BREAK.LV}else if(e<47756){if(47729<=e&&e<=47755)return c.CLUSTER_BREAK.LVT}else if(e<47757){if(e===47756)return c.CLUSTER_BREAK.LV}else if(47757<=e&&e<=47783)return c.CLUSTER_BREAK.LVT}else if(e<47812){if(e<47785){if(e===47784)return c.CLUSTER_BREAK.LV}else if(47785<=e&&e<=47811)return c.CLUSTER_BREAK.LVT}else if(e<47813){if(e===47812)return c.CLUSTER_BREAK.LV}else if(e<47840){if(47813<=e&&e<=47839)return c.CLUSTER_BREAK.LVT}else if(e===47840)return c.CLUSTER_BREAK.LV}else if(e<47924){if(e<47869){if(e<47868){if(47841<=e&&e<=47867)return c.CLUSTER_BREAK.LVT}else if(e===47868)return c.CLUSTER_BREAK.LV}else if(e<47896){if(47869<=e&&e<=47895)return c.CLUSTER_BREAK.LVT}else if(e<47897){if(e===47896)return c.CLUSTER_BREAK.LV}else if(47897<=e&&e<=47923)return c.CLUSTER_BREAK.LVT}else if(e<47953){if(e<47925){if(e===47924)return c.CLUSTER_BREAK.LV}else if(e<47952){if(47925<=e&&e<=47951)return c.CLUSTER_BREAK.LVT}else if(e===47952)return c.CLUSTER_BREAK.LV}else if(e<47980){if(47953<=e&&e<=47979)return c.CLUSTER_BREAK.LVT}else if(e<47981){if(e===47980)return c.CLUSTER_BREAK.LV}else if(47981<=e&&e<=48007)return c.CLUSTER_BREAK.LVT}else if(e<48149){if(e<48065){if(e<48036){if(e<48009){if(e===48008)return c.CLUSTER_BREAK.LV}else if(48009<=e&&e<=48035)return c.CLUSTER_BREAK.LVT}else if(e<48037){if(e===48036)return c.CLUSTER_BREAK.LV}else if(e<48064){if(48037<=e&&e<=48063)return c.CLUSTER_BREAK.LVT}else if(e===48064)return c.CLUSTER_BREAK.LV}else if(e<48120){if(e<48092){if(48065<=e&&e<=48091)return c.CLUSTER_BREAK.LVT}else if(e<48093){if(e===48092)return c.CLUSTER_BREAK.LV}else if(48093<=e&&e<=48119)return c.CLUSTER_BREAK.LVT}else if(e<48121){if(e===48120)return c.CLUSTER_BREAK.LV}else if(e<48148){if(48121<=e&&e<=48147)return c.CLUSTER_BREAK.LVT}else if(e===48148)return c.CLUSTER_BREAK.LV}else if(e<48232){if(e<48177){if(e<48176){if(48149<=e&&e<=48175)return c.CLUSTER_BREAK.LVT}else if(e===48176)return c.CLUSTER_BREAK.LV}else if(e<48204){if(48177<=e&&e<=48203)return c.CLUSTER_BREAK.LVT}else if(e<48205){if(e===48204)return c.CLUSTER_BREAK.LV}else if(48205<=e&&e<=48231)return c.CLUSTER_BREAK.LVT}else if(e<48261){if(e<48233){if(e===48232)return c.CLUSTER_BREAK.LV}else if(e<48260){if(48233<=e&&e<=48259)return c.CLUSTER_BREAK.LVT}else if(e===48260)return c.CLUSTER_BREAK.LV}else if(e<48288){if(48261<=e&&e<=48287)return c.CLUSTER_BREAK.LVT}else if(e<48289){if(e===48288)return c.CLUSTER_BREAK.LV}else if(48289<=e&&e<=48315)return c.CLUSTER_BREAK.LVT}else if(e<48597){if(e<48456){if(e<48373){if(e<48344){if(e<48317){if(e===48316)return c.CLUSTER_BREAK.LV}else if(48317<=e&&e<=48343)return c.CLUSTER_BREAK.LVT}else if(e<48345){if(e===48344)return c.CLUSTER_BREAK.LV}else if(e<48372){if(48345<=e&&e<=48371)return c.CLUSTER_BREAK.LVT}else if(e===48372)return c.CLUSTER_BREAK.LV}else if(e<48401){if(e<48400){if(48373<=e&&e<=48399)return c.CLUSTER_BREAK.LVT}else if(e===48400)return c.CLUSTER_BREAK.LV}else if(e<48428){if(48401<=e&&e<=48427)return c.CLUSTER_BREAK.LVT}else if(e<48429){if(e===48428)return c.CLUSTER_BREAK.LV}else if(48429<=e&&e<=48455)return c.CLUSTER_BREAK.LVT}else if(e<48513){if(e<48484){if(e<48457){if(e===48456)return c.CLUSTER_BREAK.LV}else if(48457<=e&&e<=48483)return c.CLUSTER_BREAK.LVT}else if(e<48485){if(e===48484)return c.CLUSTER_BREAK.LV}else if(e<48512){if(48485<=e&&e<=48511)return c.CLUSTER_BREAK.LVT}else if(e===48512)return c.CLUSTER_BREAK.LV}else if(e<48568){if(e<48540){if(48513<=e&&e<=48539)return c.CLUSTER_BREAK.LVT}else if(e<48541){if(e===48540)return c.CLUSTER_BREAK.LV}else if(48541<=e&&e<=48567)return c.CLUSTER_BREAK.LVT}else if(e<48569){if(e===48568)return c.CLUSTER_BREAK.LV}else if(e<48596){if(48569<=e&&e<=48595)return c.CLUSTER_BREAK.LVT}else if(e===48596)return c.CLUSTER_BREAK.LV}else if(e<48764){if(e<48680){if(e<48625){if(e<48624){if(48597<=e&&e<=48623)return c.CLUSTER_BREAK.LVT}else if(e===48624)return c.CLUSTER_BREAK.LV}else if(e<48652){if(48625<=e&&e<=48651)return c.CLUSTER_BREAK.LVT}else if(e<48653){if(e===48652)return c.CLUSTER_BREAK.LV}else if(48653<=e&&e<=48679)return c.CLUSTER_BREAK.LVT}else if(e<48709){if(e<48681){if(e===48680)return c.CLUSTER_BREAK.LV}else if(e<48708){if(48681<=e&&e<=48707)return c.CLUSTER_BREAK.LVT}else if(e===48708)return c.CLUSTER_BREAK.LV}else if(e<48736){if(48709<=e&&e<=48735)return c.CLUSTER_BREAK.LVT}else if(e<48737){if(e===48736)return c.CLUSTER_BREAK.LV}else if(48737<=e&&e<=48763)return c.CLUSTER_BREAK.LVT}else if(e<48821){if(e<48792){if(e<48765){if(e===48764)return c.CLUSTER_BREAK.LV}else if(48765<=e&&e<=48791)return c.CLUSTER_BREAK.LVT}else if(e<48793){if(e===48792)return c.CLUSTER_BREAK.LV}else if(e<48820){if(48793<=e&&e<=48819)return c.CLUSTER_BREAK.LVT}else if(e===48820)return c.CLUSTER_BREAK.LV}else if(e<48876){if(e<48848){if(48821<=e&&e<=48847)return c.CLUSTER_BREAK.LVT}else if(e<48849){if(e===48848)return c.CLUSTER_BREAK.LV}else if(48849<=e&&e<=48875)return c.CLUSTER_BREAK.LVT}else if(e<48877){if(e===48876)return c.CLUSTER_BREAK.LV}else if(e<48904){if(48877<=e&&e<=48903)return c.CLUSTER_BREAK.LVT}else if(e===48904)return c.CLUSTER_BREAK.LV}else if(e<53720){if(e<51312){if(e<50108){if(e<49493){if(e<49212){if(e<49045){if(e<48988){if(e<48933){if(e<48932){if(48905<=e&&e<=48931)return c.CLUSTER_BREAK.LVT}else if(e===48932)return c.CLUSTER_BREAK.LV}else if(e<48960){if(48933<=e&&e<=48959)return c.CLUSTER_BREAK.LVT}else if(e<48961){if(e===48960)return c.CLUSTER_BREAK.LV}else if(48961<=e&&e<=48987)return c.CLUSTER_BREAK.LVT}else if(e<49016){if(e<48989){if(e===48988)return c.CLUSTER_BREAK.LV}else if(48989<=e&&e<=49015)return c.CLUSTER_BREAK.LVT}else if(e<49017){if(e===49016)return c.CLUSTER_BREAK.LV}else if(e<49044){if(49017<=e&&e<=49043)return c.CLUSTER_BREAK.LVT}else if(e===49044)return c.CLUSTER_BREAK.LV}else if(e<49128){if(e<49073){if(e<49072){if(49045<=e&&e<=49071)return c.CLUSTER_BREAK.LVT}else if(e===49072)return c.CLUSTER_BREAK.LV}else if(e<49100){if(49073<=e&&e<=49099)return c.CLUSTER_BREAK.LVT}else if(e<49101){if(e===49100)return c.CLUSTER_BREAK.LV}else if(49101<=e&&e<=49127)return c.CLUSTER_BREAK.LVT}else if(e<49157){if(e<49129){if(e===49128)return c.CLUSTER_BREAK.LV}else if(e<49156){if(49129<=e&&e<=49155)return c.CLUSTER_BREAK.LVT}else if(e===49156)return c.CLUSTER_BREAK.LV}else if(e<49184){if(49157<=e&&e<=49183)return c.CLUSTER_BREAK.LVT}else if(e<49185){if(e===49184)return c.CLUSTER_BREAK.LV}else if(49185<=e&&e<=49211)return c.CLUSTER_BREAK.LVT}else if(e<49352){if(e<49269){if(e<49240){if(e<49213){if(e===49212)return c.CLUSTER_BREAK.LV}else if(49213<=e&&e<=49239)return c.CLUSTER_BREAK.LVT}else if(e<49241){if(e===49240)return c.CLUSTER_BREAK.LV}else if(e<49268){if(49241<=e&&e<=49267)return c.CLUSTER_BREAK.LVT}else if(e===49268)return c.CLUSTER_BREAK.LV}else if(e<49297){if(e<49296){if(49269<=e&&e<=49295)return c.CLUSTER_BREAK.LVT}else if(e===49296)return c.CLUSTER_BREAK.LV}else if(e<49324){if(49297<=e&&e<=49323)return c.CLUSTER_BREAK.LVT}else if(e<49325){if(e===49324)return c.CLUSTER_BREAK.LV}else if(49325<=e&&e<=49351)return c.CLUSTER_BREAK.LVT}else if(e<49409){if(e<49380){if(e<49353){if(e===49352)return c.CLUSTER_BREAK.LV}else if(49353<=e&&e<=49379)return c.CLUSTER_BREAK.LVT}else if(e<49381){if(e===49380)return c.CLUSTER_BREAK.LV}else if(e<49408){if(49381<=e&&e<=49407)return c.CLUSTER_BREAK.LVT}else if(e===49408)return c.CLUSTER_BREAK.LV}else if(e<49464){if(e<49436){if(49409<=e&&e<=49435)return c.CLUSTER_BREAK.LVT}else if(e<49437){if(e===49436)return c.CLUSTER_BREAK.LV}else if(49437<=e&&e<=49463)return c.CLUSTER_BREAK.LVT}else if(e<49465){if(e===49464)return c.CLUSTER_BREAK.LV}else if(e<49492){if(49465<=e&&e<=49491)return c.CLUSTER_BREAK.LVT}else if(e===49492)return c.CLUSTER_BREAK.LV}else if(e<49800){if(e<49633){if(e<49576){if(e<49521){if(e<49520){if(49493<=e&&e<=49519)return c.CLUSTER_BREAK.LVT}else if(e===49520)return c.CLUSTER_BREAK.LV}else if(e<49548){if(49521<=e&&e<=49547)return c.CLUSTER_BREAK.LVT}else if(e<49549){if(e===49548)return c.CLUSTER_BREAK.LV}else if(49549<=e&&e<=49575)return c.CLUSTER_BREAK.LVT}else if(e<49604){if(e<49577){if(e===49576)return c.CLUSTER_BREAK.LV}else if(49577<=e&&e<=49603)return c.CLUSTER_BREAK.LVT}else if(e<49605){if(e===49604)return c.CLUSTER_BREAK.LV}else if(e<49632){if(49605<=e&&e<=49631)return c.CLUSTER_BREAK.LVT}else if(e===49632)return c.CLUSTER_BREAK.LV}else if(e<49716){if(e<49661){if(e<49660){if(49633<=e&&e<=49659)return c.CLUSTER_BREAK.LVT}else if(e===49660)return c.CLUSTER_BREAK.LV}else if(e<49688){if(49661<=e&&e<=49687)return c.CLUSTER_BREAK.LVT}else if(e<49689){if(e===49688)return c.CLUSTER_BREAK.LV}else if(49689<=e&&e<=49715)return c.CLUSTER_BREAK.LVT}else if(e<49745){if(e<49717){if(e===49716)return c.CLUSTER_BREAK.LV}else if(e<49744){if(49717<=e&&e<=49743)return c.CLUSTER_BREAK.LVT}else if(e===49744)return c.CLUSTER_BREAK.LV}else if(e<49772){if(49745<=e&&e<=49771)return c.CLUSTER_BREAK.LVT}else if(e<49773){if(e===49772)return c.CLUSTER_BREAK.LV}else if(49773<=e&&e<=49799)return c.CLUSTER_BREAK.LVT}else if(e<49941){if(e<49857){if(e<49828){if(e<49801){if(e===49800)return c.CLUSTER_BREAK.LV}else if(49801<=e&&e<=49827)return c.CLUSTER_BREAK.LVT}else if(e<49829){if(e===49828)return c.CLUSTER_BREAK.LV}else if(e<49856){if(49829<=e&&e<=49855)return c.CLUSTER_BREAK.LVT}else if(e===49856)return c.CLUSTER_BREAK.LV}else if(e<49912){if(e<49884){if(49857<=e&&e<=49883)return c.CLUSTER_BREAK.LVT}else if(e<49885){if(e===49884)return c.CLUSTER_BREAK.LV}else if(49885<=e&&e<=49911)return c.CLUSTER_BREAK.LVT}else if(e<49913){if(e===49912)return c.CLUSTER_BREAK.LV}else if(e<49940){if(49913<=e&&e<=49939)return c.CLUSTER_BREAK.LVT}else if(e===49940)return c.CLUSTER_BREAK.LV}else if(e<50024){if(e<49969){if(e<49968){if(49941<=e&&e<=49967)return c.CLUSTER_BREAK.LVT}else if(e===49968)return c.CLUSTER_BREAK.LV}else if(e<49996){if(49969<=e&&e<=49995)return c.CLUSTER_BREAK.LVT}else if(e<49997){if(e===49996)return c.CLUSTER_BREAK.LV}else if(49997<=e&&e<=50023)return c.CLUSTER_BREAK.LVT}else if(e<50053){if(e<50025){if(e===50024)return c.CLUSTER_BREAK.LV}else if(e<50052){if(50025<=e&&e<=50051)return c.CLUSTER_BREAK.LVT}else if(e===50052)return c.CLUSTER_BREAK.LV}else if(e<50080){if(50053<=e&&e<=50079)return c.CLUSTER_BREAK.LVT}else if(e<50081){if(e===50080)return c.CLUSTER_BREAK.LV}else if(50081<=e&&e<=50107)return c.CLUSTER_BREAK.LVT}else if(e<50697){if(e<50389){if(e<50248){if(e<50165){if(e<50136){if(e<50109){if(e===50108)return c.CLUSTER_BREAK.LV}else if(50109<=e&&e<=50135)return c.CLUSTER_BREAK.LVT}else if(e<50137){if(e===50136)return c.CLUSTER_BREAK.LV}else if(e<50164){if(50137<=e&&e<=50163)return c.CLUSTER_BREAK.LVT}else if(e===50164)return c.CLUSTER_BREAK.LV}else if(e<50193){if(e<50192){if(50165<=e&&e<=50191)return c.CLUSTER_BREAK.LVT}else if(e===50192)return c.CLUSTER_BREAK.LV}else if(e<50220){if(50193<=e&&e<=50219)return c.CLUSTER_BREAK.LVT}else if(e<50221){if(e===50220)return c.CLUSTER_BREAK.LV}else if(50221<=e&&e<=50247)return c.CLUSTER_BREAK.LVT}else if(e<50305){if(e<50276){if(e<50249){if(e===50248)return c.CLUSTER_BREAK.LV}else if(50249<=e&&e<=50275)return c.CLUSTER_BREAK.LVT}else if(e<50277){if(e===50276)return c.CLUSTER_BREAK.LV}else if(e<50304){if(50277<=e&&e<=50303)return c.CLUSTER_BREAK.LVT}else if(e===50304)return c.CLUSTER_BREAK.LV}else if(e<50360){if(e<50332){if(50305<=e&&e<=50331)return c.CLUSTER_BREAK.LVT}else if(e<50333){if(e===50332)return c.CLUSTER_BREAK.LV}else if(50333<=e&&e<=50359)return c.CLUSTER_BREAK.LVT}else if(e<50361){if(e===50360)return c.CLUSTER_BREAK.LV}else if(e<50388){if(50361<=e&&e<=50387)return c.CLUSTER_BREAK.LVT}else if(e===50388)return c.CLUSTER_BREAK.LV}else if(e<50556){if(e<50472){if(e<50417){if(e<50416){if(50389<=e&&e<=50415)return c.CLUSTER_BREAK.LVT}else if(e===50416)return c.CLUSTER_BREAK.LV}else if(e<50444){if(50417<=e&&e<=50443)return c.CLUSTER_BREAK.LVT}else if(e<50445){if(e===50444)return c.CLUSTER_BREAK.LV}else if(50445<=e&&e<=50471)return c.CLUSTER_BREAK.LVT}else if(e<50501){if(e<50473){if(e===50472)return c.CLUSTER_BREAK.LV}else if(e<50500){if(50473<=e&&e<=50499)return c.CLUSTER_BREAK.LVT}else if(e===50500)return c.CLUSTER_BREAK.LV}else if(e<50528){if(50501<=e&&e<=50527)return c.CLUSTER_BREAK.LVT}else if(e<50529){if(e===50528)return c.CLUSTER_BREAK.LV}else if(50529<=e&&e<=50555)return c.CLUSTER_BREAK.LVT}else if(e<50613){if(e<50584){if(e<50557){if(e===50556)return c.CLUSTER_BREAK.LV}else if(50557<=e&&e<=50583)return c.CLUSTER_BREAK.LVT}else if(e<50585){if(e===50584)return c.CLUSTER_BREAK.LV}else if(e<50612){if(50585<=e&&e<=50611)return c.CLUSTER_BREAK.LVT}else if(e===50612)return c.CLUSTER_BREAK.LV}else if(e<50668){if(e<50640){if(50613<=e&&e<=50639)return c.CLUSTER_BREAK.LVT}else if(e<50641){if(e===50640)return c.CLUSTER_BREAK.LV}else if(50641<=e&&e<=50667)return c.CLUSTER_BREAK.LVT}else if(e<50669){if(e===50668)return c.CLUSTER_BREAK.LV}else if(e<50696){if(50669<=e&&e<=50695)return c.CLUSTER_BREAK.LVT}else if(e===50696)return c.CLUSTER_BREAK.LV}else if(e<51004){if(e<50837){if(e<50780){if(e<50725){if(e<50724){if(50697<=e&&e<=50723)return c.CLUSTER_BREAK.LVT}else if(e===50724)return c.CLUSTER_BREAK.LV}else if(e<50752){if(50725<=e&&e<=50751)return c.CLUSTER_BREAK.LVT}else if(e<50753){if(e===50752)return c.CLUSTER_BREAK.LV}else if(50753<=e&&e<=50779)return c.CLUSTER_BREAK.LVT}else if(e<50808){if(e<50781){if(e===50780)return c.CLUSTER_BREAK.LV}else if(50781<=e&&e<=50807)return c.CLUSTER_BREAK.LVT}else if(e<50809){if(e===50808)return c.CLUSTER_BREAK.LV}else if(e<50836){if(50809<=e&&e<=50835)return c.CLUSTER_BREAK.LVT}else if(e===50836)return c.CLUSTER_BREAK.LV}else if(e<50920){if(e<50865){if(e<50864){if(50837<=e&&e<=50863)return c.CLUSTER_BREAK.LVT}else if(e===50864)return c.CLUSTER_BREAK.LV}else if(e<50892){if(50865<=e&&e<=50891)return c.CLUSTER_BREAK.LVT}else if(e<50893){if(e===50892)return c.CLUSTER_BREAK.LV}else if(50893<=e&&e<=50919)return c.CLUSTER_BREAK.LVT}else if(e<50949){if(e<50921){if(e===50920)return c.CLUSTER_BREAK.LV}else if(e<50948){if(50921<=e&&e<=50947)return c.CLUSTER_BREAK.LVT}else if(e===50948)return c.CLUSTER_BREAK.LV}else if(e<50976){if(50949<=e&&e<=50975)return c.CLUSTER_BREAK.LVT}else if(e<50977){if(e===50976)return c.CLUSTER_BREAK.LV}else if(50977<=e&&e<=51003)return c.CLUSTER_BREAK.LVT}else if(e<51145){if(e<51061){if(e<51032){if(e<51005){if(e===51004)return c.CLUSTER_BREAK.LV}else if(51005<=e&&e<=51031)return c.CLUSTER_BREAK.LVT}else if(e<51033){if(e===51032)return c.CLUSTER_BREAK.LV}else if(e<51060){if(51033<=e&&e<=51059)return c.CLUSTER_BREAK.LVT}else if(e===51060)return c.CLUSTER_BREAK.LV}else if(e<51116){if(e<51088){if(51061<=e&&e<=51087)return c.CLUSTER_BREAK.LVT}else if(e<51089){if(e===51088)return c.CLUSTER_BREAK.LV}else if(51089<=e&&e<=51115)return c.CLUSTER_BREAK.LVT}else if(e<51117){if(e===51116)return c.CLUSTER_BREAK.LV}else if(e<51144){if(51117<=e&&e<=51143)return c.CLUSTER_BREAK.LVT}else if(e===51144)return c.CLUSTER_BREAK.LV}else if(e<51228){if(e<51173){if(e<51172){if(51145<=e&&e<=51171)return c.CLUSTER_BREAK.LVT}else if(e===51172)return c.CLUSTER_BREAK.LV}else if(e<51200){if(51173<=e&&e<=51199)return c.CLUSTER_BREAK.LVT}else if(e<51201){if(e===51200)return c.CLUSTER_BREAK.LV}else if(51201<=e&&e<=51227)return c.CLUSTER_BREAK.LVT}else if(e<51257){if(e<51229){if(e===51228)return c.CLUSTER_BREAK.LV}else if(e<51256){if(51229<=e&&e<=51255)return c.CLUSTER_BREAK.LVT}else if(e===51256)return c.CLUSTER_BREAK.LV}else if(e<51284){if(51257<=e&&e<=51283)return c.CLUSTER_BREAK.LVT}else if(e<51285){if(e===51284)return c.CLUSTER_BREAK.LV}else if(51285<=e&&e<=51311)return c.CLUSTER_BREAK.LVT}else if(e<52516){if(e<51901){if(e<51593){if(e<51452){if(e<51369){if(e<51340){if(e<51313){if(e===51312)return c.CLUSTER_BREAK.LV}else if(51313<=e&&e<=51339)return c.CLUSTER_BREAK.LVT}else if(e<51341){if(e===51340)return c.CLUSTER_BREAK.LV}else if(e<51368){if(51341<=e&&e<=51367)return c.CLUSTER_BREAK.LVT}else if(e===51368)return c.CLUSTER_BREAK.LV}else if(e<51397){if(e<51396){if(51369<=e&&e<=51395)return c.CLUSTER_BREAK.LVT}else if(e===51396)return c.CLUSTER_BREAK.LV}else if(e<51424){if(51397<=e&&e<=51423)return c.CLUSTER_BREAK.LVT}else if(e<51425){if(e===51424)return c.CLUSTER_BREAK.LV}else if(51425<=e&&e<=51451)return c.CLUSTER_BREAK.LVT}else if(e<51509){if(e<51480){if(e<51453){if(e===51452)return c.CLUSTER_BREAK.LV}else if(51453<=e&&e<=51479)return c.CLUSTER_BREAK.LVT}else if(e<51481){if(e===51480)return c.CLUSTER_BREAK.LV}else if(e<51508){if(51481<=e&&e<=51507)return c.CLUSTER_BREAK.LVT}else if(e===51508)return c.CLUSTER_BREAK.LV}else if(e<51564){if(e<51536){if(51509<=e&&e<=51535)return c.CLUSTER_BREAK.LVT}else if(e<51537){if(e===51536)return c.CLUSTER_BREAK.LV}else if(51537<=e&&e<=51563)return c.CLUSTER_BREAK.LVT}else if(e<51565){if(e===51564)return c.CLUSTER_BREAK.LV}else if(e<51592){if(51565<=e&&e<=51591)return c.CLUSTER_BREAK.LVT}else if(e===51592)return c.CLUSTER_BREAK.LV}else if(e<51760){if(e<51676){if(e<51621){if(e<51620){if(51593<=e&&e<=51619)return c.CLUSTER_BREAK.LVT}else if(e===51620)return c.CLUSTER_BREAK.LV}else if(e<51648){if(51621<=e&&e<=51647)return c.CLUSTER_BREAK.LVT}else if(e<51649){if(e===51648)return c.CLUSTER_BREAK.LV}else if(51649<=e&&e<=51675)return c.CLUSTER_BREAK.LVT}else if(e<51705){if(e<51677){if(e===51676)return c.CLUSTER_BREAK.LV}else if(e<51704){if(51677<=e&&e<=51703)return c.CLUSTER_BREAK.LVT}else if(e===51704)return c.CLUSTER_BREAK.LV}else if(e<51732){if(51705<=e&&e<=51731)return c.CLUSTER_BREAK.LVT}else if(e<51733){if(e===51732)return c.CLUSTER_BREAK.LV}else if(51733<=e&&e<=51759)return c.CLUSTER_BREAK.LVT}else if(e<51817){if(e<51788){if(e<51761){if(e===51760)return c.CLUSTER_BREAK.LV}else if(51761<=e&&e<=51787)return c.CLUSTER_BREAK.LVT}else if(e<51789){if(e===51788)return c.CLUSTER_BREAK.LV}else if(e<51816){if(51789<=e&&e<=51815)return c.CLUSTER_BREAK.LVT}else if(e===51816)return c.CLUSTER_BREAK.LV}else if(e<51872){if(e<51844){if(51817<=e&&e<=51843)return c.CLUSTER_BREAK.LVT}else if(e<51845){if(e===51844)return c.CLUSTER_BREAK.LV}else if(51845<=e&&e<=51871)return c.CLUSTER_BREAK.LVT}else if(e<51873){if(e===51872)return c.CLUSTER_BREAK.LV}else if(e<51900){if(51873<=e&&e<=51899)return c.CLUSTER_BREAK.LVT}else if(e===51900)return c.CLUSTER_BREAK.LV}else if(e<52208){if(e<52041){if(e<51984){if(e<51929){if(e<51928){if(51901<=e&&e<=51927)return c.CLUSTER_BREAK.LVT}else if(e===51928)return c.CLUSTER_BREAK.LV}else if(e<51956){if(51929<=e&&e<=51955)return c.CLUSTER_BREAK.LVT}else if(e<51957){if(e===51956)return c.CLUSTER_BREAK.LV}else if(51957<=e&&e<=51983)return c.CLUSTER_BREAK.LVT}else if(e<52012){if(e<51985){if(e===51984)return c.CLUSTER_BREAK.LV}else if(51985<=e&&e<=52011)return c.CLUSTER_BREAK.LVT}else if(e<52013){if(e===52012)return c.CLUSTER_BREAK.LV}else if(e<52040){if(52013<=e&&e<=52039)return c.CLUSTER_BREAK.LVT}else if(e===52040)return c.CLUSTER_BREAK.LV}else if(e<52124){if(e<52069){if(e<52068){if(52041<=e&&e<=52067)return c.CLUSTER_BREAK.LVT}else if(e===52068)return c.CLUSTER_BREAK.LV}else if(e<52096){if(52069<=e&&e<=52095)return c.CLUSTER_BREAK.LVT}else if(e<52097){if(e===52096)return c.CLUSTER_BREAK.LV}else if(52097<=e&&e<=52123)return c.CLUSTER_BREAK.LVT}else if(e<52153){if(e<52125){if(e===52124)return c.CLUSTER_BREAK.LV}else if(e<52152){if(52125<=e&&e<=52151)return c.CLUSTER_BREAK.LVT}else if(e===52152)return c.CLUSTER_BREAK.LV}else if(e<52180){if(52153<=e&&e<=52179)return c.CLUSTER_BREAK.LVT}else if(e<52181){if(e===52180)return c.CLUSTER_BREAK.LV}else if(52181<=e&&e<=52207)return c.CLUSTER_BREAK.LVT}else if(e<52349){if(e<52265){if(e<52236){if(e<52209){if(e===52208)return c.CLUSTER_BREAK.LV}else if(52209<=e&&e<=52235)return c.CLUSTER_BREAK.LVT}else if(e<52237){if(e===52236)return c.CLUSTER_BREAK.LV}else if(e<52264){if(52237<=e&&e<=52263)return c.CLUSTER_BREAK.LVT}else if(e===52264)return c.CLUSTER_BREAK.LV}else if(e<52320){if(e<52292){if(52265<=e&&e<=52291)return c.CLUSTER_BREAK.LVT}else if(e<52293){if(e===52292)return c.CLUSTER_BREAK.LV}else if(52293<=e&&e<=52319)return c.CLUSTER_BREAK.LVT}else if(e<52321){if(e===52320)return c.CLUSTER_BREAK.LV}else if(e<52348){if(52321<=e&&e<=52347)return c.CLUSTER_BREAK.LVT}else if(e===52348)return c.CLUSTER_BREAK.LV}else if(e<52432){if(e<52377){if(e<52376){if(52349<=e&&e<=52375)return c.CLUSTER_BREAK.LVT}else if(e===52376)return c.CLUSTER_BREAK.LV}else if(e<52404){if(52377<=e&&e<=52403)return c.CLUSTER_BREAK.LVT}else if(e<52405){if(e===52404)return c.CLUSTER_BREAK.LV}else if(52405<=e&&e<=52431)return c.CLUSTER_BREAK.LVT}else if(e<52461){if(e<52433){if(e===52432)return c.CLUSTER_BREAK.LV}else if(e<52460){if(52433<=e&&e<=52459)return c.CLUSTER_BREAK.LVT}else if(e===52460)return c.CLUSTER_BREAK.LV}else if(e<52488){if(52461<=e&&e<=52487)return c.CLUSTER_BREAK.LVT}else if(e<52489){if(e===52488)return c.CLUSTER_BREAK.LV}else if(52489<=e&&e<=52515)return c.CLUSTER_BREAK.LVT}else if(e<53105){if(e<52797){if(e<52656){if(e<52573){if(e<52544){if(e<52517){if(e===52516)return c.CLUSTER_BREAK.LV}else if(52517<=e&&e<=52543)return c.CLUSTER_BREAK.LVT}else if(e<52545){if(e===52544)return c.CLUSTER_BREAK.LV}else if(e<52572){if(52545<=e&&e<=52571)return c.CLUSTER_BREAK.LVT}else if(e===52572)return c.CLUSTER_BREAK.LV}else if(e<52601){if(e<52600){if(52573<=e&&e<=52599)return c.CLUSTER_BREAK.LVT}else if(e===52600)return c.CLUSTER_BREAK.LV}else if(e<52628){if(52601<=e&&e<=52627)return c.CLUSTER_BREAK.LVT}else if(e<52629){if(e===52628)return c.CLUSTER_BREAK.LV}else if(52629<=e&&e<=52655)return c.CLUSTER_BREAK.LVT}else if(e<52713){if(e<52684){if(e<52657){if(e===52656)return c.CLUSTER_BREAK.LV}else if(52657<=e&&e<=52683)return c.CLUSTER_BREAK.LVT}else if(e<52685){if(e===52684)return c.CLUSTER_BREAK.LV}else if(e<52712){if(52685<=e&&e<=52711)return c.CLUSTER_BREAK.LVT}else if(e===52712)return c.CLUSTER_BREAK.LV}else if(e<52768){if(e<52740){if(52713<=e&&e<=52739)return c.CLUSTER_BREAK.LVT}else if(e<52741){if(e===52740)return c.CLUSTER_BREAK.LV}else if(52741<=e&&e<=52767)return c.CLUSTER_BREAK.LVT}else if(e<52769){if(e===52768)return c.CLUSTER_BREAK.LV}else if(e<52796){if(52769<=e&&e<=52795)return c.CLUSTER_BREAK.LVT}else if(e===52796)return c.CLUSTER_BREAK.LV}else if(e<52964){if(e<52880){if(e<52825){if(e<52824){if(52797<=e&&e<=52823)return c.CLUSTER_BREAK.LVT}else if(e===52824)return c.CLUSTER_BREAK.LV}else if(e<52852){if(52825<=e&&e<=52851)return c.CLUSTER_BREAK.LVT}else if(e<52853){if(e===52852)return c.CLUSTER_BREAK.LV}else if(52853<=e&&e<=52879)return c.CLUSTER_BREAK.LVT}else if(e<52909){if(e<52881){if(e===52880)return c.CLUSTER_BREAK.LV}else if(e<52908){if(52881<=e&&e<=52907)return c.CLUSTER_BREAK.LVT}else if(e===52908)return c.CLUSTER_BREAK.LV}else if(e<52936){if(52909<=e&&e<=52935)return c.CLUSTER_BREAK.LVT}else if(e<52937){if(e===52936)return c.CLUSTER_BREAK.LV}else if(52937<=e&&e<=52963)return c.CLUSTER_BREAK.LVT}else if(e<53021){if(e<52992){if(e<52965){if(e===52964)return c.CLUSTER_BREAK.LV}else if(52965<=e&&e<=52991)return c.CLUSTER_BREAK.LVT}else if(e<52993){if(e===52992)return c.CLUSTER_BREAK.LV}else if(e<53020){if(52993<=e&&e<=53019)return c.CLUSTER_BREAK.LVT}else if(e===53020)return c.CLUSTER_BREAK.LV}else if(e<53076){if(e<53048){if(53021<=e&&e<=53047)return c.CLUSTER_BREAK.LVT}else if(e<53049){if(e===53048)return c.CLUSTER_BREAK.LV}else if(53049<=e&&e<=53075)return c.CLUSTER_BREAK.LVT}else if(e<53077){if(e===53076)return c.CLUSTER_BREAK.LV}else if(e<53104){if(53077<=e&&e<=53103)return c.CLUSTER_BREAK.LVT}else if(e===53104)return c.CLUSTER_BREAK.LV}else if(e<53412){if(e<53245){if(e<53188){if(e<53133){if(e<53132){if(53105<=e&&e<=53131)return c.CLUSTER_BREAK.LVT}else if(e===53132)return c.CLUSTER_BREAK.LV}else if(e<53160){if(53133<=e&&e<=53159)return c.CLUSTER_BREAK.LVT}else if(e<53161){if(e===53160)return c.CLUSTER_BREAK.LV}else if(53161<=e&&e<=53187)return c.CLUSTER_BREAK.LVT}else if(e<53216){if(e<53189){if(e===53188)return c.CLUSTER_BREAK.LV}else if(53189<=e&&e<=53215)return c.CLUSTER_BREAK.LVT}else if(e<53217){if(e===53216)return c.CLUSTER_BREAK.LV}else if(e<53244){if(53217<=e&&e<=53243)return c.CLUSTER_BREAK.LVT}else if(e===53244)return c.CLUSTER_BREAK.LV}else if(e<53328){if(e<53273){if(e<53272){if(53245<=e&&e<=53271)return c.CLUSTER_BREAK.LVT}else if(e===53272)return c.CLUSTER_BREAK.LV}else if(e<53300){if(53273<=e&&e<=53299)return c.CLUSTER_BREAK.LVT}else if(e<53301){if(e===53300)return c.CLUSTER_BREAK.LV}else if(53301<=e&&e<=53327)return c.CLUSTER_BREAK.LVT}else if(e<53357){if(e<53329){if(e===53328)return c.CLUSTER_BREAK.LV}else if(e<53356){if(53329<=e&&e<=53355)return c.CLUSTER_BREAK.LVT}else if(e===53356)return c.CLUSTER_BREAK.LV}else if(e<53384){if(53357<=e&&e<=53383)return c.CLUSTER_BREAK.LVT}else if(e<53385){if(e===53384)return c.CLUSTER_BREAK.LV}else if(53385<=e&&e<=53411)return c.CLUSTER_BREAK.LVT}else if(e<53553){if(e<53469){if(e<53440){if(e<53413){if(e===53412)return c.CLUSTER_BREAK.LV}else if(53413<=e&&e<=53439)return c.CLUSTER_BREAK.LVT}else if(e<53441){if(e===53440)return c.CLUSTER_BREAK.LV}else if(e<53468){if(53441<=e&&e<=53467)return c.CLUSTER_BREAK.LVT}else if(e===53468)return c.CLUSTER_BREAK.LV}else if(e<53524){if(e<53496){if(53469<=e&&e<=53495)return c.CLUSTER_BREAK.LVT}else if(e<53497){if(e===53496)return c.CLUSTER_BREAK.LV}else if(53497<=e&&e<=53523)return c.CLUSTER_BREAK.LVT}else if(e<53525){if(e===53524)return c.CLUSTER_BREAK.LV}else if(e<53552){if(53525<=e&&e<=53551)return c.CLUSTER_BREAK.LVT}else if(e===53552)return c.CLUSTER_BREAK.LV}else if(e<53636){if(e<53581){if(e<53580){if(53553<=e&&e<=53579)return c.CLUSTER_BREAK.LVT}else if(e===53580)return c.CLUSTER_BREAK.LV}else if(e<53608){if(53581<=e&&e<=53607)return c.CLUSTER_BREAK.LVT}else if(e<53609){if(e===53608)return c.CLUSTER_BREAK.LV}else if(53609<=e&&e<=53635)return c.CLUSTER_BREAK.LVT}else if(e<53665){if(e<53637){if(e===53636)return c.CLUSTER_BREAK.LV}else if(e<53664){if(53637<=e&&e<=53663)return c.CLUSTER_BREAK.LVT}else if(e===53664)return c.CLUSTER_BREAK.LV}else if(e<53692){if(53665<=e&&e<=53691)return c.CLUSTER_BREAK.LVT}else if(e<53693){if(e===53692)return c.CLUSTER_BREAK.LV}else if(53693<=e&&e<=53719)return c.CLUSTER_BREAK.LVT}else if(e<70459){if(e<54897){if(e<54308){if(e<54001){if(e<53860){if(e<53777){if(e<53748){if(e<53721){if(e===53720)return c.CLUSTER_BREAK.LV}else if(53721<=e&&e<=53747)return c.CLUSTER_BREAK.LVT}else if(e<53749){if(e===53748)return c.CLUSTER_BREAK.LV}else if(e<53776){if(53749<=e&&e<=53775)return c.CLUSTER_BREAK.LVT}else if(e===53776)return c.CLUSTER_BREAK.LV}else if(e<53805){if(e<53804){if(53777<=e&&e<=53803)return c.CLUSTER_BREAK.LVT}else if(e===53804)return c.CLUSTER_BREAK.LV}else if(e<53832){if(53805<=e&&e<=53831)return c.CLUSTER_BREAK.LVT}else if(e<53833){if(e===53832)return c.CLUSTER_BREAK.LV}else if(53833<=e&&e<=53859)return c.CLUSTER_BREAK.LVT}else if(e<53917){if(e<53888){if(e<53861){if(e===53860)return c.CLUSTER_BREAK.LV}else if(53861<=e&&e<=53887)return c.CLUSTER_BREAK.LVT}else if(e<53889){if(e===53888)return c.CLUSTER_BREAK.LV}else if(e<53916){if(53889<=e&&e<=53915)return c.CLUSTER_BREAK.LVT}else if(e===53916)return c.CLUSTER_BREAK.LV}else if(e<53972){if(e<53944){if(53917<=e&&e<=53943)return c.CLUSTER_BREAK.LVT}else if(e<53945){if(e===53944)return c.CLUSTER_BREAK.LV}else if(53945<=e&&e<=53971)return c.CLUSTER_BREAK.LVT}else if(e<53973){if(e===53972)return c.CLUSTER_BREAK.LV}else if(e<54e3){if(53973<=e&&e<=53999)return c.CLUSTER_BREAK.LVT}else if(e===54e3)return c.CLUSTER_BREAK.LV}else if(e<54141){if(e<54084){if(e<54029){if(e<54028){if(54001<=e&&e<=54027)return c.CLUSTER_BREAK.LVT}else if(e===54028)return c.CLUSTER_BREAK.LV}else if(e<54056){if(54029<=e&&e<=54055)return c.CLUSTER_BREAK.LVT}else if(e<54057){if(e===54056)return c.CLUSTER_BREAK.LV}else if(54057<=e&&e<=54083)return c.CLUSTER_BREAK.LVT}else if(e<54112){if(e<54085){if(e===54084)return c.CLUSTER_BREAK.LV}else if(54085<=e&&e<=54111)return c.CLUSTER_BREAK.LVT}else if(e<54113){if(e===54112)return c.CLUSTER_BREAK.LV}else if(e<54140){if(54113<=e&&e<=54139)return c.CLUSTER_BREAK.LVT}else if(e===54140)return c.CLUSTER_BREAK.LV}else if(e<54224){if(e<54169){if(e<54168){if(54141<=e&&e<=54167)return c.CLUSTER_BREAK.LVT}else if(e===54168)return c.CLUSTER_BREAK.LV}else if(e<54196){if(54169<=e&&e<=54195)return c.CLUSTER_BREAK.LVT}else if(e<54197){if(e===54196)return c.CLUSTER_BREAK.LV}else if(54197<=e&&e<=54223)return c.CLUSTER_BREAK.LVT}else if(e<54253){if(e<54225){if(e===54224)return c.CLUSTER_BREAK.LV}else if(e<54252){if(54225<=e&&e<=54251)return c.CLUSTER_BREAK.LVT}else if(e===54252)return c.CLUSTER_BREAK.LV}else if(e<54280){if(54253<=e&&e<=54279)return c.CLUSTER_BREAK.LVT}else if(e<54281){if(e===54280)return c.CLUSTER_BREAK.LV}else if(54281<=e&&e<=54307)return c.CLUSTER_BREAK.LVT}else if(e<54589){if(e<54448){if(e<54365){if(e<54336){if(e<54309){if(e===54308)return c.CLUSTER_BREAK.LV}else if(54309<=e&&e<=54335)return c.CLUSTER_BREAK.LVT}else if(e<54337){if(e===54336)return c.CLUSTER_BREAK.LV}else if(e<54364){if(54337<=e&&e<=54363)return c.CLUSTER_BREAK.LVT}else if(e===54364)return c.CLUSTER_BREAK.LV}else if(e<54393){if(e<54392){if(54365<=e&&e<=54391)return c.CLUSTER_BREAK.LVT}else if(e===54392)return c.CLUSTER_BREAK.LV}else if(e<54420){if(54393<=e&&e<=54419)return c.CLUSTER_BREAK.LVT}else if(e<54421){if(e===54420)return c.CLUSTER_BREAK.LV}else if(54421<=e&&e<=54447)return c.CLUSTER_BREAK.LVT}else if(e<54505){if(e<54476){if(e<54449){if(e===54448)return c.CLUSTER_BREAK.LV}else if(54449<=e&&e<=54475)return c.CLUSTER_BREAK.LVT}else if(e<54477){if(e===54476)return c.CLUSTER_BREAK.LV}else if(e<54504){if(54477<=e&&e<=54503)return c.CLUSTER_BREAK.LVT}else if(e===54504)return c.CLUSTER_BREAK.LV}else if(e<54560){if(e<54532){if(54505<=e&&e<=54531)return c.CLUSTER_BREAK.LVT}else if(e<54533){if(e===54532)return c.CLUSTER_BREAK.LV}else if(54533<=e&&e<=54559)return c.CLUSTER_BREAK.LVT}else if(e<54561){if(e===54560)return c.CLUSTER_BREAK.LV}else if(e<54588){if(54561<=e&&e<=54587)return c.CLUSTER_BREAK.LVT}else if(e===54588)return c.CLUSTER_BREAK.LV}else if(e<54756){if(e<54672){if(e<54617){if(e<54616){if(54589<=e&&e<=54615)return c.CLUSTER_BREAK.LVT}else if(e===54616)return c.CLUSTER_BREAK.LV}else if(e<54644){if(54617<=e&&e<=54643)return c.CLUSTER_BREAK.LVT}else if(e<54645){if(e===54644)return c.CLUSTER_BREAK.LV}else if(54645<=e&&e<=54671)return c.CLUSTER_BREAK.LVT}else if(e<54701){if(e<54673){if(e===54672)return c.CLUSTER_BREAK.LV}else if(e<54700){if(54673<=e&&e<=54699)return c.CLUSTER_BREAK.LVT}else if(e===54700)return c.CLUSTER_BREAK.LV}else if(e<54728){if(54701<=e&&e<=54727)return c.CLUSTER_BREAK.LVT}else if(e<54729){if(e===54728)return c.CLUSTER_BREAK.LV}else if(54729<=e&&e<=54755)return c.CLUSTER_BREAK.LVT}else if(e<54813){if(e<54784){if(e<54757){if(e===54756)return c.CLUSTER_BREAK.LV}else if(54757<=e&&e<=54783)return c.CLUSTER_BREAK.LVT}else if(e<54785){if(e===54784)return c.CLUSTER_BREAK.LV}else if(e<54812){if(54785<=e&&e<=54811)return c.CLUSTER_BREAK.LVT}else if(e===54812)return c.CLUSTER_BREAK.LV}else if(e<54868){if(e<54840){if(54813<=e&&e<=54839)return c.CLUSTER_BREAK.LVT}else if(e<54841){if(e===54840)return c.CLUSTER_BREAK.LV}else if(54841<=e&&e<=54867)return c.CLUSTER_BREAK.LVT}else if(e<54869){if(e===54868)return c.CLUSTER_BREAK.LV}else if(e<54896){if(54869<=e&&e<=54895)return c.CLUSTER_BREAK.LVT}else if(e===54896)return c.CLUSTER_BREAK.LV}else if(e<69632){if(e<55216){if(e<55037){if(e<54980){if(e<54925){if(e<54924){if(54897<=e&&e<=54923)return c.CLUSTER_BREAK.LVT}else if(e===54924)return c.CLUSTER_BREAK.LV}else if(e<54952){if(54925<=e&&e<=54951)return c.CLUSTER_BREAK.LVT}else if(e<54953){if(e===54952)return c.CLUSTER_BREAK.LV}else if(54953<=e&&e<=54979)return c.CLUSTER_BREAK.LVT}else if(e<55008){if(e<54981){if(e===54980)return c.CLUSTER_BREAK.LV}else if(54981<=e&&e<=55007)return c.CLUSTER_BREAK.LVT}else if(e<55009){if(e===55008)return c.CLUSTER_BREAK.LV}else if(e<55036){if(55009<=e&&e<=55035)return c.CLUSTER_BREAK.LVT}else if(e===55036)return c.CLUSTER_BREAK.LV}else if(e<55120){if(e<55065){if(e<55064){if(55037<=e&&e<=55063)return c.CLUSTER_BREAK.LVT}else if(e===55064)return c.CLUSTER_BREAK.LV}else if(e<55092){if(55065<=e&&e<=55091)return c.CLUSTER_BREAK.LVT}else if(e<55093){if(e===55092)return c.CLUSTER_BREAK.LV}else if(55093<=e&&e<=55119)return c.CLUSTER_BREAK.LVT}else if(e<55149){if(e<55121){if(e===55120)return c.CLUSTER_BREAK.LV}else if(e<55148){if(55121<=e&&e<=55147)return c.CLUSTER_BREAK.LVT}else if(e===55148)return c.CLUSTER_BREAK.LV}else if(e<55176){if(55149<=e&&e<=55175)return c.CLUSTER_BREAK.LVT}else if(e<55177){if(e===55176)return c.CLUSTER_BREAK.LV}else if(55177<=e&&e<=55203)return c.CLUSTER_BREAK.LVT}else if(e<68097){if(e<65279){if(e<64286){if(e<55243){if(55216<=e&&e<=55238)return c.CLUSTER_BREAK.V}else if(55243<=e&&e<=55291)return c.CLUSTER_BREAK.T}else if(e<65024){if(e===64286)return c.CLUSTER_BREAK.EXTEND}else if(e<65056){if(65024<=e&&e<=65039)return c.CLUSTER_BREAK.EXTEND}else if(65056<=e&&e<=65071)return c.CLUSTER_BREAK.EXTEND}else if(e<66045){if(e<65438){if(e===65279)return c.CLUSTER_BREAK.CONTROL}else if(e<65520){if(65438<=e&&e<=65439)return c.CLUSTER_BREAK.EXTEND}else if(65520<=e&&e<=65531)return c.CLUSTER_BREAK.CONTROL}else if(e<66272){if(e===66045)return c.CLUSTER_BREAK.EXTEND}else if(e<66422){if(e===66272)return c.CLUSTER_BREAK.EXTEND}else if(66422<=e&&e<=66426)return c.CLUSTER_BREAK.EXTEND}else if(e<68325){if(e<68108){if(e<68101){if(68097<=e&&e<=68099)return c.CLUSTER_BREAK.EXTEND}else if(68101<=e&&e<=68102)return c.CLUSTER_BREAK.EXTEND}else if(e<68152){if(68108<=e&&e<=68111)return c.CLUSTER_BREAK.EXTEND}else if(e<68159){if(68152<=e&&e<=68154)return c.CLUSTER_BREAK.EXTEND}else if(e===68159)return c.CLUSTER_BREAK.EXTEND}else if(e<69373){if(e<68900){if(68325<=e&&e<=68326)return c.CLUSTER_BREAK.EXTEND}else if(e<69291){if(68900<=e&&e<=68903)return c.CLUSTER_BREAK.EXTEND}else if(69291<=e&&e<=69292)return c.CLUSTER_BREAK.EXTEND}else if(e<69446){if(69373<=e&&e<=69375)return c.CLUSTER_BREAK.EXTEND}else if(e<69506){if(69446<=e&&e<=69456)return c.CLUSTER_BREAK.EXTEND}else if(69506<=e&&e<=69509)return c.CLUSTER_BREAK.EXTEND}else if(e<70016){if(e<69815){if(e<69747){if(e<69634){if(e===69632)return c.CLUSTER_BREAK.SPACINGMARK;if(e===69633)return c.CLUSTER_BREAK.EXTEND}else if(e<69688){if(e===69634)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<69744){if(69688<=e&&e<=69702)return c.CLUSTER_BREAK.EXTEND}else if(e===69744)return c.CLUSTER_BREAK.EXTEND}else if(e<69762){if(e<69759){if(69747<=e&&e<=69748)return c.CLUSTER_BREAK.EXTEND}else if(69759<=e&&e<=69761)return c.CLUSTER_BREAK.EXTEND}else if(e<69808){if(e===69762)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<69811){if(69808<=e&&e<=69810)return c.CLUSTER_BREAK.SPACINGMARK}else if(69811<=e&&e<=69814)return c.CLUSTER_BREAK.EXTEND}else if(e<69888)if(e<69821){if(e<69817){if(69815<=e&&e<=69816)return c.CLUSTER_BREAK.SPACINGMARK}else if(69817<=e&&e<=69818)return c.CLUSTER_BREAK.EXTEND}else if(e<69826){if(e===69821)return c.CLUSTER_BREAK.PREPEND}else{if(e===69826)return c.CLUSTER_BREAK.EXTEND;if(e===69837)return c.CLUSTER_BREAK.PREPEND}else if(e<69933){if(e<69927){if(69888<=e&&e<=69890)return c.CLUSTER_BREAK.EXTEND}else if(e<69932){if(69927<=e&&e<=69931)return c.CLUSTER_BREAK.EXTEND}else if(e===69932)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<69957){if(69933<=e&&e<=69940)return c.CLUSTER_BREAK.EXTEND}else if(e<70003){if(69957<=e&&e<=69958)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===70003)return c.CLUSTER_BREAK.EXTEND}else if(e<70194){if(e<70082){if(e<70067){if(e<70018){if(70016<=e&&e<=70017)return c.CLUSTER_BREAK.EXTEND}else if(e===70018)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70070){if(70067<=e&&e<=70069)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70079){if(70070<=e&&e<=70078)return c.CLUSTER_BREAK.EXTEND}else if(70079<=e&&e<=70080)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70095){if(e<70089){if(70082<=e&&e<=70083)return c.CLUSTER_BREAK.PREPEND}else if(e<70094){if(70089<=e&&e<=70092)return c.CLUSTER_BREAK.EXTEND}else if(e===70094)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70188){if(e===70095)return c.CLUSTER_BREAK.EXTEND}else if(e<70191){if(70188<=e&&e<=70190)return c.CLUSTER_BREAK.SPACINGMARK}else if(70191<=e&&e<=70193)return c.CLUSTER_BREAK.EXTEND}else if(e<70209){if(e<70197){if(e<70196){if(70194<=e&&e<=70195)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===70196)return c.CLUSTER_BREAK.EXTEND}else if(e<70198){if(e===70197)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70206){if(70198<=e&&e<=70199)return c.CLUSTER_BREAK.EXTEND}else if(e===70206)return c.CLUSTER_BREAK.EXTEND}else if(e<70371){if(e<70367){if(e===70209)return c.CLUSTER_BREAK.EXTEND}else if(e<70368){if(e===70367)return c.CLUSTER_BREAK.EXTEND}else if(70368<=e&&e<=70370)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70400){if(70371<=e&&e<=70378)return c.CLUSTER_BREAK.EXTEND}else if(e<70402){if(70400<=e&&e<=70401)return c.CLUSTER_BREAK.EXTEND}else if(70402<=e&&e<=70403)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<72343){if(e<71339){if(e<70841){if(e<70512){if(e<70471){if(e<70463){if(e<70462){if(70459<=e&&e<=70460)return c.CLUSTER_BREAK.EXTEND}else if(e===70462)return c.CLUSTER_BREAK.EXTEND}else if(e<70464){if(e===70463)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70465){if(e===70464)return c.CLUSTER_BREAK.EXTEND}else if(70465<=e&&e<=70468)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70487){if(e<70475){if(70471<=e&&e<=70472)return c.CLUSTER_BREAK.SPACINGMARK}else if(70475<=e&&e<=70477)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70498){if(e===70487)return c.CLUSTER_BREAK.EXTEND}else if(e<70502){if(70498<=e&&e<=70499)return c.CLUSTER_BREAK.SPACINGMARK}else if(70502<=e&&e<=70508)return c.CLUSTER_BREAK.EXTEND}else if(e<70725){if(e<70712){if(e<70709){if(70512<=e&&e<=70516)return c.CLUSTER_BREAK.EXTEND}else if(70709<=e&&e<=70711)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<70720){if(70712<=e&&e<=70719)return c.CLUSTER_BREAK.EXTEND}else if(e<70722){if(70720<=e&&e<=70721)return c.CLUSTER_BREAK.SPACINGMARK}else if(70722<=e&&e<=70724)return c.CLUSTER_BREAK.EXTEND}else if(e<70832){if(e<70726){if(e===70725)return c.CLUSTER_BREAK.SPACINGMARK}else if(e===70726||e===70750)return c.CLUSTER_BREAK.EXTEND}else if(e<70833){if(e===70832)return c.CLUSTER_BREAK.EXTEND}else if(e<70835){if(70833<=e&&e<=70834)return c.CLUSTER_BREAK.SPACINGMARK}else if(70835<=e&&e<=70840)return c.CLUSTER_BREAK.EXTEND}else if(e<71096){if(e<70847)if(e<70843){if(e===70841)return c.CLUSTER_BREAK.SPACINGMARK;if(e===70842)return c.CLUSTER_BREAK.EXTEND}else if(e<70845){if(70843<=e&&e<=70844)return c.CLUSTER_BREAK.SPACINGMARK}else{if(e===70845)return c.CLUSTER_BREAK.EXTEND;if(e===70846)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71087){if(e<70849){if(70847<=e&&e<=70848)return c.CLUSTER_BREAK.EXTEND}else if(e<70850){if(e===70849)return c.CLUSTER_BREAK.SPACINGMARK}else if(70850<=e&&e<=70851)return c.CLUSTER_BREAK.EXTEND}else if(e<71088){if(e===71087)return c.CLUSTER_BREAK.EXTEND}else if(e<71090){if(71088<=e&&e<=71089)return c.CLUSTER_BREAK.SPACINGMARK}else if(71090<=e&&e<=71093)return c.CLUSTER_BREAK.EXTEND}else if(e<71216){if(e<71102){if(e<71100){if(71096<=e&&e<=71099)return c.CLUSTER_BREAK.SPACINGMARK}else if(71100<=e&&e<=71101)return c.CLUSTER_BREAK.EXTEND}else if(e<71103){if(e===71102)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71132){if(71103<=e&&e<=71104)return c.CLUSTER_BREAK.EXTEND}else if(71132<=e&&e<=71133)return c.CLUSTER_BREAK.EXTEND}else if(e<71229){if(e<71219){if(71216<=e&&e<=71218)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71227){if(71219<=e&&e<=71226)return c.CLUSTER_BREAK.EXTEND}else if(71227<=e&&e<=71228)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71230){if(e===71229)return c.CLUSTER_BREAK.EXTEND}else if(e<71231){if(e===71230)return c.CLUSTER_BREAK.SPACINGMARK}else if(71231<=e&&e<=71232)return c.CLUSTER_BREAK.EXTEND}else if(e<71999)if(e<71463){if(e<71350){if(e<71341){if(e===71339)return c.CLUSTER_BREAK.EXTEND;if(e===71340)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71342){if(e===71341)return c.CLUSTER_BREAK.EXTEND}else if(e<71344){if(71342<=e&&e<=71343)return c.CLUSTER_BREAK.SPACINGMARK}else if(71344<=e&&e<=71349)return c.CLUSTER_BREAK.EXTEND}else if(e<71453){if(e===71350)return c.CLUSTER_BREAK.SPACINGMARK;if(e===71351)return c.CLUSTER_BREAK.EXTEND}else if(e<71458){if(71453<=e&&e<=71455)return c.CLUSTER_BREAK.EXTEND}else if(e<71462){if(71458<=e&&e<=71461)return c.CLUSTER_BREAK.EXTEND}else if(e===71462)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71984){if(e<71727){if(e<71724){if(71463<=e&&e<=71467)return c.CLUSTER_BREAK.EXTEND}else if(71724<=e&&e<=71726)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71736){if(71727<=e&&e<=71735)return c.CLUSTER_BREAK.EXTEND}else if(e<71737){if(e===71736)return c.CLUSTER_BREAK.SPACINGMARK}else if(71737<=e&&e<=71738)return c.CLUSTER_BREAK.EXTEND}else if(e<71995){if(e<71985){if(e===71984)return c.CLUSTER_BREAK.EXTEND}else if(e<71991){if(71985<=e&&e<=71989)return c.CLUSTER_BREAK.SPACINGMARK}else if(71991<=e&&e<=71992)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<71997){if(71995<=e&&e<=71996)return c.CLUSTER_BREAK.EXTEND}else{if(e===71997)return c.CLUSTER_BREAK.SPACINGMARK;if(e===71998)return c.CLUSTER_BREAK.EXTEND}else if(e<72193)if(e<72145)if(e<72001){if(e===71999)return c.CLUSTER_BREAK.PREPEND;if(e===72e3)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<72002){if(e===72001)return c.CLUSTER_BREAK.PREPEND}else{if(e===72002)return c.CLUSTER_BREAK.SPACINGMARK;if(e===72003)return c.CLUSTER_BREAK.EXTEND}else if(e<72156){if(e<72148){if(72145<=e&&e<=72147)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<72154){if(72148<=e&&e<=72151)return c.CLUSTER_BREAK.EXTEND}else if(72154<=e&&e<=72155)return c.CLUSTER_BREAK.EXTEND}else if(e<72160){if(72156<=e&&e<=72159)return c.CLUSTER_BREAK.SPACINGMARK}else{if(e===72160)return c.CLUSTER_BREAK.EXTEND;if(e===72164)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<72263){if(e<72249){if(e<72243){if(72193<=e&&e<=72202)return c.CLUSTER_BREAK.EXTEND}else if(72243<=e&&e<=72248)return c.CLUSTER_BREAK.EXTEND}else if(e<72250){if(e===72249)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<72251){if(e===72250)return c.CLUSTER_BREAK.PREPEND}else if(72251<=e&&e<=72254)return c.CLUSTER_BREAK.EXTEND}else if(e<72281){if(e<72273){if(e===72263)return c.CLUSTER_BREAK.EXTEND}else if(e<72279){if(72273<=e&&e<=72278)return c.CLUSTER_BREAK.EXTEND}else if(72279<=e&&e<=72280)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<72324){if(72281<=e&&e<=72283)return c.CLUSTER_BREAK.EXTEND}else if(e<72330){if(72324<=e&&e<=72329)return c.CLUSTER_BREAK.PREPEND}else if(72330<=e&&e<=72342)return c.CLUSTER_BREAK.EXTEND}else if(e<94033){if(e<73104){if(e<72881){if(e<72766){if(e<72751){if(e<72344){if(e===72343)return c.CLUSTER_BREAK.SPACINGMARK}else if(72344<=e&&e<=72345)return c.CLUSTER_BREAK.EXTEND}else if(e<72752){if(e===72751)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<72760){if(72752<=e&&e<=72758)return c.CLUSTER_BREAK.EXTEND}else if(72760<=e&&e<=72765)return c.CLUSTER_BREAK.EXTEND}else if(e<72850){if(e===72766)return c.CLUSTER_BREAK.SPACINGMARK;if(e===72767)return c.CLUSTER_BREAK.EXTEND}else if(e<72873){if(72850<=e&&e<=72871)return c.CLUSTER_BREAK.EXTEND}else if(e<72874){if(e===72873)return c.CLUSTER_BREAK.SPACINGMARK}else if(72874<=e&&e<=72880)return c.CLUSTER_BREAK.EXTEND}else if(e<73018){if(e<72884){if(e<72882){if(e===72881)return c.CLUSTER_BREAK.SPACINGMARK}else if(72882<=e&&e<=72883)return c.CLUSTER_BREAK.EXTEND}else if(e<72885){if(e===72884)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<73009){if(72885<=e&&e<=72886)return c.CLUSTER_BREAK.EXTEND}else if(73009<=e&&e<=73014)return c.CLUSTER_BREAK.EXTEND}else if(e<73030){if(e<73020){if(e===73018)return c.CLUSTER_BREAK.EXTEND}else if(e<73023){if(73020<=e&&e<=73021)return c.CLUSTER_BREAK.EXTEND}else if(73023<=e&&e<=73029)return c.CLUSTER_BREAK.EXTEND}else if(e<73031){if(e===73030)return c.CLUSTER_BREAK.PREPEND}else if(e<73098){if(e===73031)return c.CLUSTER_BREAK.EXTEND}else if(73098<=e&&e<=73102)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<73526){if(e<73459)if(e<73109){if(e<73107){if(73104<=e&&e<=73105)return c.CLUSTER_BREAK.EXTEND}else if(73107<=e&&e<=73108)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<73110){if(e===73109)return c.CLUSTER_BREAK.EXTEND}else{if(e===73110)return c.CLUSTER_BREAK.SPACINGMARK;if(e===73111)return c.CLUSTER_BREAK.EXTEND}else if(e<73474){if(e<73461){if(73459<=e&&e<=73460)return c.CLUSTER_BREAK.EXTEND}else if(e<73472){if(73461<=e&&e<=73462)return c.CLUSTER_BREAK.SPACINGMARK}else if(73472<=e&&e<=73473)return c.CLUSTER_BREAK.EXTEND}else if(e<73475){if(e===73474)return c.CLUSTER_BREAK.PREPEND}else if(e<73524){if(e===73475)return c.CLUSTER_BREAK.SPACINGMARK}else if(73524<=e&&e<=73525)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<78896)if(e<73536){if(e<73534){if(73526<=e&&e<=73530)return c.CLUSTER_BREAK.EXTEND}else if(73534<=e&&e<=73535)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<73537){if(e===73536)return c.CLUSTER_BREAK.EXTEND}else{if(e===73537)return c.CLUSTER_BREAK.SPACINGMARK;if(e===73538)return c.CLUSTER_BREAK.EXTEND}else if(e<92912){if(e<78912){if(78896<=e&&e<=78911)return c.CLUSTER_BREAK.CONTROL}else if(e<78919){if(e===78912)return c.CLUSTER_BREAK.EXTEND}else if(78919<=e&&e<=78933)return c.CLUSTER_BREAK.EXTEND}else if(e<92976){if(92912<=e&&e<=92916)return c.CLUSTER_BREAK.EXTEND}else if(e<94031){if(92976<=e&&e<=92982)return c.CLUSTER_BREAK.EXTEND}else if(e===94031)return c.CLUSTER_BREAK.EXTEND}else if(e<121476){if(e<119143)if(e<113824){if(e<94180){if(e<94095){if(94033<=e&&e<=94087)return c.CLUSTER_BREAK.SPACINGMARK}else if(94095<=e&&e<=94098)return c.CLUSTER_BREAK.EXTEND}else if(e<94192){if(e===94180)return c.CLUSTER_BREAK.EXTEND}else if(e<113821){if(94192<=e&&e<=94193)return c.CLUSTER_BREAK.SPACINGMARK}else if(113821<=e&&e<=113822)return c.CLUSTER_BREAK.EXTEND}else if(e<118576){if(e<118528){if(113824<=e&&e<=113827)return c.CLUSTER_BREAK.CONTROL}else if(118528<=e&&e<=118573)return c.CLUSTER_BREAK.EXTEND}else if(e<119141){if(118576<=e&&e<=118598)return c.CLUSTER_BREAK.EXTEND}else{if(e===119141)return c.CLUSTER_BREAK.EXTEND;if(e===119142)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<119173){if(e<119150){if(e<119149){if(119143<=e&&e<=119145)return c.CLUSTER_BREAK.EXTEND}else if(e===119149)return c.CLUSTER_BREAK.SPACINGMARK}else if(e<119155){if(119150<=e&&e<=119154)return c.CLUSTER_BREAK.EXTEND}else if(e<119163){if(119155<=e&&e<=119162)return c.CLUSTER_BREAK.CONTROL}else if(119163<=e&&e<=119170)return c.CLUSTER_BREAK.EXTEND}else if(e<121344){if(e<119210){if(119173<=e&&e<=119179)return c.CLUSTER_BREAK.EXTEND}else if(e<119362){if(119210<=e&&e<=119213)return c.CLUSTER_BREAK.EXTEND}else if(119362<=e&&e<=119364)return c.CLUSTER_BREAK.EXTEND}else if(e<121403){if(121344<=e&&e<=121398)return c.CLUSTER_BREAK.EXTEND}else if(e<121461){if(121403<=e&&e<=121452)return c.CLUSTER_BREAK.EXTEND}else if(e===121461)return c.CLUSTER_BREAK.EXTEND}else if(e<123628){if(e<122907){if(e<121505){if(e<121499){if(e===121476)return c.CLUSTER_BREAK.EXTEND}else if(121499<=e&&e<=121503)return c.CLUSTER_BREAK.EXTEND}else if(e<122880){if(121505<=e&&e<=121519)return c.CLUSTER_BREAK.EXTEND}else if(e<122888){if(122880<=e&&e<=122886)return c.CLUSTER_BREAK.EXTEND}else if(122888<=e&&e<=122904)return c.CLUSTER_BREAK.EXTEND}else if(e<123023){if(e<122915){if(122907<=e&&e<=122913)return c.CLUSTER_BREAK.EXTEND}else if(e<122918){if(122915<=e&&e<=122916)return c.CLUSTER_BREAK.EXTEND}else if(122918<=e&&e<=122922)return c.CLUSTER_BREAK.EXTEND}else if(e<123184){if(e===123023)return c.CLUSTER_BREAK.EXTEND}else if(e<123566){if(123184<=e&&e<=123190)return c.CLUSTER_BREAK.EXTEND}else if(e===123566)return c.CLUSTER_BREAK.EXTEND}else if(e<127995){if(e<125136){if(e<124140){if(123628<=e&&e<=123631)return c.CLUSTER_BREAK.EXTEND}else if(124140<=e&&e<=124143)return c.CLUSTER_BREAK.EXTEND}else if(e<125252){if(125136<=e&&e<=125142)return c.CLUSTER_BREAK.EXTEND}else if(e<127462){if(125252<=e&&e<=125258)return c.CLUSTER_BREAK.EXTEND}else if(127462<=e&&e<=127487)return c.CLUSTER_BREAK.REGIONAL_INDICATOR}else if(e<917632){if(e<917504){if(127995<=e&&e<=127999)return c.CLUSTER_BREAK.EXTEND}else if(e<917536){if(917504<=e&&e<=917535)return c.CLUSTER_BREAK.CONTROL}else if(917536<=e&&e<=917631)return c.CLUSTER_BREAK.EXTEND}else if(e<917760){if(917632<=e&&e<=917759)return c.CLUSTER_BREAK.CONTROL}else if(e<918e3){if(917760<=e&&e<=917999)return c.CLUSTER_BREAK.EXTEND}else if(918e3<=e&&e<=921599)return c.CLUSTER_BREAK.CONTROL;return c.CLUSTER_BREAK.OTHER}static getEmojiProperty(e){if(e<10160){if(e<9728){if(e<9e3){if(e<8482){if(e<8252){if(e===169||e===174)return c.EXTENDED_PICTOGRAPHIC}else if(e===8252||e===8265)return c.EXTENDED_PICTOGRAPHIC}else if(e<8596){if(e===8482||e===8505)return c.EXTENDED_PICTOGRAPHIC}else if(e<8617){if(8596<=e&&e<=8601)return c.EXTENDED_PICTOGRAPHIC}else if(e<8986){if(8617<=e&&e<=8618)return c.EXTENDED_PICTOGRAPHIC}else if(8986<=e&&e<=8987)return c.EXTENDED_PICTOGRAPHIC}else if(e<9410){if(e<9167){if(e===9e3||e===9096)return c.EXTENDED_PICTOGRAPHIC}else if(e<9193){if(e===9167)return c.EXTENDED_PICTOGRAPHIC}else if(e<9208){if(9193<=e&&e<=9203)return c.EXTENDED_PICTOGRAPHIC}else if(9208<=e&&e<=9210)return c.EXTENDED_PICTOGRAPHIC}else if(e<9654){if(e<9642){if(e===9410)return c.EXTENDED_PICTOGRAPHIC}else if(9642<=e&&e<=9643)return c.EXTENDED_PICTOGRAPHIC}else if(e<9664){if(e===9654)return c.EXTENDED_PICTOGRAPHIC}else if(e<9723){if(e===9664)return c.EXTENDED_PICTOGRAPHIC}else if(9723<=e&&e<=9726)return c.EXTENDED_PICTOGRAPHIC}else if(e<10035){if(e<10004){if(e<9748){if(e<9735){if(9728<=e&&e<=9733)return c.EXTENDED_PICTOGRAPHIC}else if(9735<=e&&e<=9746)return c.EXTENDED_PICTOGRAPHIC}else if(e<9872){if(9748<=e&&e<=9861)return c.EXTENDED_PICTOGRAPHIC}else if(e<9992){if(9872<=e&&e<=9989)return c.EXTENDED_PICTOGRAPHIC}else if(9992<=e&&e<=10002)return c.EXTENDED_PICTOGRAPHIC}else if(e<10013){if(e===10004||e===10006)return c.EXTENDED_PICTOGRAPHIC}else if(e<10017){if(e===10013)return c.EXTENDED_PICTOGRAPHIC}else if(e===10017||e===10024)return c.EXTENDED_PICTOGRAPHIC}else if(e<10067){if(e<10055){if(e<10052){if(10035<=e&&e<=10036)return c.EXTENDED_PICTOGRAPHIC}else if(e===10052)return c.EXTENDED_PICTOGRAPHIC}else if(e<10060){if(e===10055)return c.EXTENDED_PICTOGRAPHIC}else if(e===10060||e===10062)return c.EXTENDED_PICTOGRAPHIC}else if(e<10083){if(e<10071){if(10067<=e&&e<=10069)return c.EXTENDED_PICTOGRAPHIC}else if(e===10071)return c.EXTENDED_PICTOGRAPHIC}else if(e<10133){if(10083<=e&&e<=10087)return c.EXTENDED_PICTOGRAPHIC}else if(e<10145){if(10133<=e&&e<=10135)return c.EXTENDED_PICTOGRAPHIC}else if(e===10145)return c.EXTENDED_PICTOGRAPHIC}else if(e<127489){if(e<12951){if(e<11035){if(e<10548){if(e===10160||e===10175)return c.EXTENDED_PICTOGRAPHIC}else if(e<11013){if(10548<=e&&e<=10549)return c.EXTENDED_PICTOGRAPHIC}else if(11013<=e&&e<=11015)return c.EXTENDED_PICTOGRAPHIC}else if(e<11093){if(e<11088){if(11035<=e&&e<=11036)return c.EXTENDED_PICTOGRAPHIC}else if(e===11088)return c.EXTENDED_PICTOGRAPHIC}else if(e<12336){if(e===11093)return c.EXTENDED_PICTOGRAPHIC}else if(e===12336||e===12349)return c.EXTENDED_PICTOGRAPHIC}else if(e<127340){if(e<126976){if(e===12951||e===12953)return c.EXTENDED_PICTOGRAPHIC}else if(e<127245){if(126976<=e&&e<=127231)return c.EXTENDED_PICTOGRAPHIC}else if(e<127279){if(127245<=e&&e<=127247)return c.EXTENDED_PICTOGRAPHIC}else if(e===127279)return c.EXTENDED_PICTOGRAPHIC}else if(e<127374){if(e<127358){if(127340<=e&&e<=127345)return c.EXTENDED_PICTOGRAPHIC}else if(127358<=e&&e<=127359)return c.EXTENDED_PICTOGRAPHIC}else if(e<127377){if(e===127374)return c.EXTENDED_PICTOGRAPHIC}else if(e<127405){if(127377<=e&&e<=127386)return c.EXTENDED_PICTOGRAPHIC}else if(127405<=e&&e<=127461)return c.EXTENDED_PICTOGRAPHIC}else if(e<128981){if(e<127561){if(e<127535){if(e<127514){if(127489<=e&&e<=127503)return c.EXTENDED_PICTOGRAPHIC}else if(e===127514)return c.EXTENDED_PICTOGRAPHIC}else if(e<127538){if(e===127535)return c.EXTENDED_PICTOGRAPHIC}else if(e<127548){if(127538<=e&&e<=127546)return c.EXTENDED_PICTOGRAPHIC}else if(127548<=e&&e<=127551)return c.EXTENDED_PICTOGRAPHIC}else if(e<128326){if(e<128e3){if(127561<=e&&e<=127994)return c.EXTENDED_PICTOGRAPHIC}else if(128e3<=e&&e<=128317)return c.EXTENDED_PICTOGRAPHIC}else if(e<128640){if(128326<=e&&e<=128591)return c.EXTENDED_PICTOGRAPHIC}else if(e<128884){if(128640<=e&&e<=128767)return c.EXTENDED_PICTOGRAPHIC}else if(128884<=e&&e<=128895)return c.EXTENDED_PICTOGRAPHIC}else if(e<129198){if(e<129096){if(e<129036){if(128981<=e&&e<=129023)return c.EXTENDED_PICTOGRAPHIC}else if(129036<=e&&e<=129039)return c.EXTENDED_PICTOGRAPHIC}else if(e<129114){if(129096<=e&&e<=129103)return c.EXTENDED_PICTOGRAPHIC}else if(e<129160){if(129114<=e&&e<=129119)return c.EXTENDED_PICTOGRAPHIC}else if(129160<=e&&e<=129167)return c.EXTENDED_PICTOGRAPHIC}else if(e<129340){if(e<129292){if(129198<=e&&e<=129279)return c.EXTENDED_PICTOGRAPHIC}else if(129292<=e&&e<=129338)return c.EXTENDED_PICTOGRAPHIC}else if(e<129351){if(129340<=e&&e<=129349)return c.EXTENDED_PICTOGRAPHIC}else if(e<130048){if(129351<=e&&e<=129791)return c.EXTENDED_PICTOGRAPHIC}else if(130048<=e&&e<=131069)return c.EXTENDED_PICTOGRAPHIC;return c.CLUSTER_BREAK.OTHER}};xm.default=rA});var QM=k(Cm=>{"use strict";var Ele=Cm&&Cm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Cm,"__esModule",{value:!0});var Tle=Ele(ZM());Cm.default=Tle.default});var JM=k(ar=>{"use strict";var wle=ar&&ar.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),Sle=ar&&ar.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),Ale=ar&&ar.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&wle(e,i,t);return Sle(e,i),e},Rle=ar&&ar.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ar,"__esModule",{value:!0});ar.validateLanguage=ar.parseLanguage=ar.b64UrlToUtf8=ar.utf8ToB64Url=ar.graphemeLen=ar.utf8Len=void 0;var kle=Rle(QM()),Nb=Ale((X2(),Al(W2))),Dle=i=>new TextEncoder().encode(i).byteLength;ar.utf8Len=Dle;var Ile=i=>new kle.default().countGraphemes(i);ar.graphemeLen=Ile;var Ple=i=>Nb.toString(Nb.fromString(i,"utf8"),"base64url");ar.utf8ToB64Url=Ple;var Lle=i=>Nb.toString(Nb.fromString(i,"base64url"),"utf8");ar.b64UrlToUtf8=Lle;var Ble=i=>{let e=i.match(YM);if(!e?.groups)return null;let t=e.groups;return{grandfathered:t.grandfathered,language:t.language,extlang:t.extlang,script:t.script,region:t.region,variant:t.variant,extension:t.extension,privateUse:t.privateUseA||t.privateUseB}};ar.parseLanguage=Ble;var Ole=i=>YM.test(i);ar.validateLanguage=Ole;var YM=/^((?<grandfathered>(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((?<language>([A-Za-z]{2,3}(-(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-(?<script>[A-Za-z]{4}))?(-(?<region>[A-Za-z]{2}|[0-9]{3}))?(-(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-(?<extension>[0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(?<privateUseA>x(-[A-Za-z0-9]{1,8})+))?)|(?<privateUseB>x(-[A-Za-z0-9]{1,8})+))$/});var t8=k(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.didDocument=fi.getServiceEndpoint=fi.getNotifEndpoint=fi.getFeedGenEndpoint=fi.getPdsEndpoint=fi.getSigningDidKey=fi.getVerificationMaterial=fi.getSigningKey=fi.getHandle=fi.getDid=fi.isValidDidDoc=void 0;var Pr=Fl(),Mle=i=>fi.didDocument.safeParse(i).success;fi.isValidDidDoc=Mle;var Vle=i=>{let e=i.id;if(typeof e!="string")throw new Error("No `id` on document");return e};fi.getDid=Vle;var Nle=i=>{let e=i.alsoKnownAs;if(e)for(let t=0;t<e.length;t++){let r=e[t];if(r.startsWith("at://"))return r.slice(5)}};fi.getHandle=Nle;var Fle=i=>(0,fi.getVerificationMaterial)(i,"atproto");fi.getSigningKey=Fle;var Ule=(i,e)=>{let t=e8(i,"verificationMethod",`#${e}`);if(t&&t.publicKeyMultibase)return{type:t.type,publicKeyMultibase:t.publicKeyMultibase}};fi.getVerificationMaterial=Ule;var jle=i=>{let e=(0,fi.getSigningKey)(i);if(e)return`did:key:${e.publicKeyMultibase}`};fi.getSigningDidKey=jle;var qle=i=>(0,fi.getServiceEndpoint)(i,{id:"#atproto_pds",type:"AtprotoPersonalDataServer"});fi.getPdsEndpoint=qle;var $le=i=>(0,fi.getServiceEndpoint)(i,{id:"#bsky_fg",type:"BskyFeedGenerator"});fi.getFeedGenEndpoint=$le;var zle=i=>(0,fi.getServiceEndpoint)(i,{id:"#bsky_notif",type:"BskyNotificationService"});fi.getNotifEndpoint=zle;var Kle=(i,e)=>{let t=e8(i,"service",e.id);if(t&&!(e.type&&t.type!==e.type)&&typeof t.serviceEndpoint=="string")return Hle(t.serviceEndpoint)};fi.getServiceEndpoint=Kle;function e8(i,e,t){let r=i[e];if(r)for(let n=0;n<r.length;n++){let o=r[n],s=o.id;if(s[0]==="#"?s===t:s.length===i.id.length+t.length&&s[i.id.length]==="#"&&s.endsWith(t)&&s.startsWith(i.id))return o}}var Hle=i=>{if(!(!i.startsWith("http://")&&!i.startsWith("https://"))&&Gle(i))return i},Gle=URL.canParse??(i=>{try{return new URL(i),!0}catch{return!1}}),Wle=Pr.z.object({id:Pr.z.string(),type:Pr.z.string(),controller:Pr.z.string(),publicKeyMultibase:Pr.z.string().optional()}),Xle=Pr.z.object({id:Pr.z.string(),type:Pr.z.string(),serviceEndpoint:Pr.z.union([Pr.z.string(),Pr.z.record(Pr.z.unknown())])});fi.didDocument=Pr.z.object({id:Pr.z.string(),alsoKnownAs:Pr.z.array(Pr.z.string()).optional(),verificationMethod:Pr.z.array(Wle).optional(),service:Pr.z.array(Xle).optional()})});var Js=k(Xi=>{"use strict";var i8=Xi&&Xi.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),Zle=Xi&&Xi.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),r8=Xi&&Xi.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&i8(e,i,t);return Zle(e,i),e},Ys=Xi&&Xi.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&i8(e,i,t)};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.util=Xi.check=void 0;Xi.check=r8(QO());Xi.util=r8(Zd());Ys(JO(),Xi);Ys(iM(),Xi);Ys(Zd(),Xi);Ys(sM(),Xi);Ys(UM(),Xi);Ys($M(),Xi);Ys(KM(),Xi);Ys(HM(),Xi);Ys(JM(),Xi);Ys(t8(),Xi)});var Ub=k(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.BlobRef=In.jsonBlobRef=In.untypedJsonBlobRef=In.typedJsonBlobRef=void 0;var Qle=(Kl(),Al(_u)),Hl=Fl(),Fb=Js();In.typedJsonBlobRef=Hl.z.object({$type:Hl.z.literal("blob"),ref:Fb.schema.cid,mimeType:Hl.z.string(),size:Hl.z.number()}).strict();In.untypedJsonBlobRef=Hl.z.object({cid:Hl.z.string(),mimeType:Hl.z.string()}).strict();In.jsonBlobRef=Hl.z.union([In.typedJsonBlobRef,In.untypedJsonBlobRef]);var nA=class i{constructor(e,t,r,n){Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"mimeType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"original",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.original=n??{$type:"blob",ref:e,mimeType:t,size:r}}static asBlobRef(e){return Fb.check.is(e,In.jsonBlobRef)?i.fromJsonRef(e):null}static fromJsonRef(e){return Fb.check.is(e,In.typedJsonBlobRef)?new i(e.ref,e.mimeType,e.size):new i(Qle.CID.parse(e.cid),e.mimeType,-1,e)}ipld(){return{$type:"blob",ref:this.ref,mimeType:this.mimeType,size:this.size}}toJSON(){return(0,Fb.ipldToJson)(this.ipld())}};In.BlobRef=nA});var n8=k(oA=>{"use strict";Object.defineProperty(oA,"__esModule",{value:!0});oA.blob=ece;var Yle=Ub(),Jle=ql();function ece(i,e,t,r){return!r||!(r instanceof Yle.BlobRef)?{success:!1,error:new Jle.ValidationError(`${e} should be a blob ref`)}:{success:!0,value:r}}});var s8=k(o8=>{"use strict";(()=>{"use strict";var i={d:(d,f)=>{for(var g in f)i.o(f,g)&&!i.o(d,g)&&Object.defineProperty(d,g,{enumerable:!0,get:f[g]})},o:(d,f)=>Object.prototype.hasOwnProperty.call(d,f),r:d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}},e={};function t(d,f){return f===void 0&&(f="-"),new RegExp("^(?!0{4}"+f+"0{2}"+f+"0{2})((?=[0-9]{4}"+f+"(((0[^2])|1[0-2])|02(?="+f+"(([0-1][0-9])|2[0-8])))"+f+"[0-9]{2})|(?=((([13579][26])|([2468][048])|(0[48]))0{2})|([0-9]{2}((((0|[2468])[48])|[2468][048])|([13579][26])))"+f+"02"+f+"29))([0-9]{4})"+f+"(?!((0[469])|11)"+f+"31)((0[1,3-9]|1[0-2])|(02(?!"+f+"3)))"+f+"(0[1-9]|[1-2][0-9]|3[0-1])$").test(d)}function r(d){var f=/\D/.exec(d);return f?f[0]:""}function n(d,f,g){f===void 0&&(f=":"),g===void 0&&(g=!1);var w=new RegExp("^([0-1]|2(?=([0-3])|4"+f+"00))[0-9]"+f+"[0-5][0-9]("+f+"([0-5]|6(?=0))[0-9])?(.[0-9]{1,9})?$");if(!g||!/[Z+\-]/.test(d))return w.test(d);if(/Z$/.test(d))return w.test(d.replace("Z",""));var A=d.includes("+"),B=d.split(/[+-]/),S=B[0],U=B[1];return w.test(S)&&function(q,G,K){return K===void 0&&(K=":"),new RegExp(G?"^(0(?!(2"+K+"4)|0"+K+"3)|1(?=([0-1]|2(?="+K+"[04])|[34](?="+K+"0))))([03469](?="+K+"[03])|[17](?="+K+"0)|2(?="+K+"[04])|5(?="+K+"[034])|8(?="+K+"[04]))"+K+"([03](?=0)|4(?=5))[05]$":"^(0(?=[^0])|1(?=[0-2]))([39](?="+K+"[03])|[0-24-8](?="+K+"00))"+K+"[03]0$").test(q)}(U,A,r(U))}function o(d){var f=d.split("T"),g=f[0],w=f[1],A=t(g,r(g));if(!w)return!1;var B,S=(B=w.match(/([^Z+\-\d])(?=\d+\1)/),Array.isArray(B)?B[0]:"");return A&&n(w,S,!0)}function s(d,f){return f===void 0&&(f="-"),new RegExp("^[0-9]{4}"+f+"(0(?=[^0])|1(?=[0-2]))[0-9]$").test(d)}i.r(e),i.d(e,{isValidDate:()=>t,isValidISODateString:()=>o,isValidTime:()=>n,isValidYearMonth:()=>s});var a=o8;for(var l in e)a[l]=e[l];e.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})()});var c8=k(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.datetime=nce;uo.uri=oce;uo.atUri=sce;uo.did=a8;uo.handle=l8;uo.atIdentifier=ace;uo.nsid=lce;uo.cid=cce;uo.language=uce;uo.tid=dce;uo.recordKey=pce;var tce=s8(),ice=(Kl(),Al(_u)),rce=Js(),Yd=yu(),_s=ql();function nce(i,e){try{if(!(0,tce.isValidISODateString)(e))throw new Error}catch{return{success:!1,error:new _s.ValidationError(`${i} must be an valid atproto datetime (both RFC-3339 and ISO-8601)`)}}return{success:!0,value:e}}function oce(i,e){return e.match(/^\w+:(?:\/\/)?[^\s/][^\s]*$/)!==null?{success:!0,value:e}:{success:!1,error:new _s.ValidationError(`${i} must be a uri`)}}function sce(i,e){try{(0,Yd.ensureValidAtUri)(e)}catch{return{success:!1,error:new _s.ValidationError(`${i} must be a valid at-uri`)}}return{success:!0,value:e}}function a8(i,e){try{(0,Yd.ensureValidDid)(e)}catch{return{success:!1,error:new _s.ValidationError(`${i} must be a valid did`)}}return{success:!0,value:e}}function l8(i,e){try{(0,Yd.ensureValidHandle)(e)}catch{return{success:!1,error:new _s.ValidationError(`${i} must be a valid handle`)}}return{success:!0,value:e}}function ace(i,e){if(e.startsWith("did:")){let t=a8(i,e);if(t.success)return t}else{let t=l8(i,e);if(t.success)return t}return{success:!1,error:new _s.ValidationError(`${i} must be a valid did or a handle`)}}function lce(i,e){try{(0,Yd.ensureValidNsid)(e)}catch{return{success:!1,error:new _s.ValidationError(`${i} must be a valid nsid`)}}return{success:!0,value:e}}function cce(i,e){try{ice.CID.parse(e)}catch{return{success:!1,error:new _s.ValidationError(`${i} must be a cid string`)}}return{success:!0,value:e}}function uce(i,e){return(0,rce.validateLanguage)(e)?{success:!0,value:e}:{success:!1,error:new _s.ValidationError(`${i} must be a well-formed BCP 47 language tag`)}}function dce(i,e){return(0,Yd.isValidTid)(e)?{success:!0,value:e}:{success:!1,error:new _s.ValidationError(`${i} must be a valid TID`)}}function pce(i,e){try{(0,Yd.ensureValidRecordKey)(e)}catch{return{success:!1,error:new _s.ValidationError(`${i} must be a valid Record Key`)}}return{success:!0,value:e}}});var sA=k(tl=>{"use strict";var fce=tl&&tl.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),hce=tl&&tl.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),mce=tl&&tl.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&fce(e,i,t);return hce(e,i),e};Object.defineProperty(tl,"__esModule",{value:!0});tl.validate=yce;var gce=(Kl(),Al(_u)),u8=Js(),ji=ql(),vs=mce(c8());function yce(i,e,t,r){switch(t.type){case"boolean":return bce(i,e,t,r);case"integer":return _ce(i,e,t,r);case"string":return vce(i,e,t,r);case"bytes":return xce(i,e,t,r);case"cid-link":return Cce(i,e,t,r);case"unknown":return Ece(i,e,t,r);default:return{success:!1,error:new ji.ValidationError(`Unexpected lexicon type: ${t.type}`)}}}function bce(i,e,t,r){t=t;let n=typeof r;return n==="undefined"?typeof t.default=="boolean"?{success:!0,value:t.default}:{success:!1,error:new ji.ValidationError(`${e} must be a boolean`)}:n!=="boolean"?{success:!1,error:new ji.ValidationError(`${e} must be a boolean`)}:typeof t.const=="boolean"&&r!==t.const?{success:!1,error:new ji.ValidationError(`${e} must be ${t.const}`)}:{success:!0,value:r}}function _ce(i,e,t,r){return t=t,typeof r==="undefined"?typeof t.default=="number"?{success:!0,value:t.default}:{success:!1,error:new ji.ValidationError(`${e} must be an integer`)}:Number.isInteger(r)?typeof t.const=="number"&&r!==t.const?{success:!1,error:new ji.ValidationError(`${e} must be ${t.const}`)}:Array.isArray(t.enum)&&!t.enum.includes(r)?{success:!1,error:new ji.ValidationError(`${e} must be one of (${t.enum.join("|")})`)}:typeof t.maximum=="number"&&r>t.maximum?{success:!1,error:new ji.ValidationError(`${e} can not be greater than ${t.maximum}`)}:typeof t.minimum=="number"&&r<t.minimum?{success:!1,error:new ji.ValidationError(`${e} can not be less than ${t.minimum}`)}:{success:!0,value:r}:{success:!1,error:new ji.ValidationError(`${e} must be an integer`)}}function vce(i,e,t,r){if(t=t,typeof r>"u")return typeof t.default=="string"?{success:!0,value:t.default}:{success:!1,error:new ji.ValidationError(`${e} must be a string`)};if(typeof r!="string")return{success:!1,error:new ji.ValidationError(`${e} must be a string`)};if(typeof t.const=="string"&&r!==t.const)return{success:!1,error:new ji.ValidationError(`${e} must be ${t.const}`)};if(Array.isArray(t.enum)&&!t.enum.includes(r))return{success:!1,error:new ji.ValidationError(`${e} must be one of (${t.enum.join("|")})`)};if(typeof t.minLength=="number"||typeof t.maxLength=="number"){if(typeof t.minLength=="number"&&r.length*3<t.minLength)return{success:!1,error:new ji.ValidationError(`${e} must not be shorter than ${t.minLength} characters`)};let n=!1;if(typeof t.minLength>"u"&&typeof t.maxLength=="number"&&r.length*3<=t.maxLength&&(n=!0),!n){let o=(0,u8.utf8Len)(r);if(typeof t.maxLength=="number"&&o>t.maxLength)return{success:!1,error:new ji.ValidationError(`${e} must not be longer than ${t.maxLength} characters`)};if(typeof t.minLength=="number"&&o<t.minLength)return{success:!1,error:new ji.ValidationError(`${e} must not be shorter than ${t.minLength} characters`)}}}if(typeof t.maxGraphemes=="number"||typeof t.minGraphemes=="number"){let n=!1,o=!1;if(typeof t.maxGraphemes=="number"&&(r.length<=t.maxGraphemes?n=!1:n=!0),typeof t.minGraphemes=="number"){if(r.length<t.minGraphemes)return{success:!1,error:new ji.ValidationError(`${e} must not be shorter than ${t.minGraphemes} graphemes`)};o=!0}if(n||o){let s=(0,u8.graphemeLen)(r);if(typeof t.maxGraphemes=="number"&&s>t.maxGraphemes)return{success:!1,error:new ji.ValidationError(`${e} must not be longer than ${t.maxGraphemes} graphemes`)};if(typeof t.minGraphemes=="number"&&s<t.minGraphemes)return{success:!1,error:new ji.ValidationError(`${e} must not be shorter than ${t.minGraphemes} graphemes`)}}}if(typeof t.format=="string")switch(t.format){case"datetime":return vs.datetime(e,r);case"uri":return vs.uri(e,r);case"at-uri":return vs.atUri(e,r);case"did":return vs.did(e,r);case"handle":return vs.handle(e,r);case"at-identifier":return vs.atIdentifier(e,r);case"nsid":return vs.nsid(e,r);case"cid":return vs.cid(e,r);case"language":return vs.language(e,r);case"tid":return vs.tid(e,r);case"record-key":return vs.recordKey(e,r)}return{success:!0,value:r}}function xce(i,e,t,r){return t=t,!r||!(r instanceof Uint8Array)?{success:!1,error:new ji.ValidationError(`${e} must be a byte array`)}:typeof t.maxLength=="number"&&r.byteLength>t.maxLength?{success:!1,error:new ji.ValidationError(`${e} must not be larger than ${t.maxLength} bytes`)}:typeof t.minLength=="number"&&r.byteLength<t.minLength?{success:!1,error:new ji.ValidationError(`${e} must not be smaller than ${t.minLength} bytes`)}:{success:!0,value:r}}function Cce(i,e,t,r){return gce.CID.asCID(r)===null?{success:!1,error:new ji.ValidationError(`${e} must be a CID`)}:{success:!0,value:r}}function Ece(i,e,t,r){return!r||typeof r!="object"?{success:!1,error:new ji.ValidationError(`${e} must be an object`)}:{success:!0,value:r}}});var jb=k(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.validate=d8;Jd.array=p8;Jd.object=aA;Jd.validateOneOf=lA;var il=ql(),Tce=Ab(),wce=n8(),Sce=sA();function d8(i,e,t,r){switch(t.type){case"object":return aA(i,e,t,r);case"array":return p8(i,e,t,r);case"blob":return(0,wce.blob)(i,e,t,r);default:return(0,Sce.validate)(i,e,t,r)}}function p8(i,e,t,r){if(!Array.isArray(r))return{success:!1,error:new il.ValidationError(`${e} must be an array`)};if(typeof t.maxLength=="number"&&r.length>t.maxLength)return{success:!1,error:new il.ValidationError(`${e} must not have more than ${t.maxLength} elements`)};if(typeof t.minLength=="number"&&r.length<t.minLength)return{success:!1,error:new il.ValidationError(`${e} must not have fewer than ${t.minLength} elements`)};let n=t.items;for(let o=0;o<r.length;o++){let s=r[o],a=`${e}/${o}`,l=lA(i,a,n,s);if(!l.success)return l}return{success:!0,value:r}}function aA(i,e,t,r){if(!(0,il.isObj)(r))return{success:!1,error:new il.ValidationError(`${e} must be an object`)};let n=r;if("properties"in t&&t.properties!=null)for(let o in t.properties){let s=r[o];if(s===null&&t.nullable?.includes(o))continue;let a=t.properties[o];if(s===void 0&&!t.required?.includes(o))if(a.type==="integer"||a.type==="boolean"||a.type==="string"){if(a.default===void 0)continue}else continue;let l=`${e}/${o}`,d=lA(i,l,a,s),f=d.success?d.value:s;if(f===void 0){if(t.required?.includes(o))return{success:!1,error:new il.ValidationError(`${e} must have the property "${o}"`)}}else if(!d.success)return d;f!==s&&(n===r&&(n=R({},r)),n[o]=f)}return{success:!0,value:n}}function lA(i,e,t,r,n=!1){let o;if(t.type==="union"){if(!(0,il.isDiscriminatedObject)(r))return{success:!1,error:new il.ValidationError(`${e} must be an object which includes the "$type" property`)};if(Ace(t.refs,r.$type))o=i.getDefOrThrow(r.$type);else return t.closed?{success:!1,error:new il.ValidationError(`${e} $type must be one of ${t.refs.join(", ")}`)}:{success:!0,value:r}}else t.type==="ref"?o=i.getDefOrThrow(t.ref):o=t;return n?aA(i,e,o,r):d8(i,e,o,r)}var Ace=(i,e)=>{let t=(0,Tce.toLexUri)(e);return i.includes(t)?!0:t.endsWith("#main")?i.includes(t.slice(0,-5)):!t.includes("#")&&i.includes(`${t}#main`)}});var f8=k(rl=>{"use strict";var Rce=rl&&rl.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),kce=rl&&rl.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),Dce=rl&&rl.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&Rce(e,i,t);return kce(e,i),e};Object.defineProperty(rl,"__esModule",{value:!0});rl.params=Bce;var Ice=ql(),Pce=jb(),Lce=Dce(sA());function Bce(i,e,t,r){let n=r&&typeof r=="object"?r:{},o=new Set(t.required??[]),s=n;if(typeof t.properties=="object")for(let a in t.properties){let l=t.properties[a],d=l.type==="array"?(0,Pce.array)(i,a,l,n[a]):Lce.validate(i,a,l,n[a]),f=d.success?d.value:n[a],g=typeof f>"u";if(g&&o.has(a))return{success:!1,error:new Ice.ValidationError(`${e} must have the property "${a}"`)};if(!g&&!d.success)return d;f!==n[a]&&(s===n&&(s=R({},n)),s[a]=f)}return{success:!0,value:s}}});var m8=k(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.assertValidRecord=Mce;xu.assertValidXrpcParams=Vce;xu.assertValidXrpcInput=Nce;xu.assertValidXrpcOutput=Fce;xu.assertValidXrpcMessage=Uce;var h8=jb(),Oce=f8();function Mce(i,e,t){let r=(0,h8.object)(i,"Record",e.record,t);if(!r.success)throw r.error;return r.value}function Vce(i,e,t){if(e.parameters){let r=(0,Oce.params)(i,"Params",e.parameters,t);if(!r.success)throw r.error;return r.value}}function Nce(i,e,t){if(e.input?.schema)return cA(i,"Input",e.input.schema,t,!0)}function Fce(i,e,t){if(e.output?.schema)return cA(i,"Output",e.output.schema,t,!0)}function Uce(i,e,t){if(e.message?.schema)return cA(i,"Message",e.message.schema,t,!0)}function cA(i,e,t,r,n=!1){let o=(0,h8.validateOneOf)(i,e,t,r,n);if(!o.success)throw o.error;return o.value}});var b8=k(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.Lexicons=void 0;var ea=ql(),Jr=Ab(),Em=m8(),g8=jb(),uA=class{constructor(e){if(Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"defs",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),e)for(let t of e)this.add(t)}[Symbol.iterator](){return this.docs.values()}add(e){let t=(0,Jr.toLexUri)(e.id);if(this.docs.has(t))throw new Error(`${t} has already been registered`);dA(e,t),this.docs.set(t,e);for(let[r,n]of y8(e))this.defs.set(r,n)}remove(e){e=(0,Jr.toLexUri)(e);let t=this.docs.get(e);if(!t)throw new Error(`Unable to remove "${e}": does not exist`);for(let[r,n]of y8(t))this.defs.delete(r);this.docs.delete(e)}get(e){return e=(0,Jr.toLexUri)(e),this.docs.get(e)}getDef(e){return e=(0,Jr.toLexUri)(e),this.defs.get(e)}getDefOrThrow(e,t){let r=this.getDef(e);if(!r)throw new ea.LexiconDefNotFoundError(`Lexicon not found: ${e}`);if(t&&!t.includes(r.type))throw new ea.InvalidLexiconError(`Not a ${t.join(" or ")} lexicon: ${e}`);return r}validate(e,t){if(!(0,ea.isObj)(t))throw new ea.ValidationError("Value must be an object");let r=(0,Jr.toLexUri)(e),n=this.getDefOrThrow(r,["record","object"]);if(n.type==="record")return(0,g8.object)(this,"Record",n.record,t);if(n.type==="object")return(0,g8.object)(this,"Object",n,t);throw new ea.InvalidLexiconError("Definition must be a record or object")}assertValidRecord(e,t){if(!(0,ea.isObj)(t))throw new ea.ValidationError("Record must be an object");if(!("$type"in t))throw new ea.ValidationError("Record/$type must be a string");let{$type:r}=t;if(typeof r!="string")throw new ea.ValidationError("Record/$type must be a string");let n=(0,Jr.toLexUri)(e);if((0,Jr.toLexUri)(r)!==n)throw new ea.ValidationError(`Invalid $type: must be ${n}, got ${r}`);let o=this.getDefOrThrow(n,["record"]);return(0,Em.assertValidRecord)(this,o,t)}assertValidXrpcParams(e,t){e=(0,Jr.toLexUri)(e);let r=this.getDefOrThrow(e,["query","procedure","subscription"]);return(0,Em.assertValidXrpcParams)(this,r,t)}assertValidXrpcInput(e,t){e=(0,Jr.toLexUri)(e);let r=this.getDefOrThrow(e,["procedure"]);return(0,Em.assertValidXrpcInput)(this,r,t)}assertValidXrpcOutput(e,t){e=(0,Jr.toLexUri)(e);let r=this.getDefOrThrow(e,["query","procedure"]);return(0,Em.assertValidXrpcOutput)(this,r,t)}assertValidXrpcMessage(e,t){e=(0,Jr.toLexUri)(e);let r=this.getDefOrThrow(e,["subscription"]);return(0,Em.assertValidXrpcMessage)(this,r,t)}resolveLexUri(e,t){return e=(0,Jr.toLexUri)(e),(0,Jr.toLexUri)(t,e)}};qb.Lexicons=uA;function*y8(i){for(let e in i.defs)yield[`lex:${i.id}#${e}`,i.defs[e]],e==="main"&&(yield[`lex:${i.id}`,i.defs[e]])}function dA(i,e){for(let t in i)i.type==="ref"?i.ref=(0,Jr.toLexUri)(i.ref,e):i.type==="union"?i.refs=i.refs.map(r=>(0,Jr.toLexUri)(r,e)):Array.isArray(i[t])?i[t]=i[t].map(r=>typeof r=="string"?r.startsWith("#")?(0,Jr.toLexUri)(r,e):r:r&&typeof r=="object"?dA(r,e):r):i[t]&&typeof i[t]=="object"&&(i[t]=dA(i[t],e));return i}});var v8=k(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.jsonStringToLex=lr.jsonToLex=lr.stringifyLex=lr.lexToJson=lr.ipldToLex=lr.lexToIpld=void 0;var _8=(Kl(),Al(_u)),fA=Js(),pA=Ub(),jce=i=>{if(Array.isArray(i))return i.map(e=>(0,lr.lexToIpld)(e));if(i&&typeof i=="object"){if(i instanceof pA.BlobRef)return i.original;if(_8.CID.asCID(i)||i instanceof Uint8Array)return i;let e={};for(let t of Object.keys(i))e[t]=(0,lr.lexToIpld)(i[t]);return e}return i};lr.lexToIpld=jce;var qce=i=>{if(Array.isArray(i))return i.map(e=>(0,lr.ipldToLex)(e));if(i&&typeof i=="object"){if((i.$type==="blob"||typeof i.cid=="string"&&typeof i.mimeType=="string")&&fA.check.is(i,pA.jsonBlobRef))return pA.BlobRef.fromJsonRef(i);if(_8.CID.asCID(i)||i instanceof Uint8Array)return i;let e={};for(let t of Object.keys(i))e[t]=(0,lr.ipldToLex)(i[t]);return e}return i};lr.ipldToLex=qce;var $ce=i=>(0,fA.ipldToJson)((0,lr.lexToIpld)(i));lr.lexToJson=$ce;var zce=i=>JSON.stringify((0,lr.lexToJson)(i));lr.stringifyLex=zce;var Kce=i=>(0,lr.ipldToLex)((0,fA.jsonToIpld)(i));lr.jsonToLex=Kce;var Hce=i=>(0,lr.jsonToLex)(JSON.parse(i));lr.jsonStringToLex=Hce});var Cu=k(ta=>{"use strict";var Gce=ta&&ta.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),$b=ta&&ta.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gce(e,i,t)};Object.defineProperty(ta,"__esModule",{value:!0});$b(ql(),ta);$b(b8(),ta);$b(Ub(),ta);$b(v8(),ta)});var z=k(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.is$typed=Wce;Tm.maybe$typed=Xce;Tm.asPredicate=Zce;function x8(i){return i!=null&&typeof i=="object"}function C8(i,e,t){return t==="main"?i===e:typeof i=="string"&&i.length===e.length+1+t.length&&i.charCodeAt(e.length)===35&&i.startsWith(e)&&i.endsWith(t)}function Wce(i,e,t){return x8(i)&&"$type"in i&&C8(i.$type,e,t)}function Xce(i,e,t){return x8(i)&&("$type"in i?i.$type===void 0||C8(i.$type,e,t):!0)}function Zce(i){return function(e){return i(e).success}}});var $=k(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ids=Pn.lexicons=Pn.schemas=Pn.schemaDict=void 0;Pn.validate=Qce;var T8=Cu(),E8=z();Pn.schemaDict={ComAtprotoAdminDefs:{lexicon:1,id:"com.atproto.admin.defs",defs:{statusAttr:{type:"object",required:["applied"],properties:{applied:{type:"boolean"},ref:{type:"string"}}},accountView:{type:"object",required:["did","handle","indexedAt"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"},invites:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}},invitesDisabled:{type:"boolean"},emailConfirmedAt:{type:"string",format:"datetime"},inviteNote:{type:"string"},deactivatedAt:{type:"string",format:"datetime"},threatSignatures:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#threatSignature"}}}},repoRef:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},repoBlobRef:{type:"object",required:["did","cid"],properties:{did:{type:"string",format:"did"},cid:{type:"string",format:"cid"},recordUri:{type:"string",format:"at-uri"}}},threatSignature:{type:"object",required:["property","value"],properties:{property:{type:"string"},value:{type:"string"}}}}},ComAtprotoAdminDeleteAccount:{lexicon:1,id:"com.atproto.admin.deleteAccount",defs:{main:{type:"procedure",description:"Delete a user account as an administrator.",input:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}}}}},ComAtprotoAdminDisableAccountInvites:{lexicon:1,id:"com.atproto.admin.disableAccountInvites",defs:{main:{type:"procedure",description:"Disable an account from receiving new invite codes, but does not invalidate existing codes.",input:{encoding:"application/json",schema:{type:"object",required:["account"],properties:{account:{type:"string",format:"did"},note:{type:"string",description:"Optional reason for disabled invites."}}}}}}},ComAtprotoAdminDisableInviteCodes:{lexicon:1,id:"com.atproto.admin.disableInviteCodes",defs:{main:{type:"procedure",description:"Disable some set of codes and/or all codes associated with a set of users.",input:{encoding:"application/json",schema:{type:"object",properties:{codes:{type:"array",items:{type:"string"}},accounts:{type:"array",items:{type:"string"}}}}}}}},ComAtprotoAdminEnableAccountInvites:{lexicon:1,id:"com.atproto.admin.enableAccountInvites",defs:{main:{type:"procedure",description:"Re-enable an account's ability to receive invite codes.",input:{encoding:"application/json",schema:{type:"object",required:["account"],properties:{account:{type:"string",format:"did"},note:{type:"string",description:"Optional reason for enabled invites."}}}}}}},ComAtprotoAdminGetAccountInfo:{lexicon:1,id:"com.atproto.admin.getAccountInfo",defs:{main:{type:"query",description:"Get details about an account.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"}}}}},ComAtprotoAdminGetAccountInfos:{lexicon:1,id:"com.atproto.admin.getAccountInfos",defs:{main:{type:"query",description:"Get details about some accounts.",parameters:{type:"params",required:["dids"],properties:{dids:{type:"array",items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["infos"],properties:{infos:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"}}}}}}}},ComAtprotoAdminGetInviteCodes:{lexicon:1,id:"com.atproto.admin.getInviteCodes",defs:{main:{type:"query",description:"Get an admin view of invite codes.",parameters:{type:"params",properties:{sort:{type:"string",knownValues:["recent","usage"],default:"recent"},limit:{type:"integer",minimum:1,maximum:500,default:100},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{cursor:{type:"string"},codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}}}}}}},ComAtprotoAdminGetSubjectStatus:{lexicon:1,id:"com.atproto.admin.getSubjectStatus",defs:{main:{type:"query",description:"Get the service-specific admin status of a subject (account, record, or blob).",parameters:{type:"params",properties:{did:{type:"string",format:"did"},uri:{type:"string",format:"at-uri"},blob:{type:"string",format:"cid"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject"],properties:{subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:com.atproto.admin.defs#repoBlobRef"]},takedown:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"},deactivated:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"}}}}}}},ComAtprotoAdminSearchAccounts:{lexicon:1,id:"com.atproto.admin.searchAccounts",defs:{main:{type:"query",description:"Get list of accounts that matches your search query.",parameters:{type:"params",properties:{email:{type:"string"},cursor:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50}}},output:{encoding:"application/json",schema:{type:"object",required:["accounts"],properties:{cursor:{type:"string"},accounts:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"}}}}}}}},ComAtprotoAdminSendEmail:{lexicon:1,id:"com.atproto.admin.sendEmail",defs:{main:{type:"procedure",description:"Send email to a user's account email address.",input:{encoding:"application/json",schema:{type:"object",required:["recipientDid","content","senderDid"],properties:{recipientDid:{type:"string",format:"did"},content:{type:"string"},subject:{type:"string"},senderDid:{type:"string",format:"did"},comment:{type:"string",description:"Additional comment by the sender that won't be used in the email itself but helpful to provide more context for moderators/reviewers"}}}},output:{encoding:"application/json",schema:{type:"object",required:["sent"],properties:{sent:{type:"boolean"}}}}}}},ComAtprotoAdminUpdateAccountEmail:{lexicon:1,id:"com.atproto.admin.updateAccountEmail",defs:{main:{type:"procedure",description:"Administrative action to update an account's email.",input:{encoding:"application/json",schema:{type:"object",required:["account","email"],properties:{account:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},email:{type:"string"}}}}}}},ComAtprotoAdminUpdateAccountHandle:{lexicon:1,id:"com.atproto.admin.updateAccountHandle",defs:{main:{type:"procedure",description:"Administrative action to update an account's handle.",input:{encoding:"application/json",schema:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"}}}}}}},ComAtprotoAdminUpdateAccountPassword:{lexicon:1,id:"com.atproto.admin.updateAccountPassword",defs:{main:{type:"procedure",description:"Update the password for a user account as an administrator.",input:{encoding:"application/json",schema:{type:"object",required:["did","password"],properties:{did:{type:"string",format:"did"},password:{type:"string"}}}}}}},ComAtprotoAdminUpdateSubjectStatus:{lexicon:1,id:"com.atproto.admin.updateSubjectStatus",defs:{main:{type:"procedure",description:"Update the service-specific admin status of a subject (account, record, or blob).",input:{encoding:"application/json",schema:{type:"object",required:["subject"],properties:{subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:com.atproto.admin.defs#repoBlobRef"]},takedown:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"},deactivated:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"}}}},output:{encoding:"application/json",schema:{type:"object",required:["subject"],properties:{subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:com.atproto.admin.defs#repoBlobRef"]},takedown:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"}}}}}}},ComAtprotoIdentityDefs:{lexicon:1,id:"com.atproto.identity.defs",defs:{identityInfo:{type:"object",required:["did","handle","didDoc"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle",description:"The validated handle of the account; or 'handle.invalid' if the handle did not bi-directionally match the DID document."},didDoc:{type:"unknown",description:"The complete DID document for the identity."}}}}},ComAtprotoIdentityGetRecommendedDidCredentials:{lexicon:1,id:"com.atproto.identity.getRecommendedDidCredentials",defs:{main:{type:"query",description:"Describe the credentials that should be included in the DID doc of an account that is migrating to this service.",output:{encoding:"application/json",schema:{type:"object",properties:{rotationKeys:{description:"Recommended rotation keys for PLC dids. Should be undefined (or ignored) for did:webs.",type:"array",items:{type:"string"}},alsoKnownAs:{type:"array",items:{type:"string"}},verificationMethods:{type:"unknown"},services:{type:"unknown"}}}}}}},ComAtprotoIdentityRefreshIdentity:{lexicon:1,id:"com.atproto.identity.refreshIdentity",defs:{main:{type:"procedure",description:"Request that the server re-resolve an identity (DID and handle). The server may ignore this request, or require authentication, depending on the role, implementation, and policy of the server.",input:{encoding:"application/json",schema:{type:"object",required:["identifier"],properties:{identifier:{type:"string",format:"at-identifier"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.identity.defs#identityInfo"}},errors:[{name:"HandleNotFound",description:"The resolution process confirmed that the handle does not resolve to any DID."},{name:"DidNotFound",description:"The DID resolution process confirmed that there is no current DID."},{name:"DidDeactivated",description:"The DID previously existed, but has been deactivated."}]}}},ComAtprotoIdentityRequestPlcOperationSignature:{lexicon:1,id:"com.atproto.identity.requestPlcOperationSignature",defs:{main:{type:"procedure",description:"Request an email with a code to in order to request a signed PLC operation. Requires Auth."}}},ComAtprotoIdentityResolveDid:{lexicon:1,id:"com.atproto.identity.resolveDid",defs:{main:{type:"query",description:"Resolves DID to DID document. Does not bi-directionally verify handle.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"DID to resolve."}}},output:{encoding:"application/json",schema:{type:"object",required:["didDoc"],properties:{didDoc:{type:"unknown",description:"The complete DID document for the identity."}}}},errors:[{name:"DidNotFound",description:"The DID resolution process confirmed that there is no current DID."},{name:"DidDeactivated",description:"The DID previously existed, but has been deactivated."}]}}},ComAtprotoIdentityResolveHandle:{lexicon:1,id:"com.atproto.identity.resolveHandle",defs:{main:{type:"query",description:"Resolves an atproto handle (hostname) to a DID. Does not necessarily bi-directionally verify against the the DID document.",parameters:{type:"params",required:["handle"],properties:{handle:{type:"string",format:"handle",description:"The handle to resolve."}}},output:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}},errors:[{name:"HandleNotFound",description:"The resolution process confirmed that the handle does not resolve to any DID."}]}}},ComAtprotoIdentityResolveIdentity:{lexicon:1,id:"com.atproto.identity.resolveIdentity",defs:{main:{type:"query",description:"Resolves an identity (DID or Handle) to a full identity (DID document and verified handle).",parameters:{type:"params",required:["identifier"],properties:{identifier:{type:"string",format:"at-identifier",description:"Handle or DID to resolve."}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.identity.defs#identityInfo"}},errors:[{name:"HandleNotFound",description:"The resolution process confirmed that the handle does not resolve to any DID."},{name:"DidNotFound",description:"The DID resolution process confirmed that there is no current DID."},{name:"DidDeactivated",description:"The DID previously existed, but has been deactivated."}]}}},ComAtprotoIdentitySignPlcOperation:{lexicon:1,id:"com.atproto.identity.signPlcOperation",defs:{main:{type:"procedure",description:"Signs a PLC operation to update some value(s) in the requesting DID's document.",input:{encoding:"application/json",schema:{type:"object",properties:{token:{description:"A token received through com.atproto.identity.requestPlcOperationSignature",type:"string"},rotationKeys:{type:"array",items:{type:"string"}},alsoKnownAs:{type:"array",items:{type:"string"}},verificationMethods:{type:"unknown"},services:{type:"unknown"}}}},output:{encoding:"application/json",schema:{type:"object",required:["operation"],properties:{operation:{type:"unknown",description:"A signed DID PLC operation."}}}}}}},ComAtprotoIdentitySubmitPlcOperation:{lexicon:1,id:"com.atproto.identity.submitPlcOperation",defs:{main:{type:"procedure",description:"Validates a PLC operation to ensure that it doesn't violate a service's constraints or get the identity into a bad state, then submits it to the PLC registry",input:{encoding:"application/json",schema:{type:"object",required:["operation"],properties:{operation:{type:"unknown"}}}}}}},ComAtprotoIdentityUpdateHandle:{lexicon:1,id:"com.atproto.identity.updateHandle",defs:{main:{type:"procedure",description:"Updates the current account's handle. Verifies handle validity, and updates did:plc document if necessary. Implemented by PDS, and requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["handle"],properties:{handle:{type:"string",format:"handle",description:"The new handle."}}}}}}},ComAtprotoLabelDefs:{lexicon:1,id:"com.atproto.label.defs",defs:{label:{type:"object",description:"Metadata tag on an atproto resource (eg, repo or record).",required:["src","uri","val","cts"],properties:{ver:{type:"integer",description:"The AT Protocol version of the label object."},src:{type:"string",format:"did",description:"DID of the actor who created this label."},uri:{type:"string",format:"uri",description:"AT URI of the record, repository (account), or other resource that this label applies to."},cid:{type:"string",format:"cid",description:"Optionally, CID specifying the specific version of 'uri' resource this label applies to."},val:{type:"string",maxLength:128,description:"The short string name of the value or type of this label."},neg:{type:"boolean",description:"If true, this is a negation label, overwriting a previous label."},cts:{type:"string",format:"datetime",description:"Timestamp when this label was created."},exp:{type:"string",format:"datetime",description:"Timestamp at which this label expires (no longer applies)."},sig:{type:"bytes",description:"Signature of dag-cbor encoded label."}}},selfLabels:{type:"object",description:"Metadata tags on an atproto record, published by the author within the record.",required:["values"],properties:{values:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#selfLabel"},maxLength:10}}},selfLabel:{type:"object",description:"Metadata tag on an atproto record, published by the author within the record. Note that schemas should use #selfLabels, not #selfLabel.",required:["val"],properties:{val:{type:"string",maxLength:128,description:"The short string name of the value or type of this label."}}},labelValueDefinition:{type:"object",description:"Declares a label value and its expected interpretations and behaviors.",required:["identifier","severity","blurs","locales"],properties:{identifier:{type:"string",description:"The value of the label being defined. Must only include lowercase ascii and the '-' character ([a-z-]+).",maxLength:100,maxGraphemes:100},severity:{type:"string",description:"How should a client visually convey this label? 'inform' means neutral and informational; 'alert' means negative and warning; 'none' means show nothing.",knownValues:["inform","alert","none"]},blurs:{type:"string",description:"What should this label hide in the UI, if applied? 'content' hides all of the target; 'media' hides the images/video/audio; 'none' hides nothing.",knownValues:["content","media","none"]},defaultSetting:{type:"string",description:"The default setting for this label.",knownValues:["ignore","warn","hide"],default:"warn"},adultOnly:{type:"boolean",description:"Does the user need to have adult content enabled in order to configure this label?"},locales:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#labelValueDefinitionStrings"}}}},labelValueDefinitionStrings:{type:"object",description:"Strings which describe the label in the UI, localized into a specific language.",required:["lang","name","description"],properties:{lang:{type:"string",description:"The code of the language these strings are written in.",format:"language"},name:{type:"string",description:"A short human-readable name for the label.",maxGraphemes:64,maxLength:640},description:{type:"string",description:"A longer description of what the label means and why it might be applied.",maxGraphemes:1e4,maxLength:1e5}}},labelValue:{type:"string",knownValues:["!hide","!no-promote","!warn","!no-unauthenticated","dmca-violation","doxxing","porn","sexual","nudity","nsfl","gore"]}}},ComAtprotoLabelQueryLabels:{lexicon:1,id:"com.atproto.label.queryLabels",defs:{main:{type:"query",description:"Find labels relevant to the provided AT-URI patterns. Public endpoint for moderation services, though may return different or additional results with auth.",parameters:{type:"params",required:["uriPatterns"],properties:{uriPatterns:{type:"array",items:{type:"string"},description:"List of AT URI patterns to match (boolean 'OR'). Each may be a prefix (ending with '*'; will match inclusive of the string leading to '*'), or a full URI."},sources:{type:"array",items:{type:"string",format:"did"},description:"Optional list of label sources (DIDs) to filter on."},limit:{type:"integer",minimum:1,maximum:250,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["labels"],properties:{cursor:{type:"string"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}}}},ComAtprotoLabelSubscribeLabels:{lexicon:1,id:"com.atproto.label.subscribeLabels",defs:{main:{type:"subscription",description:"Subscribe to stream of labels (and negations). Public endpoint implemented by mod services. Uses same sequencing scheme as repo event stream.",parameters:{type:"params",properties:{cursor:{type:"integer",description:"The last known event seq number to backfill from."}}},message:{schema:{type:"union",refs:["lex:com.atproto.label.subscribeLabels#labels","lex:com.atproto.label.subscribeLabels#info"]}},errors:[{name:"FutureCursor"}]},labels:{type:"object",required:["seq","labels"],properties:{seq:{type:"integer"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},info:{type:"object",required:["name"],properties:{name:{type:"string",knownValues:["OutdatedCursor"]},message:{type:"string"}}}}},ComAtprotoLexiconSchema:{lexicon:1,id:"com.atproto.lexicon.schema",defs:{main:{type:"record",description:"Representation of Lexicon schemas themselves, when published as atproto records. Note that the schema language is not defined in Lexicon; this meta schema currently only includes a single version field ('lexicon'). See the atproto specifications for description of the other expected top-level fields ('id', 'defs', etc).",key:"nsid",record:{type:"object",required:["lexicon"],properties:{lexicon:{type:"integer",description:"Indicates the 'version' of the Lexicon language. Must be '1' for the current atproto/Lexicon schema system."}}}}}},ComAtprotoModerationCreateReport:{lexicon:1,id:"com.atproto.moderation.createReport",defs:{main:{type:"procedure",description:"Submit a moderation report regarding an atproto account or record. Implemented by moderation services (with PDS proxying), and requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["reasonType","subject"],properties:{reasonType:{type:"ref",description:"Indicates the broad category of violation the report is for.",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string",maxGraphemes:2e3,maxLength:2e4,description:"Additional context about the content and violation."},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]}}}},output:{encoding:"application/json",schema:{type:"object",required:["id","reasonType","subject","reportedBy","createdAt"],properties:{id:{type:"integer"},reasonType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string",maxGraphemes:2e3,maxLength:2e4},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},reportedBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}}}}}},ComAtprotoModerationDefs:{lexicon:1,id:"com.atproto.moderation.defs",defs:{reasonType:{type:"string",knownValues:["com.atproto.moderation.defs#reasonSpam","com.atproto.moderation.defs#reasonViolation","com.atproto.moderation.defs#reasonMisleading","com.atproto.moderation.defs#reasonSexual","com.atproto.moderation.defs#reasonRude","com.atproto.moderation.defs#reasonOther","com.atproto.moderation.defs#reasonAppeal"]},reasonSpam:{type:"token",description:"Spam: frequent unwanted promotion, replies, mentions"},reasonViolation:{type:"token",description:"Direct violation of server rules, laws, terms of service"},reasonMisleading:{type:"token",description:"Misleading identity, affiliation, or content"},reasonSexual:{type:"token",description:"Unwanted or mislabeled sexual content"},reasonRude:{type:"token",description:"Rude, harassing, explicit, or otherwise unwelcoming behavior"},reasonOther:{type:"token",description:"Other: reports not falling under another report category"},reasonAppeal:{type:"token",description:"Appeal: appeal a previously taken moderation action"},subjectType:{type:"string",description:"Tag describing a type of subject that might be reported.",knownValues:["account","record","chat"]}}},ComAtprotoRepoApplyWrites:{lexicon:1,id:"com.atproto.repo.applyWrites",defs:{main:{type:"procedure",description:"Apply a batch transaction of repository creates, updates, and deletes. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","writes"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},validate:{type:"boolean",description:"Can be set to 'false' to skip Lexicon schema validation of record data across all operations, 'true' to require it, or leave unset to validate only for known Lexicons."},writes:{type:"array",items:{type:"union",refs:["lex:com.atproto.repo.applyWrites#create","lex:com.atproto.repo.applyWrites#update","lex:com.atproto.repo.applyWrites#delete"],closed:!0}},swapCommit:{type:"string",description:"If provided, the entire operation will fail if the current repo commit CID does not match this value. Used to prevent conflicting repo mutations.",format:"cid"}}}},output:{encoding:"application/json",schema:{type:"object",required:[],properties:{commit:{type:"ref",ref:"lex:com.atproto.repo.defs#commitMeta"},results:{type:"array",items:{type:"union",refs:["lex:com.atproto.repo.applyWrites#createResult","lex:com.atproto.repo.applyWrites#updateResult","lex:com.atproto.repo.applyWrites#deleteResult"],closed:!0}}}}},errors:[{name:"InvalidSwap",description:"Indicates that the 'swapCommit' parameter did not match current commit."}]},create:{type:"object",description:"Operation which creates a new record.",required:["collection","value"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string",maxLength:512,format:"record-key",description:"NOTE: maxLength is redundant with record-key format. Keeping it temporarily to ensure backwards compatibility."},value:{type:"unknown"}}},update:{type:"object",description:"Operation which updates an existing record.",required:["collection","rkey","value"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string",format:"record-key"},value:{type:"unknown"}}},delete:{type:"object",description:"Operation which deletes an existing record.",required:["collection","rkey"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string",format:"record-key"}}},createResult:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},validationStatus:{type:"string",knownValues:["valid","unknown"]}}},updateResult:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},validationStatus:{type:"string",knownValues:["valid","unknown"]}}},deleteResult:{type:"object",required:[],properties:{}}}},ComAtprotoRepoCreateRecord:{lexicon:1,id:"com.atproto.repo.createRecord",defs:{main:{type:"procedure",description:"Create a single new repository record. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","record"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",format:"record-key",description:"The Record Key.",maxLength:512},validate:{type:"boolean",description:"Can be set to 'false' to skip Lexicon schema validation of record data, 'true' to require it, or leave unset to validate only for known Lexicons."},record:{type:"unknown",description:"The record itself. Must contain a $type field."},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by CID."}}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},commit:{type:"ref",ref:"lex:com.atproto.repo.defs#commitMeta"},validationStatus:{type:"string",knownValues:["valid","unknown"]}}}},errors:[{name:"InvalidSwap",description:"Indicates that 'swapCommit' didn't match current repo commit."}]}}},ComAtprotoRepoDefs:{lexicon:1,id:"com.atproto.repo.defs",defs:{commitMeta:{type:"object",required:["cid","rev"],properties:{cid:{type:"string",format:"cid"},rev:{type:"string",format:"tid"}}}}},ComAtprotoRepoDeleteRecord:{lexicon:1,id:"com.atproto.repo.deleteRecord",defs:{main:{type:"procedure",description:"Delete a repository record, or ensure it doesn't exist. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","rkey"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",format:"record-key",description:"The Record Key."},swapRecord:{type:"string",format:"cid",description:"Compare and swap with the previous record by CID."},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by CID."}}}},output:{encoding:"application/json",schema:{type:"object",properties:{commit:{type:"ref",ref:"lex:com.atproto.repo.defs#commitMeta"}}}},errors:[{name:"InvalidSwap"}]}}},ComAtprotoRepoDescribeRepo:{lexicon:1,id:"com.atproto.repo.describeRepo",defs:{main:{type:"query",description:"Get information about an account and repository, including the list of collections. Does not require auth.",parameters:{type:"params",required:["repo"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["handle","did","didDoc","collections","handleIsCorrect"],properties:{handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},didDoc:{type:"unknown",description:"The complete DID document for this account."},collections:{type:"array",description:"List of all the collections (NSIDs) for which this repo contains at least one record.",items:{type:"string",format:"nsid"}},handleIsCorrect:{type:"boolean",description:"Indicates if handle is currently valid (resolves bi-directionally)"}}}}}}},ComAtprotoRepoGetRecord:{lexicon:1,id:"com.atproto.repo.getRecord",defs:{main:{type:"query",description:"Get a single record from a repository. Does not require auth.",parameters:{type:"params",required:["repo","collection","rkey"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The Record Key.",format:"record-key"},cid:{type:"string",format:"cid",description:"The CID of the version of the record. If not specified, then return the most recent version."}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","value"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"}}}},errors:[{name:"RecordNotFound"}]}}},ComAtprotoRepoImportRepo:{lexicon:1,id:"com.atproto.repo.importRepo",defs:{main:{type:"procedure",description:"Import a repo in the form of a CAR file. Requires Content-Length HTTP header to be set.",input:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoRepoListMissingBlobs:{lexicon:1,id:"com.atproto.repo.listMissingBlobs",defs:{main:{type:"query",description:"Returns a list of missing blobs for the requesting account. Intended to be used in the account migration flow.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:1e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["blobs"],properties:{cursor:{type:"string"},blobs:{type:"array",items:{type:"ref",ref:"lex:com.atproto.repo.listMissingBlobs#recordBlob"}}}}}},recordBlob:{type:"object",required:["cid","recordUri"],properties:{cid:{type:"string",format:"cid"},recordUri:{type:"string",format:"at-uri"}}}}},ComAtprotoRepoListRecords:{lexicon:1,id:"com.atproto.repo.listRecords",defs:{main:{type:"query",description:"List a range of records in a repository, matching a specific collection. Does not require auth.",parameters:{type:"params",required:["repo","collection"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record type."},limit:{type:"integer",minimum:1,maximum:100,default:50,description:"The number of records to return."},cursor:{type:"string"},reverse:{type:"boolean",description:"Flag to reverse the order of the returned records."}}},output:{encoding:"application/json",schema:{type:"object",required:["records"],properties:{cursor:{type:"string"},records:{type:"array",items:{type:"ref",ref:"lex:com.atproto.repo.listRecords#record"}}}}}},record:{type:"object",required:["uri","cid","value"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"}}}}},ComAtprotoRepoPutRecord:{lexicon:1,id:"com.atproto.repo.putRecord",defs:{main:{type:"procedure",description:"Write a repository record, creating or updating it as needed. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","rkey","record"],nullable:["swapRecord"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",format:"record-key",description:"The Record Key.",maxLength:512},validate:{type:"boolean",description:"Can be set to 'false' to skip Lexicon schema validation of record data, 'true' to require it, or leave unset to validate only for known Lexicons."},record:{type:"unknown",description:"The record to write."},swapRecord:{type:"string",format:"cid",description:"Compare and swap with the previous record by CID. WARNING: nullable and optional field; may cause problems with golang implementation"},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by CID."}}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},commit:{type:"ref",ref:"lex:com.atproto.repo.defs#commitMeta"},validationStatus:{type:"string",knownValues:["valid","unknown"]}}}},errors:[{name:"InvalidSwap"}]}}},ComAtprotoRepoStrongRef:{lexicon:1,id:"com.atproto.repo.strongRef",description:"A URI with a content-hash fingerprint.",defs:{main:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}}}},ComAtprotoRepoUploadBlob:{lexicon:1,id:"com.atproto.repo.uploadBlob",defs:{main:{type:"procedure",description:"Upload a new blob, to be referenced from a repository record. The blob will be deleted if it is not referenced within a time window (eg, minutes). Blob restrictions (mimetype, size, etc) are enforced when the reference is created. Requires auth, implemented by PDS.",input:{encoding:"*/*"},output:{encoding:"application/json",schema:{type:"object",required:["blob"],properties:{blob:{type:"blob"}}}}}}},ComAtprotoServerActivateAccount:{lexicon:1,id:"com.atproto.server.activateAccount",defs:{main:{type:"procedure",description:"Activates a currently deactivated account. Used to finalize account migration after the account's repo is imported and identity is setup."}}},ComAtprotoServerCheckAccountStatus:{lexicon:1,id:"com.atproto.server.checkAccountStatus",defs:{main:{type:"query",description:"Returns the status of an account, especially as pertaining to import or recovery. Can be called many times over the course of an account migration. Requires auth and can only be called pertaining to oneself.",output:{encoding:"application/json",schema:{type:"object",required:["activated","validDid","repoCommit","repoRev","repoBlocks","indexedRecords","privateStateValues","expectedBlobs","importedBlobs"],properties:{activated:{type:"boolean"},validDid:{type:"boolean"},repoCommit:{type:"string",format:"cid"},repoRev:{type:"string"},repoBlocks:{type:"integer"},indexedRecords:{type:"integer"},privateStateValues:{type:"integer"},expectedBlobs:{type:"integer"},importedBlobs:{type:"integer"}}}}}}},ComAtprotoServerConfirmEmail:{lexicon:1,id:"com.atproto.server.confirmEmail",defs:{main:{type:"procedure",description:"Confirm an email using a token from com.atproto.server.requestEmailConfirmation.",input:{encoding:"application/json",schema:{type:"object",required:["email","token"],properties:{email:{type:"string"},token:{type:"string"}}}},errors:[{name:"AccountNotFound"},{name:"ExpiredToken"},{name:"InvalidToken"},{name:"InvalidEmail"}]}}},ComAtprotoServerCreateAccount:{lexicon:1,id:"com.atproto.server.createAccount",defs:{main:{type:"procedure",description:"Create an account. Implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["handle"],properties:{email:{type:"string"},handle:{type:"string",format:"handle",description:"Requested handle for the account."},did:{type:"string",format:"did",description:"Pre-existing atproto DID, being imported to a new account."},inviteCode:{type:"string"},verificationCode:{type:"string"},verificationPhone:{type:"string"},password:{type:"string",description:"Initial account password. May need to meet instance-specific password strength requirements."},recoveryKey:{type:"string",description:"DID PLC rotation key (aka, recovery key) to be included in PLC creation operation."},plcOp:{type:"unknown",description:"A signed DID PLC operation to be submitted as part of importing an existing account to this instance. NOTE: this optional field may be updated when full account migration is implemented."}}}},output:{encoding:"application/json",schema:{type:"object",description:"Account login session returned on successful account creation.",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did",description:"The DID of the new account."},didDoc:{type:"unknown",description:"Complete DID document."}}}},errors:[{name:"InvalidHandle"},{name:"InvalidPassword"},{name:"InvalidInviteCode"},{name:"HandleNotAvailable"},{name:"UnsupportedDomain"},{name:"UnresolvableDid"},{name:"IncompatibleDidDoc"}]}}},ComAtprotoServerCreateAppPassword:{lexicon:1,id:"com.atproto.server.createAppPassword",defs:{main:{type:"procedure",description:"Create an App Password.",input:{encoding:"application/json",schema:{type:"object",required:["name"],properties:{name:{type:"string",description:"A short name for the App Password, to help distinguish them."},privileged:{type:"boolean",description:"If an app password has 'privileged' access to possibly sensitive account state. Meant for use with trusted clients."}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.server.createAppPassword#appPassword"}},errors:[{name:"AccountTakedown"}]},appPassword:{type:"object",required:["name","password","createdAt"],properties:{name:{type:"string"},password:{type:"string"},createdAt:{type:"string",format:"datetime"},privileged:{type:"boolean"}}}}},ComAtprotoServerCreateInviteCode:{lexicon:1,id:"com.atproto.server.createInviteCode",defs:{main:{type:"procedure",description:"Create an invite code.",input:{encoding:"application/json",schema:{type:"object",required:["useCount"],properties:{useCount:{type:"integer"},forAccount:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["code"],properties:{code:{type:"string"}}}}}}},ComAtprotoServerCreateInviteCodes:{lexicon:1,id:"com.atproto.server.createInviteCodes",defs:{main:{type:"procedure",description:"Create invite codes.",input:{encoding:"application/json",schema:{type:"object",required:["codeCount","useCount"],properties:{codeCount:{type:"integer",default:1},useCount:{type:"integer"},forAccounts:{type:"array",items:{type:"string",format:"did"}}}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.createInviteCodes#accountCodes"}}}}}},accountCodes:{type:"object",required:["account","codes"],properties:{account:{type:"string"},codes:{type:"array",items:{type:"string"}}}}}},ComAtprotoServerCreateSession:{lexicon:1,id:"com.atproto.server.createSession",defs:{main:{type:"procedure",description:"Create an authentication session.",input:{encoding:"application/json",schema:{type:"object",required:["identifier","password"],properties:{identifier:{type:"string",description:"Handle or other identifier supported by the server for the authenticating user."},password:{type:"string"},authFactorToken:{type:"string"},allowTakendown:{type:"boolean",description:"When true, instead of throwing error for takendown accounts, a valid response with a narrow scoped token will be returned"}}}},output:{encoding:"application/json",schema:{type:"object",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},didDoc:{type:"unknown"},email:{type:"string"},emailConfirmed:{type:"boolean"},emailAuthFactor:{type:"boolean"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deactivated"]}}}},errors:[{name:"AccountTakedown"},{name:"AuthFactorTokenRequired"}]}}},ComAtprotoServerDeactivateAccount:{lexicon:1,id:"com.atproto.server.deactivateAccount",defs:{main:{type:"procedure",description:"Deactivates a currently active account. Stops serving of repo, and future writes to repo until reactivated. Used to finalize account migration with the old host after the account has been activated on the new host.",input:{encoding:"application/json",schema:{type:"object",properties:{deleteAfter:{type:"string",format:"datetime",description:"A recommendation to server as to how long they should hold onto the deactivated account before deleting."}}}}}}},ComAtprotoServerDefs:{lexicon:1,id:"com.atproto.server.defs",defs:{inviteCode:{type:"object",required:["code","available","disabled","forAccount","createdBy","createdAt","uses"],properties:{code:{type:"string"},available:{type:"integer"},disabled:{type:"boolean"},forAccount:{type:"string"},createdBy:{type:"string"},createdAt:{type:"string",format:"datetime"},uses:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCodeUse"}}}},inviteCodeUse:{type:"object",required:["usedBy","usedAt"],properties:{usedBy:{type:"string",format:"did"},usedAt:{type:"string",format:"datetime"}}}}},ComAtprotoServerDeleteAccount:{lexicon:1,id:"com.atproto.server.deleteAccount",defs:{main:{type:"procedure",description:"Delete an actor's account with a token and password. Can only be called after requesting a deletion token. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["did","password","token"],properties:{did:{type:"string",format:"did"},password:{type:"string"},token:{type:"string"}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"}]}}},ComAtprotoServerDeleteSession:{lexicon:1,id:"com.atproto.server.deleteSession",defs:{main:{type:"procedure",description:"Delete the current session. Requires auth."}}},ComAtprotoServerDescribeServer:{lexicon:1,id:"com.atproto.server.describeServer",defs:{main:{type:"query",description:"Describes the server's account creation requirements and capabilities. Implemented by PDS.",output:{encoding:"application/json",schema:{type:"object",required:["did","availableUserDomains"],properties:{inviteCodeRequired:{type:"boolean",description:"If true, an invite code must be supplied to create an account on this instance."},phoneVerificationRequired:{type:"boolean",description:"If true, a phone verification token must be supplied to create an account on this instance."},availableUserDomains:{type:"array",description:"List of domain suffixes that can be used in account handles.",items:{type:"string"}},links:{type:"ref",description:"URLs of service policy documents.",ref:"lex:com.atproto.server.describeServer#links"},contact:{type:"ref",description:"Contact information",ref:"lex:com.atproto.server.describeServer#contact"},did:{type:"string",format:"did"}}}}},links:{type:"object",properties:{privacyPolicy:{type:"string",format:"uri"},termsOfService:{type:"string",format:"uri"}}},contact:{type:"object",properties:{email:{type:"string"}}}}},ComAtprotoServerGetAccountInviteCodes:{lexicon:1,id:"com.atproto.server.getAccountInviteCodes",defs:{main:{type:"query",description:"Get all invite codes for the current account. Requires auth.",parameters:{type:"params",properties:{includeUsed:{type:"boolean",default:!0},createAvailable:{type:"boolean",default:!0,description:"Controls whether any new 'earned' but not 'created' invites should be created."}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}}}},errors:[{name:"DuplicateCreate"}]}}},ComAtprotoServerGetServiceAuth:{lexicon:1,id:"com.atproto.server.getServiceAuth",defs:{main:{type:"query",description:"Get a signed token on behalf of the requesting DID for the requested service.",parameters:{type:"params",required:["aud"],properties:{aud:{type:"string",format:"did",description:"The DID of the service that the token will be used to authenticate with"},exp:{type:"integer",description:"The time in Unix Epoch seconds that the JWT expires. Defaults to 60 seconds in the future. The service may enforce certain time bounds on tokens depending on the requested scope."},lxm:{type:"string",format:"nsid",description:"Lexicon (XRPC) method to bind the requested token to"}}},output:{encoding:"application/json",schema:{type:"object",required:["token"],properties:{token:{type:"string"}}}},errors:[{name:"BadExpiration",description:"Indicates that the requested expiration date is not a valid. May be in the past or may be reliant on the requested scopes."}]}}},ComAtprotoServerGetSession:{lexicon:1,id:"com.atproto.server.getSession",defs:{main:{type:"query",description:"Get information about the current auth session. Requires auth.",output:{encoding:"application/json",schema:{type:"object",required:["handle","did"],properties:{handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},email:{type:"string"},emailConfirmed:{type:"boolean"},emailAuthFactor:{type:"boolean"},didDoc:{type:"unknown"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deactivated"]}}}}}}},ComAtprotoServerListAppPasswords:{lexicon:1,id:"com.atproto.server.listAppPasswords",defs:{main:{type:"query",description:"List all App Passwords.",output:{encoding:"application/json",schema:{type:"object",required:["passwords"],properties:{passwords:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.listAppPasswords#appPassword"}}}}},errors:[{name:"AccountTakedown"}]},appPassword:{type:"object",required:["name","createdAt"],properties:{name:{type:"string"},createdAt:{type:"string",format:"datetime"},privileged:{type:"boolean"}}}}},ComAtprotoServerRefreshSession:{lexicon:1,id:"com.atproto.server.refreshSession",defs:{main:{type:"procedure",description:"Refresh an authentication session. Requires auth using the 'refreshJwt' (not the 'accessJwt').",output:{encoding:"application/json",schema:{type:"object",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},didDoc:{type:"unknown"},active:{type:"boolean"},status:{type:"string",description:"Hosting status of the account. If not specified, then assume 'active'.",knownValues:["takendown","suspended","deactivated"]}}}},errors:[{name:"AccountTakedown"}]}}},ComAtprotoServerRequestAccountDelete:{lexicon:1,id:"com.atproto.server.requestAccountDelete",defs:{main:{type:"procedure",description:"Initiate a user account deletion via email."}}},ComAtprotoServerRequestEmailConfirmation:{lexicon:1,id:"com.atproto.server.requestEmailConfirmation",defs:{main:{type:"procedure",description:"Request an email with a code to confirm ownership of email."}}},ComAtprotoServerRequestEmailUpdate:{lexicon:1,id:"com.atproto.server.requestEmailUpdate",defs:{main:{type:"procedure",description:"Request a token in order to update email.",output:{encoding:"application/json",schema:{type:"object",required:["tokenRequired"],properties:{tokenRequired:{type:"boolean"}}}}}}},ComAtprotoServerRequestPasswordReset:{lexicon:1,id:"com.atproto.server.requestPasswordReset",defs:{main:{type:"procedure",description:"Initiate a user account password reset via email.",input:{encoding:"application/json",schema:{type:"object",required:["email"],properties:{email:{type:"string"}}}}}}},ComAtprotoServerReserveSigningKey:{lexicon:1,id:"com.atproto.server.reserveSigningKey",defs:{main:{type:"procedure",description:"Reserve a repo signing key, for use with account creation. Necessary so that a DID PLC update operation can be constructed during an account migraiton. Public and does not require auth; implemented by PDS. NOTE: this endpoint may change when full account migration is implemented.",input:{encoding:"application/json",schema:{type:"object",properties:{did:{type:"string",format:"did",description:"The DID to reserve a key for."}}}},output:{encoding:"application/json",schema:{type:"object",required:["signingKey"],properties:{signingKey:{type:"string",description:"The public key for the reserved signing key, in did:key serialization."}}}}}}},ComAtprotoServerResetPassword:{lexicon:1,id:"com.atproto.server.resetPassword",defs:{main:{type:"procedure",description:"Reset a user account password using a token.",input:{encoding:"application/json",schema:{type:"object",required:["token","password"],properties:{token:{type:"string"},password:{type:"string"}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"}]}}},ComAtprotoServerRevokeAppPassword:{lexicon:1,id:"com.atproto.server.revokeAppPassword",defs:{main:{type:"procedure",description:"Revoke an App Password by name.",input:{encoding:"application/json",schema:{type:"object",required:["name"],properties:{name:{type:"string"}}}}}}},ComAtprotoServerUpdateEmail:{lexicon:1,id:"com.atproto.server.updateEmail",defs:{main:{type:"procedure",description:"Update an account's email.",input:{encoding:"application/json",schema:{type:"object",required:["email"],properties:{email:{type:"string"},emailAuthFactor:{type:"boolean"},token:{type:"string",description:"Requires a token from com.atproto.sever.requestEmailUpdate if the account's email has been confirmed."}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"},{name:"TokenRequired"}]}}},ComAtprotoSyncGetBlob:{lexicon:1,id:"com.atproto.sync.getBlob",defs:{main:{type:"query",description:"Get a blob associated with a given account. Returns the full blob as originally uploaded. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did","cid"],properties:{did:{type:"string",format:"did",description:"The DID of the account."},cid:{type:"string",format:"cid",description:"The CID of the blob to fetch"}}},output:{encoding:"*/*"},errors:[{name:"BlobNotFound"},{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetBlocks:{lexicon:1,id:"com.atproto.sync.getBlocks",defs:{main:{type:"query",description:"Get data blocks from a given repo, by CID. For example, intermediate MST nodes, or records. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did","cids"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},cids:{type:"array",items:{type:"string",format:"cid"}}}},output:{encoding:"application/vnd.ipld.car"},errors:[{name:"BlockNotFound"},{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetCheckout:{lexicon:1,id:"com.atproto.sync.getCheckout",defs:{main:{type:"query",description:"DEPRECATED - please use com.atproto.sync.getRepo instead",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoSyncGetHead:{lexicon:1,id:"com.atproto.sync.getHead",defs:{main:{type:"query",description:"DEPRECATED - please use com.atproto.sync.getLatestCommit instead",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["root"],properties:{root:{type:"string",format:"cid"}}}},errors:[{name:"HeadNotFound"}]}}},ComAtprotoSyncGetLatestCommit:{lexicon:1,id:"com.atproto.sync.getLatestCommit",defs:{main:{type:"query",description:"Get the current commit CID & revision of the specified repo. Does not require auth.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["cid","rev"],properties:{cid:{type:"string",format:"cid"},rev:{type:"string",format:"tid"}}}},errors:[{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetRecord:{lexicon:1,id:"com.atproto.sync.getRecord",defs:{main:{type:"query",description:"Get data blocks needed to prove the existence or non-existence of record in the current version of repo. Does not require auth.",parameters:{type:"params",required:["did","collection","rkey"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},collection:{type:"string",format:"nsid"},rkey:{type:"string",description:"Record Key",format:"record-key"}}},output:{encoding:"application/vnd.ipld.car"},errors:[{name:"RecordNotFound"},{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetRepo:{lexicon:1,id:"com.atproto.sync.getRepo",defs:{main:{type:"query",description:"Download a repository export as CAR file. Optionally only a 'diff' since a previous revision. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},since:{type:"string",format:"tid",description:"The revision ('rev') of the repo to create a diff from."}}},output:{encoding:"application/vnd.ipld.car"},errors:[{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetRepoStatus:{lexicon:1,id:"com.atproto.sync.getRepoStatus",defs:{main:{type:"query",description:"Get the hosting status for a repository, on this server. Expected to be implemented by PDS and Relay.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["did","active"],properties:{did:{type:"string",format:"did"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deleted","deactivated","desynchronized","throttled"]},rev:{type:"string",format:"tid",description:"Optional field, the current rev of the repo, if active=true"}}}},errors:[{name:"RepoNotFound"}]}}},ComAtprotoSyncListBlobs:{lexicon:1,id:"com.atproto.sync.listBlobs",defs:{main:{type:"query",description:"List blob CIDs for an account, since some repo revision. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},since:{type:"string",format:"tid",description:"Optional revision of the repo to list blobs since."},limit:{type:"integer",minimum:1,maximum:1e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["cids"],properties:{cursor:{type:"string"},cids:{type:"array",items:{type:"string",format:"cid"}}}}},errors:[{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncListRepos:{lexicon:1,id:"com.atproto.sync.listRepos",defs:{main:{type:"query",description:"Enumerates all the DID, rev, and commit CID for all repos hosted by this service. Does not require auth; implemented by PDS and Relay.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:1e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{cursor:{type:"string"},repos:{type:"array",items:{type:"ref",ref:"lex:com.atproto.sync.listRepos#repo"}}}}}},repo:{type:"object",required:["did","head","rev"],properties:{did:{type:"string",format:"did"},head:{type:"string",format:"cid",description:"Current repo commit CID"},rev:{type:"string",format:"tid"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deleted","deactivated","desynchronized","throttled"]}}}}},ComAtprotoSyncListReposByCollection:{lexicon:1,id:"com.atproto.sync.listReposByCollection",defs:{main:{type:"query",description:"Enumerates all the DIDs which have records with the given collection NSID.",parameters:{type:"params",required:["collection"],properties:{collection:{type:"string",format:"nsid"},limit:{type:"integer",description:"Maximum size of response set. Recommend setting a large maximum (1000+) when enumerating large DID lists.",minimum:1,maximum:2e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{cursor:{type:"string"},repos:{type:"array",items:{type:"ref",ref:"lex:com.atproto.sync.listReposByCollection#repo"}}}}}},repo:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}}},ComAtprotoSyncNotifyOfUpdate:{lexicon:1,id:"com.atproto.sync.notifyOfUpdate",defs:{main:{type:"procedure",description:"Notify a crawling service of a recent update, and that crawling should resume. Intended use is after a gap between repo stream events caused the crawling service to disconnect. Does not require auth; implemented by Relay. DEPRECATED: just use com.atproto.sync.requestCrawl",input:{encoding:"application/json",schema:{type:"object",required:["hostname"],properties:{hostname:{type:"string",description:"Hostname of the current service (usually a PDS) that is notifying of update."}}}}}}},ComAtprotoSyncRequestCrawl:{lexicon:1,id:"com.atproto.sync.requestCrawl",defs:{main:{type:"procedure",description:"Request a service to persistently crawl hosted repos. Expected use is new PDS instances declaring their existence to Relays. Does not require auth.",input:{encoding:"application/json",schema:{type:"object",required:["hostname"],properties:{hostname:{type:"string",description:"Hostname of the current service (eg, PDS) that is requesting to be crawled."}}}}}}},ComAtprotoSyncSubscribeRepos:{lexicon:1,id:"com.atproto.sync.subscribeRepos",defs:{main:{type:"subscription",description:"Repository event stream, aka Firehose endpoint. Outputs repo commits with diff data, and identity update events, for all repositories on the current server. See the atproto specifications for details around stream sequencing, repo versioning, CAR diff format, and more. Public and does not require auth; implemented by PDS and Relay.",parameters:{type:"params",properties:{cursor:{type:"integer",description:"The last known event seq number to backfill from."}}},message:{schema:{type:"union",refs:["lex:com.atproto.sync.subscribeRepos#commit","lex:com.atproto.sync.subscribeRepos#sync","lex:com.atproto.sync.subscribeRepos#identity","lex:com.atproto.sync.subscribeRepos#account","lex:com.atproto.sync.subscribeRepos#info"]}},errors:[{name:"FutureCursor"},{name:"ConsumerTooSlow",description:"If the consumer of the stream can not keep up with events, and a backlog gets too large, the server will drop the connection."}]},commit:{type:"object",description:"Represents an update of repository state. Note that empty commits are allowed, which include no repo data changes, but an update to rev and signature.",required:["seq","rebase","tooBig","repo","commit","rev","since","blocks","ops","blobs","time"],nullable:["since"],properties:{seq:{type:"integer",description:"The stream sequence number of this message."},rebase:{type:"boolean",description:"DEPRECATED -- unused"},tooBig:{type:"boolean",description:"DEPRECATED -- replaced by #sync event and data limits. Indicates that this commit contained too many ops, or data size was too large. Consumers will need to make a separate request to get missing data."},repo:{type:"string",format:"did",description:"The repo this event comes from. Note that all other message types name this field 'did'."},commit:{type:"cid-link",description:"Repo commit object CID."},rev:{type:"string",format:"tid",description:"The rev of the emitted commit. Note that this information is also in the commit object included in blocks, unless this is a tooBig event."},since:{type:"string",format:"tid",description:"The rev of the last emitted commit from this repo (if any)."},blocks:{type:"bytes",description:"CAR file containing relevant blocks, as a diff since the previous repo state. The commit must be included as a block, and the commit block CID must be the first entry in the CAR header 'roots' list.",maxLength:2e6},ops:{type:"array",items:{type:"ref",ref:"lex:com.atproto.sync.subscribeRepos#repoOp",description:"List of repo mutation operations in this commit (eg, records created, updated, or deleted)."},maxLength:200},blobs:{type:"array",items:{type:"cid-link",description:"DEPRECATED -- will soon always be empty. List of new blobs (by CID) referenced by records in this commit."}},prevData:{type:"cid-link",description:"The root CID of the MST tree for the previous commit from this repo (indicated by the 'since' revision field in this message). Corresponds to the 'data' field in the repo commit object. NOTE: this field is effectively required for the 'inductive' version of firehose."},time:{type:"string",format:"datetime",description:"Timestamp of when this message was originally broadcast."}}},sync:{type:"object",description:"Updates the repo to a new state, without necessarily including that state on the firehose. Used to recover from broken commit streams, data loss incidents, or in situations where upstream host does not know recent state of the repository.",required:["seq","did","blocks","rev","time"],properties:{seq:{type:"integer",description:"The stream sequence number of this message."},did:{type:"string",format:"did",description:"The account this repo event corresponds to. Must match that in the commit object."},blocks:{type:"bytes",description:"CAR file containing the commit, as a block. The CAR header must include the commit block CID as the first 'root'.",maxLength:1e4},rev:{type:"string",description:"The rev of the commit. This value must match that in the commit object."},time:{type:"string",format:"datetime",description:"Timestamp of when this message was originally broadcast."}}},identity:{type:"object",description:"Represents a change to an account's identity. Could be an updated handle, signing key, or pds hosting endpoint. Serves as a prod to all downstream services to refresh their identity cache.",required:["seq","did","time"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},time:{type:"string",format:"datetime"},handle:{type:"string",format:"handle",description:"The current handle for the account, or 'handle.invalid' if validation fails. This field is optional, might have been validated or passed-through from an upstream source. Semantics and behaviors for PDS vs Relay may evolve in the future; see atproto specs for more details."}}},account:{type:"object",description:"Represents a change to an account's status on a host (eg, PDS or Relay). The semantics of this event are that the status is at the host which emitted the event, not necessarily that at the currently active PDS. Eg, a Relay takedown would emit a takedown with active=false, even if the PDS is still active.",required:["seq","did","time","active"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},time:{type:"string",format:"datetime"},active:{type:"boolean",description:"Indicates that the account has a repository which can be fetched from the host that emitted this event."},status:{type:"string",description:"If active=false, this optional field indicates a reason for why the account is not active.",knownValues:["takendown","suspended","deleted","deactivated","desynchronized","throttled"]}}},info:{type:"object",required:["name"],properties:{name:{type:"string",knownValues:["OutdatedCursor"]},message:{type:"string"}}},repoOp:{type:"object",description:"A repo operation, ie a mutation of a single record.",required:["action","path","cid"],nullable:["cid"],properties:{action:{type:"string",knownValues:["create","update","delete"]},path:{type:"string"},cid:{type:"cid-link",description:"For creates and updates, the new record CID. For deletions, null."},prev:{type:"cid-link",description:"For updates and deletes, the previous record CID (required for inductive firehose). For creations, field should not be defined."}}}}},ComAtprotoTempAddReservedHandle:{lexicon:1,id:"com.atproto.temp.addReservedHandle",defs:{main:{type:"procedure",description:"Add a handle to the set of reserved handles.",input:{encoding:"application/json",schema:{type:"object",required:["handle"],properties:{handle:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",properties:{}}}}}},ComAtprotoTempCheckSignupQueue:{lexicon:1,id:"com.atproto.temp.checkSignupQueue",defs:{main:{type:"query",description:"Check accounts location in signup queue.",output:{encoding:"application/json",schema:{type:"object",required:["activated"],properties:{activated:{type:"boolean"},placeInQueue:{type:"integer"},estimatedTimeMs:{type:"integer"}}}}}}},ComAtprotoTempFetchLabels:{lexicon:1,id:"com.atproto.temp.fetchLabels",defs:{main:{type:"query",description:"DEPRECATED: use queryLabels or subscribeLabels instead -- Fetch all labels from a labeler created after a certain date.",parameters:{type:"params",properties:{since:{type:"integer"},limit:{type:"integer",minimum:1,maximum:250,default:50}}},output:{encoding:"application/json",schema:{type:"object",required:["labels"],properties:{labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}}}},ComAtprotoTempRequestPhoneVerification:{lexicon:1,id:"com.atproto.temp.requestPhoneVerification",defs:{main:{type:"procedure",description:"Request a verification code to be sent to the supplied phone number",input:{encoding:"application/json",schema:{type:"object",required:["phoneNumber"],properties:{phoneNumber:{type:"string"}}}}}}},AppBskyActorDefs:{lexicon:1,id:"app.bsky.actor.defs",defs:{profileViewBasic:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},avatar:{type:"string",format:"uri"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},createdAt:{type:"string",format:"datetime"}}},profileView:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",maxGraphemes:256,maxLength:2560},avatar:{type:"string",format:"uri"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},indexedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},profileViewDetailed:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",maxGraphemes:256,maxLength:2560},avatar:{type:"string",format:"uri"},banner:{type:"string",format:"uri"},followersCount:{type:"integer"},followsCount:{type:"integer"},postsCount:{type:"integer"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},joinedViaStarterPack:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackViewBasic"},indexedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},pinnedPost:{type:"ref",ref:"lex:com.atproto.repo.strongRef"}}},profileAssociated:{type:"object",properties:{lists:{type:"integer"},feedgens:{type:"integer"},starterPacks:{type:"integer"},labeler:{type:"boolean"},chat:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociatedChat"}}},profileAssociatedChat:{type:"object",required:["allowIncoming"],properties:{allowIncoming:{type:"string",knownValues:["all","none","following"]}}},viewerState:{type:"object",description:"Metadata about the requesting account's relationship with the subject account. Only has meaningful content for authed requests.",properties:{muted:{type:"boolean"},mutedByList:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"},blockedBy:{type:"boolean"},blocking:{type:"string",format:"at-uri"},blockingByList:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"},following:{type:"string",format:"at-uri"},followedBy:{type:"string",format:"at-uri"},knownFollowers:{type:"ref",ref:"lex:app.bsky.actor.defs#knownFollowers"}}},knownFollowers:{type:"object",description:"The subject's followers whom you also follow",required:["count","followers"],properties:{count:{type:"integer"},followers:{type:"array",minLength:0,maxLength:5,items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"}}}},preferences:{type:"array",items:{type:"union",refs:["lex:app.bsky.actor.defs#adultContentPref","lex:app.bsky.actor.defs#contentLabelPref","lex:app.bsky.actor.defs#savedFeedsPref","lex:app.bsky.actor.defs#savedFeedsPrefV2","lex:app.bsky.actor.defs#personalDetailsPref","lex:app.bsky.actor.defs#feedViewPref","lex:app.bsky.actor.defs#threadViewPref","lex:app.bsky.actor.defs#interestsPref","lex:app.bsky.actor.defs#mutedWordsPref","lex:app.bsky.actor.defs#hiddenPostsPref","lex:app.bsky.actor.defs#bskyAppStatePref","lex:app.bsky.actor.defs#labelersPref","lex:app.bsky.actor.defs#postInteractionSettingsPref"]}},adultContentPref:{type:"object",required:["enabled"],properties:{enabled:{type:"boolean",default:!1}}},contentLabelPref:{type:"object",required:["label","visibility"],properties:{labelerDid:{type:"string",description:"Which labeler does this preference apply to? If undefined, applies globally.",format:"did"},label:{type:"string"},visibility:{type:"string",knownValues:["ignore","show","warn","hide"]}}},savedFeed:{type:"object",required:["id","type","value","pinned"],properties:{id:{type:"string"},type:{type:"string",knownValues:["feed","list","timeline"]},value:{type:"string"},pinned:{type:"boolean"}}},savedFeedsPrefV2:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#savedFeed"}}}},savedFeedsPref:{type:"object",required:["pinned","saved"],properties:{pinned:{type:"array",items:{type:"string",format:"at-uri"}},saved:{type:"array",items:{type:"string",format:"at-uri"}},timelineIndex:{type:"integer"}}},personalDetailsPref:{type:"object",properties:{birthDate:{type:"string",format:"datetime",description:"The birth date of account owner."}}},feedViewPref:{type:"object",required:["feed"],properties:{feed:{type:"string",description:"The URI of the feed, or an identifier which describes the feed."},hideReplies:{type:"boolean",description:"Hide replies in the feed."},hideRepliesByUnfollowed:{type:"boolean",description:"Hide replies in the feed if they are not by followed users.",default:!0},hideRepliesByLikeCount:{type:"integer",description:"Hide replies in the feed if they do not have this number of likes."},hideReposts:{type:"boolean",description:"Hide reposts in the feed."},hideQuotePosts:{type:"boolean",description:"Hide quote posts in the feed."}}},threadViewPref:{type:"object",properties:{sort:{type:"string",description:"Sorting mode for threads.",knownValues:["oldest","newest","most-likes","random","hotness"]},prioritizeFollowedUsers:{type:"boolean",description:"Show followed users at the top of all replies."}}},interestsPref:{type:"object",required:["tags"],properties:{tags:{type:"array",maxLength:100,items:{type:"string",maxLength:640,maxGraphemes:64},description:"A list of tags which describe the account owner's interests gathered during onboarding."}}},mutedWordTarget:{type:"string",knownValues:["content","tag"],maxLength:640,maxGraphemes:64},mutedWord:{type:"object",description:"A word that the account owner has muted.",required:["value","targets"],properties:{id:{type:"string"},value:{type:"string",description:"The muted word itself.",maxLength:1e4,maxGraphemes:1e3},targets:{type:"array",description:"The intended targets of the muted word.",items:{type:"ref",ref:"lex:app.bsky.actor.defs#mutedWordTarget"}},actorTarget:{type:"string",description:"Groups of users to apply the muted word to. If undefined, applies to all users.",knownValues:["all","exclude-following"],default:"all"},expiresAt:{type:"string",format:"datetime",description:"The date and time at which the muted word will expire and no longer be applied."}}},mutedWordsPref:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#mutedWord"},description:"A list of words the account owner has muted."}}},hiddenPostsPref:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"string",format:"at-uri"},description:"A list of URIs of posts the account owner has hidden."}}},labelersPref:{type:"object",required:["labelers"],properties:{labelers:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#labelerPrefItem"}}}},labelerPrefItem:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},bskyAppStatePref:{description:"A grab bag of state that's specific to the bsky.app program. Third-party apps shouldn't use this.",type:"object",properties:{activeProgressGuide:{type:"ref",ref:"lex:app.bsky.actor.defs#bskyAppProgressGuide"},queuedNudges:{description:"An array of tokens which identify nudges (modals, popups, tours, highlight dots) that should be shown to the user.",type:"array",maxLength:1e3,items:{type:"string",maxLength:100}},nuxs:{description:"Storage for NUXs the user has encountered.",type:"array",maxLength:100,items:{type:"ref",ref:"lex:app.bsky.actor.defs#nux"}}}},bskyAppProgressGuide:{description:"If set, an active progress guide. Once completed, can be set to undefined. Should have unspecced fields tracking progress.",type:"object",required:["guide"],properties:{guide:{type:"string",maxLength:100}}},nux:{type:"object",description:"A new user experiences (NUX) storage object",required:["id","completed"],properties:{id:{type:"string",maxLength:100},completed:{type:"boolean",default:!1},data:{description:"Arbitrary data for the NUX. The structure is defined by the NUX itself. Limited to 300 characters.",type:"string",maxLength:3e3,maxGraphemes:300},expiresAt:{type:"string",format:"datetime",description:"The date and time at which the NUX will expire and should be considered completed."}}},postInteractionSettingsPref:{type:"object",description:"Default post interaction settings for the account. These values should be applied as default values when creating new posts. These refs should mirror the threadgate and postgate records exactly.",required:[],properties:{threadgateAllowRules:{description:"Matches threadgate record. List of rules defining who can reply to this users posts. If value is an empty array, no one can reply. If value is undefined, anyone can reply.",type:"array",maxLength:5,items:{type:"union",refs:["lex:app.bsky.feed.threadgate#mentionRule","lex:app.bsky.feed.threadgate#followerRule","lex:app.bsky.feed.threadgate#followingRule","lex:app.bsky.feed.threadgate#listRule"]}},postgateEmbeddingRules:{description:"Matches postgate record. List of rules defining who can embed this users posts. If value is an empty array or is undefined, no particular rules apply and anyone can embed.",type:"array",maxLength:5,items:{type:"union",refs:["lex:app.bsky.feed.postgate#disableRule"]}}}}}},AppBskyActorGetPreferences:{lexicon:1,id:"app.bsky.actor.getPreferences",defs:{main:{type:"query",description:"Get private preferences attached to the current account. Expected use is synchronization between multiple devices, and import/export during account migration. Requires auth.",parameters:{type:"params",properties:{}},output:{encoding:"application/json",schema:{type:"object",required:["preferences"],properties:{preferences:{type:"ref",ref:"lex:app.bsky.actor.defs#preferences"}}}}}}},AppBskyActorGetProfile:{lexicon:1,id:"app.bsky.actor.getProfile",defs:{main:{type:"query",description:"Get detailed profile view of an actor. Does not require auth, but contains relevant metadata with auth.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier",description:"Handle or DID of account to fetch profile of."}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"}}}}},AppBskyActorGetProfiles:{lexicon:1,id:"app.bsky.actor.getProfiles",defs:{main:{type:"query",description:"Get detailed profile views of multiple actors.",parameters:{type:"params",required:["actors"],properties:{actors:{type:"array",items:{type:"string",format:"at-identifier"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["profiles"],properties:{profiles:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"}}}}}}}},AppBskyActorGetSuggestions:{lexicon:1,id:"app.bsky.actor.getSuggestions",defs:{main:{type:"query",description:"Get a list of suggested actors. Expected use is discovery of accounts to follow during new account onboarding.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}},recId:{type:"integer",description:"Snowflake for this recommendation, use when submitting recommendation events."}}}}}}},AppBskyActorProfile:{lexicon:1,id:"app.bsky.actor.profile",defs:{main:{type:"record",description:"A declaration of a Bluesky account profile.",key:"literal:self",record:{type:"object",properties:{displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",description:"Free-form profile description text.",maxGraphemes:256,maxLength:2560},avatar:{type:"blob",description:"Small image to be displayed next to posts from account. AKA, 'profile picture'",accept:["image/png","image/jpeg"],maxSize:1e6},banner:{type:"blob",description:"Larger horizontal image to display behind profile view.",accept:["image/png","image/jpeg"],maxSize:1e6},labels:{type:"union",description:"Self-label values, specific to the Bluesky application, on the overall account.",refs:["lex:com.atproto.label.defs#selfLabels"]},joinedViaStarterPack:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},pinnedPost:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyActorPutPreferences:{lexicon:1,id:"app.bsky.actor.putPreferences",defs:{main:{type:"procedure",description:"Set the private preferences attached to the account.",input:{encoding:"application/json",schema:{type:"object",required:["preferences"],properties:{preferences:{type:"ref",ref:"lex:app.bsky.actor.defs#preferences"}}}}}}},AppBskyActorSearchActors:{lexicon:1,id:"app.bsky.actor.searchActors",defs:{main:{type:"query",description:"Find actors (profiles) matching search criteria. Does not require auth.",parameters:{type:"params",properties:{term:{type:"string",description:"DEPRECATED: use 'q' instead."},q:{type:"string",description:"Search query string. Syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyActorSearchActorsTypeahead:{lexicon:1,id:"app.bsky.actor.searchActorsTypeahead",defs:{main:{type:"query",description:"Find actor suggestions for a prefix search term. Expected use is for auto-completion during text field entry. Does not require auth.",parameters:{type:"params",properties:{term:{type:"string",description:"DEPRECATED: use 'q' instead."},q:{type:"string",description:"Search query prefix; not a full query string."},limit:{type:"integer",minimum:1,maximum:100,default:10}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"}}}}}}}},AppBskyEmbedDefs:{lexicon:1,id:"app.bsky.embed.defs",defs:{aspectRatio:{type:"object",description:"width:height represents an aspect ratio. It may be approximate, and may not correspond to absolute dimensions in any given unit.",required:["width","height"],properties:{width:{type:"integer",minimum:1},height:{type:"integer",minimum:1}}}}},AppBskyEmbedExternal:{lexicon:1,id:"app.bsky.embed.external",defs:{main:{type:"object",description:"A representation of some externally linked content (eg, a URL and 'card'), embedded in a Bluesky record (eg, a post).",required:["external"],properties:{external:{type:"ref",ref:"lex:app.bsky.embed.external#external"}}},external:{type:"object",required:["uri","title","description"],properties:{uri:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},thumb:{type:"blob",accept:["image/*"],maxSize:1e6}}},view:{type:"object",required:["external"],properties:{external:{type:"ref",ref:"lex:app.bsky.embed.external#viewExternal"}}},viewExternal:{type:"object",required:["uri","title","description"],properties:{uri:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},thumb:{type:"string",format:"uri"}}}}},AppBskyEmbedImages:{lexicon:1,id:"app.bsky.embed.images",description:"A set of images embedded in a Bluesky record (eg, a post).",defs:{main:{type:"object",required:["images"],properties:{images:{type:"array",items:{type:"ref",ref:"lex:app.bsky.embed.images#image"},maxLength:4}}},image:{type:"object",required:["image","alt"],properties:{image:{type:"blob",accept:["image/*"],maxSize:1e6},alt:{type:"string",description:"Alt text description of the image, for accessibility."},aspectRatio:{type:"ref",ref:"lex:app.bsky.embed.defs#aspectRatio"}}},view:{type:"object",required:["images"],properties:{images:{type:"array",items:{type:"ref",ref:"lex:app.bsky.embed.images#viewImage"},maxLength:4}}},viewImage:{type:"object",required:["thumb","fullsize","alt"],properties:{thumb:{type:"string",format:"uri",description:"Fully-qualified URL where a thumbnail of the image can be fetched. For example, CDN location provided by the App View."},fullsize:{type:"string",format:"uri",description:"Fully-qualified URL where a large version of the image can be fetched. May or may not be the exact original blob. For example, CDN location provided by the App View."},alt:{type:"string",description:"Alt text description of the image, for accessibility."},aspectRatio:{type:"ref",ref:"lex:app.bsky.embed.defs#aspectRatio"}}}}},AppBskyEmbedRecord:{lexicon:1,id:"app.bsky.embed.record",description:"A representation of a record embedded in a Bluesky record (eg, a post). For example, a quote-post, or sharing a feed generator record.",defs:{main:{type:"object",required:["record"],properties:{record:{type:"ref",ref:"lex:com.atproto.repo.strongRef"}}},view:{type:"object",required:["record"],properties:{record:{type:"union",refs:["lex:app.bsky.embed.record#viewRecord","lex:app.bsky.embed.record#viewNotFound","lex:app.bsky.embed.record#viewBlocked","lex:app.bsky.embed.record#viewDetached","lex:app.bsky.feed.defs#generatorView","lex:app.bsky.graph.defs#listView","lex:app.bsky.labeler.defs#labelerView","lex:app.bsky.graph.defs#starterPackViewBasic"]}}},viewRecord:{type:"object",required:["uri","cid","author","value","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},value:{type:"unknown",description:"The record data itself."},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},replyCount:{type:"integer"},repostCount:{type:"integer"},likeCount:{type:"integer"},quoteCount:{type:"integer"},embeds:{type:"array",items:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.video#view","lex:app.bsky.embed.external#view","lex:app.bsky.embed.record#view","lex:app.bsky.embed.recordWithMedia#view"]}},indexedAt:{type:"string",format:"datetime"}}},viewNotFound:{type:"object",required:["uri","notFound"],properties:{uri:{type:"string",format:"at-uri"},notFound:{type:"boolean",const:!0}}},viewBlocked:{type:"object",required:["uri","blocked","author"],properties:{uri:{type:"string",format:"at-uri"},blocked:{type:"boolean",const:!0},author:{type:"ref",ref:"lex:app.bsky.feed.defs#blockedAuthor"}}},viewDetached:{type:"object",required:["uri","detached"],properties:{uri:{type:"string",format:"at-uri"},detached:{type:"boolean",const:!0}}}}},AppBskyEmbedRecordWithMedia:{lexicon:1,id:"app.bsky.embed.recordWithMedia",description:"A representation of a record embedded in a Bluesky record (eg, a post), alongside other compatible embeds. For example, a quote post and image, or a quote post and external URL card.",defs:{main:{type:"object",required:["record","media"],properties:{record:{type:"ref",ref:"lex:app.bsky.embed.record"},media:{type:"union",refs:["lex:app.bsky.embed.images","lex:app.bsky.embed.video","lex:app.bsky.embed.external"]}}},view:{type:"object",required:["record","media"],properties:{record:{type:"ref",ref:"lex:app.bsky.embed.record#view"},media:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.video#view","lex:app.bsky.embed.external#view"]}}}}},AppBskyEmbedVideo:{lexicon:1,id:"app.bsky.embed.video",description:"A video embedded in a Bluesky record (eg, a post).",defs:{main:{type:"object",required:["video"],properties:{video:{type:"blob",description:"The mp4 video file. May be up to 100mb, formerly limited to 50mb.",accept:["video/mp4"],maxSize:1e8},captions:{type:"array",items:{type:"ref",ref:"lex:app.bsky.embed.video#caption"},maxLength:20},alt:{type:"string",description:"Alt text description of the video, for accessibility.",maxGraphemes:1e3,maxLength:1e4},aspectRatio:{type:"ref",ref:"lex:app.bsky.embed.defs#aspectRatio"}}},caption:{type:"object",required:["lang","file"],properties:{lang:{type:"string",format:"language"},file:{type:"blob",accept:["text/vtt"],maxSize:2e4}}},view:{type:"object",required:["cid","playlist"],properties:{cid:{type:"string",format:"cid"},playlist:{type:"string",format:"uri"},thumbnail:{type:"string",format:"uri"},alt:{type:"string",maxGraphemes:1e3,maxLength:1e4},aspectRatio:{type:"ref",ref:"lex:app.bsky.embed.defs#aspectRatio"}}}}},AppBskyFeedDefs:{lexicon:1,id:"app.bsky.feed.defs",defs:{postView:{type:"object",required:["uri","cid","author","record","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},record:{type:"unknown"},embed:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.video#view","lex:app.bsky.embed.external#view","lex:app.bsky.embed.record#view","lex:app.bsky.embed.recordWithMedia#view"]},replyCount:{type:"integer"},repostCount:{type:"integer"},likeCount:{type:"integer"},quoteCount:{type:"integer"},indexedAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.feed.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},threadgate:{type:"ref",ref:"lex:app.bsky.feed.defs#threadgateView"}}},viewerState:{type:"object",description:"Metadata about the requesting account's relationship with the subject content. Only has meaningful content for authed requests.",properties:{repost:{type:"string",format:"at-uri"},like:{type:"string",format:"at-uri"},threadMuted:{type:"boolean"},replyDisabled:{type:"boolean"},embeddingDisabled:{type:"boolean"},pinned:{type:"boolean"}}},threadContext:{type:"object",description:"Metadata about this post within the context of the thread it is in.",properties:{rootAuthorLike:{type:"string",format:"at-uri"}}},feedViewPost:{type:"object",required:["post"],properties:{post:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"},reply:{type:"ref",ref:"lex:app.bsky.feed.defs#replyRef"},reason:{type:"union",refs:["lex:app.bsky.feed.defs#reasonRepost","lex:app.bsky.feed.defs#reasonPin"]},feedContext:{type:"string",description:"Context provided by feed generator that may be passed back alongside interactions.",maxLength:2e3}}},replyRef:{type:"object",required:["root","parent"],properties:{root:{type:"union",refs:["lex:app.bsky.feed.defs#postView","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},parent:{type:"union",refs:["lex:app.bsky.feed.defs#postView","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},grandparentAuthor:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic",description:"When parent is a reply to another post, this is the author of that post."}}},reasonRepost:{type:"object",required:["by","indexedAt"],properties:{by:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},indexedAt:{type:"string",format:"datetime"}}},reasonPin:{type:"object",properties:{}},threadViewPost:{type:"object",required:["post"],properties:{post:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"},parent:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},replies:{type:"array",items:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]}},threadContext:{type:"ref",ref:"lex:app.bsky.feed.defs#threadContext"}}},notFoundPost:{type:"object",required:["uri","notFound"],properties:{uri:{type:"string",format:"at-uri"},notFound:{type:"boolean",const:!0}}},blockedPost:{type:"object",required:["uri","blocked","author"],properties:{uri:{type:"string",format:"at-uri"},blocked:{type:"boolean",const:!0},author:{type:"ref",ref:"lex:app.bsky.feed.defs#blockedAuthor"}}},blockedAuthor:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"}}},generatorView:{type:"object",required:["uri","cid","did","creator","displayName","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},did:{type:"string",format:"did"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},displayName:{type:"string"},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"string",format:"uri"},likeCount:{type:"integer",minimum:0},acceptsInteractions:{type:"boolean"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},viewer:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorViewerState"},contentMode:{type:"string",knownValues:["app.bsky.feed.defs#contentModeUnspecified","app.bsky.feed.defs#contentModeVideo"]},indexedAt:{type:"string",format:"datetime"}}},generatorViewerState:{type:"object",properties:{like:{type:"string",format:"at-uri"}}},skeletonFeedPost:{type:"object",required:["post"],properties:{post:{type:"string",format:"at-uri"},reason:{type:"union",refs:["lex:app.bsky.feed.defs#skeletonReasonRepost","lex:app.bsky.feed.defs#skeletonReasonPin"]},feedContext:{type:"string",description:"Context that will be passed through to client and may be passed to feed generator back alongside interactions.",maxLength:2e3}}},skeletonReasonRepost:{type:"object",required:["repost"],properties:{repost:{type:"string",format:"at-uri"}}},skeletonReasonPin:{type:"object",properties:{}},threadgateView:{type:"object",properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},record:{type:"unknown"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"}}}},interaction:{type:"object",properties:{item:{type:"string",format:"at-uri"},event:{type:"string",knownValues:["app.bsky.feed.defs#requestLess","app.bsky.feed.defs#requestMore","app.bsky.feed.defs#clickthroughItem","app.bsky.feed.defs#clickthroughAuthor","app.bsky.feed.defs#clickthroughReposter","app.bsky.feed.defs#clickthroughEmbed","app.bsky.feed.defs#interactionSeen","app.bsky.feed.defs#interactionLike","app.bsky.feed.defs#interactionRepost","app.bsky.feed.defs#interactionReply","app.bsky.feed.defs#interactionQuote","app.bsky.feed.defs#interactionShare"]},feedContext:{type:"string",description:"Context on a feed item that was originally supplied by the feed generator on getFeedSkeleton.",maxLength:2e3}}},requestLess:{type:"token",description:"Request that less content like the given feed item be shown in the feed"},requestMore:{type:"token",description:"Request that more content like the given feed item be shown in the feed"},clickthroughItem:{type:"token",description:"User clicked through to the feed item"},clickthroughAuthor:{type:"token",description:"User clicked through to the author of the feed item"},clickthroughReposter:{type:"token",description:"User clicked through to the reposter of the feed item"},clickthroughEmbed:{type:"token",description:"User clicked through to the embedded content of the feed item"},contentModeUnspecified:{type:"token",description:"Declares the feed generator returns any types of posts."},contentModeVideo:{type:"token",description:"Declares the feed generator returns posts containing app.bsky.embed.video embeds."},interactionSeen:{type:"token",description:"Feed item was seen by user"},interactionLike:{type:"token",description:"User liked the feed item"},interactionRepost:{type:"token",description:"User reposted the feed item"},interactionReply:{type:"token",description:"User replied to the feed item"},interactionQuote:{type:"token",description:"User quoted the feed item"},interactionShare:{type:"token",description:"User shared the feed item"}}},AppBskyFeedDescribeFeedGenerator:{lexicon:1,id:"app.bsky.feed.describeFeedGenerator",defs:{main:{type:"query",description:"Get information about a feed generator, including policies and offered feed URIs. Does not require auth; implemented by Feed Generator services (not App View).",output:{encoding:"application/json",schema:{type:"object",required:["did","feeds"],properties:{did:{type:"string",format:"did"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.describeFeedGenerator#feed"}},links:{type:"ref",ref:"lex:app.bsky.feed.describeFeedGenerator#links"}}}}},feed:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},links:{type:"object",properties:{privacyPolicy:{type:"string"},termsOfService:{type:"string"}}}}},AppBskyFeedGenerator:{lexicon:1,id:"app.bsky.feed.generator",defs:{main:{type:"record",description:"Record declaring of the existence of a feed generator, and containing metadata about it. The record can exist in any repository.",key:"any",record:{type:"object",required:["did","displayName","createdAt"],properties:{did:{type:"string",format:"did"},displayName:{type:"string",maxGraphemes:24,maxLength:240},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"blob",accept:["image/png","image/jpeg"],maxSize:1e6},acceptsInteractions:{type:"boolean",description:"Declaration that a feed accepts feedback interactions from a client through app.bsky.feed.sendInteractions"},labels:{type:"union",description:"Self-label values",refs:["lex:com.atproto.label.defs#selfLabels"]},contentMode:{type:"string",knownValues:["app.bsky.feed.defs#contentModeUnspecified","app.bsky.feed.defs#contentModeVideo"]},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyFeedGetActorFeeds:{lexicon:1,id:"app.bsky.feed.getActorFeeds",defs:{main:{type:"query",description:"Get a list of feeds (feed generator records) created by the actor (in the actor's repo).",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{cursor:{type:"string"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyFeedGetActorLikes:{lexicon:1,id:"app.bsky.feed.getActorLikes",defs:{main:{type:"query",description:"Get a list of posts liked by an actor. Requires auth, actor must be the requesting account.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"BlockedActor"},{name:"BlockedByActor"}]}}},AppBskyFeedGetAuthorFeed:{lexicon:1,id:"app.bsky.feed.getAuthorFeed",defs:{main:{type:"query",description:"Get a view of an actor's 'author feed' (post and reposts by the author). Does not require auth.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},filter:{type:"string",description:"Combinations of post/repost types to include in response.",knownValues:["posts_with_replies","posts_no_replies","posts_with_media","posts_and_author_threads","posts_with_video"],default:"posts_with_replies"},includePins:{type:"boolean",default:!1}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"BlockedActor"},{name:"BlockedByActor"}]}}},AppBskyFeedGetFeed:{lexicon:1,id:"app.bsky.feed.getFeed",defs:{main:{type:"query",description:"Get a hydrated feed from an actor's selected feed generator. Implemented by App View.",parameters:{type:"params",required:["feed"],properties:{feed:{type:"string",format:"at-uri"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"UnknownFeed"}]}}},AppBskyFeedGetFeedGenerator:{lexicon:1,id:"app.bsky.feed.getFeedGenerator",defs:{main:{type:"query",description:"Get information about a feed generator. Implemented by AppView.",parameters:{type:"params",required:["feed"],properties:{feed:{type:"string",format:"at-uri",description:"AT-URI of the feed generator record."}}},output:{encoding:"application/json",schema:{type:"object",required:["view","isOnline","isValid"],properties:{view:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"},isOnline:{type:"boolean",description:"Indicates whether the feed generator service has been online recently, or else seems to be inactive."},isValid:{type:"boolean",description:"Indicates whether the feed generator service is compatible with the record declaration."}}}}}}},AppBskyFeedGetFeedGenerators:{lexicon:1,id:"app.bsky.feed.getFeedGenerators",defs:{main:{type:"query",description:"Get information about a list of feed generators.",parameters:{type:"params",required:["feeds"],properties:{feeds:{type:"array",items:{type:"string",format:"at-uri"}}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyFeedGetFeedSkeleton:{lexicon:1,id:"app.bsky.feed.getFeedSkeleton",defs:{main:{type:"query",description:"Get a skeleton of a feed provided by a feed generator. Auth is optional, depending on provider requirements, and provides the DID of the requester. Implemented by Feed Generator Service.",parameters:{type:"params",required:["feed"],properties:{feed:{type:"string",format:"at-uri",description:"Reference to feed generator record describing the specific feed being requested."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#skeletonFeedPost"}}}}},errors:[{name:"UnknownFeed"}]}}},AppBskyFeedGetLikes:{lexicon:1,id:"app.bsky.feed.getLikes",defs:{main:{type:"query",description:"Get like records which reference a subject (by AT-URI and CID).",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri",description:"AT-URI of the subject (eg, a post record)."},cid:{type:"string",format:"cid",description:"CID of the subject record (aka, specific version of record), to filter likes."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","likes"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},cursor:{type:"string"},likes:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.getLikes#like"}}}}}},like:{type:"object",required:["indexedAt","createdAt","actor"],properties:{indexedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},actor:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}},AppBskyFeedGetListFeed:{lexicon:1,id:"app.bsky.feed.getListFeed",defs:{main:{type:"query",description:"Get a feed of recent posts from a list (posts and reposts from any actors on the list). Does not require auth.",parameters:{type:"params",required:["list"],properties:{list:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the list record."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"UnknownList"}]}}},AppBskyFeedGetPostThread:{lexicon:1,id:"app.bsky.feed.getPostThread",defs:{main:{type:"query",description:"Get posts in a thread. Does not require auth, but additional metadata and filtering will be applied for authed requests.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri",description:"Reference (AT-URI) to post record."},depth:{type:"integer",description:"How many levels of reply depth should be included in response.",default:6,minimum:0,maximum:1e3},parentHeight:{type:"integer",description:"How many levels of parent (and grandparent, etc) post to include.",default:80,minimum:0,maximum:1e3}}},output:{encoding:"application/json",schema:{type:"object",required:["thread"],properties:{thread:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},threadgate:{type:"ref",ref:"lex:app.bsky.feed.defs#threadgateView"}}}},errors:[{name:"NotFound"}]}}},AppBskyFeedGetPosts:{lexicon:1,id:"app.bsky.feed.getPosts",defs:{main:{type:"query",description:"Gets post views for a specified list of posts (by AT-URI). This is sometimes referred to as 'hydrating' a 'feed skeleton'.",parameters:{type:"params",required:["uris"],properties:{uris:{type:"array",description:"List of post AT-URIs to return hydrated views for.",items:{type:"string",format:"at-uri"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["posts"],properties:{posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"}}}}}}}},AppBskyFeedGetQuotes:{lexicon:1,id:"app.bsky.feed.getQuotes",defs:{main:{type:"query",description:"Get a list of quotes for a given post.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri",description:"Reference (AT-URI) of post record"},cid:{type:"string",format:"cid",description:"If supplied, filters to quotes of specific version (by CID) of the post record."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","posts"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},cursor:{type:"string"},posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"}}}}}}}},AppBskyFeedGetRepostedBy:{lexicon:1,id:"app.bsky.feed.getRepostedBy",defs:{main:{type:"query",description:"Get a list of reposts for a given post.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri",description:"Reference (AT-URI) of post record"},cid:{type:"string",format:"cid",description:"If supplied, filters to reposts of specific version (by CID) of the post record."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","repostedBy"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},cursor:{type:"string"},repostedBy:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyFeedGetSuggestedFeeds:{lexicon:1,id:"app.bsky.feed.getSuggestedFeeds",defs:{main:{type:"query",description:"Get a list of suggested feeds (feed generators) for the requesting account.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{cursor:{type:"string"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyFeedGetTimeline:{lexicon:1,id:"app.bsky.feed.getTimeline",defs:{main:{type:"query",description:"Get a view of the requesting account's home timeline. This is expected to be some form of reverse-chronological feed.",parameters:{type:"params",properties:{algorithm:{type:"string",description:"Variant 'algorithm' for timeline. Implementation-specific. NOTE: most feed flexibility has been moved to feed generator mechanism."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}}}}},AppBskyFeedLike:{lexicon:1,id:"app.bsky.feed.like",defs:{main:{type:"record",description:"Record declaring a 'like' of a piece of subject content.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyFeedPost:{lexicon:1,id:"app.bsky.feed.post",defs:{main:{type:"record",description:"Record containing a Bluesky post.",key:"tid",record:{type:"object",required:["text","createdAt"],properties:{text:{type:"string",maxLength:3e3,maxGraphemes:300,description:"The primary post content. May be an empty string, if there are embeds."},entities:{type:"array",description:"DEPRECATED: replaced by app.bsky.richtext.facet.",items:{type:"ref",ref:"lex:app.bsky.feed.post#entity"}},facets:{type:"array",description:"Annotations of text (mentions, URLs, hashtags, etc)",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},reply:{type:"ref",ref:"lex:app.bsky.feed.post#replyRef"},embed:{type:"union",refs:["lex:app.bsky.embed.images","lex:app.bsky.embed.video","lex:app.bsky.embed.external","lex:app.bsky.embed.record","lex:app.bsky.embed.recordWithMedia"]},langs:{type:"array",description:"Indicates human language of post primary text content.",maxLength:3,items:{type:"string",format:"language"}},labels:{type:"union",description:"Self-label values for this post. Effectively content warnings.",refs:["lex:com.atproto.label.defs#selfLabels"]},tags:{type:"array",description:"Additional hashtags, in addition to any included in post text and facets.",maxLength:8,items:{type:"string",maxLength:640,maxGraphemes:64}},createdAt:{type:"string",format:"datetime",description:"Client-declared timestamp when this post was originally created."}}}},replyRef:{type:"object",required:["root","parent"],properties:{root:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},parent:{type:"ref",ref:"lex:com.atproto.repo.strongRef"}}},entity:{type:"object",description:"Deprecated: use facets instead.",required:["index","type","value"],properties:{index:{type:"ref",ref:"lex:app.bsky.feed.post#textSlice"},type:{type:"string",description:"Expected values are 'mention' and 'link'."},value:{type:"string"}}},textSlice:{type:"object",description:"Deprecated. Use app.bsky.richtext instead -- A text segment. Start is inclusive, end is exclusive. Indices are for utf16-encoded strings.",required:["start","end"],properties:{start:{type:"integer",minimum:0},end:{type:"integer",minimum:0}}}}},AppBskyFeedPostgate:{lexicon:1,id:"app.bsky.feed.postgate",defs:{main:{type:"record",key:"tid",description:"Record defining interaction rules for a post. The record key (rkey) of the postgate record must match the record key of the post, and that record must be in the same repository.",record:{type:"object",required:["post","createdAt"],properties:{createdAt:{type:"string",format:"datetime"},post:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the post record."},detachedEmbeddingUris:{type:"array",maxLength:50,items:{type:"string",format:"at-uri"},description:"List of AT-URIs embedding this post that the author has detached from."},embeddingRules:{description:"List of rules defining who can embed this post. If value is an empty array or is undefined, no particular rules apply and anyone can embed.",type:"array",maxLength:5,items:{type:"union",refs:["lex:app.bsky.feed.postgate#disableRule"]}}}}},disableRule:{type:"object",description:"Disables embedding of this post.",properties:{}}}},AppBskyFeedRepost:{lexicon:1,id:"app.bsky.feed.repost",defs:{main:{description:"Record representing a 'repost' of an existing Bluesky post.",type:"record",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyFeedSearchPosts:{lexicon:1,id:"app.bsky.feed.searchPosts",defs:{main:{type:"query",description:"Find posts matching search criteria, returning views of those posts.",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},sort:{type:"string",knownValues:["top","latest"],default:"latest",description:"Specifies the ranking order of results."},since:{type:"string",description:"Filter results for posts after the indicated datetime (inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYYY-MM-DD)."},until:{type:"string",description:"Filter results for posts before the indicated datetime (not inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYY-MM-DD)."},mentions:{type:"string",format:"at-identifier",description:"Filter to posts which mention the given account. Handles are resolved to DID before query-time. Only matches rich-text facet mentions."},author:{type:"string",format:"at-identifier",description:"Filter to posts by the given account. Handles are resolved to DID before query-time."},lang:{type:"string",format:"language",description:"Filter to posts in the given language. Expected to be based on post language field, though server may override language detection."},domain:{type:"string",description:"Filter to posts with URLs (facet links or embeds) linking to the given domain (hostname). Server may apply hostname normalization."},url:{type:"string",format:"uri",description:"Filter to posts with links (facet links or embeds) pointing to this URL. Server may apply URL normalization or fuzzy matching."},tag:{type:"array",items:{type:"string",maxLength:640,maxGraphemes:64},description:"Filter to posts with the given tag (hashtag), based on rich-text facet or tag field. Do not include the hash (#) prefix. Multiple tags can be specified, with 'AND' matching."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string",description:"Optional pagination mechanism; may not necessarily allow scrolling through entire result set."}}},output:{encoding:"application/json",schema:{type:"object",required:["posts"],properties:{cursor:{type:"string"},hitsTotal:{type:"integer",description:"Count of search hits. Optional, may be rounded/truncated, and may not be possible to paginate through all hits."},posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"}}}}},errors:[{name:"BadQueryString"}]}}},AppBskyFeedSendInteractions:{lexicon:1,id:"app.bsky.feed.sendInteractions",defs:{main:{type:"procedure",description:"Send information about interactions with feed items back to the feed generator that served them.",input:{encoding:"application/json",schema:{type:"object",required:["interactions"],properties:{interactions:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#interaction"}}}}},output:{encoding:"application/json",schema:{type:"object",properties:{}}}}}},AppBskyFeedThreadgate:{lexicon:1,id:"app.bsky.feed.threadgate",defs:{main:{type:"record",key:"tid",description:"Record defining interaction gating rules for a thread (aka, reply controls). The record key (rkey) of the threadgate record must match the record key of the thread's root post, and that record must be in the same repository.",record:{type:"object",required:["post","createdAt"],properties:{post:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the post record."},allow:{description:"List of rules defining who can reply to this post. If value is an empty array, no one can reply. If value is undefined, anyone can reply.",type:"array",maxLength:5,items:{type:"union",refs:["lex:app.bsky.feed.threadgate#mentionRule","lex:app.bsky.feed.threadgate#followerRule","lex:app.bsky.feed.threadgate#followingRule","lex:app.bsky.feed.threadgate#listRule"]}},createdAt:{type:"string",format:"datetime"},hiddenReplies:{type:"array",maxLength:50,items:{type:"string",format:"at-uri"},description:"List of hidden reply URIs."}}}},mentionRule:{type:"object",description:"Allow replies from actors mentioned in your post.",properties:{}},followerRule:{type:"object",description:"Allow replies from actors who follow you.",properties:{}},followingRule:{type:"object",description:"Allow replies from actors you follow.",properties:{}},listRule:{type:"object",description:"Allow replies from actors on a list.",required:["list"],properties:{list:{type:"string",format:"at-uri"}}}}},AppBskyGraphBlock:{lexicon:1,id:"app.bsky.graph.block",defs:{main:{type:"record",description:"Record declaring a 'block' relationship against another account. NOTE: blocks are public in Bluesky; see blog posts for details.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"did",description:"DID of the account to be blocked."},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphDefs:{lexicon:1,id:"app.bsky.graph.defs",defs:{listViewBasic:{type:"object",required:["uri","cid","name","purpose"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},name:{type:"string",maxLength:64,minLength:1},purpose:{type:"ref",ref:"lex:app.bsky.graph.defs#listPurpose"},avatar:{type:"string",format:"uri"},listItemCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},viewer:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewerState"},indexedAt:{type:"string",format:"datetime"}}},listView:{type:"object",required:["uri","cid","creator","name","purpose","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},name:{type:"string",maxLength:64,minLength:1},purpose:{type:"ref",ref:"lex:app.bsky.graph.defs#listPurpose"},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"string",format:"uri"},listItemCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},viewer:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewerState"},indexedAt:{type:"string",format:"datetime"}}},listItemView:{type:"object",required:["uri","subject"],properties:{uri:{type:"string",format:"at-uri"},subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}},starterPackView:{type:"object",required:["uri","cid","record","creator","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},record:{type:"unknown"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},list:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"},listItemsSample:{type:"array",maxLength:12,items:{type:"ref",ref:"lex:app.bsky.graph.defs#listItemView"}},feeds:{type:"array",maxLength:3,items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}},joinedWeekCount:{type:"integer",minimum:0},joinedAllTimeCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},indexedAt:{type:"string",format:"datetime"}}},starterPackViewBasic:{type:"object",required:["uri","cid","record","creator","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},record:{type:"unknown"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},listItemCount:{type:"integer",minimum:0},joinedWeekCount:{type:"integer",minimum:0},joinedAllTimeCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},indexedAt:{type:"string",format:"datetime"}}},listPurpose:{type:"string",knownValues:["app.bsky.graph.defs#modlist","app.bsky.graph.defs#curatelist","app.bsky.graph.defs#referencelist"]},modlist:{type:"token",description:"A list of actors to apply an aggregate moderation action (mute/block) on."},curatelist:{type:"token",description:"A list of actors used for curation purposes such as list feeds or interaction gating."},referencelist:{type:"token",description:"A list of actors used for only for reference purposes such as within a starter pack."},listViewerState:{type:"object",properties:{muted:{type:"boolean"},blocked:{type:"string",format:"at-uri"}}},notFoundActor:{type:"object",description:"indicates that a handle or DID could not be resolved",required:["actor","notFound"],properties:{actor:{type:"string",format:"at-identifier"},notFound:{type:"boolean",const:!0}}},relationship:{type:"object",description:"lists the bi-directional graph relationships between one actor (not indicated in the object), and the target actors (the DID included in the object)",required:["did"],properties:{did:{type:"string",format:"did"},following:{type:"string",format:"at-uri",description:"if the actor follows this DID, this is the AT-URI of the follow record"},followedBy:{type:"string",format:"at-uri",description:"if the actor is followed by this DID, contains the AT-URI of the follow record"}}}}},AppBskyGraphFollow:{lexicon:1,id:"app.bsky.graph.follow",defs:{main:{type:"record",description:"Record declaring a social 'follow' relationship of another account. Duplicate follows will be ignored by the AppView.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphGetActorStarterPacks:{lexicon:1,id:"app.bsky.graph.getActorStarterPacks",defs:{main:{type:"query",description:"Get a list of starter packs created by the actor.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPacks"],properties:{cursor:{type:"string"},starterPacks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackViewBasic"}}}}}}}},AppBskyGraphGetBlocks:{lexicon:1,id:"app.bsky.graph.getBlocks",defs:{main:{type:"query",description:"Enumerates which accounts the requesting account is currently blocking. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["blocks"],properties:{cursor:{type:"string"},blocks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetFollowers:{lexicon:1,id:"app.bsky.graph.getFollowers",defs:{main:{type:"query",description:"Enumerates accounts which follow a specified account (actor).",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","followers"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},followers:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetFollows:{lexicon:1,id:"app.bsky.graph.getFollows",defs:{main:{type:"query",description:"Enumerates accounts which a specified account (actor) follows.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","follows"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},follows:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetKnownFollowers:{lexicon:1,id:"app.bsky.graph.getKnownFollowers",defs:{main:{type:"query",description:"Enumerates accounts which follow a specified account (actor) and are followed by the viewer.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","followers"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},followers:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetList:{lexicon:1,id:"app.bsky.graph.getList",defs:{main:{type:"query",description:"Gets a 'view' (with additional context) of a specified list.",parameters:{type:"params",required:["list"],properties:{list:{type:"string",format:"at-uri",description:"Reference (AT-URI) of the list record to hydrate."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["list","items"],properties:{cursor:{type:"string"},list:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"},items:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listItemView"}}}}}}}},AppBskyGraphGetListBlocks:{lexicon:1,id:"app.bsky.graph.getListBlocks",defs:{main:{type:"query",description:"Get mod lists that the requesting account (actor) is blocking. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["lists"],properties:{cursor:{type:"string"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"}}}}}}}},AppBskyGraphGetListMutes:{lexicon:1,id:"app.bsky.graph.getListMutes",defs:{main:{type:"query",description:"Enumerates mod lists that the requesting account (actor) currently has muted. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["lists"],properties:{cursor:{type:"string"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"}}}}}}}},AppBskyGraphGetLists:{lexicon:1,id:"app.bsky.graph.getLists",defs:{main:{type:"query",description:"Enumerates the lists created by a specified account (actor).",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier",description:"The account (actor) to enumerate lists from."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["lists"],properties:{cursor:{type:"string"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"}}}}}}}},AppBskyGraphGetMutes:{lexicon:1,id:"app.bsky.graph.getMutes",defs:{main:{type:"query",description:"Enumerates accounts that the requesting account (actor) currently has muted. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["mutes"],properties:{cursor:{type:"string"},mutes:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetRelationships:{lexicon:1,id:"app.bsky.graph.getRelationships",defs:{main:{type:"query",description:"Enumerates public relationships between one account, and a list of other accounts. Does not require auth.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier",description:"Primary account requesting relationships for."},others:{type:"array",description:"List of 'other' accounts to be related back to the primary.",maxLength:30,items:{type:"string",format:"at-identifier"}}}},output:{encoding:"application/json",schema:{type:"object",required:["relationships"],properties:{actor:{type:"string",format:"did"},relationships:{type:"array",items:{type:"union",refs:["lex:app.bsky.graph.defs#relationship","lex:app.bsky.graph.defs#notFoundActor"]}}}}},errors:[{name:"ActorNotFound",description:"the primary actor at-identifier could not be resolved"}]}}},AppBskyGraphGetStarterPack:{lexicon:1,id:"app.bsky.graph.getStarterPack",defs:{main:{type:"query",description:"Gets a view of a starter pack.",parameters:{type:"params",required:["starterPack"],properties:{starterPack:{type:"string",format:"at-uri",description:"Reference (AT-URI) of the starter pack record."}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPack"],properties:{starterPack:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackView"}}}}}}},AppBskyGraphGetStarterPacks:{lexicon:1,id:"app.bsky.graph.getStarterPacks",defs:{main:{type:"query",description:"Get views for a list of starter packs.",parameters:{type:"params",required:["uris"],properties:{uris:{type:"array",items:{type:"string",format:"at-uri"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPacks"],properties:{starterPacks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackViewBasic"}}}}}}}},AppBskyGraphGetSuggestedFollowsByActor:{lexicon:1,id:"app.bsky.graph.getSuggestedFollowsByActor",defs:{main:{type:"query",description:"Enumerates follows similar to a given account (actor). Expected use is to recommend additional accounts immediately after following one account.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}},output:{encoding:"application/json",schema:{type:"object",required:["suggestions"],properties:{suggestions:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}},isFallback:{type:"boolean",description:"If true, response has fallen-back to generic results, and is not scoped using relativeToDid",default:!1},recId:{type:"integer",description:"Snowflake for this recommendation, use when submitting recommendation events."}}}}}}},AppBskyGraphList:{lexicon:1,id:"app.bsky.graph.list",defs:{main:{type:"record",description:"Record representing a list of accounts (actors). Scope includes both moderation-oriented lists and curration-oriented lists.",key:"tid",record:{type:"object",required:["name","purpose","createdAt"],properties:{purpose:{type:"ref",description:"Defines the purpose of the list (aka, moderation-oriented or curration-oriented)",ref:"lex:app.bsky.graph.defs#listPurpose"},name:{type:"string",maxLength:64,minLength:1,description:"Display name for list; can not be empty."},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"blob",accept:["image/png","image/jpeg"],maxSize:1e6},labels:{type:"union",refs:["lex:com.atproto.label.defs#selfLabels"]},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphListblock:{lexicon:1,id:"app.bsky.graph.listblock",defs:{main:{type:"record",description:"Record representing a block relationship against an entire an entire list of accounts (actors).",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the mod list record."},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphListitem:{lexicon:1,id:"app.bsky.graph.listitem",defs:{main:{type:"record",description:"Record representing an account's inclusion on a specific list. The AppView will ignore duplicate listitem records.",key:"tid",record:{type:"object",required:["subject","list","createdAt"],properties:{subject:{type:"string",format:"did",description:"The account which is included on the list."},list:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the list record (app.bsky.graph.list)."},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphMuteActor:{lexicon:1,id:"app.bsky.graph.muteActor",defs:{main:{type:"procedure",description:"Creates a mute relationship for the specified account. Mutes are private in Bluesky. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}}}}}},AppBskyGraphMuteActorList:{lexicon:1,id:"app.bsky.graph.muteActorList",defs:{main:{type:"procedure",description:"Creates a mute relationship for the specified list of accounts. Mutes are private in Bluesky. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["list"],properties:{list:{type:"string",format:"at-uri"}}}}}}},AppBskyGraphMuteThread:{lexicon:1,id:"app.bsky.graph.muteThread",defs:{main:{type:"procedure",description:"Mutes a thread preventing notifications from the thread and any of its children. Mutes are private in Bluesky. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["root"],properties:{root:{type:"string",format:"at-uri"}}}}}}},AppBskyGraphSearchStarterPacks:{lexicon:1,id:"app.bsky.graph.searchStarterPacks",defs:{main:{type:"query",description:"Find starter packs matching search criteria. Does not require auth.",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string. Syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPacks"],properties:{cursor:{type:"string"},starterPacks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackViewBasic"}}}}}}}},AppBskyGraphStarterpack:{lexicon:1,id:"app.bsky.graph.starterpack",defs:{main:{type:"record",description:"Record defining a starter pack of actors and feeds for new users.",key:"tid",record:{type:"object",required:["name","list","createdAt"],properties:{name:{type:"string",maxGraphemes:50,maxLength:500,minLength:1,description:"Display name for starter pack; can not be empty."},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},list:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the list record."},feeds:{type:"array",maxLength:3,items:{type:"ref",ref:"lex:app.bsky.graph.starterpack#feedItem"}},createdAt:{type:"string",format:"datetime"}}}},feedItem:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}}}},AppBskyGraphUnmuteActor:{lexicon:1,id:"app.bsky.graph.unmuteActor",defs:{main:{type:"procedure",description:"Unmutes the specified account. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}}}}}},AppBskyGraphUnmuteActorList:{lexicon:1,id:"app.bsky.graph.unmuteActorList",defs:{main:{type:"procedure",description:"Unmutes the specified list of accounts. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["list"],properties:{list:{type:"string",format:"at-uri"}}}}}}},AppBskyGraphUnmuteThread:{lexicon:1,id:"app.bsky.graph.unmuteThread",defs:{main:{type:"procedure",description:"Unmutes the specified thread. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["root"],properties:{root:{type:"string",format:"at-uri"}}}}}}},AppBskyLabelerDefs:{lexicon:1,id:"app.bsky.labeler.defs",defs:{labelerView:{type:"object",required:["uri","cid","creator","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},likeCount:{type:"integer",minimum:0},viewer:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerViewerState"},indexedAt:{type:"string",format:"datetime"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},labelerViewDetailed:{type:"object",required:["uri","cid","creator","policies","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},policies:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerPolicies"},likeCount:{type:"integer",minimum:0},viewer:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerViewerState"},indexedAt:{type:"string",format:"datetime"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},reasonTypes:{description:"The set of report reason 'codes' which are in-scope for this service to review and action. These usually align to policy categories. If not defined (distinct from empty array), all reason types are allowed.",type:"array",items:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"}},subjectTypes:{description:"The set of subject types (account, record, etc) this service accepts reports on.",type:"array",items:{type:"ref",ref:"lex:com.atproto.moderation.defs#subjectType"}},subjectCollections:{type:"array",description:"Set of record types (collection NSIDs) which can be reported to this service. If not defined (distinct from empty array), default is any record type.",items:{type:"string",format:"nsid"}}}},labelerViewerState:{type:"object",properties:{like:{type:"string",format:"at-uri"}}},labelerPolicies:{type:"object",required:["labelValues"],properties:{labelValues:{type:"array",description:"The label values which this labeler publishes. May include global or custom labels.",items:{type:"ref",ref:"lex:com.atproto.label.defs#labelValue"}},labelValueDefinitions:{type:"array",description:"Label values created by this labeler and scoped exclusively to it. Labels defined here will override global label definitions for this labeler.",items:{type:"ref",ref:"lex:com.atproto.label.defs#labelValueDefinition"}}}}}},AppBskyLabelerGetServices:{lexicon:1,id:"app.bsky.labeler.getServices",defs:{main:{type:"query",description:"Get information about a list of labeler services.",parameters:{type:"params",required:["dids"],properties:{dids:{type:"array",items:{type:"string",format:"did"}},detailed:{type:"boolean",default:!1}}},output:{encoding:"application/json",schema:{type:"object",required:["views"],properties:{views:{type:"array",items:{type:"union",refs:["lex:app.bsky.labeler.defs#labelerView","lex:app.bsky.labeler.defs#labelerViewDetailed"]}}}}}}}},AppBskyLabelerService:{lexicon:1,id:"app.bsky.labeler.service",defs:{main:{type:"record",description:"A declaration of the existence of labeler service.",key:"literal:self",record:{type:"object",required:["policies","createdAt"],properties:{policies:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerPolicies"},labels:{type:"union",refs:["lex:com.atproto.label.defs#selfLabels"]},createdAt:{type:"string",format:"datetime"},reasonTypes:{description:"The set of report reason 'codes' which are in-scope for this service to review and action. These usually align to policy categories. If not defined (distinct from empty array), all reason types are allowed.",type:"array",items:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"}},subjectTypes:{description:"The set of subject types (account, record, etc) this service accepts reports on.",type:"array",items:{type:"ref",ref:"lex:com.atproto.moderation.defs#subjectType"}},subjectCollections:{type:"array",description:"Set of record types (collection NSIDs) which can be reported to this service. If not defined (distinct from empty array), default is any record type.",items:{type:"string",format:"nsid"}}}}}}},AppBskyNotificationGetUnreadCount:{lexicon:1,id:"app.bsky.notification.getUnreadCount",defs:{main:{type:"query",description:"Count the number of unread notifications for the requesting account. Requires auth.",parameters:{type:"params",properties:{priority:{type:"boolean"},seenAt:{type:"string",format:"datetime"}}},output:{encoding:"application/json",schema:{type:"object",required:["count"],properties:{count:{type:"integer"}}}}}}},AppBskyNotificationListNotifications:{lexicon:1,id:"app.bsky.notification.listNotifications",defs:{main:{type:"query",description:"Enumerate notifications for the requesting account. Requires auth.",parameters:{type:"params",properties:{reasons:{description:"Notification reasons to include in response.",type:"array",items:{type:"string",description:"A reason that matches the reason property of #notification."}},limit:{type:"integer",minimum:1,maximum:100,default:50},priority:{type:"boolean"},cursor:{type:"string"},seenAt:{type:"string",format:"datetime"}}},output:{encoding:"application/json",schema:{type:"object",required:["notifications"],properties:{cursor:{type:"string"},notifications:{type:"array",items:{type:"ref",ref:"lex:app.bsky.notification.listNotifications#notification"}},priority:{type:"boolean"},seenAt:{type:"string",format:"datetime"}}}}},notification:{type:"object",required:["uri","cid","author","reason","record","isRead","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},reason:{type:"string",description:"Expected values are 'like', 'repost', 'follow', 'mention', 'reply', 'quote', and 'starterpack-joined'.",knownValues:["like","repost","follow","mention","reply","quote","starterpack-joined"]},reasonSubject:{type:"string",format:"at-uri"},record:{type:"unknown"},isRead:{type:"boolean"},indexedAt:{type:"string",format:"datetime"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}},AppBskyNotificationPutPreferences:{lexicon:1,id:"app.bsky.notification.putPreferences",defs:{main:{type:"procedure",description:"Set notification-related preferences for an account. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["priority"],properties:{priority:{type:"boolean"}}}}}}},AppBskyNotificationRegisterPush:{lexicon:1,id:"app.bsky.notification.registerPush",defs:{main:{type:"procedure",description:"Register to receive push notifications, via a specified service, for the requesting account. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["serviceDid","token","platform","appId"],properties:{serviceDid:{type:"string",format:"did"},token:{type:"string"},platform:{type:"string",knownValues:["ios","android","web"]},appId:{type:"string"}}}}}}},AppBskyNotificationUpdateSeen:{lexicon:1,id:"app.bsky.notification.updateSeen",defs:{main:{type:"procedure",description:"Notify server that the requesting account has seen notifications. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["seenAt"],properties:{seenAt:{type:"string",format:"datetime"}}}}}}},AppBskyRichtextFacet:{lexicon:1,id:"app.bsky.richtext.facet",defs:{main:{type:"object",description:"Annotation of a sub-string within rich text.",required:["index","features"],properties:{index:{type:"ref",ref:"lex:app.bsky.richtext.facet#byteSlice"},features:{type:"array",items:{type:"union",refs:["lex:app.bsky.richtext.facet#mention","lex:app.bsky.richtext.facet#link","lex:app.bsky.richtext.facet#tag"]}}}},mention:{type:"object",description:"Facet feature for mention of another account. The text is usually a handle, including a '@' prefix, but the facet reference is a DID.",required:["did"],properties:{did:{type:"string",format:"did"}}},link:{type:"object",description:"Facet feature for a URL. The text URL may have been simplified or truncated, but the facet reference should be a complete URL.",required:["uri"],properties:{uri:{type:"string",format:"uri"}}},tag:{type:"object",description:"Facet feature for a hashtag. The text usually includes a '#' prefix, but the facet reference should not (except in the case of 'double hash tags').",required:["tag"],properties:{tag:{type:"string",maxLength:640,maxGraphemes:64}}},byteSlice:{type:"object",description:"Specifies the sub-string range a facet feature applies to. Start index is inclusive, end index is exclusive. Indices are zero-indexed, counting bytes of the UTF-8 encoded text. NOTE: some languages, like Javascript, use UTF-16 or Unicode codepoints for string slice indexing; in these languages, convert to byte arrays before working with facets.",required:["byteStart","byteEnd"],properties:{byteStart:{type:"integer",minimum:0},byteEnd:{type:"integer",minimum:0}}}}},AppBskyUnspeccedDefs:{lexicon:1,id:"app.bsky.unspecced.defs",defs:{skeletonSearchPost:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},skeletonSearchActor:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},skeletonSearchStarterPack:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},trendingTopic:{type:"object",required:["topic","link"],properties:{topic:{type:"string"},displayName:{type:"string"},description:{type:"string"},link:{type:"string"}}}}},AppBskyUnspeccedGetConfig:{lexicon:1,id:"app.bsky.unspecced.getConfig",defs:{main:{type:"query",description:"Get miscellaneous runtime configuration.",output:{encoding:"application/json",schema:{type:"object",required:[],properties:{checkEmailConfirmed:{type:"boolean"}}}}}}},AppBskyUnspeccedGetPopularFeedGenerators:{lexicon:1,id:"app.bsky.unspecced.getPopularFeedGenerators",defs:{main:{type:"query",description:"An unspecced view of globally popular feed generators.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},query:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{cursor:{type:"string"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyUnspeccedGetSuggestionsSkeleton:{lexicon:1,id:"app.bsky.unspecced.getSuggestionsSkeleton",defs:{main:{type:"query",description:"Get a skeleton of suggested actors. Intended to be called and then hydrated through app.bsky.actor.getSuggestions",parameters:{type:"params",properties:{viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries). Used to boost followed accounts in ranking."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},relativeToDid:{type:"string",format:"did",description:"DID of the account to get suggestions relative to. If not provided, suggestions will be based on the viewer."}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#skeletonSearchActor"}},relativeToDid:{type:"string",format:"did",description:"DID of the account these suggestions are relative to. If this is returned undefined, suggestions are based on the viewer."},recId:{type:"integer",description:"Snowflake for this recommendation, use when submitting recommendation events."}}}}}}},AppBskyUnspeccedGetTaggedSuggestions:{lexicon:1,id:"app.bsky.unspecced.getTaggedSuggestions",defs:{main:{type:"query",description:"Get a list of suggestions (feeds and users) tagged with categories",parameters:{type:"params",properties:{}},output:{encoding:"application/json",schema:{type:"object",required:["suggestions"],properties:{suggestions:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.getTaggedSuggestions#suggestion"}}}}}},suggestion:{type:"object",required:["tag","subjectType","subject"],properties:{tag:{type:"string"},subjectType:{type:"string",knownValues:["actor","feed"]},subject:{type:"string",format:"uri"}}}}},AppBskyUnspeccedGetTrendingTopics:{lexicon:1,id:"app.bsky.unspecced.getTrendingTopics",defs:{main:{type:"query",description:"Get a list of trending topics",parameters:{type:"params",properties:{viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries). Used to boost followed accounts in ranking."},limit:{type:"integer",minimum:1,maximum:25,default:10}}},output:{encoding:"application/json",schema:{type:"object",required:["topics","suggested"],properties:{topics:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#trendingTopic"}},suggested:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#trendingTopic"}}}}}}}},AppBskyUnspeccedSearchActorsSkeleton:{lexicon:1,id:"app.bsky.unspecced.searchActorsSkeleton",defs:{main:{type:"query",description:"Backend Actors (profile) search, returns only skeleton.",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended. For typeahead search, only simple term match is supported, not full syntax."},viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries). Used to boost followed accounts in ranking."},typeahead:{type:"boolean",description:"If true, acts as fast/simple 'typeahead' query."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string",description:"Optional pagination mechanism; may not necessarily allow scrolling through entire result set."}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},hitsTotal:{type:"integer",description:"Count of search hits. Optional, may be rounded/truncated, and may not be possible to paginate through all hits."},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#skeletonSearchActor"}}}}},errors:[{name:"BadQueryString"}]}}},AppBskyUnspeccedSearchPostsSkeleton:{lexicon:1,id:"app.bsky.unspecced.searchPostsSkeleton",defs:{main:{type:"query",description:"Backend Posts search, returns only skeleton",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},sort:{type:"string",knownValues:["top","latest"],default:"latest",description:"Specifies the ranking order of results."},since:{type:"string",description:"Filter results for posts after the indicated datetime (inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYYY-MM-DD)."},until:{type:"string",description:"Filter results for posts before the indicated datetime (not inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYY-MM-DD)."},mentions:{type:"string",format:"at-identifier",description:"Filter to posts which mention the given account. Handles are resolved to DID before query-time. Only matches rich-text facet mentions."},author:{type:"string",format:"at-identifier",description:"Filter to posts by the given account. Handles are resolved to DID before query-time."},lang:{type:"string",format:"language",description:"Filter to posts in the given language. Expected to be based on post language field, though server may override language detection."},domain:{type:"string",description:"Filter to posts with URLs (facet links or embeds) linking to the given domain (hostname). Server may apply hostname normalization."},url:{type:"string",format:"uri",description:"Filter to posts with links (facet links or embeds) pointing to this URL. Server may apply URL normalization or fuzzy matching."},tag:{type:"array",items:{type:"string",maxLength:640,maxGraphemes:64},description:"Filter to posts with the given tag (hashtag), based on rich-text facet or tag field. Do not include the hash (#) prefix. Multiple tags can be specified, with 'AND' matching."},viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries). Used for 'from:me' queries."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string",description:"Optional pagination mechanism; may not necessarily allow scrolling through entire result set."}}},output:{encoding:"application/json",schema:{type:"object",required:["posts"],properties:{cursor:{type:"string"},hitsTotal:{type:"integer",description:"Count of search hits. Optional, may be rounded/truncated, and may not be possible to paginate through all hits."},posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#skeletonSearchPost"}}}}},errors:[{name:"BadQueryString"}]}}},AppBskyUnspeccedSearchStarterPacksSkeleton:{lexicon:1,id:"app.bsky.unspecced.searchStarterPacksSkeleton",defs:{main:{type:"query",description:"Backend Starter Pack search, returns only skeleton.",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries)."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string",description:"Optional pagination mechanism; may not necessarily allow scrolling through entire result set."}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPacks"],properties:{cursor:{type:"string"},hitsTotal:{type:"integer",description:"Count of search hits. Optional, may be rounded/truncated, and may not be possible to paginate through all hits."},starterPacks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#skeletonSearchStarterPack"}}}}},errors:[{name:"BadQueryString"}]}}},AppBskyVideoDefs:{lexicon:1,id:"app.bsky.video.defs",defs:{jobStatus:{type:"object",required:["jobId","did","state"],properties:{jobId:{type:"string"},did:{type:"string",format:"did"},state:{type:"string",description:"The state of the video processing job. All values not listed as a known value indicate that the job is in process.",knownValues:["JOB_STATE_COMPLETED","JOB_STATE_FAILED"]},progress:{type:"integer",minimum:0,maximum:100,description:"Progress within the current processing state."},blob:{type:"blob"},error:{type:"string"},message:{type:"string"}}}}},AppBskyVideoGetJobStatus:{lexicon:1,id:"app.bsky.video.getJobStatus",defs:{main:{type:"query",description:"Get status details for a video processing job.",parameters:{type:"params",required:["jobId"],properties:{jobId:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["jobStatus"],properties:{jobStatus:{type:"ref",ref:"lex:app.bsky.video.defs#jobStatus"}}}}}}},AppBskyVideoGetUploadLimits:{lexicon:1,id:"app.bsky.video.getUploadLimits",defs:{main:{type:"query",description:"Get video upload limits for the authenticated user.",output:{encoding:"application/json",schema:{type:"object",required:["canUpload"],properties:{canUpload:{type:"boolean"},remainingDailyVideos:{type:"integer"},remainingDailyBytes:{type:"integer"},message:{type:"string"},error:{type:"string"}}}}}}},AppBskyVideoUploadVideo:{lexicon:1,id:"app.bsky.video.uploadVideo",defs:{main:{type:"procedure",description:"Upload a video to be processed then stored on the PDS.",input:{encoding:"video/mp4"},output:{encoding:"application/json",schema:{type:"object",required:["jobStatus"],properties:{jobStatus:{type:"ref",ref:"lex:app.bsky.video.defs#jobStatus"}}}}}}},ChatBskyActorDeclaration:{lexicon:1,id:"chat.bsky.actor.declaration",defs:{main:{type:"record",description:"A declaration of a Bluesky chat account.",key:"literal:self",record:{type:"object",required:["allowIncoming"],properties:{allowIncoming:{type:"string",knownValues:["all","none","following"]}}}}}},ChatBskyActorDefs:{lexicon:1,id:"chat.bsky.actor.defs",defs:{profileViewBasic:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},avatar:{type:"string",format:"uri"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},chatDisabled:{type:"boolean",description:"Set to true when the actor cannot actively participate in converations"}}}}},ChatBskyActorDeleteAccount:{lexicon:1,id:"chat.bsky.actor.deleteAccount",defs:{main:{type:"procedure",output:{encoding:"application/json",schema:{type:"object",properties:{}}}}}},ChatBskyActorExportAccountData:{lexicon:1,id:"chat.bsky.actor.exportAccountData",defs:{main:{type:"query",output:{encoding:"application/jsonl"}}}},ChatBskyConvoAcceptConvo:{lexicon:1,id:"chat.bsky.convo.acceptConvo",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",properties:{rev:{description:"Rev when the convo was accepted. If not present, the convo was already accepted.",type:"string"}}}}}}},ChatBskyConvoDefs:{lexicon:1,id:"chat.bsky.convo.defs",defs:{messageRef:{type:"object",required:["did","messageId","convoId"],properties:{did:{type:"string",format:"did"},convoId:{type:"string"},messageId:{type:"string"}}},messageInput:{type:"object",required:["text"],properties:{text:{type:"string",maxLength:1e4,maxGraphemes:1e3},facets:{type:"array",description:"Annotations of text (mentions, URLs, hashtags, etc)",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},embed:{type:"union",refs:["lex:app.bsky.embed.record"]}}},messageView:{type:"object",required:["id","rev","text","sender","sentAt"],properties:{id:{type:"string"},rev:{type:"string"},text:{type:"string",maxLength:1e4,maxGraphemes:1e3},facets:{type:"array",description:"Annotations of text (mentions, URLs, hashtags, etc)",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},embed:{type:"union",refs:["lex:app.bsky.embed.record#view"]},sender:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageViewSender"},sentAt:{type:"string",format:"datetime"}}},deletedMessageView:{type:"object",required:["id","rev","sender","sentAt"],properties:{id:{type:"string"},rev:{type:"string"},sender:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageViewSender"},sentAt:{type:"string",format:"datetime"}}},messageViewSender:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},convoView:{type:"object",required:["id","rev","members","muted","unreadCount"],properties:{id:{type:"string"},rev:{type:"string"},members:{type:"array",items:{type:"ref",ref:"lex:chat.bsky.actor.defs#profileViewBasic"}},lastMessage:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]},muted:{type:"boolean"},status:{type:"string",knownValues:["request","accepted"]},unreadCount:{type:"integer"}}},logBeginConvo:{type:"object",required:["rev","convoId"],properties:{rev:{type:"string"},convoId:{type:"string"}}},logAcceptConvo:{type:"object",required:["rev","convoId"],properties:{rev:{type:"string"},convoId:{type:"string"}}},logLeaveConvo:{type:"object",required:["rev","convoId"],properties:{rev:{type:"string"},convoId:{type:"string"}}},logMuteConvo:{type:"object",required:["rev","convoId"],properties:{rev:{type:"string"},convoId:{type:"string"}}},logUnmuteConvo:{type:"object",required:["rev","convoId"],properties:{rev:{type:"string"},convoId:{type:"string"}}},logCreateMessage:{type:"object",required:["rev","convoId","message"],properties:{rev:{type:"string"},convoId:{type:"string"},message:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}},logDeleteMessage:{type:"object",required:["rev","convoId","message"],properties:{rev:{type:"string"},convoId:{type:"string"},message:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}},logReadMessage:{type:"object",required:["rev","convoId","message"],properties:{rev:{type:"string"},convoId:{type:"string"},message:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}}}},ChatBskyConvoDeleteMessageForSelf:{lexicon:1,id:"chat.bsky.convo.deleteMessageForSelf",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId","messageId"],properties:{convoId:{type:"string"},messageId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:chat.bsky.convo.defs#deletedMessageView"}}}}},ChatBskyConvoGetConvo:{lexicon:1,id:"chat.bsky.convo.getConvo",defs:{main:{type:"query",parameters:{type:"params",required:["convoId"],properties:{convoId:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoGetConvoAvailability:{lexicon:1,id:"chat.bsky.convo.getConvoAvailability",defs:{main:{type:"query",description:"Get whether the requester and the other members can chat. If an existing convo is found for these members, it is returned.",parameters:{type:"params",required:["members"],properties:{members:{type:"array",minLength:1,maxLength:10,items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["canChat"],properties:{canChat:{type:"boolean"},convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoGetConvoForMembers:{lexicon:1,id:"chat.bsky.convo.getConvoForMembers",defs:{main:{type:"query",parameters:{type:"params",required:["members"],properties:{members:{type:"array",minLength:1,maxLength:10,items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoGetLog:{lexicon:1,id:"chat.bsky.convo.getLog",defs:{main:{type:"query",parameters:{type:"params",required:[],properties:{cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["logs"],properties:{cursor:{type:"string"},logs:{type:"array",items:{type:"union",refs:["lex:chat.bsky.convo.defs#logBeginConvo","lex:chat.bsky.convo.defs#logAcceptConvo","lex:chat.bsky.convo.defs#logLeaveConvo","lex:chat.bsky.convo.defs#logCreateMessage","lex:chat.bsky.convo.defs#logDeleteMessage"]}}}}}}}},ChatBskyConvoGetMessages:{lexicon:1,id:"chat.bsky.convo.getMessages",defs:{main:{type:"query",parameters:{type:"params",required:["convoId"],properties:{convoId:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["messages"],properties:{cursor:{type:"string"},messages:{type:"array",items:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}}}}}}},ChatBskyConvoLeaveConvo:{lexicon:1,id:"chat.bsky.convo.leaveConvo",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convoId","rev"],properties:{convoId:{type:"string"},rev:{type:"string"}}}}}}},ChatBskyConvoListConvos:{lexicon:1,id:"chat.bsky.convo.listConvos",defs:{main:{type:"query",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},readState:{type:"string",knownValues:["unread"]},status:{type:"string",knownValues:["request","accepted"]}}},output:{encoding:"application/json",schema:{type:"object",required:["convos"],properties:{cursor:{type:"string"},convos:{type:"array",items:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}}},ChatBskyConvoMuteConvo:{lexicon:1,id:"chat.bsky.convo.muteConvo",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoSendMessage:{lexicon:1,id:"chat.bsky.convo.sendMessage",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId","message"],properties:{convoId:{type:"string"},message:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageInput"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageView"}}}}},ChatBskyConvoSendMessageBatch:{lexicon:1,id:"chat.bsky.convo.sendMessageBatch",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["items"],properties:{items:{type:"array",maxLength:100,items:{type:"ref",ref:"lex:chat.bsky.convo.sendMessageBatch#batchItem"}}}}},output:{encoding:"application/json",schema:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageView"}}}}}},batchItem:{type:"object",required:["convoId","message"],properties:{convoId:{type:"string"},message:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageInput"}}}}},ChatBskyConvoUnmuteConvo:{lexicon:1,id:"chat.bsky.convo.unmuteConvo",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoUpdateAllRead:{lexicon:1,id:"chat.bsky.convo.updateAllRead",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",properties:{status:{type:"string",knownValues:["request","accepted"]}}}},output:{encoding:"application/json",schema:{type:"object",required:["updatedCount"],properties:{updatedCount:{description:"The count of updated convos.",type:"integer"}}}}}}},ChatBskyConvoUpdateRead:{lexicon:1,id:"chat.bsky.convo.updateRead",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"},messageId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyModerationGetActorMetadata:{lexicon:1,id:"chat.bsky.moderation.getActorMetadata",defs:{main:{type:"query",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"did"}}},output:{encoding:"application/json",schema:{type:"object",required:["day","month","all"],properties:{day:{type:"ref",ref:"lex:chat.bsky.moderation.getActorMetadata#metadata"},month:{type:"ref",ref:"lex:chat.bsky.moderation.getActorMetadata#metadata"},all:{type:"ref",ref:"lex:chat.bsky.moderation.getActorMetadata#metadata"}}}}},metadata:{type:"object",required:["messagesSent","messagesReceived","convos","convosStarted"],properties:{messagesSent:{type:"integer"},messagesReceived:{type:"integer"},convos:{type:"integer"},convosStarted:{type:"integer"}}}}},ChatBskyModerationGetMessageContext:{lexicon:1,id:"chat.bsky.moderation.getMessageContext",defs:{main:{type:"query",parameters:{type:"params",required:["messageId"],properties:{convoId:{type:"string",description:"Conversation that the message is from. NOTE: this field will eventually be required."},messageId:{type:"string"},before:{type:"integer",default:5},after:{type:"integer",default:5}}},output:{encoding:"application/json",schema:{type:"object",required:["messages"],properties:{messages:{type:"array",items:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}}}}}}},ChatBskyModerationUpdateActorAccess:{lexicon:1,id:"chat.bsky.moderation.updateActorAccess",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["actor","allowAccess"],properties:{actor:{type:"string",format:"did"},allowAccess:{type:"boolean"},ref:{type:"string"}}}}}}},ToolsOzoneCommunicationCreateTemplate:{lexicon:1,id:"tools.ozone.communication.createTemplate",defs:{main:{type:"procedure",description:"Administrative action to create a new, re-usable communication (email for now) template.",input:{encoding:"application/json",schema:{type:"object",required:["subject","contentMarkdown","name"],properties:{name:{type:"string",description:"Name of the template."},contentMarkdown:{type:"string",description:"Content of the template, markdown supported, can contain variable placeholders."},subject:{type:"string",description:"Subject of the message, used in emails."},lang:{type:"string",format:"language",description:"Message language."},createdBy:{type:"string",format:"did",description:"DID of the user who is creating the template."}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.communication.defs#templateView"}},errors:[{name:"DuplicateTemplateName"}]}}},ToolsOzoneCommunicationDefs:{lexicon:1,id:"tools.ozone.communication.defs",defs:{templateView:{type:"object",required:["id","name","contentMarkdown","disabled","lastUpdatedBy","createdAt","updatedAt"],properties:{id:{type:"string"},name:{type:"string",description:"Name of the template."},subject:{type:"string",description:"Content of the template, can contain markdown and variable placeholders."},contentMarkdown:{type:"string",description:"Subject of the message, used in emails."},disabled:{type:"boolean"},lang:{type:"string",format:"language",description:"Message language."},lastUpdatedBy:{type:"string",format:"did",description:"DID of the user who last updated the template."},createdAt:{type:"string",format:"datetime"},updatedAt:{type:"string",format:"datetime"}}}}},ToolsOzoneCommunicationDeleteTemplate:{lexicon:1,id:"tools.ozone.communication.deleteTemplate",defs:{main:{type:"procedure",description:"Delete a communication template.",input:{encoding:"application/json",schema:{type:"object",required:["id"],properties:{id:{type:"string"}}}}}}},ToolsOzoneCommunicationListTemplates:{lexicon:1,id:"tools.ozone.communication.listTemplates",defs:{main:{type:"query",description:"Get list of all communication templates.",output:{encoding:"application/json",schema:{type:"object",required:["communicationTemplates"],properties:{communicationTemplates:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.communication.defs#templateView"}}}}}}}},ToolsOzoneCommunicationUpdateTemplate:{lexicon:1,id:"tools.ozone.communication.updateTemplate",defs:{main:{type:"procedure",description:"Administrative action to update an existing communication template. Allows passing partial fields to patch specific fields only.",input:{encoding:"application/json",schema:{type:"object",required:["id"],properties:{id:{type:"string",description:"ID of the template to be updated."},name:{type:"string",description:"Name of the template."},lang:{type:"string",format:"language",description:"Message language."},contentMarkdown:{type:"string",description:"Content of the template, markdown supported, can contain variable placeholders."},subject:{type:"string",description:"Subject of the message, used in emails."},updatedBy:{type:"string",format:"did",description:"DID of the user who is updating the template."},disabled:{type:"boolean"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.communication.defs#templateView"}},errors:[{name:"DuplicateTemplateName"}]}}},ToolsOzoneModerationDefs:{lexicon:1,id:"tools.ozone.moderation.defs",defs:{modEventView:{type:"object",required:["id","event","subject","subjectBlobCids","createdBy","createdAt"],properties:{id:{type:"integer"},event:{type:"union",refs:["lex:tools.ozone.moderation.defs#modEventTakedown","lex:tools.ozone.moderation.defs#modEventReverseTakedown","lex:tools.ozone.moderation.defs#modEventComment","lex:tools.ozone.moderation.defs#modEventReport","lex:tools.ozone.moderation.defs#modEventLabel","lex:tools.ozone.moderation.defs#modEventAcknowledge","lex:tools.ozone.moderation.defs#modEventEscalate","lex:tools.ozone.moderation.defs#modEventMute","lex:tools.ozone.moderation.defs#modEventUnmute","lex:tools.ozone.moderation.defs#modEventMuteReporter","lex:tools.ozone.moderation.defs#modEventUnmuteReporter","lex:tools.ozone.moderation.defs#modEventEmail","lex:tools.ozone.moderation.defs#modEventResolveAppeal","lex:tools.ozone.moderation.defs#modEventDivert","lex:tools.ozone.moderation.defs#modEventTag","lex:tools.ozone.moderation.defs#accountEvent","lex:tools.ozone.moderation.defs#identityEvent","lex:tools.ozone.moderation.defs#recordEvent","lex:tools.ozone.moderation.defs#modEventPriorityScore"]},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:chat.bsky.convo.defs#messageRef"]},subjectBlobCids:{type:"array",items:{type:"string"}},createdBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"},creatorHandle:{type:"string"},subjectHandle:{type:"string"}}},modEventViewDetail:{type:"object",required:["id","event","subject","subjectBlobs","createdBy","createdAt"],properties:{id:{type:"integer"},event:{type:"union",refs:["lex:tools.ozone.moderation.defs#modEventTakedown","lex:tools.ozone.moderation.defs#modEventReverseTakedown","lex:tools.ozone.moderation.defs#modEventComment","lex:tools.ozone.moderation.defs#modEventReport","lex:tools.ozone.moderation.defs#modEventLabel","lex:tools.ozone.moderation.defs#modEventAcknowledge","lex:tools.ozone.moderation.defs#modEventEscalate","lex:tools.ozone.moderation.defs#modEventMute","lex:tools.ozone.moderation.defs#modEventUnmute","lex:tools.ozone.moderation.defs#modEventMuteReporter","lex:tools.ozone.moderation.defs#modEventUnmuteReporter","lex:tools.ozone.moderation.defs#modEventEmail","lex:tools.ozone.moderation.defs#modEventResolveAppeal","lex:tools.ozone.moderation.defs#modEventDivert","lex:tools.ozone.moderation.defs#modEventTag","lex:tools.ozone.moderation.defs#accountEvent","lex:tools.ozone.moderation.defs#identityEvent","lex:tools.ozone.moderation.defs#recordEvent","lex:tools.ozone.moderation.defs#modEventPriorityScore"]},subject:{type:"union",refs:["lex:tools.ozone.moderation.defs#repoView","lex:tools.ozone.moderation.defs#repoViewNotFound","lex:tools.ozone.moderation.defs#recordView","lex:tools.ozone.moderation.defs#recordViewNotFound"]},subjectBlobs:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#blobView"}},createdBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}},subjectStatusView:{type:"object",required:["id","subject","createdAt","updatedAt","reviewState"],properties:{id:{type:"integer"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},hosting:{type:"union",refs:["lex:tools.ozone.moderation.defs#accountHosting","lex:tools.ozone.moderation.defs#recordHosting"]},subjectBlobCids:{type:"array",items:{type:"string",format:"cid"}},subjectRepoHandle:{type:"string"},updatedAt:{type:"string",format:"datetime",description:"Timestamp referencing when the last update was made to the moderation status of the subject"},createdAt:{type:"string",format:"datetime",description:"Timestamp referencing the first moderation status impacting event was emitted on the subject"},reviewState:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectReviewState"},comment:{type:"string",description:"Sticky comment on the subject."},priorityScore:{type:"integer",description:"Numeric value representing the level of priority. Higher score means higher priority.",minimum:0,maximum:100},muteUntil:{type:"string",format:"datetime"},muteReportingUntil:{type:"string",format:"datetime"},lastReviewedBy:{type:"string",format:"did"},lastReviewedAt:{type:"string",format:"datetime"},lastReportedAt:{type:"string",format:"datetime"},lastAppealedAt:{type:"string",format:"datetime",description:"Timestamp referencing when the author of the subject appealed a moderation action"},takendown:{type:"boolean"},appealed:{type:"boolean",description:"True indicates that the a previously taken moderator action was appealed against, by the author of the content. False indicates last appeal was resolved by moderators."},suspendUntil:{type:"string",format:"datetime"},tags:{type:"array",items:{type:"string"}},accountStats:{description:"Statistics related to the account subject",type:"ref",ref:"lex:tools.ozone.moderation.defs#accountStats"},recordsStats:{description:"Statistics related to the record subjects authored by the subject's account",type:"ref",ref:"lex:tools.ozone.moderation.defs#recordsStats"}}},accountStats:{description:"Statistics about a particular account subject",type:"object",properties:{reportCount:{description:"Total number of reports on the account",type:"integer"},appealCount:{description:"Total number of appeals against a moderation action on the account",type:"integer"},suspendCount:{description:"Number of times the account was suspended",type:"integer"},escalateCount:{description:"Number of times the account was escalated",type:"integer"},takedownCount:{description:"Number of times the account was taken down",type:"integer"}}},recordsStats:{description:"Statistics about a set of record subject items",type:"object",properties:{totalReports:{description:"Cumulative sum of the number of reports on the items in the set",type:"integer"},reportedCount:{description:"Number of items that were reported at least once",type:"integer"},escalatedCount:{description:"Number of items that were escalated at least once",type:"integer"},appealedCount:{description:"Number of items that were appealed at least once",type:"integer"},subjectCount:{description:"Total number of item in the set",type:"integer"},pendingCount:{description:'Number of item currently in "reviewOpen" or "reviewEscalated" state',type:"integer"},processedCount:{description:'Number of item currently in "reviewNone" or "reviewClosed" state',type:"integer"},takendownCount:{description:"Number of item currently taken down",type:"integer"}}},subjectReviewState:{type:"string",knownValues:["lex:tools.ozone.moderation.defs#reviewOpen","lex:tools.ozone.moderation.defs#reviewEscalated","lex:tools.ozone.moderation.defs#reviewClosed","lex:tools.ozone.moderation.defs#reviewNone"]},reviewOpen:{type:"token",description:"Moderator review status of a subject: Open. Indicates that the subject needs to be reviewed by a moderator"},reviewEscalated:{type:"token",description:"Moderator review status of a subject: Escalated. Indicates that the subject was escalated for review by a moderator"},reviewClosed:{type:"token",description:"Moderator review status of a subject: Closed. Indicates that the subject was already reviewed and resolved by a moderator"},reviewNone:{type:"token",description:"Moderator review status of a subject: Unnecessary. Indicates that the subject does not need a review at the moment but there is probably some moderation related metadata available for it"},modEventTakedown:{type:"object",description:"Take down a subject permanently or temporarily",properties:{comment:{type:"string"},durationInHours:{type:"integer",description:"Indicates how long the takedown should be in effect before automatically expiring."},acknowledgeAccountSubjects:{type:"boolean",description:"If true, all other reports on content authored by this account will be resolved (acknowledged)."},policies:{type:"array",maxLength:5,items:{type:"string"},description:"Names/Keywords of the policies that drove the decision."}}},modEventReverseTakedown:{type:"object",description:"Revert take down action on a subject",properties:{comment:{type:"string",description:"Describe reasoning behind the reversal."}}},modEventResolveAppeal:{type:"object",description:"Resolve appeal on a subject",properties:{comment:{type:"string",description:"Describe resolution."}}},modEventComment:{type:"object",description:"Add a comment to a subject. An empty comment will clear any previously set sticky comment.",properties:{comment:{type:"string"},sticky:{type:"boolean",description:"Make the comment persistent on the subject"}}},modEventReport:{type:"object",description:"Report a subject",required:["reportType"],properties:{comment:{type:"string"},isReporterMuted:{type:"boolean",description:"Set to true if the reporter was muted from reporting at the time of the event. These reports won't impact the reviewState of the subject."},reportType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"}}},modEventLabel:{type:"object",description:"Apply/Negate labels on a subject",required:["createLabelVals","negateLabelVals"],properties:{comment:{type:"string"},createLabelVals:{type:"array",items:{type:"string"}},negateLabelVals:{type:"array",items:{type:"string"}},durationInHours:{type:"integer",description:"Indicates how long the label will remain on the subject. Only applies on labels that are being added."}}},modEventPriorityScore:{type:"object",description:"Set priority score of the subject. Higher score means higher priority.",required:["score"],properties:{comment:{type:"string"},score:{type:"integer",minimum:0,maximum:100}}},modEventAcknowledge:{type:"object",properties:{comment:{type:"string"},acknowledgeAccountSubjects:{type:"boolean",description:"If true, all other reports on content authored by this account will be resolved (acknowledged)."}}},modEventEscalate:{type:"object",properties:{comment:{type:"string"}}},modEventMute:{type:"object",description:"Mute incoming reports on a subject",required:["durationInHours"],properties:{comment:{type:"string"},durationInHours:{type:"integer",description:"Indicates how long the subject should remain muted."}}},modEventUnmute:{type:"object",description:"Unmute action on a subject",properties:{comment:{type:"string",description:"Describe reasoning behind the reversal."}}},modEventMuteReporter:{type:"object",description:"Mute incoming reports from an account",properties:{comment:{type:"string"},durationInHours:{type:"integer",description:"Indicates how long the account should remain muted. Falsy value here means a permanent mute."}}},modEventUnmuteReporter:{type:"object",description:"Unmute incoming reports from an account",properties:{comment:{type:"string",description:"Describe reasoning behind the reversal."}}},modEventEmail:{type:"object",description:"Keep a log of outgoing email to a user",required:["subjectLine"],properties:{subjectLine:{type:"string",description:"The subject line of the email sent to the user."},content:{type:"string",description:"The content of the email sent to the user."},comment:{type:"string",description:"Additional comment about the outgoing comm."}}},modEventDivert:{type:"object",description:"Divert a record's blobs to a 3rd party service for further scanning/tagging",properties:{comment:{type:"string"}}},modEventTag:{type:"object",description:"Add/Remove a tag on a subject",required:["add","remove"],properties:{add:{type:"array",items:{type:"string"},description:"Tags to be added to the subject. If already exists, won't be duplicated."},remove:{type:"array",items:{type:"string"},description:"Tags to be removed to the subject. Ignores a tag If it doesn't exist, won't be duplicated."},comment:{type:"string",description:"Additional comment about added/removed tags."}}},accountEvent:{type:"object",description:"Logs account status related events on a repo subject. Normally captured by automod from the firehose and emitted to ozone for historical tracking.",required:["timestamp","active"],properties:{comment:{type:"string"},active:{type:"boolean",description:"Indicates that the account has a repository which can be fetched from the host that emitted this event."},status:{type:"string",knownValues:["unknown","deactivated","deleted","takendown","suspended","tombstoned"]},timestamp:{type:"string",format:"datetime"}}},identityEvent:{type:"object",description:"Logs identity related events on a repo subject. Normally captured by automod from the firehose and emitted to ozone for historical tracking.",required:["timestamp"],properties:{comment:{type:"string"},handle:{type:"string",format:"handle"},pdsHost:{type:"string",format:"uri"},tombstone:{type:"boolean"},timestamp:{type:"string",format:"datetime"}}},recordEvent:{type:"object",description:"Logs lifecycle event on a record subject. Normally captured by automod from the firehose and emitted to ozone for historical tracking.",required:["timestamp","op"],properties:{comment:{type:"string"},op:{type:"string",knownValues:["create","update","delete"]},cid:{type:"string",format:"cid"},timestamp:{type:"string",format:"datetime"}}},repoView:{type:"object",required:["did","handle","relatedRecords","indexedAt","moderation"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderation"},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"},invitesDisabled:{type:"boolean"},inviteNote:{type:"string"},deactivatedAt:{type:"string",format:"datetime"},threatSignatures:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#threatSignature"}}}},repoViewDetail:{type:"object",required:["did","handle","relatedRecords","indexedAt","moderation"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderationDetail"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"},invites:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}},invitesDisabled:{type:"boolean"},inviteNote:{type:"string"},emailConfirmedAt:{type:"string",format:"datetime"},deactivatedAt:{type:"string",format:"datetime"},threatSignatures:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#threatSignature"}}}},repoViewNotFound:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},recordView:{type:"object",required:["uri","cid","value","blobCids","indexedAt","moderation","repo"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"},blobCids:{type:"array",items:{type:"string",format:"cid"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderation"},repo:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoView"}}},recordViewDetail:{type:"object",required:["uri","cid","value","blobs","indexedAt","moderation","repo"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"},blobs:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#blobView"}},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderationDetail"},repo:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoView"}}},recordViewNotFound:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},moderation:{type:"object",properties:{subjectStatus:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectStatusView"}}},moderationDetail:{type:"object",properties:{subjectStatus:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectStatusView"}}},blobView:{type:"object",required:["cid","mimeType","size","createdAt"],properties:{cid:{type:"string",format:"cid"},mimeType:{type:"string"},size:{type:"integer"},createdAt:{type:"string",format:"datetime"},details:{type:"union",refs:["lex:tools.ozone.moderation.defs#imageDetails","lex:tools.ozone.moderation.defs#videoDetails"]},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderation"}}},imageDetails:{type:"object",required:["width","height"],properties:{width:{type:"integer"},height:{type:"integer"}}},videoDetails:{type:"object",required:["width","height","length"],properties:{width:{type:"integer"},height:{type:"integer"},length:{type:"integer"}}},accountHosting:{type:"object",required:["status"],properties:{status:{type:"string",knownValues:["takendown","suspended","deleted","deactivated","unknown"]},updatedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},deletedAt:{type:"string",format:"datetime"},deactivatedAt:{type:"string",format:"datetime"},reactivatedAt:{type:"string",format:"datetime"}}},recordHosting:{type:"object",required:["status"],properties:{status:{type:"string",knownValues:["deleted","unknown"]},updatedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},deletedAt:{type:"string",format:"datetime"}}},reporterStats:{type:"object",required:["did","accountReportCount","recordReportCount","reportedAccountCount","reportedRecordCount","takendownAccountCount","takendownRecordCount","labeledAccountCount","labeledRecordCount"],properties:{did:{type:"string",format:"did"},accountReportCount:{type:"integer",description:"The total number of reports made by the user on accounts."},recordReportCount:{type:"integer",description:"The total number of reports made by the user on records."},reportedAccountCount:{type:"integer",description:"The total number of accounts reported by the user."},reportedRecordCount:{type:"integer",description:"The total number of records reported by the user."},takendownAccountCount:{type:"integer",description:"The total number of accounts taken down as a result of the user's reports."},takendownRecordCount:{type:"integer",description:"The total number of records taken down as a result of the user's reports."},labeledAccountCount:{type:"integer",description:"The total number of accounts labeled as a result of the user's reports."},labeledRecordCount:{type:"integer",description:"The total number of records labeled as a result of the user's reports."}}}}},ToolsOzoneModerationEmitEvent:{lexicon:1,id:"tools.ozone.moderation.emitEvent",defs:{main:{type:"procedure",description:"Take a moderation action on an actor.",input:{encoding:"application/json",schema:{type:"object",required:["event","subject","createdBy"],properties:{event:{type:"union",refs:["lex:tools.ozone.moderation.defs#modEventTakedown","lex:tools.ozone.moderation.defs#modEventAcknowledge","lex:tools.ozone.moderation.defs#modEventEscalate","lex:tools.ozone.moderation.defs#modEventComment","lex:tools.ozone.moderation.defs#modEventLabel","lex:tools.ozone.moderation.defs#modEventReport","lex:tools.ozone.moderation.defs#modEventMute","lex:tools.ozone.moderation.defs#modEventUnmute","lex:tools.ozone.moderation.defs#modEventMuteReporter","lex:tools.ozone.moderation.defs#modEventUnmuteReporter","lex:tools.ozone.moderation.defs#modEventReverseTakedown","lex:tools.ozone.moderation.defs#modEventResolveAppeal","lex:tools.ozone.moderation.defs#modEventEmail","lex:tools.ozone.moderation.defs#modEventDivert","lex:tools.ozone.moderation.defs#modEventTag","lex:tools.ozone.moderation.defs#accountEvent","lex:tools.ozone.moderation.defs#identityEvent","lex:tools.ozone.moderation.defs#recordEvent","lex:tools.ozone.moderation.defs#modEventPriorityScore"]},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},subjectBlobCids:{type:"array",items:{type:"string",format:"cid"}},createdBy:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#modEventView"}},errors:[{name:"SubjectHasAction"}]}}},ToolsOzoneModerationGetEvent:{lexicon:1,id:"tools.ozone.moderation.getEvent",defs:{main:{type:"query",description:"Get details about a moderation event.",parameters:{type:"params",required:["id"],properties:{id:{type:"integer"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#modEventViewDetail"}}}}},ToolsOzoneModerationGetRecord:{lexicon:1,id:"tools.ozone.moderation.getRecord",defs:{main:{type:"query",description:"Get details about a record.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#recordViewDetail"}},errors:[{name:"RecordNotFound"}]}}},ToolsOzoneModerationGetRecords:{lexicon:1,id:"tools.ozone.moderation.getRecords",defs:{main:{type:"query",description:"Get details about some records.",parameters:{type:"params",required:["uris"],properties:{uris:{type:"array",maxLength:100,items:{type:"string",format:"at-uri"}}}},output:{encoding:"application/json",schema:{type:"object",required:["records"],properties:{records:{type:"array",items:{type:"union",refs:["lex:tools.ozone.moderation.defs#recordViewDetail","lex:tools.ozone.moderation.defs#recordViewNotFound"]}}}}}}}},ToolsOzoneModerationGetRepo:{lexicon:1,id:"tools.ozone.moderation.getRepo",defs:{main:{type:"query",description:"Get details about a repository.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoViewDetail"}},errors:[{name:"RepoNotFound"}]}}},ToolsOzoneModerationGetReporterStats:{lexicon:1,id:"tools.ozone.moderation.getReporterStats",defs:{main:{type:"query",description:"Get reporter stats for a list of users.",parameters:{type:"params",required:["dids"],properties:{dids:{type:"array",maxLength:100,items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["stats"],properties:{stats:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#reporterStats"}}}}}}}},ToolsOzoneModerationGetRepos:{lexicon:1,id:"tools.ozone.moderation.getRepos",defs:{main:{type:"query",description:"Get details about some repositories.",parameters:{type:"params",required:["dids"],properties:{dids:{type:"array",maxLength:100,items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{repos:{type:"array",items:{type:"union",refs:["lex:tools.ozone.moderation.defs#repoViewDetail","lex:tools.ozone.moderation.defs#repoViewNotFound"]}}}}}}}},ToolsOzoneModerationQueryEvents:{lexicon:1,id:"tools.ozone.moderation.queryEvents",defs:{main:{type:"query",description:"List moderation events related to a subject.",parameters:{type:"params",properties:{types:{type:"array",items:{type:"string"},description:"The types of events (fully qualified string in the format of tools.ozone.moderation.defs#modEvent<name>) to filter by. If not specified, all events are returned."},createdBy:{type:"string",format:"did"},sortDirection:{type:"string",default:"desc",enum:["asc","desc"],description:"Sort direction for the events. Defaults to descending order of created at timestamp."},createdAfter:{type:"string",format:"datetime",description:"Retrieve events created after a given timestamp"},createdBefore:{type:"string",format:"datetime",description:"Retrieve events created before a given timestamp"},subject:{type:"string",format:"uri"},collections:{type:"array",maxLength:20,description:"If specified, only events where the subject belongs to the given collections will be returned. When subjectType is set to 'account', this will be ignored.",items:{type:"string",format:"nsid"}},subjectType:{type:"string",description:"If specified, only events where the subject is of the given type (account or record) will be returned. When this is set to 'account' the 'collections' parameter will be ignored. When includeAllUserRecords or subject is set, this will be ignored.",knownValues:["account","record"]},includeAllUserRecords:{type:"boolean",default:!1,description:"If true, events on all record types (posts, lists, profile etc.) or records from given 'collections' param, owned by the did are returned."},limit:{type:"integer",minimum:1,maximum:100,default:50},hasComment:{type:"boolean",description:"If true, only events with comments are returned"},comment:{type:"string",description:"If specified, only events with comments containing the keyword are returned. Apply || separator to use multiple keywords and match using OR condition."},addedLabels:{type:"array",items:{type:"string"},description:"If specified, only events where all of these labels were added are returned"},removedLabels:{type:"array",items:{type:"string"},description:"If specified, only events where all of these labels were removed are returned"},addedTags:{type:"array",items:{type:"string"},description:"If specified, only events where all of these tags were added are returned"},removedTags:{type:"array",items:{type:"string"},description:"If specified, only events where all of these tags were removed are returned"},reportTypes:{type:"array",items:{type:"string"}},policies:{type:"array",items:{type:"string",description:"If specified, only events where the action policies match any of the given policies are returned"}},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["events"],properties:{cursor:{type:"string"},events:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#modEventView"}}}}}}}},ToolsOzoneModerationQueryStatuses:{lexicon:1,id:"tools.ozone.moderation.queryStatuses",defs:{main:{type:"query",description:"View moderation statuses of subjects (record or repo).",parameters:{type:"params",properties:{queueCount:{type:"integer",description:"Number of queues being used by moderators. Subjects will be split among all queues."},queueIndex:{type:"integer",description:"Index of the queue to fetch subjects from. Works only when queueCount value is specified."},queueSeed:{type:"string",description:"A seeder to shuffle/balance the queue items."},includeAllUserRecords:{type:"boolean",description:"All subjects, or subjects from given 'collections' param, belonging to the account specified in the 'subject' param will be returned."},subject:{type:"string",format:"uri",description:"The subject to get the status for."},comment:{type:"string",description:"Search subjects by keyword from comments"},reportedAfter:{type:"string",format:"datetime",description:"Search subjects reported after a given timestamp"},reportedBefore:{type:"string",format:"datetime",description:"Search subjects reported before a given timestamp"},reviewedAfter:{type:"string",format:"datetime",description:"Search subjects reviewed after a given timestamp"},hostingDeletedAfter:{type:"string",format:"datetime",description:"Search subjects where the associated record/account was deleted after a given timestamp"},hostingDeletedBefore:{type:"string",format:"datetime",description:"Search subjects where the associated record/account was deleted before a given timestamp"},hostingUpdatedAfter:{type:"string",format:"datetime",description:"Search subjects where the associated record/account was updated after a given timestamp"},hostingUpdatedBefore:{type:"string",format:"datetime",description:"Search subjects where the associated record/account was updated before a given timestamp"},hostingStatuses:{type:"array",items:{type:"string"},description:"Search subjects by the status of the associated record/account"},reviewedBefore:{type:"string",format:"datetime",description:"Search subjects reviewed before a given timestamp"},includeMuted:{type:"boolean",description:"By default, we don't include muted subjects in the results. Set this to true to include them."},onlyMuted:{type:"boolean",description:"When set to true, only muted subjects and reporters will be returned."},reviewState:{type:"string",description:"Specify when fetching subjects in a certain state"},ignoreSubjects:{type:"array",items:{type:"string",format:"uri"}},lastReviewedBy:{type:"string",format:"did",description:"Get all subject statuses that were reviewed by a specific moderator"},sortField:{type:"string",default:"lastReportedAt",enum:["lastReviewedAt","lastReportedAt","reportedRecordsCount","takendownRecordsCount","priorityScore"]},sortDirection:{type:"string",default:"desc",enum:["asc","desc"]},takendown:{type:"boolean",description:"Get subjects that were taken down"},appealed:{type:"boolean",description:"Get subjects in unresolved appealed status"},limit:{type:"integer",minimum:1,maximum:100,default:50},tags:{type:"array",maxLength:25,items:{type:"string",description:"Items in this array are applied with OR filters. To apply AND filter, put all tags in the same string and separate using && characters"}},excludeTags:{type:"array",items:{type:"string"}},cursor:{type:"string"},collections:{type:"array",maxLength:20,description:"If specified, subjects belonging to the given collections will be returned. When subjectType is set to 'account', this will be ignored.",items:{type:"string",format:"nsid"}},subjectType:{type:"string",description:"If specified, subjects of the given type (account or record) will be returned. When this is set to 'account' the 'collections' parameter will be ignored. When includeAllUserRecords or subject is set, this will be ignored.",knownValues:["account","record"]},minAccountSuspendCount:{type:"integer",description:"If specified, only subjects that belong to an account that has at least this many suspensions will be returned."},minReportedRecordsCount:{type:"integer",description:"If specified, only subjects that belong to an account that has at least this many reported records will be returned."},minTakendownRecordsCount:{type:"integer",description:"If specified, only subjects that belong to an account that has at least this many taken down records will be returned."},minPriorityScore:{minimum:0,maximum:100,type:"integer",description:"If specified, only subjects that have priority score value above the given value will be returned."}}},output:{encoding:"application/json",schema:{type:"object",required:["subjectStatuses"],properties:{cursor:{type:"string"},subjectStatuses:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectStatusView"}}}}}}}},ToolsOzoneModerationSearchRepos:{lexicon:1,id:"tools.ozone.moderation.searchRepos",defs:{main:{type:"query",description:"Find repositories based on a search term.",parameters:{type:"params",properties:{term:{type:"string",description:"DEPRECATED: use 'q' instead"},q:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{cursor:{type:"string"},repos:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoView"}}}}}}}},ToolsOzoneServerGetConfig:{lexicon:1,id:"tools.ozone.server.getConfig",defs:{main:{type:"query",description:"Get details about ozone's server configuration.",output:{encoding:"application/json",schema:{type:"object",properties:{appview:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},pds:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},blobDivert:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},chat:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},viewer:{type:"ref",ref:"lex:tools.ozone.server.getConfig#viewerConfig"}}}}},serviceConfig:{type:"object",properties:{url:{type:"string",format:"uri"}}},viewerConfig:{type:"object",properties:{role:{type:"string",knownValues:["tools.ozone.team.defs#roleAdmin","tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage"]}}}}},ToolsOzoneSetAddValues:{lexicon:1,id:"tools.ozone.set.addValues",defs:{main:{type:"procedure",description:"Add values to a specific set. Attempting to add values to a set that does not exist will result in an error.",input:{encoding:"application/json",schema:{type:"object",required:["name","values"],properties:{name:{type:"string",description:"Name of the set to add values to"},values:{type:"array",minLength:1,maxLength:1e3,items:{type:"string"},description:"Array of string values to add to the set"}}}}}}},ToolsOzoneSetDefs:{lexicon:1,id:"tools.ozone.set.defs",defs:{set:{type:"object",required:["name"],properties:{name:{type:"string",minLength:3,maxLength:128},description:{type:"string",maxGraphemes:1024,maxLength:10240}}},setView:{type:"object",required:["name","setSize","createdAt","updatedAt"],properties:{name:{type:"string",minLength:3,maxLength:128},description:{type:"string",maxGraphemes:1024,maxLength:10240},setSize:{type:"integer"},createdAt:{type:"string",format:"datetime"},updatedAt:{type:"string",format:"datetime"}}}}},ToolsOzoneSetDeleteSet:{lexicon:1,id:"tools.ozone.set.deleteSet",defs:{main:{type:"procedure",description:"Delete an entire set. Attempting to delete a set that does not exist will result in an error.",input:{encoding:"application/json",schema:{type:"object",required:["name"],properties:{name:{type:"string",description:"Name of the set to delete"}}}},output:{encoding:"application/json",schema:{type:"object",properties:{}}},errors:[{name:"SetNotFound",description:"set with the given name does not exist"}]}}},ToolsOzoneSetDeleteValues:{lexicon:1,id:"tools.ozone.set.deleteValues",defs:{main:{type:"procedure",description:"Delete values from a specific set. Attempting to delete values that are not in the set will not result in an error",input:{encoding:"application/json",schema:{type:"object",required:["name","values"],properties:{name:{type:"string",description:"Name of the set to delete values from"},values:{type:"array",minLength:1,items:{type:"string"},description:"Array of string values to delete from the set"}}}},errors:[{name:"SetNotFound",description:"set with the given name does not exist"}]}}},ToolsOzoneSetGetValues:{lexicon:1,id:"tools.ozone.set.getValues",defs:{main:{type:"query",description:"Get a specific set and its values",parameters:{type:"params",required:["name"],properties:{name:{type:"string"},limit:{type:"integer",minimum:1,maximum:1e3,default:100},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["set","values"],properties:{set:{type:"ref",ref:"lex:tools.ozone.set.defs#setView"},values:{type:"array",items:{type:"string"}},cursor:{type:"string"}}}},errors:[{name:"SetNotFound",description:"set with the given name does not exist"}]}}},ToolsOzoneSetQuerySets:{lexicon:1,id:"tools.ozone.set.querySets",defs:{main:{type:"query",description:"Query available sets",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},namePrefix:{type:"string"},sortBy:{type:"string",enum:["name","createdAt","updatedAt"],default:"name"},sortDirection:{type:"string",default:"asc",enum:["asc","desc"],description:"Defaults to ascending order of name field."}}},output:{encoding:"application/json",schema:{type:"object",required:["sets"],properties:{sets:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.set.defs#setView"}},cursor:{type:"string"}}}}}}},ToolsOzoneSetUpsertSet:{lexicon:1,id:"tools.ozone.set.upsertSet",defs:{main:{type:"procedure",description:"Create or update set metadata",input:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.set.defs#set"}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.set.defs#setView"}}}}},ToolsOzoneSettingDefs:{lexicon:1,id:"tools.ozone.setting.defs",defs:{option:{type:"object",required:["key","value","did","scope","createdBy","lastUpdatedBy"],properties:{key:{type:"string",format:"nsid"},did:{type:"string",format:"did"},value:{type:"unknown"},description:{type:"string",maxGraphemes:1024,maxLength:10240},createdAt:{type:"string",format:"datetime"},updatedAt:{type:"string",format:"datetime"},managerRole:{type:"string",knownValues:["tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage","tools.ozone.team.defs#roleAdmin"]},scope:{type:"string",knownValues:["instance","personal"]},createdBy:{type:"string",format:"did"},lastUpdatedBy:{type:"string",format:"did"}}}}},ToolsOzoneSettingListOptions:{lexicon:1,id:"tools.ozone.setting.listOptions",defs:{main:{type:"query",description:"List settings with optional filtering",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},scope:{type:"string",knownValues:["instance","personal"],default:"instance"},prefix:{type:"string",description:"Filter keys by prefix"},keys:{type:"array",maxLength:100,items:{type:"string",format:"nsid"},description:"Filter for only the specified keys. Ignored if prefix is provided"}}},output:{encoding:"application/json",schema:{type:"object",required:["options"],properties:{cursor:{type:"string"},options:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.setting.defs#option"}}}}}}}},ToolsOzoneSettingRemoveOptions:{lexicon:1,id:"tools.ozone.setting.removeOptions",defs:{main:{type:"procedure",description:"Delete settings by key",input:{encoding:"application/json",schema:{type:"object",required:["keys","scope"],properties:{keys:{type:"array",minLength:1,maxLength:200,items:{type:"string",format:"nsid"}},scope:{type:"string",knownValues:["instance","personal"]}}}},output:{encoding:"application/json",schema:{type:"object",properties:{}}}}}},ToolsOzoneSettingUpsertOption:{lexicon:1,id:"tools.ozone.setting.upsertOption",defs:{main:{type:"procedure",description:"Create or update setting option",input:{encoding:"application/json",schema:{type:"object",required:["key","scope","value"],properties:{key:{type:"string",format:"nsid"},scope:{type:"string",knownValues:["instance","personal"]},value:{type:"unknown"},description:{type:"string",maxLength:2e3},managerRole:{type:"string",knownValues:["tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage","tools.ozone.team.defs#roleAdmin"]}}}},output:{encoding:"application/json",schema:{type:"object",required:["option"],properties:{option:{type:"ref",ref:"lex:tools.ozone.setting.defs#option"}}}}}}},ToolsOzoneSignatureDefs:{lexicon:1,id:"tools.ozone.signature.defs",defs:{sigDetail:{type:"object",required:["property","value"],properties:{property:{type:"string"},value:{type:"string"}}}}},ToolsOzoneSignatureFindCorrelation:{lexicon:1,id:"tools.ozone.signature.findCorrelation",defs:{main:{type:"query",description:"Find all correlated threat signatures between 2 or more accounts.",parameters:{type:"params",required:["dids"],properties:{dids:{type:"array",items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["details"],properties:{details:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.signature.defs#sigDetail"}}}}}}}},ToolsOzoneSignatureFindRelatedAccounts:{lexicon:1,id:"tools.ozone.signature.findRelatedAccounts",defs:{main:{type:"query",description:"Get accounts that share some matching threat signatures with the root account.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did"},cursor:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50}}},output:{encoding:"application/json",schema:{type:"object",required:["accounts"],properties:{cursor:{type:"string"},accounts:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.signature.findRelatedAccounts#relatedAccount"}}}}}},relatedAccount:{type:"object",required:["account"],properties:{account:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"},similarities:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.signature.defs#sigDetail"}}}}}},ToolsOzoneSignatureSearchAccounts:{lexicon:1,id:"tools.ozone.signature.searchAccounts",defs:{main:{type:"query",description:"Search for accounts that match one or more threat signature values.",parameters:{type:"params",required:["values"],properties:{values:{type:"array",items:{type:"string"}},cursor:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50}}},output:{encoding:"application/json",schema:{type:"object",required:["accounts"],properties:{cursor:{type:"string"},accounts:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"}}}}}}}},ToolsOzoneTeamAddMember:{lexicon:1,id:"tools.ozone.team.addMember",defs:{main:{type:"procedure",description:"Add a member to the ozone team. Requires admin role.",input:{encoding:"application/json",schema:{type:"object",required:["did","role"],properties:{did:{type:"string",format:"did"},role:{type:"string",knownValues:["tools.ozone.team.defs#roleAdmin","tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage"]}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.team.defs#member"}},errors:[{name:"MemberAlreadyExists",description:"Member already exists in the team."}]}}},ToolsOzoneTeamDefs:{lexicon:1,id:"tools.ozone.team.defs",defs:{member:{type:"object",required:["did","role"],properties:{did:{type:"string",format:"did"},disabled:{type:"boolean"},profile:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"},createdAt:{type:"string",format:"datetime"},updatedAt:{type:"string",format:"datetime"},lastUpdatedBy:{type:"string"},role:{type:"string",knownValues:["lex:tools.ozone.team.defs#roleAdmin","lex:tools.ozone.team.defs#roleModerator","lex:tools.ozone.team.defs#roleTriage"]}}},roleAdmin:{type:"token",description:"Admin role. Highest level of access, can perform all actions."},roleModerator:{type:"token",description:"Moderator role. Can perform most actions."},roleTriage:{type:"token",description:"Triage role. Mostly intended for monitoring and escalating issues."}}},ToolsOzoneTeamDeleteMember:{lexicon:1,id:"tools.ozone.team.deleteMember",defs:{main:{type:"procedure",description:"Delete a member from ozone team. Requires admin role.",input:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}},errors:[{name:"MemberNotFound",description:"The member being deleted does not exist"},{name:"CannotDeleteSelf",description:"You can not delete yourself from the team"}]}}},ToolsOzoneTeamListMembers:{lexicon:1,id:"tools.ozone.team.listMembers",defs:{main:{type:"query",description:"List all members with access to the ozone service.",parameters:{type:"params",properties:{q:{type:"string"},disabled:{type:"boolean"},roles:{type:"array",items:{type:"string"}},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["members"],properties:{cursor:{type:"string"},members:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.team.defs#member"}}}}}}}},ToolsOzoneTeamUpdateMember:{lexicon:1,id:"tools.ozone.team.updateMember",defs:{main:{type:"procedure",description:"Update a member in the ozone service. Requires admin role.",input:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"},disabled:{type:"boolean"},role:{type:"string",knownValues:["tools.ozone.team.defs#roleAdmin","tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage"]}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.team.defs#member"}},errors:[{name:"MemberNotFound",description:"The member being updated does not exist in the team"}]}}}};Pn.schemas=Object.values(Pn.schemaDict);Pn.lexicons=new T8.Lexicons(Pn.schemas);function Qce(i,e,t,r){return(r?E8.is$typed:E8.maybe$typed)(i,e,t)?Pn.lexicons.validate(`${e}#${t}`,i):{success:!1,error:new T8.ValidationError(`Must be an object with "${t==="main"?e:`${e}#${t}`}" $type property`)}}Pn.ids={ComAtprotoAdminDefs:"com.atproto.admin.defs",ComAtprotoAdminDeleteAccount:"com.atproto.admin.deleteAccount",ComAtprotoAdminDisableAccountInvites:"com.atproto.admin.disableAccountInvites",ComAtprotoAdminDisableInviteCodes:"com.atproto.admin.disableInviteCodes",ComAtprotoAdminEnableAccountInvites:"com.atproto.admin.enableAccountInvites",ComAtprotoAdminGetAccountInfo:"com.atproto.admin.getAccountInfo",ComAtprotoAdminGetAccountInfos:"com.atproto.admin.getAccountInfos",ComAtprotoAdminGetInviteCodes:"com.atproto.admin.getInviteCodes",ComAtprotoAdminGetSubjectStatus:"com.atproto.admin.getSubjectStatus",ComAtprotoAdminSearchAccounts:"com.atproto.admin.searchAccounts",ComAtprotoAdminSendEmail:"com.atproto.admin.sendEmail",ComAtprotoAdminUpdateAccountEmail:"com.atproto.admin.updateAccountEmail",ComAtprotoAdminUpdateAccountHandle:"com.atproto.admin.updateAccountHandle",ComAtprotoAdminUpdateAccountPassword:"com.atproto.admin.updateAccountPassword",ComAtprotoAdminUpdateSubjectStatus:"com.atproto.admin.updateSubjectStatus",ComAtprotoIdentityDefs:"com.atproto.identity.defs",ComAtprotoIdentityGetRecommendedDidCredentials:"com.atproto.identity.getRecommendedDidCredentials",ComAtprotoIdentityRefreshIdentity:"com.atproto.identity.refreshIdentity",ComAtprotoIdentityRequestPlcOperationSignature:"com.atproto.identity.requestPlcOperationSignature",ComAtprotoIdentityResolveDid:"com.atproto.identity.resolveDid",ComAtprotoIdentityResolveHandle:"com.atproto.identity.resolveHandle",ComAtprotoIdentityResolveIdentity:"com.atproto.identity.resolveIdentity",ComAtprotoIdentitySignPlcOperation:"com.atproto.identity.signPlcOperation",ComAtprotoIdentitySubmitPlcOperation:"com.atproto.identity.submitPlcOperation",ComAtprotoIdentityUpdateHandle:"com.atproto.identity.updateHandle",ComAtprotoLabelDefs:"com.atproto.label.defs",ComAtprotoLabelQueryLabels:"com.atproto.label.queryLabels",ComAtprotoLabelSubscribeLabels:"com.atproto.label.subscribeLabels",ComAtprotoLexiconSchema:"com.atproto.lexicon.schema",ComAtprotoModerationCreateReport:"com.atproto.moderation.createReport",ComAtprotoModerationDefs:"com.atproto.moderation.defs",ComAtprotoRepoApplyWrites:"com.atproto.repo.applyWrites",ComAtprotoRepoCreateRecord:"com.atproto.repo.createRecord",ComAtprotoRepoDefs:"com.atproto.repo.defs",ComAtprotoRepoDeleteRecord:"com.atproto.repo.deleteRecord",ComAtprotoRepoDescribeRepo:"com.atproto.repo.describeRepo",ComAtprotoRepoGetRecord:"com.atproto.repo.getRecord",ComAtprotoRepoImportRepo:"com.atproto.repo.importRepo",ComAtprotoRepoListMissingBlobs:"com.atproto.repo.listMissingBlobs",ComAtprotoRepoListRecords:"com.atproto.repo.listRecords",ComAtprotoRepoPutRecord:"com.atproto.repo.putRecord",ComAtprotoRepoStrongRef:"com.atproto.repo.strongRef",ComAtprotoRepoUploadBlob:"com.atproto.repo.uploadBlob",ComAtprotoServerActivateAccount:"com.atproto.server.activateAccount",ComAtprotoServerCheckAccountStatus:"com.atproto.server.checkAccountStatus",ComAtprotoServerConfirmEmail:"com.atproto.server.confirmEmail",ComAtprotoServerCreateAccount:"com.atproto.server.createAccount",ComAtprotoServerCreateAppPassword:"com.atproto.server.createAppPassword",ComAtprotoServerCreateInviteCode:"com.atproto.server.createInviteCode",ComAtprotoServerCreateInviteCodes:"com.atproto.server.createInviteCodes",ComAtprotoServerCreateSession:"com.atproto.server.createSession",ComAtprotoServerDeactivateAccount:"com.atproto.server.deactivateAccount",ComAtprotoServerDefs:"com.atproto.server.defs",ComAtprotoServerDeleteAccount:"com.atproto.server.deleteAccount",ComAtprotoServerDeleteSession:"com.atproto.server.deleteSession",ComAtprotoServerDescribeServer:"com.atproto.server.describeServer",ComAtprotoServerGetAccountInviteCodes:"com.atproto.server.getAccountInviteCodes",ComAtprotoServerGetServiceAuth:"com.atproto.server.getServiceAuth",ComAtprotoServerGetSession:"com.atproto.server.getSession",ComAtprotoServerListAppPasswords:"com.atproto.server.listAppPasswords",ComAtprotoServerRefreshSession:"com.atproto.server.refreshSession",ComAtprotoServerRequestAccountDelete:"com.atproto.server.requestAccountDelete",ComAtprotoServerRequestEmailConfirmation:"com.atproto.server.requestEmailConfirmation",ComAtprotoServerRequestEmailUpdate:"com.atproto.server.requestEmailUpdate",ComAtprotoServerRequestPasswordReset:"com.atproto.server.requestPasswordReset",ComAtprotoServerReserveSigningKey:"com.atproto.server.reserveSigningKey",ComAtprotoServerResetPassword:"com.atproto.server.resetPassword",ComAtprotoServerRevokeAppPassword:"com.atproto.server.revokeAppPassword",ComAtprotoServerUpdateEmail:"com.atproto.server.updateEmail",ComAtprotoSyncGetBlob:"com.atproto.sync.getBlob",ComAtprotoSyncGetBlocks:"com.atproto.sync.getBlocks",ComAtprotoSyncGetCheckout:"com.atproto.sync.getCheckout",ComAtprotoSyncGetHead:"com.atproto.sync.getHead",ComAtprotoSyncGetLatestCommit:"com.atproto.sync.getLatestCommit",ComAtprotoSyncGetRecord:"com.atproto.sync.getRecord",ComAtprotoSyncGetRepo:"com.atproto.sync.getRepo",ComAtprotoSyncGetRepoStatus:"com.atproto.sync.getRepoStatus",ComAtprotoSyncListBlobs:"com.atproto.sync.listBlobs",ComAtprotoSyncListRepos:"com.atproto.sync.listRepos",ComAtprotoSyncListReposByCollection:"com.atproto.sync.listReposByCollection",ComAtprotoSyncNotifyOfUpdate:"com.atproto.sync.notifyOfUpdate",ComAtprotoSyncRequestCrawl:"com.atproto.sync.requestCrawl",ComAtprotoSyncSubscribeRepos:"com.atproto.sync.subscribeRepos",ComAtprotoTempAddReservedHandle:"com.atproto.temp.addReservedHandle",ComAtprotoTempCheckSignupQueue:"com.atproto.temp.checkSignupQueue",ComAtprotoTempFetchLabels:"com.atproto.temp.fetchLabels",ComAtprotoTempRequestPhoneVerification:"com.atproto.temp.requestPhoneVerification",AppBskyActorDefs:"app.bsky.actor.defs",AppBskyActorGetPreferences:"app.bsky.actor.getPreferences",AppBskyActorGetProfile:"app.bsky.actor.getProfile",AppBskyActorGetProfiles:"app.bsky.actor.getProfiles",AppBskyActorGetSuggestions:"app.bsky.actor.getSuggestions",AppBskyActorProfile:"app.bsky.actor.profile",AppBskyActorPutPreferences:"app.bsky.actor.putPreferences",AppBskyActorSearchActors:"app.bsky.actor.searchActors",AppBskyActorSearchActorsTypeahead:"app.bsky.actor.searchActorsTypeahead",AppBskyEmbedDefs:"app.bsky.embed.defs",AppBskyEmbedExternal:"app.bsky.embed.external",AppBskyEmbedImages:"app.bsky.embed.images",AppBskyEmbedRecord:"app.bsky.embed.record",AppBskyEmbedRecordWithMedia:"app.bsky.embed.recordWithMedia",AppBskyEmbedVideo:"app.bsky.embed.video",AppBskyFeedDefs:"app.bsky.feed.defs",AppBskyFeedDescribeFeedGenerator:"app.bsky.feed.describeFeedGenerator",AppBskyFeedGenerator:"app.bsky.feed.generator",AppBskyFeedGetActorFeeds:"app.bsky.feed.getActorFeeds",AppBskyFeedGetActorLikes:"app.bsky.feed.getActorLikes",AppBskyFeedGetAuthorFeed:"app.bsky.feed.getAuthorFeed",AppBskyFeedGetFeed:"app.bsky.feed.getFeed",AppBskyFeedGetFeedGenerator:"app.bsky.feed.getFeedGenerator",AppBskyFeedGetFeedGenerators:"app.bsky.feed.getFeedGenerators",AppBskyFeedGetFeedSkeleton:"app.bsky.feed.getFeedSkeleton",AppBskyFeedGetLikes:"app.bsky.feed.getLikes",AppBskyFeedGetListFeed:"app.bsky.feed.getListFeed",AppBskyFeedGetPostThread:"app.bsky.feed.getPostThread",AppBskyFeedGetPosts:"app.bsky.feed.getPosts",AppBskyFeedGetQuotes:"app.bsky.feed.getQuotes",AppBskyFeedGetRepostedBy:"app.bsky.feed.getRepostedBy",AppBskyFeedGetSuggestedFeeds:"app.bsky.feed.getSuggestedFeeds",AppBskyFeedGetTimeline:"app.bsky.feed.getTimeline",AppBskyFeedLike:"app.bsky.feed.like",AppBskyFeedPost:"app.bsky.feed.post",AppBskyFeedPostgate:"app.bsky.feed.postgate",AppBskyFeedRepost:"app.bsky.feed.repost",AppBskyFeedSearchPosts:"app.bsky.feed.searchPosts",AppBskyFeedSendInteractions:"app.bsky.feed.sendInteractions",AppBskyFeedThreadgate:"app.bsky.feed.threadgate",AppBskyGraphBlock:"app.bsky.graph.block",AppBskyGraphDefs:"app.bsky.graph.defs",AppBskyGraphFollow:"app.bsky.graph.follow",AppBskyGraphGetActorStarterPacks:"app.bsky.graph.getActorStarterPacks",AppBskyGraphGetBlocks:"app.bsky.graph.getBlocks",AppBskyGraphGetFollowers:"app.bsky.graph.getFollowers",AppBskyGraphGetFollows:"app.bsky.graph.getFollows",AppBskyGraphGetKnownFollowers:"app.bsky.graph.getKnownFollowers",AppBskyGraphGetList:"app.bsky.graph.getList",AppBskyGraphGetListBlocks:"app.bsky.graph.getListBlocks",AppBskyGraphGetListMutes:"app.bsky.graph.getListMutes",AppBskyGraphGetLists:"app.bsky.graph.getLists",AppBskyGraphGetMutes:"app.bsky.graph.getMutes",AppBskyGraphGetRelationships:"app.bsky.graph.getRelationships",AppBskyGraphGetStarterPack:"app.bsky.graph.getStarterPack",AppBskyGraphGetStarterPacks:"app.bsky.graph.getStarterPacks",AppBskyGraphGetSuggestedFollowsByActor:"app.bsky.graph.getSuggestedFollowsByActor",AppBskyGraphList:"app.bsky.graph.list",AppBskyGraphListblock:"app.bsky.graph.listblock",AppBskyGraphListitem:"app.bsky.graph.listitem",AppBskyGraphMuteActor:"app.bsky.graph.muteActor",AppBskyGraphMuteActorList:"app.bsky.graph.muteActorList",AppBskyGraphMuteThread:"app.bsky.graph.muteThread",AppBskyGraphSearchStarterPacks:"app.bsky.graph.searchStarterPacks",AppBskyGraphStarterpack:"app.bsky.graph.starterpack",AppBskyGraphUnmuteActor:"app.bsky.graph.unmuteActor",AppBskyGraphUnmuteActorList:"app.bsky.graph.unmuteActorList",AppBskyGraphUnmuteThread:"app.bsky.graph.unmuteThread",AppBskyLabelerDefs:"app.bsky.labeler.defs",AppBskyLabelerGetServices:"app.bsky.labeler.getServices",AppBskyLabelerService:"app.bsky.labeler.service",AppBskyNotificationGetUnreadCount:"app.bsky.notification.getUnreadCount",AppBskyNotificationListNotifications:"app.bsky.notification.listNotifications",AppBskyNotificationPutPreferences:"app.bsky.notification.putPreferences",AppBskyNotificationRegisterPush:"app.bsky.notification.registerPush",AppBskyNotificationUpdateSeen:"app.bsky.notification.updateSeen",AppBskyRichtextFacet:"app.bsky.richtext.facet",AppBskyUnspeccedDefs:"app.bsky.unspecced.defs",AppBskyUnspeccedGetConfig:"app.bsky.unspecced.getConfig",AppBskyUnspeccedGetPopularFeedGenerators:"app.bsky.unspecced.getPopularFeedGenerators",AppBskyUnspeccedGetSuggestionsSkeleton:"app.bsky.unspecced.getSuggestionsSkeleton",AppBskyUnspeccedGetTaggedSuggestions:"app.bsky.unspecced.getTaggedSuggestions",AppBskyUnspeccedGetTrendingTopics:"app.bsky.unspecced.getTrendingTopics",AppBskyUnspeccedSearchActorsSkeleton:"app.bsky.unspecced.searchActorsSkeleton",AppBskyUnspeccedSearchPostsSkeleton:"app.bsky.unspecced.searchPostsSkeleton",AppBskyUnspeccedSearchStarterPacksSkeleton:"app.bsky.unspecced.searchStarterPacksSkeleton",AppBskyVideoDefs:"app.bsky.video.defs",AppBskyVideoGetJobStatus:"app.bsky.video.getJobStatus",AppBskyVideoGetUploadLimits:"app.bsky.video.getUploadLimits",AppBskyVideoUploadVideo:"app.bsky.video.uploadVideo",ChatBskyActorDeclaration:"chat.bsky.actor.declaration",ChatBskyActorDefs:"chat.bsky.actor.defs",ChatBskyActorDeleteAccount:"chat.bsky.actor.deleteAccount",ChatBskyActorExportAccountData:"chat.bsky.actor.exportAccountData",ChatBskyConvoAcceptConvo:"chat.bsky.convo.acceptConvo",ChatBskyConvoDefs:"chat.bsky.convo.defs",ChatBskyConvoDeleteMessageForSelf:"chat.bsky.convo.deleteMessageForSelf",ChatBskyConvoGetConvo:"chat.bsky.convo.getConvo",ChatBskyConvoGetConvoAvailability:"chat.bsky.convo.getConvoAvailability",ChatBskyConvoGetConvoForMembers:"chat.bsky.convo.getConvoForMembers",ChatBskyConvoGetLog:"chat.bsky.convo.getLog",ChatBskyConvoGetMessages:"chat.bsky.convo.getMessages",ChatBskyConvoLeaveConvo:"chat.bsky.convo.leaveConvo",ChatBskyConvoListConvos:"chat.bsky.convo.listConvos",ChatBskyConvoMuteConvo:"chat.bsky.convo.muteConvo",ChatBskyConvoSendMessage:"chat.bsky.convo.sendMessage",ChatBskyConvoSendMessageBatch:"chat.bsky.convo.sendMessageBatch",ChatBskyConvoUnmuteConvo:"chat.bsky.convo.unmuteConvo",ChatBskyConvoUpdateAllRead:"chat.bsky.convo.updateAllRead",ChatBskyConvoUpdateRead:"chat.bsky.convo.updateRead",ChatBskyModerationGetActorMetadata:"chat.bsky.moderation.getActorMetadata",ChatBskyModerationGetMessageContext:"chat.bsky.moderation.getMessageContext",ChatBskyModerationUpdateActorAccess:"chat.bsky.moderation.updateActorAccess",ToolsOzoneCommunicationCreateTemplate:"tools.ozone.communication.createTemplate",ToolsOzoneCommunicationDefs:"tools.ozone.communication.defs",ToolsOzoneCommunicationDeleteTemplate:"tools.ozone.communication.deleteTemplate",ToolsOzoneCommunicationListTemplates:"tools.ozone.communication.listTemplates",ToolsOzoneCommunicationUpdateTemplate:"tools.ozone.communication.updateTemplate",ToolsOzoneModerationDefs:"tools.ozone.moderation.defs",ToolsOzoneModerationEmitEvent:"tools.ozone.moderation.emitEvent",ToolsOzoneModerationGetEvent:"tools.ozone.moderation.getEvent",ToolsOzoneModerationGetRecord:"tools.ozone.moderation.getRecord",ToolsOzoneModerationGetRecords:"tools.ozone.moderation.getRecords",ToolsOzoneModerationGetRepo:"tools.ozone.moderation.getRepo",ToolsOzoneModerationGetReporterStats:"tools.ozone.moderation.getReporterStats",ToolsOzoneModerationGetRepos:"tools.ozone.moderation.getRepos",ToolsOzoneModerationQueryEvents:"tools.ozone.moderation.queryEvents",ToolsOzoneModerationQueryStatuses:"tools.ozone.moderation.queryStatuses",ToolsOzoneModerationSearchRepos:"tools.ozone.moderation.searchRepos",ToolsOzoneServerGetConfig:"tools.ozone.server.getConfig",ToolsOzoneSetAddValues:"tools.ozone.set.addValues",ToolsOzoneSetDefs:"tools.ozone.set.defs",ToolsOzoneSetDeleteSet:"tools.ozone.set.deleteSet",ToolsOzoneSetDeleteValues:"tools.ozone.set.deleteValues",ToolsOzoneSetGetValues:"tools.ozone.set.getValues",ToolsOzoneSetQuerySets:"tools.ozone.set.querySets",ToolsOzoneSetUpsertSet:"tools.ozone.set.upsertSet",ToolsOzoneSettingDefs:"tools.ozone.setting.defs",ToolsOzoneSettingListOptions:"tools.ozone.setting.listOptions",ToolsOzoneSettingRemoveOptions:"tools.ozone.setting.removeOptions",ToolsOzoneSettingUpsertOption:"tools.ozone.setting.upsertOption",ToolsOzoneSignatureDefs:"tools.ozone.signature.defs",ToolsOzoneSignatureFindCorrelation:"tools.ozone.signature.findCorrelation",ToolsOzoneSignatureFindRelatedAccounts:"tools.ozone.signature.findRelatedAccounts",ToolsOzoneSignatureSearchAccounts:"tools.ozone.signature.searchAccounts",ToolsOzoneTeamAddMember:"tools.ozone.team.addMember",ToolsOzoneTeamDefs:"tools.ozone.team.defs",ToolsOzoneTeamDeleteMember:"tools.ozone.team.deleteMember",ToolsOzoneTeamListMembers:"tools.ozone.team.listMembers",ToolsOzoneTeamUpdateMember:"tools.ozone.team.updateMember"}});var S8=k(w8=>{"use strict";Object.defineProperty(w8,"__esModule",{value:!0})});var hA=k(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.BSKY_LABELER_DID=void 0;zb.BSKY_LABELER_DID="did:plc:ar7c4by46qjdydhdevvrndac"});var mA=k(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.nuxSchema=hn.asDid=hn.isDid=void 0;hn.sanitizeMutedWordValue=Jce;hn.savedFeedsToUriArrays=eue;hn.getSavedFeedType=tue;hn.validateSavedFeed=iue;hn.validateNux=oue;var wm=Fl(),Yce=Js(),A8=yu();function Jce(i){return i.trim().replace(/^#(?!\ufe0f)/,"").replace(/[\r\n\u00AD\u2060\u200D\u200C\u200B]+/,"")}function eue(i){let e=[],t=[];for(let r of i)r.pinned&&e.push(r.value),t.push(r.value);return{pinned:e,saved:t}}function tue(i){switch(new A8.AtUri(i).collection){case"app.bsky.feed.generator":return"feed";case"app.bsky.graph.list":return"list";default:return"unknown"}}function iue(i){if(new Yce.TID(i.id),["feed","list"].includes(i.type)){let e=new A8.AtUri(i.value),t=e.collection==="app.bsky.feed.generator",r=e.collection==="app.bsky.graph.list";if(i.type==="feed"&&!t)throw new Error(`Saved feed of type 'feed' must be a feed, got ${e.collection}`);if(i.type==="list"&&!r)throw new Error(`Saved feed of type 'list' must be a list, got ${e.collection}`)}}var rue=i=>typeof i=="string"&&i.startsWith("did:")&&i.includes(":",4)&&i.length>8&&i.length<=2048;hn.isDid=rue;var nue=i=>{if((0,hn.isDid)(i))return i;throw new TypeError(`Invalid DID: ${i}`)};hn.asDid=nue;hn.nuxSchema=wm.z.object({id:wm.z.string().max(64),completed:wm.z.boolean(),data:wm.z.string().max(300).optional(),expiresAt:wm.z.string().datetime().optional()}).strict();function oue(i){hn.nuxSchema.parse(i)}});var Hb=k(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.XRPCInvalidResponseError=cr.XRPCError=cr.XRPCResponse=cr.ResponseTypeStrings=cr.ResponseTypeNames=cr.ResponseType=cr.errorResponseBody=void 0;cr.httpResponseCodeToEnum=Sm;cr.httpResponseCodeToName=R8;cr.httpResponseCodeToString=k8;var gA=Fl();cr.errorResponseBody=gA.z.object({error:gA.z.string().optional(),message:gA.z.string().optional()});var Tt=function(i){return i[i.Unknown=1]="Unknown",i[i.InvalidResponse=2]="InvalidResponse",i[i.Success=200]="Success",i[i.InvalidRequest=400]="InvalidRequest",i[i.AuthRequired=401]="AuthRequired",i[i.Forbidden=403]="Forbidden",i[i.XRPCNotSupported=404]="XRPCNotSupported",i[i.NotAcceptable=406]="NotAcceptable",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RateLimitExceeded=429]="RateLimitExceeded",i[i.InternalServerError=500]="InternalServerError",i[i.MethodNotImplemented=501]="MethodNotImplemented",i[i.UpstreamFailure=502]="UpstreamFailure",i[i.NotEnoughResources=503]="NotEnoughResources",i[i.UpstreamTimeout=504]="UpstreamTimeout",i}(Tt||(cr.ResponseType=Tt={}));function Sm(i){return i in Tt?i:i>=100&&i<200?Tt.XRPCNotSupported:i>=200&&i<300?Tt.Success:i>=300&&i<400?Tt.XRPCNotSupported:i>=400&&i<500?Tt.InvalidRequest:Tt.InternalServerError}cr.ResponseTypeNames={[Tt.Unknown]:"Unknown",[Tt.InvalidResponse]:"InvalidResponse",[Tt.Success]:"Success",[Tt.InvalidRequest]:"InvalidRequest",[Tt.AuthRequired]:"AuthenticationRequired",[Tt.Forbidden]:"Forbidden",[Tt.XRPCNotSupported]:"XRPCNotSupported",[Tt.PayloadTooLarge]:"PayloadTooLarge",[Tt.UnsupportedMediaType]:"UnsupportedMediaType",[Tt.RateLimitExceeded]:"RateLimitExceeded",[Tt.InternalServerError]:"InternalServerError",[Tt.MethodNotImplemented]:"MethodNotImplemented",[Tt.UpstreamFailure]:"UpstreamFailure",[Tt.NotEnoughResources]:"NotEnoughResources",[Tt.UpstreamTimeout]:"UpstreamTimeout"};function R8(i){return cr.ResponseTypeNames[Sm(i)]}cr.ResponseTypeStrings={[Tt.Unknown]:"Unknown",[Tt.InvalidResponse]:"Invalid Response",[Tt.Success]:"Success",[Tt.InvalidRequest]:"Invalid Request",[Tt.AuthRequired]:"Authentication Required",[Tt.Forbidden]:"Forbidden",[Tt.XRPCNotSupported]:"XRPC Not Supported",[Tt.PayloadTooLarge]:"Payload Too Large",[Tt.UnsupportedMediaType]:"Unsupported Media Type",[Tt.RateLimitExceeded]:"Rate Limit Exceeded",[Tt.InternalServerError]:"Internal Server Error",[Tt.MethodNotImplemented]:"Method Not Implemented",[Tt.UpstreamFailure]:"Upstream Failure",[Tt.NotEnoughResources]:"Not Enough Resources",[Tt.UpstreamTimeout]:"Upstream Timeout"};function k8(i){return cr.ResponseTypeStrings[Sm(i)]}var yA=class{constructor(e,t){Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"success",{enumerable:!0,configurable:!0,writable:!0,value:!0})}};cr.XRPCResponse=yA;var Kb=class i extends Error{constructor(e,t=R8(e),r,n,o){super(r||t||k8(e),o),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"success",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.status=Sm(e);let s=o?.cause;this.cause===void 0&&s!==void 0&&(this.cause=s)}static from(e,t){if(e instanceof i)return e;let r=e instanceof Error?e:void 0,n=e instanceof Response?e:e?.response instanceof Response?e.response:void 0,o=r?.statusCode??r?.status??n?.status,s=typeof o=="number"?Sm(o):t??Tt.Unknown,a=r?.message??String(e),l=n?Object.fromEntries(n.headers.entries()):void 0;return new i(s,void 0,a,l,{cause:e})}};cr.XRPCError=Kb;var bA=class extends Kb{constructor(e,t,r){super(Tt.InvalidResponse,cr.ResponseTypeStrings[Tt.InvalidResponse],"The server gave an invalid response and may be out of date.",void 0,{cause:t}),Object.defineProperty(this,"lexiconNsid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"validationError",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"responseBody",{enumerable:!0,configurable:!0,writable:!0,value:r})}};cr.XRPCInvalidResponseError=bA});var Rm=k(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.isErrorResponseBody=sue;po.getMethodSchemaHTTPMethod=aue;po.constructMethodCallUri=lue;po.constructMethodCallUrl=I8;po.encodeQueryParam=_A;po.constructMethodCallHeaders=cue;po.combineHeaders=uue;po.isBodyInit=L8;po.isIterable=vA;po.encodeMethodCallBody=due;po.httpResponseBodyParse=fue;var D8=Cu(),xs=Hb(),Am=globalThis.ReadableStream||class{constructor(){throw new Error("ReadableStream is not supported in this environment")}};function sue(i){return xs.errorResponseBody.safeParse(i).success}function aue(i){return i.type==="procedure"?"post":"get"}function lue(i,e,t,r){return new URL(I8(i,e,r),t).toString()}function I8(i,e,t){let r=`/xrpc/${encodeURIComponent(i)}`;if(!t)return r;let n=[];for(let[o,s]of Object.entries(t)){let a=e.parameters?.properties?.[o];if(!a)throw new Error(`Invalid query parameter: ${o}`);if(s!==void 0)if(a.type==="array"){let l=Array.isArray(s)?s:[s];for(let d of l)n.push([o,_A(a.items.type,d)])}else n.push([o,_A(a.type,s)])}return n.length?`${r}?${new URLSearchParams(n).toString()}`:r}function _A(i,e){if(i==="string"||i==="unknown")return String(e);if(i==="float")return String(Number(e));if(i==="integer")return String(Number(e)|0);if(i==="boolean")return e?"true":"false";if(i==="datetime")return e instanceof Date?e.toISOString():String(e);throw new Error(`Unsupported query param type: ${i}`)}function cue(i,e,t){let r=new Headers;if(t?.headers)for(let n in t.headers){if(r.has(n))throw new TypeError(`Duplicate header: ${n}`);let o=t.headers[n];o!=null&&r.set(n,o)}if(i.type==="procedure"){if(t?.encoding)r.set("content-type",t.encoding);else if(!r.has("content-type")&&typeof e<"u")if(e instanceof ArrayBuffer||e instanceof Am||ArrayBuffer.isView(e))r.set("content-type","application/octet-stream");else if(e instanceof FormData)r.set("content-type","multipart/form-data");else if(e instanceof URLSearchParams)r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8");else if(P8(e))r.set("content-type",e.type||"application/octet-stream");else if(typeof e=="string")r.set("content-type","text/plain;charset=UTF-8");else if(vA(e))r.set("content-type","application/octet-stream");else if(typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="object")r.set("content-type","application/json");else throw new xs.XRPCError(xs.ResponseType.InvalidRequest,`Unsupported data type: ${typeof e}`)}return r}function uue(i,e){if(!e)return i;let t;for(let[r,n]of e){if(n===void 0||(t??(t=new Headers(i)),t.has(r)))continue;let o=typeof n=="function"?n():n;if(typeof o=="string")t.set(r,o);else if(o===null)t.delete(r);else throw new TypeError(`Invalid "${r}" header value: ${typeof o}`)}return t??i}function P8(i){if(i==null||typeof i!="object")return!1;if(typeof Blob=="function"&&i instanceof Blob)return!0;let e=i[Symbol.toStringTag];return e==="Blob"||e==="File"?"stream"in i&&typeof i.stream=="function":!1}function L8(i){switch(typeof i){case"string":return!0;case"object":return i instanceof ArrayBuffer||i instanceof FormData||i instanceof URLSearchParams||i instanceof Am||ArrayBuffer.isView(i)||P8(i);default:return!1}}function vA(i){return i!=null&&typeof i=="object"&&(Symbol.iterator in i||Symbol.asyncIterator in i)}function due(i,e){let t=i.get("content-type");if(!t)return;if(typeof e>"u")throw new xs.XRPCError(xs.ResponseType.InvalidRequest,"A request body is expected but none was provided");if(L8(e))return e instanceof FormData&&t==="multipart/form-data"&&i.delete("content-type"),e;if(vA(e))return pue(e);if(t.startsWith("text/"))return new TextEncoder().encode(String(e));if(t.startsWith("application/json")){let n=(0,D8.stringifyLex)(e);if(n===void 0)throw new xs.XRPCError(xs.ResponseType.InvalidRequest,"Failed to encode request body as JSON");return new TextEncoder().encode(n)}let r=!e||typeof e!="object"?typeof e:e.constructor!==Object&&typeof e.constructor=="function"&&typeof e.constructor?.name=="string"?e.constructor.name:"object";throw new xs.XRPCError(xs.ResponseType.InvalidRequest,`Unable to encode ${r} as ${t} data`)}function pue(i){if("from"in Am&&typeof Am.from=="function")return Am.from(i);throw new TypeError("ReadableStream.from() is not supported in this environment. It is required to support using iterables as the request body. Consider using a polyfill or re-write your code to use a different body type.")}function fue(i,e){try{if(i){if(i.includes("application/json")){let t=new TextDecoder().decode(e);return(0,D8.jsonStringToLex)(t)}if(i.startsWith("text/"))return new TextDecoder().decode(e)}return e instanceof ArrayBuffer?new Uint8Array(e):e}catch(t){throw new xs.XRPCError(xs.ResponseType.InvalidResponse,void 0,`Failed to parse response body: ${String(t)}`,void 0,{cause:t})}}});var CA=k(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.buildFetchHandler=mue;var hue=Rm();function mue(i){if(typeof i=="function")return i;if(typeof i=="object"&&"fetchHandler"in i)return i.fetchHandler.bind(i);let{service:e,headers:t=void 0,fetch:r=globalThis.fetch}=typeof i=="string"||i instanceof URL?{service:i}:i;if(typeof r!="function")throw new TypeError("XrpcDispatcher requires fetch() to be available in your environment.");let n=t!=null?Object.entries(t):void 0;return function(o,s){return Y(this,null,function*(){let a=typeof e=="function"?e():e,l=new URL(o,a),d=(0,hue.combineHeaders)(s.headers,n);return r(l,ue(R({},s),{headers:d}))})}}});var wA=k(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.XrpcClient=void 0;var EA=Cu(),gue=CA(),ep=Hb(),Eu=Rm(),TA=class{constructor(e,t){Object.defineProperty(this,"fetchHandler",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"lex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.fetchHandler=(0,gue.buildFetchHandler)(e),this.lex=t instanceof EA.Lexicons?t:new EA.Lexicons(t)}setHeader(e,t){this.headers.set(e.toLowerCase(),t)}unsetHeader(e){this.headers.delete(e.toLowerCase())}clearHeaders(){this.headers.clear()}call(e,t,r,n){return Y(this,null,function*(){let o=this.lex.getDefOrThrow(e);if(!o||o.type!=="query"&&o.type!=="procedure")throw new TypeError(`Invalid lexicon: ${e}. Must be a query or procedure.`);let s=(0,Eu.constructMethodCallUrl)(e,o,t),a=(0,Eu.getMethodSchemaHTTPMethod)(o),l=(0,Eu.constructMethodCallHeaders)(o,r,n),d=(0,Eu.encodeMethodCallBody)(l,r),f={method:a,headers:(0,Eu.combineHeaders)(l,this.headers),body:d,duplex:"half",signal:n?.signal};try{let g=yield this.fetchHandler.call(void 0,s,f),w=g.status,A=Object.fromEntries(g.headers.entries()),B=yield g.arrayBuffer(),S=(0,Eu.httpResponseBodyParse)(g.headers.get("content-type"),B),U=(0,ep.httpResponseCodeToEnum)(w);if(U!==ep.ResponseType.Success){let{error:q=void 0,message:G=void 0}=S&&(0,Eu.isErrorResponseBody)(S)?S:{};throw new ep.XRPCError(U,q,G,A)}try{this.lex.assertValidXrpcOutput(e,S)}catch(q){throw q instanceof EA.ValidationError?new ep.XRPCInvalidResponseError(e,q,S):q}return new ep.XRPCResponse(S,A)}catch(g){throw ep.XRPCError.from(g)}})}};Gb.XrpcClient=TA});var AA=k(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.ServiceClient=tp.Client=void 0;var yue=Cu(),bue=Rm(),_ue=wA(),SA=class{constructor(){Object.defineProperty(this,"lex",{enumerable:!0,configurable:!0,writable:!0,value:new yue.Lexicons})}get fetch(){throw new Error("Client.fetch is no longer supported. Use an XrpcClient instead.")}set fetch(e){throw new Error("Client.fetch is no longer supported. Use an XrpcClient instead.")}call(e,t,r,n,o){return Y(this,null,function*(){return this.service(e).call(t,r,n,o)})}service(e){return new Wb(this,e)}addLexicon(e){this.lex.add(e)}addLexicons(e){for(let t of e)this.addLexicon(t)}removeLexicon(e){this.lex.remove(e)}};tp.Client=SA;var Wb=class extends _ue.XrpcClient{constructor(e,t){super((r,n)=>Y(this,null,function*(){let o=(0,bue.combineHeaders)(n.headers,Object.entries(this.headers));return fetch(new URL(r,this.uri),ue(R({},n),{headers:o}))}),e.lex),Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"uri",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.uri=typeof t=="string"?new URL(t):t}};tp.ServiceClient=Wb});var et=k(Uo=>{"use strict";var vue=Uo&&Uo.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),km=Uo&&Uo.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vue(e,i,t)};Object.defineProperty(Uo,"__esModule",{value:!0});km(AA(),Uo);km(CA(),Uo);km(Hb(),Uo);km(Rm(),Uo);km(wA(),Uo);var xue=AA(),Cue=new xue.Client;Uo.default=Cue});var RA=k(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.DidDeactivatedError=nl.DidNotFoundError=nl.HandleNotFoundError=void 0;nl.toKnownErr=wue;var Yb=et(),Eue=$(),Tue=z(),vQe=Tue.is$typed,xQe=Eue.validate,Xb=class extends Yb.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};nl.HandleNotFoundError=Xb;var Zb=class extends Yb.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};nl.DidNotFoundError=Zb;var Qb=class extends Yb.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};nl.DidDeactivatedError=Qb;function wue(i){if(i instanceof Yb.XRPCError){if(i.error==="HandleNotFound")return new Xb(i);if(i.error==="DidNotFound")return new Zb(i);if(i.error==="DidDeactivated")return new Qb(i)}return i}});var DA=k(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.DidDeactivatedError=Tu.DidNotFoundError=void 0;Tu.toKnownErr=Rue;var kA=et(),Sue=$(),Aue=z(),EQe=Aue.is$typed,TQe=Sue.validate,Jb=class extends kA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Tu.DidNotFoundError=Jb;var e_=class extends kA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Tu.DidDeactivatedError=e_;function Rue(i){if(i instanceof kA.XRPCError){if(i.error==="DidNotFound")return new Jb(i);if(i.error==="DidDeactivated")return new e_(i)}return i}});var IA=k(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.HandleNotFoundError=void 0;Dm.toKnownErr=Iue;var B8=et(),kue=$(),Due=z(),SQe=Due.is$typed,AQe=kue.validate,t_=class extends B8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Dm.HandleNotFoundError=t_;function Iue(i){return i instanceof B8.XRPCError&&i.error==="HandleNotFound"?new t_(i):i}});var PA=k(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.DidDeactivatedError=ol.DidNotFoundError=ol.HandleNotFoundError=void 0;ol.toKnownErr=Bue;var o_=et(),Pue=$(),Lue=z(),kQe=Lue.is$typed,DQe=Pue.validate,i_=class extends o_.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ol.HandleNotFoundError=i_;var r_=class extends o_.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ol.DidNotFoundError=r_;var n_=class extends o_.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ol.DidDeactivatedError=n_;function Bue(i){if(i instanceof o_.XRPCError){if(i.error==="HandleNotFound")return new i_(i);if(i.error==="DidNotFound")return new r_(i);if(i.error==="DidDeactivated")return new n_(i)}return i}});var LA=k($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.InvalidSwapError=void 0;$r.toKnownErr=Vue;$r.isCreate=Nue;$r.validateCreate=Fue;$r.isUpdate=Uue;$r.validateUpdate=jue;$r.isDelete=que;$r.validateDelete=$ue;$r.isCreateResult=zue;$r.validateCreateResult=Kue;$r.isUpdateResult=Hue;$r.validateUpdateResult=Gue;$r.isDeleteResult=Wue;$r.validateDeleteResult=Xue;var O8=et(),Oue=$(),Mue=z(),ip=Mue.is$typed,rp=Oue.validate,jo="com.atproto.repo.applyWrites",s_=class extends O8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};$r.InvalidSwapError=s_;function Vue(i){return i instanceof O8.XRPCError&&i.error==="InvalidSwap"?new s_(i):i}var M8="create";function Nue(i){return ip(i,jo,M8)}function Fue(i){return rp(i,jo,M8)}var V8="update";function Uue(i){return ip(i,jo,V8)}function jue(i){return rp(i,jo,V8)}var N8="delete";function que(i){return ip(i,jo,N8)}function $ue(i){return rp(i,jo,N8)}var F8="createResult";function zue(i){return ip(i,jo,F8)}function Kue(i){return rp(i,jo,F8)}var U8="updateResult";function Hue(i){return ip(i,jo,U8)}function Gue(i){return rp(i,jo,U8)}var j8="deleteResult";function Wue(i){return ip(i,jo,j8)}function Xue(i){return rp(i,jo,j8)}});var BA=k(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.InvalidSwapError=void 0;Im.toKnownErr=Yue;var q8=et(),Zue=$(),Que=z(),LQe=Que.is$typed,BQe=Zue.validate,a_=class extends q8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Im.InvalidSwapError=a_;function Yue(i){return i instanceof q8.XRPCError&&i.error==="InvalidSwap"?new a_(i):i}});var OA=k(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.InvalidSwapError=void 0;Pm.toKnownErr=tde;var $8=et(),Jue=$(),ede=z(),MQe=ede.is$typed,VQe=Jue.validate,l_=class extends $8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Pm.InvalidSwapError=l_;function tde(i){return i instanceof $8.XRPCError&&i.error==="InvalidSwap"?new l_(i):i}});var MA=k(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.RecordNotFoundError=void 0;Lm.toKnownErr=nde;var z8=et(),ide=$(),rde=z(),FQe=rde.is$typed,UQe=ide.validate,c_=class extends z8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Lm.RecordNotFoundError=c_;function nde(i){return i instanceof z8.XRPCError&&i.error==="RecordNotFound"?new c_(i):i}});var VA=k(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.InvalidSwapError=void 0;Bm.toKnownErr=ade;var K8=et(),ode=$(),sde=z(),qQe=sde.is$typed,$Qe=ode.validate,u_=class extends K8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Bm.InvalidSwapError=u_;function ade(i){return i instanceof K8.XRPCError&&i.error==="InvalidSwap"?new u_(i):i}});var NA=k(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.InvalidEmailError=Cs.InvalidTokenError=Cs.ExpiredTokenError=Cs.AccountNotFoundError=void 0;Cs.toKnownErr=ude;var Om=et(),lde=$(),cde=z(),KQe=cde.is$typed,HQe=lde.validate,d_=class extends Om.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Cs.AccountNotFoundError=d_;var p_=class extends Om.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Cs.ExpiredTokenError=p_;var f_=class extends Om.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Cs.InvalidTokenError=f_;var h_=class extends Om.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Cs.InvalidEmailError=h_;function ude(i){if(i instanceof Om.XRPCError){if(i.error==="AccountNotFound")return new d_(i);if(i.error==="ExpiredToken")return new p_(i);if(i.error==="InvalidToken")return new f_(i);if(i.error==="InvalidEmail")return new h_(i)}return i}});var FA=k(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.IncompatibleDidDocError=zr.UnresolvableDidError=zr.UnsupportedDomainError=zr.HandleNotAvailableError=zr.InvalidInviteCodeError=zr.InvalidPasswordError=zr.InvalidHandleError=void 0;zr.toKnownErr=fde;var Gl=et(),dde=$(),pde=z(),WQe=pde.is$typed,XQe=dde.validate,m_=class extends Gl.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zr.InvalidHandleError=m_;var g_=class extends Gl.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zr.InvalidPasswordError=g_;var y_=class extends Gl.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zr.InvalidInviteCodeError=y_;var b_=class extends Gl.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zr.HandleNotAvailableError=b_;var __=class extends Gl.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zr.UnsupportedDomainError=__;var v_=class extends Gl.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zr.UnresolvableDidError=v_;var x_=class extends Gl.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zr.IncompatibleDidDocError=x_;function fde(i){if(i instanceof Gl.XRPCError){if(i.error==="InvalidHandle")return new m_(i);if(i.error==="InvalidPassword")return new g_(i);if(i.error==="InvalidInviteCode")return new y_(i);if(i.error==="HandleNotAvailable")return new b_(i);if(i.error==="UnsupportedDomain")return new __(i);if(i.error==="UnresolvableDid")return new v_(i);if(i.error==="IncompatibleDidDoc")return new x_(i)}return i}});var UA=k(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.AccountTakedownError=void 0;wu.toKnownErr=bde;wu.isAppPassword=_de;wu.validateAppPassword=vde;var H8=et(),hde=$(),mde=z(),gde=mde.is$typed,yde=hde.validate,G8="com.atproto.server.createAppPassword",C_=class extends H8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};wu.AccountTakedownError=C_;function bde(i){return i instanceof H8.XRPCError&&i.error==="AccountTakedown"?new C_(i):i}var W8="appPassword";function _de(i){return gde(i,G8,W8)}function vde(i){return yde(i,G8,W8)}});var qA=k(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.AuthFactorTokenRequiredError=Su.AccountTakedownError=void 0;Su.toKnownErr=Ede;var jA=et(),xde=$(),Cde=z(),YQe=Cde.is$typed,JQe=xde.validate,E_=class extends jA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Su.AccountTakedownError=E_;var T_=class extends jA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Su.AuthFactorTokenRequiredError=T_;function Ede(i){if(i instanceof jA.XRPCError){if(i.error==="AccountTakedown")return new E_(i);if(i.error==="AuthFactorTokenRequired")return new T_(i)}return i}});var zA=k(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.InvalidTokenError=Au.ExpiredTokenError=void 0;Au.toKnownErr=Sde;var $A=et(),Tde=$(),wde=z(),tYe=wde.is$typed,iYe=Tde.validate,w_=class extends $A.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Au.ExpiredTokenError=w_;var S_=class extends $A.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Au.InvalidTokenError=S_;function Sde(i){if(i instanceof $A.XRPCError){if(i.error==="ExpiredToken")return new w_(i);if(i.error==="InvalidToken")return new S_(i)}return i}});var KA=k(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.DuplicateCreateError=void 0;Mm.toKnownErr=kde;var X8=et(),Ade=$(),Rde=z(),nYe=Rde.is$typed,oYe=Ade.validate,A_=class extends X8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Mm.DuplicateCreateError=A_;function kde(i){return i instanceof X8.XRPCError&&i.error==="DuplicateCreate"?new A_(i):i}});var HA=k(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.BadExpirationError=void 0;Vm.toKnownErr=Pde;var Z8=et(),Dde=$(),Ide=z(),aYe=Ide.is$typed,lYe=Dde.validate,R_=class extends Z8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Vm.BadExpirationError=R_;function Pde(i){return i instanceof Z8.XRPCError&&i.error==="BadExpiration"?new R_(i):i}});var GA=k(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.AccountTakedownError=void 0;Ru.toKnownErr=Vde;Ru.isAppPassword=Nde;Ru.validateAppPassword=Fde;var Q8=et(),Lde=$(),Bde=z(),Ode=Bde.is$typed,Mde=Lde.validate,Y8="com.atproto.server.listAppPasswords",k_=class extends Q8.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Ru.AccountTakedownError=k_;function Vde(i){return i instanceof Q8.XRPCError&&i.error==="AccountTakedown"?new k_(i):i}var J8="appPassword";function Nde(i){return Ode(i,Y8,J8)}function Fde(i){return Mde(i,Y8,J8)}});var WA=k(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.AccountTakedownError=void 0;Nm.toKnownErr=qde;var e6=et(),Ude=$(),jde=z(),dYe=jde.is$typed,pYe=Ude.validate,D_=class extends e6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Nm.AccountTakedownError=D_;function qde(i){return i instanceof e6.XRPCError&&i.error==="AccountTakedown"?new D_(i):i}});var ZA=k(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.InvalidTokenError=ku.ExpiredTokenError=void 0;ku.toKnownErr=Kde;var XA=et(),$de=$(),zde=z(),hYe=zde.is$typed,mYe=$de.validate,I_=class extends XA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ku.ExpiredTokenError=I_;var P_=class extends XA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ku.InvalidTokenError=P_;function Kde(i){if(i instanceof XA.XRPCError){if(i.error==="ExpiredToken")return new I_(i);if(i.error==="InvalidToken")return new P_(i)}return i}});var QA=k(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.TokenRequiredError=sl.InvalidTokenError=sl.ExpiredTokenError=void 0;sl.toKnownErr=Wde;var M_=et(),Hde=$(),Gde=z(),yYe=Gde.is$typed,bYe=Hde.validate,L_=class extends M_.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};sl.ExpiredTokenError=L_;var B_=class extends M_.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};sl.InvalidTokenError=B_;var O_=class extends M_.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};sl.TokenRequiredError=O_;function Wde(i){if(i instanceof M_.XRPCError){if(i.error==="ExpiredToken")return new L_(i);if(i.error==="InvalidToken")return new B_(i);if(i.error==="TokenRequired")return new O_(i)}return i}});var YA=k(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.RepoDeactivatedError=fo.RepoSuspendedError=fo.RepoTakendownError=fo.RepoNotFoundError=fo.BlobNotFoundError=void 0;fo.toKnownErr=Qde;var np=et(),Xde=$(),Zde=z(),vYe=Zde.is$typed,xYe=Xde.validate,V_=class extends np.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};fo.BlobNotFoundError=V_;var N_=class extends np.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};fo.RepoNotFoundError=N_;var F_=class extends np.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};fo.RepoTakendownError=F_;var U_=class extends np.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};fo.RepoSuspendedError=U_;var j_=class extends np.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};fo.RepoDeactivatedError=j_;function Qde(i){if(i instanceof np.XRPCError){if(i.error==="BlobNotFound")return new V_(i);if(i.error==="RepoNotFound")return new N_(i);if(i.error==="RepoTakendown")return new F_(i);if(i.error==="RepoSuspended")return new U_(i);if(i.error==="RepoDeactivated")return new j_(i)}return i}});var JA=k(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.RepoDeactivatedError=ho.RepoSuspendedError=ho.RepoTakendownError=ho.RepoNotFoundError=ho.BlockNotFoundError=void 0;ho.toKnownErr=epe;var op=et(),Yde=$(),Jde=z(),EYe=Jde.is$typed,TYe=Yde.validate,q_=class extends op.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ho.BlockNotFoundError=q_;var $_=class extends op.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ho.RepoNotFoundError=$_;var z_=class extends op.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ho.RepoTakendownError=z_;var K_=class extends op.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ho.RepoSuspendedError=K_;var H_=class extends op.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ho.RepoDeactivatedError=H_;function epe(i){if(i instanceof op.XRPCError){if(i.error==="BlockNotFound")return new q_(i);if(i.error==="RepoNotFound")return new $_(i);if(i.error==="RepoTakendown")return new z_(i);if(i.error==="RepoSuspended")return new K_(i);if(i.error==="RepoDeactivated")return new H_(i)}return i}});var eR=k(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.HeadNotFoundError=void 0;Fm.toKnownErr=rpe;var t6=et(),tpe=$(),ipe=z(),SYe=ipe.is$typed,AYe=tpe.validate,G_=class extends t6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Fm.HeadNotFoundError=G_;function rpe(i){return i instanceof t6.XRPCError&&i.error==="HeadNotFound"?new G_(i):i}});var tR=k(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.RepoDeactivatedError=Es.RepoSuspendedError=Es.RepoTakendownError=Es.RepoNotFoundError=void 0;Es.toKnownErr=spe;var Um=et(),npe=$(),ope=z(),kYe=ope.is$typed,DYe=npe.validate,W_=class extends Um.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Es.RepoNotFoundError=W_;var X_=class extends Um.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Es.RepoTakendownError=X_;var Z_=class extends Um.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Es.RepoSuspendedError=Z_;var Q_=class extends Um.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Es.RepoDeactivatedError=Q_;function spe(i){if(i instanceof Um.XRPCError){if(i.error==="RepoNotFound")return new W_(i);if(i.error==="RepoTakendown")return new X_(i);if(i.error==="RepoSuspended")return new Z_(i);if(i.error==="RepoDeactivated")return new Q_(i)}return i}});var iR=k(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.RepoDeactivatedError=mo.RepoSuspendedError=mo.RepoTakendownError=mo.RepoNotFoundError=mo.RecordNotFoundError=void 0;mo.toKnownErr=cpe;var sp=et(),ape=$(),lpe=z(),PYe=lpe.is$typed,LYe=ape.validate,Y_=class extends sp.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};mo.RecordNotFoundError=Y_;var J_=class extends sp.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};mo.RepoNotFoundError=J_;var ev=class extends sp.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};mo.RepoTakendownError=ev;var tv=class extends sp.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};mo.RepoSuspendedError=tv;var iv=class extends sp.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};mo.RepoDeactivatedError=iv;function cpe(i){if(i instanceof sp.XRPCError){if(i.error==="RecordNotFound")return new Y_(i);if(i.error==="RepoNotFound")return new J_(i);if(i.error==="RepoTakendown")return new ev(i);if(i.error==="RepoSuspended")return new tv(i);if(i.error==="RepoDeactivated")return new iv(i)}return i}});var rR=k(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.RepoDeactivatedError=Ts.RepoSuspendedError=Ts.RepoTakendownError=Ts.RepoNotFoundError=void 0;Ts.toKnownErr=ppe;var jm=et(),upe=$(),dpe=z(),OYe=dpe.is$typed,MYe=upe.validate,rv=class extends jm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Ts.RepoNotFoundError=rv;var nv=class extends jm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Ts.RepoTakendownError=nv;var ov=class extends jm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Ts.RepoSuspendedError=ov;var sv=class extends jm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Ts.RepoDeactivatedError=sv;function ppe(i){if(i instanceof jm.XRPCError){if(i.error==="RepoNotFound")return new rv(i);if(i.error==="RepoTakendown")return new nv(i);if(i.error==="RepoSuspended")return new ov(i);if(i.error==="RepoDeactivated")return new sv(i)}return i}});var nR=k(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.RepoNotFoundError=void 0;qm.toKnownErr=mpe;var i6=et(),fpe=$(),hpe=z(),NYe=hpe.is$typed,FYe=fpe.validate,av=class extends i6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};qm.RepoNotFoundError=av;function mpe(i){return i instanceof i6.XRPCError&&i.error==="RepoNotFound"?new av(i):i}});var oR=k(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.RepoDeactivatedError=ws.RepoSuspendedError=ws.RepoTakendownError=ws.RepoNotFoundError=void 0;ws.toKnownErr=bpe;var $m=et(),gpe=$(),ype=z(),jYe=ype.is$typed,qYe=gpe.validate,lv=class extends $m.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ws.RepoNotFoundError=lv;var cv=class extends $m.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ws.RepoTakendownError=cv;var uv=class extends $m.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ws.RepoSuspendedError=uv;var dv=class extends $m.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};ws.RepoDeactivatedError=dv;function bpe(i){if(i instanceof $m.XRPCError){if(i.error==="RepoNotFound")return new lv(i);if(i.error==="RepoTakendown")return new cv(i);if(i.error==="RepoSuspended")return new uv(i);if(i.error==="RepoDeactivated")return new dv(i)}return i}});var aR=k(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.BlockedByActorError=Du.BlockedActorError=void 0;Du.toKnownErr=xpe;var sR=et(),_pe=$(),vpe=z(),zYe=vpe.is$typed,KYe=_pe.validate,pv=class extends sR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Du.BlockedActorError=pv;var fv=class extends sR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Du.BlockedByActorError=fv;function xpe(i){if(i instanceof sR.XRPCError){if(i.error==="BlockedActor")return new pv(i);if(i.error==="BlockedByActor")return new fv(i)}return i}});var cR=k(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.BlockedByActorError=Iu.BlockedActorError=void 0;Iu.toKnownErr=Tpe;var lR=et(),Cpe=$(),Epe=z(),GYe=Epe.is$typed,WYe=Cpe.validate,hv=class extends lR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Iu.BlockedActorError=hv;var mv=class extends lR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Iu.BlockedByActorError=mv;function Tpe(i){if(i instanceof lR.XRPCError){if(i.error==="BlockedActor")return new hv(i);if(i.error==="BlockedByActor")return new mv(i)}return i}});var uR=k(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.UnknownFeedError=void 0;zm.toKnownErr=Ape;var r6=et(),wpe=$(),Spe=z(),ZYe=Spe.is$typed,QYe=wpe.validate,gv=class extends r6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};zm.UnknownFeedError=gv;function Ape(i){return i instanceof r6.XRPCError&&i.error==="UnknownFeed"?new gv(i):i}});var dR=k(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.UnknownFeedError=void 0;Km.toKnownErr=Dpe;var n6=et(),Rpe=$(),kpe=z(),JYe=kpe.is$typed,eJe=Rpe.validate,yv=class extends n6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Km.UnknownFeedError=yv;function Dpe(i){return i instanceof n6.XRPCError&&i.error==="UnknownFeed"?new yv(i):i}});var pR=k(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.UnknownListError=void 0;Hm.toKnownErr=Lpe;var o6=et(),Ipe=$(),Ppe=z(),iJe=Ppe.is$typed,rJe=Ipe.validate,bv=class extends o6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Hm.UnknownListError=bv;function Lpe(i){return i instanceof o6.XRPCError&&i.error==="UnknownList"?new bv(i):i}});var fR=k(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.NotFoundError=void 0;Gm.toKnownErr=Mpe;var s6=et(),Bpe=$(),Ope=z(),oJe=Ope.is$typed,sJe=Bpe.validate,_v=class extends s6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Gm.NotFoundError=_v;function Mpe(i){return i instanceof s6.XRPCError&&i.error==="NotFound"?new _v(i):i}});var hR=k(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.BadQueryStringError=void 0;Wm.toKnownErr=Fpe;var a6=et(),Vpe=$(),Npe=z(),lJe=Npe.is$typed,cJe=Vpe.validate,vv=class extends a6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Wm.BadQueryStringError=vv;function Fpe(i){return i instanceof a6.XRPCError&&i.error==="BadQueryString"?new vv(i):i}});var mR=k(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.ActorNotFoundError=void 0;Xm.toKnownErr=qpe;var l6=et(),Upe=$(),jpe=z(),dJe=jpe.is$typed,pJe=Upe.validate,xv=class extends l6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Xm.ActorNotFoundError=xv;function qpe(i){return i instanceof l6.XRPCError&&i.error==="ActorNotFound"?new xv(i):i}});var gR=k(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.BadQueryStringError=void 0;Zm.toKnownErr=Kpe;var c6=et(),$pe=$(),zpe=z(),hJe=zpe.is$typed,mJe=$pe.validate,Cv=class extends c6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Zm.BadQueryStringError=Cv;function Kpe(i){return i instanceof c6.XRPCError&&i.error==="BadQueryString"?new Cv(i):i}});var yR=k(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.BadQueryStringError=void 0;Qm.toKnownErr=Wpe;var u6=et(),Hpe=$(),Gpe=z(),yJe=Gpe.is$typed,bJe=Hpe.validate,Ev=class extends u6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Qm.BadQueryStringError=Ev;function Wpe(i){return i instanceof u6.XRPCError&&i.error==="BadQueryString"?new Ev(i):i}});var bR=k(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.BadQueryStringError=void 0;Ym.toKnownErr=Qpe;var d6=et(),Xpe=$(),Zpe=z(),vJe=Zpe.is$typed,xJe=Xpe.validate,Tv=class extends d6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Ym.BadQueryStringError=Tv;function Qpe(i){return i instanceof d6.XRPCError&&i.error==="BadQueryString"?new Tv(i):i}});var _R=k(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.DuplicateTemplateNameError=void 0;Jm.toKnownErr=efe;var p6=et(),Ype=$(),Jpe=z(),EJe=Jpe.is$typed,TJe=Ype.validate,wv=class extends p6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Jm.DuplicateTemplateNameError=wv;function efe(i){return i instanceof p6.XRPCError&&i.error==="DuplicateTemplateName"?new wv(i):i}});var vR=k(e0=>{"use strict";Object.defineProperty(e0,"__esModule",{value:!0});e0.DuplicateTemplateNameError=void 0;e0.toKnownErr=rfe;var f6=et(),tfe=$(),ife=z(),SJe=ife.is$typed,AJe=tfe.validate,Sv=class extends f6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};e0.DuplicateTemplateNameError=Sv;function rfe(i){return i instanceof f6.XRPCError&&i.error==="DuplicateTemplateName"?new Sv(i):i}});var xR=k(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.SubjectHasActionError=void 0;t0.toKnownErr=sfe;var h6=et(),nfe=$(),ofe=z(),kJe=ofe.is$typed,DJe=nfe.validate,Av=class extends h6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};t0.SubjectHasActionError=Av;function sfe(i){return i instanceof h6.XRPCError&&i.error==="SubjectHasAction"?new Av(i):i}});var CR=k(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.RecordNotFoundError=void 0;i0.toKnownErr=cfe;var m6=et(),afe=$(),lfe=z(),PJe=lfe.is$typed,LJe=afe.validate,Rv=class extends m6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};i0.RecordNotFoundError=Rv;function cfe(i){return i instanceof m6.XRPCError&&i.error==="RecordNotFound"?new Rv(i):i}});var ER=k(r0=>{"use strict";Object.defineProperty(r0,"__esModule",{value:!0});r0.RepoNotFoundError=void 0;r0.toKnownErr=pfe;var g6=et(),ufe=$(),dfe=z(),OJe=dfe.is$typed,MJe=ufe.validate,kv=class extends g6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};r0.RepoNotFoundError=kv;function pfe(i){return i instanceof g6.XRPCError&&i.error==="RepoNotFound"?new kv(i):i}});var TR=k(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.SetNotFoundError=void 0;n0.toKnownErr=mfe;var y6=et(),ffe=$(),hfe=z(),NJe=hfe.is$typed,FJe=ffe.validate,Dv=class extends y6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};n0.SetNotFoundError=Dv;function mfe(i){return i instanceof y6.XRPCError&&i.error==="SetNotFound"?new Dv(i):i}});var wR=k(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.SetNotFoundError=void 0;o0.toKnownErr=bfe;var b6=et(),gfe=$(),yfe=z(),jJe=yfe.is$typed,qJe=gfe.validate,Iv=class extends b6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};o0.SetNotFoundError=Iv;function bfe(i){return i instanceof b6.XRPCError&&i.error==="SetNotFound"?new Iv(i):i}});var SR=k(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.SetNotFoundError=void 0;s0.toKnownErr=xfe;var _6=et(),_fe=$(),vfe=z(),zJe=vfe.is$typed,KJe=_fe.validate,Pv=class extends _6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};s0.SetNotFoundError=Pv;function xfe(i){return i instanceof _6.XRPCError&&i.error==="SetNotFound"?new Pv(i):i}});var AR=k(a0=>{"use strict";Object.defineProperty(a0,"__esModule",{value:!0});a0.MemberAlreadyExistsError=void 0;a0.toKnownErr=Tfe;var v6=et(),Cfe=$(),Efe=z(),GJe=Efe.is$typed,WJe=Cfe.validate,Lv=class extends v6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};a0.MemberAlreadyExistsError=Lv;function Tfe(i){return i instanceof v6.XRPCError&&i.error==="MemberAlreadyExists"?new Lv(i):i}});var kR=k(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.CannotDeleteSelfError=Pu.MemberNotFoundError=void 0;Pu.toKnownErr=Afe;var RR=et(),wfe=$(),Sfe=z(),ZJe=Sfe.is$typed,QJe=wfe.validate,Bv=class extends RR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Pu.MemberNotFoundError=Bv;var Ov=class extends RR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};Pu.CannotDeleteSelfError=Ov;function Afe(i){if(i instanceof RR.XRPCError){if(i.error==="MemberNotFound")return new Bv(i);if(i.error==="CannotDeleteSelf")return new Ov(i)}return i}});var DR=k(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.MemberNotFoundError=void 0;l0.toKnownErr=Dfe;var x6=et(),Rfe=$(),kfe=z(),JJe=kfe.is$typed,eet=Rfe.validate,Mv=class extends x6.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers,{cause:e})}};l0.MemberNotFoundError=Mv;function Dfe(i){return i instanceof x6.XRPCError&&i.error==="MemberNotFound"?new Mv(i):i}});var A6=k(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.isStatusAttr=Lfe;qo.validateStatusAttr=Bfe;qo.isAccountView=Ofe;qo.validateAccountView=Mfe;qo.isRepoRef=Vfe;qo.validateRepoRef=Nfe;qo.isRepoBlobRef=Ffe;qo.validateRepoBlobRef=Ufe;qo.isThreatSignature=jfe;qo.validateThreatSignature=qfe;var Ife=$(),Pfe=z(),c0=Pfe.is$typed,u0=Ife.validate,ia="com.atproto.admin.defs",C6="statusAttr";function Lfe(i){return c0(i,ia,C6)}function Bfe(i){return u0(i,ia,C6)}var E6="accountView";function Ofe(i){return c0(i,ia,E6)}function Mfe(i){return u0(i,ia,E6)}var T6="repoRef";function Vfe(i){return c0(i,ia,T6)}function Nfe(i){return u0(i,ia,T6)}var w6="repoBlobRef";function Ffe(i){return c0(i,ia,w6)}function Ufe(i){return u0(i,ia,w6)}var S6="threatSignature";function jfe(i){return c0(i,ia,S6)}function qfe(i){return u0(i,ia,S6)}});var R6=k(IR=>{"use strict";Object.defineProperty(IR,"__esModule",{value:!0});IR.toKnownErr=Kfe;var $fe=$(),zfe=z(),ret=zfe.is$typed,net=$fe.validate;function Kfe(i){return i}});var k6=k(PR=>{"use strict";Object.defineProperty(PR,"__esModule",{value:!0});PR.toKnownErr=Wfe;var Hfe=$(),Gfe=z(),set=Gfe.is$typed,aet=Hfe.validate;function Wfe(i){return i}});var D6=k(LR=>{"use strict";Object.defineProperty(LR,"__esModule",{value:!0});LR.toKnownErr=Qfe;var Xfe=$(),Zfe=z(),uet=Zfe.is$typed,det=Xfe.validate;function Qfe(i){return i}});var I6=k(BR=>{"use strict";Object.defineProperty(BR,"__esModule",{value:!0});BR.toKnownErr=ehe;var Yfe=$(),Jfe=z(),fet=Jfe.is$typed,het=Yfe.validate;function ehe(i){return i}});var P6=k(OR=>{"use strict";Object.defineProperty(OR,"__esModule",{value:!0});OR.toKnownErr=rhe;var the=$(),ihe=z(),get=ihe.is$typed,yet=the.validate;function rhe(i){return i}});var L6=k(MR=>{"use strict";Object.defineProperty(MR,"__esModule",{value:!0});MR.toKnownErr=she;var nhe=$(),ohe=z(),_et=ohe.is$typed,vet=nhe.validate;function she(i){return i}});var B6=k(VR=>{"use strict";Object.defineProperty(VR,"__esModule",{value:!0});VR.toKnownErr=che;var ahe=$(),lhe=z(),Cet=lhe.is$typed,Eet=ahe.validate;function che(i){return i}});var O6=k(NR=>{"use strict";Object.defineProperty(NR,"__esModule",{value:!0});NR.toKnownErr=phe;var uhe=$(),dhe=z(),wet=dhe.is$typed,Aet=uhe.validate;function phe(i){return i}});var M6=k(FR=>{"use strict";Object.defineProperty(FR,"__esModule",{value:!0});FR.toKnownErr=mhe;var fhe=$(),hhe=z(),ket=hhe.is$typed,Det=fhe.validate;function mhe(i){return i}});var V6=k(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0});UR.toKnownErr=bhe;var ghe=$(),yhe=z(),Pet=yhe.is$typed,Let=ghe.validate;function bhe(i){return i}});var N6=k(jR=>{"use strict";Object.defineProperty(jR,"__esModule",{value:!0});jR.toKnownErr=xhe;var _he=$(),vhe=z(),Oet=vhe.is$typed,Met=_he.validate;function xhe(i){return i}});var F6=k(qR=>{"use strict";Object.defineProperty(qR,"__esModule",{value:!0});qR.toKnownErr=The;var Che=$(),Ehe=z(),Net=Ehe.is$typed,Fet=Che.validate;function The(i){return i}});var U6=k($R=>{"use strict";Object.defineProperty($R,"__esModule",{value:!0});$R.toKnownErr=Ahe;var whe=$(),She=z(),jet=She.is$typed,qet=whe.validate;function Ahe(i){return i}});var j6=k(zR=>{"use strict";Object.defineProperty(zR,"__esModule",{value:!0});zR.toKnownErr=Dhe;var Rhe=$(),khe=z(),zet=khe.is$typed,Ket=Rhe.validate;function Dhe(i){return i}});var z6=k(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.isIdentityInfo=Ohe;Vv.validateIdentityInfo=Mhe;var Ihe=$(),Phe=z(),Lhe=Phe.is$typed,Bhe=Ihe.validate,q6="com.atproto.identity.defs",$6="identityInfo";function Ohe(i){return Lhe(i,q6,$6)}function Mhe(i){return Bhe(i,q6,$6)}});var K6=k(KR=>{"use strict";Object.defineProperty(KR,"__esModule",{value:!0});KR.toKnownErr=Fhe;var Vhe=$(),Nhe=z(),Wet=Nhe.is$typed,Xet=Vhe.validate;function Fhe(i){return i}});var H6=k(HR=>{"use strict";Object.defineProperty(HR,"__esModule",{value:!0});HR.toKnownErr=qhe;var Uhe=$(),jhe=z(),Qet=jhe.is$typed,Yet=Uhe.validate;function qhe(i){return i}});var G6=k(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});GR.toKnownErr=Khe;var $he=$(),zhe=z(),ett=zhe.is$typed,ttt=$he.validate;function Khe(i){return i}});var W6=k(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0});WR.toKnownErr=Whe;var Hhe=$(),Ghe=z(),rtt=Ghe.is$typed,ntt=Hhe.validate;function Whe(i){return i}});var X6=k(XR=>{"use strict";Object.defineProperty(XR,"__esModule",{value:!0});XR.toKnownErr=Qhe;var Xhe=$(),Zhe=z(),stt=Zhe.is$typed,att=Xhe.validate;function Qhe(i){return i}});var tV=k($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.isLabel=eme;$o.validateLabel=tme;$o.isSelfLabels=ime;$o.validateSelfLabels=rme;$o.isSelfLabel=nme;$o.validateSelfLabel=ome;$o.isLabelValueDefinition=sme;$o.validateLabelValueDefinition=ame;$o.isLabelValueDefinitionStrings=lme;$o.validateLabelValueDefinitionStrings=cme;var Yhe=$(),Jhe=z(),d0=Jhe.is$typed,p0=Yhe.validate,ra="com.atproto.label.defs",Z6="label";function eme(i){return d0(i,ra,Z6)}function tme(i){return p0(i,ra,Z6)}var Q6="selfLabels";function ime(i){return d0(i,ra,Q6)}function rme(i){return p0(i,ra,Q6)}var Y6="selfLabel";function nme(i){return d0(i,ra,Y6)}function ome(i){return p0(i,ra,Y6)}var J6="labelValueDefinition";function sme(i){return d0(i,ra,J6)}function ame(i){return p0(i,ra,J6)}var eV="labelValueDefinitionStrings";function lme(i){return d0(i,ra,eV)}function cme(i){return p0(i,ra,eV)}});var iV=k(ZR=>{"use strict";Object.defineProperty(ZR,"__esModule",{value:!0});ZR.toKnownErr=pme;var ume=$(),dme=z(),utt=dme.is$typed,dtt=ume.validate;function pme(i){return i}});var aV=k(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.isLabels=mme;ap.validateLabels=gme;ap.isInfo=yme;ap.validateInfo=bme;var fme=$(),hme=z(),rV=hme.is$typed,nV=fme.validate,Nv="com.atproto.label.subscribeLabels",oV="labels";function mme(i){return rV(i,Nv,oV)}function gme(i){return nV(i,Nv,oV)}var sV="info";function yme(i){return rV(i,Nv,sV)}function bme(i){return nV(i,Nv,sV)}});var uV=k(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.isRecord=Eme;Fv.validateRecord=Tme;var _me=$(),vme=z(),xme=vme.is$typed,Cme=_me.validate,lV="com.atproto.lexicon.schema",cV="main";function Eme(i){return xme(i,lV,cV)}function Tme(i){return Cme(i,lV,cV,!0)}});var dV=k(QR=>{"use strict";Object.defineProperty(QR,"__esModule",{value:!0});QR.toKnownErr=Ame;var wme=$(),Sme=z(),mtt=Sme.is$typed,gtt=wme.validate;function Ame(i){return i}});var pV=k(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.REASONAPPEAL=en.REASONOTHER=en.REASONRUDE=en.REASONSEXUAL=en.REASONMISLEADING=en.REASONVIOLATION=en.REASONSPAM=void 0;var Rme=$(),kme=z(),btt=kme.is$typed,_tt=Rme.validate,Lu="com.atproto.moderation.defs";en.REASONSPAM=`${Lu}#reasonSpam`;en.REASONVIOLATION=`${Lu}#reasonViolation`;en.REASONMISLEADING=`${Lu}#reasonMisleading`;en.REASONSEXUAL=`${Lu}#reasonSexual`;en.REASONRUDE=`${Lu}#reasonRude`;en.REASONOTHER=`${Lu}#reasonOther`;en.REASONAPPEAL=`${Lu}#reasonAppeal`});var mV=k(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.isCommitMeta=Bme;Uv.validateCommitMeta=Ome;var Dme=$(),Ime=z(),Pme=Ime.is$typed,Lme=Dme.validate,fV="com.atproto.repo.defs",hV="commitMeta";function Bme(i){return Pme(i,fV,hV)}function Ome(i){return Lme(i,fV,hV)}});var gV=k(YR=>{"use strict";Object.defineProperty(YR,"__esModule",{value:!0});YR.toKnownErr=Nme;var Mme=$(),Vme=z(),Ctt=Vme.is$typed,Ett=Mme.validate;function Nme(i){return i}});var yV=k(JR=>{"use strict";Object.defineProperty(JR,"__esModule",{value:!0});JR.toKnownErr=jme;var Fme=$(),Ume=z(),wtt=Ume.is$typed,Stt=Fme.validate;function jme(i){return i}});var vV=k(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.toKnownErr=Hme;f0.isRecordBlob=Gme;f0.validateRecordBlob=Wme;var qme=$(),$me=z(),zme=$me.is$typed,Kme=qme.validate,bV="com.atproto.repo.listMissingBlobs";function Hme(i){return i}var _V="recordBlob";function Gme(i){return zme(i,bV,_V)}function Wme(i){return Kme(i,bV,_V)}});var EV=k(h0=>{"use strict";Object.defineProperty(h0,"__esModule",{value:!0});h0.toKnownErr=Jme;h0.isRecord=e0e;h0.validateRecord=t0e;var Xme=$(),Zme=z(),Qme=Zme.is$typed,Yme=Xme.validate,xV="com.atproto.repo.listRecords";function Jme(i){return i}var CV="record";function e0e(i){return Qme(i,xV,CV)}function t0e(i){return Yme(i,xV,CV)}});var SV=k(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.isMain=s0e;jv.validateMain=a0e;var i0e=$(),r0e=z(),n0e=r0e.is$typed,o0e=i0e.validate,TV="com.atproto.repo.strongRef",wV="main";function s0e(i){return n0e(i,TV,wV)}function a0e(i){return o0e(i,TV,wV)}});var AV=k(ek=>{"use strict";Object.defineProperty(ek,"__esModule",{value:!0});ek.toKnownErr=u0e;var l0e=$(),c0e=z(),Itt=c0e.is$typed,Ptt=l0e.validate;function u0e(i){return i}});var RV=k(tk=>{"use strict";Object.defineProperty(tk,"__esModule",{value:!0});tk.toKnownErr=f0e;var d0e=$(),p0e=z(),Btt=p0e.is$typed,Ott=d0e.validate;function f0e(i){return i}});var kV=k(ik=>{"use strict";Object.defineProperty(ik,"__esModule",{value:!0});ik.toKnownErr=g0e;var h0e=$(),m0e=z(),Vtt=m0e.is$typed,Ntt=h0e.validate;function g0e(i){return i}});var DV=k(rk=>{"use strict";Object.defineProperty(rk,"__esModule",{value:!0});rk.toKnownErr=_0e;var y0e=$(),b0e=z(),Utt=b0e.is$typed,jtt=y0e.validate;function _0e(i){return i}});var LV=k(m0=>{"use strict";Object.defineProperty(m0,"__esModule",{value:!0});m0.toKnownErr=T0e;m0.isAccountCodes=w0e;m0.validateAccountCodes=S0e;var v0e=$(),x0e=z(),C0e=x0e.is$typed,E0e=v0e.validate,IV="com.atproto.server.createInviteCodes";function T0e(i){return i}var PV="accountCodes";function w0e(i){return C0e(i,IV,PV)}function S0e(i){return E0e(i,IV,PV)}});var BV=k(nk=>{"use strict";Object.defineProperty(nk,"__esModule",{value:!0});nk.toKnownErr=k0e;var A0e=$(),R0e=z(),ztt=R0e.is$typed,Ktt=A0e.validate;function k0e(i){return i}});var FV=k(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.isInviteCode=P0e;lp.validateInviteCode=L0e;lp.isInviteCodeUse=B0e;lp.validateInviteCodeUse=O0e;var D0e=$(),I0e=z(),OV=I0e.is$typed,MV=D0e.validate,qv="com.atproto.server.defs",VV="inviteCode";function P0e(i){return OV(i,qv,VV)}function L0e(i){return MV(i,qv,VV)}var NV="inviteCodeUse";function B0e(i){return OV(i,qv,NV)}function O0e(i){return MV(i,qv,NV)}});var UV=k(ok=>{"use strict";Object.defineProperty(ok,"__esModule",{value:!0});ok.toKnownErr=N0e;var M0e=$(),V0e=z(),Wtt=V0e.is$typed,Xtt=M0e.validate;function N0e(i){return i}});var KV=k(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.toKnownErr=j0e;Bu.isLinks=q0e;Bu.validateLinks=$0e;Bu.isContact=z0e;Bu.validateContact=K0e;var F0e=$(),U0e=z(),jV=U0e.is$typed,qV=F0e.validate,$v="com.atproto.server.describeServer";function j0e(i){return i}var $V="links";function q0e(i){return jV(i,$v,$V)}function $0e(i){return qV(i,$v,$V)}var zV="contact";function z0e(i){return jV(i,$v,zV)}function K0e(i){return qV(i,$v,zV)}});var HV=k(sk=>{"use strict";Object.defineProperty(sk,"__esModule",{value:!0});sk.toKnownErr=W0e;var H0e=$(),G0e=z(),Ytt=G0e.is$typed,Jtt=H0e.validate;function W0e(i){return i}});var GV=k(ak=>{"use strict";Object.defineProperty(ak,"__esModule",{value:!0});ak.toKnownErr=Q0e;var X0e=$(),Z0e=z(),tit=Z0e.is$typed,iit=X0e.validate;function Q0e(i){return i}});var WV=k(lk=>{"use strict";Object.defineProperty(lk,"__esModule",{value:!0});lk.toKnownErr=ege;var Y0e=$(),J0e=z(),nit=J0e.is$typed,oit=Y0e.validate;function ege(i){return i}});var XV=k(ck=>{"use strict";Object.defineProperty(ck,"__esModule",{value:!0});ck.toKnownErr=rge;var tge=$(),ige=z(),ait=ige.is$typed,lit=tge.validate;function rge(i){return i}});var ZV=k(uk=>{"use strict";Object.defineProperty(uk,"__esModule",{value:!0});uk.toKnownErr=sge;var nge=$(),oge=z(),uit=oge.is$typed,dit=nge.validate;function sge(i){return i}});var QV=k(dk=>{"use strict";Object.defineProperty(dk,"__esModule",{value:!0});dk.toKnownErr=cge;var age=$(),lge=z(),fit=lge.is$typed,hit=age.validate;function cge(i){return i}});var YV=k(pk=>{"use strict";Object.defineProperty(pk,"__esModule",{value:!0});pk.toKnownErr=pge;var uge=$(),dge=z(),git=dge.is$typed,yit=uge.validate;function pge(i){return i}});var JV=k(fk=>{"use strict";Object.defineProperty(fk,"__esModule",{value:!0});fk.toKnownErr=mge;var fge=$(),hge=z(),_it=hge.is$typed,vit=fge.validate;function mge(i){return i}});var iN=k(g0=>{"use strict";Object.defineProperty(g0,"__esModule",{value:!0});g0.toKnownErr=vge;g0.isRepo=xge;g0.validateRepo=Cge;var gge=$(),yge=z(),bge=yge.is$typed,_ge=gge.validate,eN="com.atproto.sync.listRepos";function vge(i){return i}var tN="repo";function xge(i){return bge(i,eN,tN)}function Cge(i){return _ge(i,eN,tN)}});var oN=k(y0=>{"use strict";Object.defineProperty(y0,"__esModule",{value:!0});y0.toKnownErr=Age;y0.isRepo=Rge;y0.validateRepo=kge;var Ege=$(),Tge=z(),wge=Tge.is$typed,Sge=Ege.validate,rN="com.atproto.sync.listReposByCollection";function Age(i){return i}var nN="repo";function Rge(i){return wge(i,rN,nN)}function kge(i){return Sge(i,rN,nN)}});var sN=k(hk=>{"use strict";Object.defineProperty(hk,"__esModule",{value:!0});hk.toKnownErr=Pge;var Dge=$(),Ige=z(),Tit=Ige.is$typed,wit=Dge.validate;function Pge(i){return i}});var aN=k(mk=>{"use strict";Object.defineProperty(mk,"__esModule",{value:!0});mk.toKnownErr=Oge;var Lge=$(),Bge=z(),Ait=Bge.is$typed,Rit=Lge.validate;function Oge(i){return i}});var hN=k(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.isCommit=Nge;Ln.validateCommit=Fge;Ln.isSync=Uge;Ln.validateSync=jge;Ln.isIdentity=qge;Ln.validateIdentity=$ge;Ln.isAccount=zge;Ln.validateAccount=Kge;Ln.isInfo=Hge;Ln.validateInfo=Gge;Ln.isRepoOp=Wge;Ln.validateRepoOp=Xge;var Mge=$(),Vge=z(),cp=Vge.is$typed,up=Mge.validate,zo="com.atproto.sync.subscribeRepos",lN="commit";function Nge(i){return cp(i,zo,lN)}function Fge(i){return up(i,zo,lN)}var cN="sync";function Uge(i){return cp(i,zo,cN)}function jge(i){return up(i,zo,cN)}var uN="identity";function qge(i){return cp(i,zo,uN)}function $ge(i){return up(i,zo,uN)}var dN="account";function zge(i){return cp(i,zo,dN)}function Kge(i){return up(i,zo,dN)}var pN="info";function Hge(i){return cp(i,zo,pN)}function Gge(i){return up(i,zo,pN)}var fN="repoOp";function Wge(i){return cp(i,zo,fN)}function Xge(i){return up(i,zo,fN)}});var mN=k(gk=>{"use strict";Object.defineProperty(gk,"__esModule",{value:!0});gk.toKnownErr=Yge;var Zge=$(),Qge=z(),Iit=Qge.is$typed,Pit=Zge.validate;function Yge(i){return i}});var gN=k(yk=>{"use strict";Object.defineProperty(yk,"__esModule",{value:!0});yk.toKnownErr=tye;var Jge=$(),eye=z(),Bit=eye.is$typed,Oit=Jge.validate;function tye(i){return i}});var yN=k(bk=>{"use strict";Object.defineProperty(bk,"__esModule",{value:!0});bk.toKnownErr=nye;var iye=$(),rye=z(),Vit=rye.is$typed,Nit=iye.validate;function nye(i){return i}});var bN=k(_k=>{"use strict";Object.defineProperty(_k,"__esModule",{value:!0});_k.toKnownErr=aye;var oye=$(),sye=z(),Uit=sye.is$typed,jit=oye.validate;function aye(i){return i}});var zN=k(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.isProfileViewBasic=uye;nt.validateProfileViewBasic=dye;nt.isProfileView=pye;nt.validateProfileView=fye;nt.isProfileViewDetailed=hye;nt.validateProfileViewDetailed=mye;nt.isProfileAssociated=gye;nt.validateProfileAssociated=yye;nt.isProfileAssociatedChat=bye;nt.validateProfileAssociatedChat=_ye;nt.isViewerState=vye;nt.validateViewerState=xye;nt.isKnownFollowers=Cye;nt.validateKnownFollowers=Eye;nt.isAdultContentPref=Tye;nt.validateAdultContentPref=wye;nt.isContentLabelPref=Sye;nt.validateContentLabelPref=Aye;nt.isSavedFeed=Rye;nt.validateSavedFeed=kye;nt.isSavedFeedsPrefV2=Dye;nt.validateSavedFeedsPrefV2=Iye;nt.isSavedFeedsPref=Pye;nt.validateSavedFeedsPref=Lye;nt.isPersonalDetailsPref=Bye;nt.validatePersonalDetailsPref=Oye;nt.isFeedViewPref=Mye;nt.validateFeedViewPref=Vye;nt.isThreadViewPref=Nye;nt.validateThreadViewPref=Fye;nt.isInterestsPref=Uye;nt.validateInterestsPref=jye;nt.isMutedWord=qye;nt.validateMutedWord=$ye;nt.isMutedWordsPref=zye;nt.validateMutedWordsPref=Kye;nt.isHiddenPostsPref=Hye;nt.validateHiddenPostsPref=Gye;nt.isLabelersPref=Wye;nt.validateLabelersPref=Xye;nt.isLabelerPrefItem=Zye;nt.validateLabelerPrefItem=Qye;nt.isBskyAppStatePref=Yye;nt.validateBskyAppStatePref=Jye;nt.isBskyAppProgressGuide=ebe;nt.validateBskyAppProgressGuide=tbe;nt.isNux=ibe;nt.validateNux=rbe;nt.isPostInteractionSettingsPref=nbe;nt.validatePostInteractionSettingsPref=obe;var lye=$(),cye=z(),qi=cye.is$typed,$i=lye.validate,st="app.bsky.actor.defs",_N="profileViewBasic";function uye(i){return qi(i,st,_N)}function dye(i){return $i(i,st,_N)}var vN="profileView";function pye(i){return qi(i,st,vN)}function fye(i){return $i(i,st,vN)}var xN="profileViewDetailed";function hye(i){return qi(i,st,xN)}function mye(i){return $i(i,st,xN)}var CN="profileAssociated";function gye(i){return qi(i,st,CN)}function yye(i){return $i(i,st,CN)}var EN="profileAssociatedChat";function bye(i){return qi(i,st,EN)}function _ye(i){return $i(i,st,EN)}var TN="viewerState";function vye(i){return qi(i,st,TN)}function xye(i){return $i(i,st,TN)}var wN="knownFollowers";function Cye(i){return qi(i,st,wN)}function Eye(i){return $i(i,st,wN)}var SN="adultContentPref";function Tye(i){return qi(i,st,SN)}function wye(i){return $i(i,st,SN)}var AN="contentLabelPref";function Sye(i){return qi(i,st,AN)}function Aye(i){return $i(i,st,AN)}var RN="savedFeed";function Rye(i){return qi(i,st,RN)}function kye(i){return $i(i,st,RN)}var kN="savedFeedsPrefV2";function Dye(i){return qi(i,st,kN)}function Iye(i){return $i(i,st,kN)}var DN="savedFeedsPref";function Pye(i){return qi(i,st,DN)}function Lye(i){return $i(i,st,DN)}var IN="personalDetailsPref";function Bye(i){return qi(i,st,IN)}function Oye(i){return $i(i,st,IN)}var PN="feedViewPref";function Mye(i){return qi(i,st,PN)}function Vye(i){return $i(i,st,PN)}var LN="threadViewPref";function Nye(i){return qi(i,st,LN)}function Fye(i){return $i(i,st,LN)}var BN="interestsPref";function Uye(i){return qi(i,st,BN)}function jye(i){return $i(i,st,BN)}var ON="mutedWord";function qye(i){return qi(i,st,ON)}function $ye(i){return $i(i,st,ON)}var MN="mutedWordsPref";function zye(i){return qi(i,st,MN)}function Kye(i){return $i(i,st,MN)}var VN="hiddenPostsPref";function Hye(i){return qi(i,st,VN)}function Gye(i){return $i(i,st,VN)}var NN="labelersPref";function Wye(i){return qi(i,st,NN)}function Xye(i){return $i(i,st,NN)}var FN="labelerPrefItem";function Zye(i){return qi(i,st,FN)}function Qye(i){return $i(i,st,FN)}var UN="bskyAppStatePref";function Yye(i){return qi(i,st,UN)}function Jye(i){return $i(i,st,UN)}var jN="bskyAppProgressGuide";function ebe(i){return qi(i,st,jN)}function tbe(i){return $i(i,st,jN)}var qN="nux";function ibe(i){return qi(i,st,qN)}function rbe(i){return $i(i,st,qN)}var $N="postInteractionSettingsPref";function nbe(i){return qi(i,st,$N)}function obe(i){return $i(i,st,$N)}});var KN=k(vk=>{"use strict";Object.defineProperty(vk,"__esModule",{value:!0});vk.toKnownErr=lbe;var sbe=$(),abe=z(),zit=abe.is$typed,Kit=sbe.validate;function lbe(i){return i}});var HN=k(xk=>{"use strict";Object.defineProperty(xk,"__esModule",{value:!0});xk.toKnownErr=dbe;var cbe=$(),ube=z(),Git=ube.is$typed,Wit=cbe.validate;function dbe(i){return i}});var GN=k(Ck=>{"use strict";Object.defineProperty(Ck,"__esModule",{value:!0});Ck.toKnownErr=hbe;var pbe=$(),fbe=z(),Zit=fbe.is$typed,Qit=pbe.validate;function hbe(i){return i}});var WN=k(Ek=>{"use strict";Object.defineProperty(Ek,"__esModule",{value:!0});Ek.toKnownErr=ybe;var mbe=$(),gbe=z(),Jit=gbe.is$typed,ert=mbe.validate;function ybe(i){return i}});var QN=k(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.isRecord=Cbe;zv.validateRecord=Ebe;var bbe=$(),_be=z(),vbe=_be.is$typed,xbe=bbe.validate,XN="app.bsky.actor.profile",ZN="main";function Cbe(i){return vbe(i,XN,ZN)}function Ebe(i){return xbe(i,XN,ZN,!0)}});var YN=k(Tk=>{"use strict";Object.defineProperty(Tk,"__esModule",{value:!0});Tk.toKnownErr=Sbe;var Tbe=$(),wbe=z(),rrt=wbe.is$typed,nrt=Tbe.validate;function Sbe(i){return i}});var JN=k(wk=>{"use strict";Object.defineProperty(wk,"__esModule",{value:!0});wk.toKnownErr=kbe;var Abe=$(),Rbe=z(),srt=Rbe.is$typed,art=Abe.validate;function kbe(i){return i}});var e9=k(Sk=>{"use strict";Object.defineProperty(Sk,"__esModule",{value:!0});Sk.toKnownErr=Pbe;var Dbe=$(),Ibe=z(),crt=Ibe.is$typed,urt=Dbe.validate;function Pbe(i){return i}});var r9=k(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.isAspectRatio=Vbe;Kv.validateAspectRatio=Nbe;var Lbe=$(),Bbe=z(),Obe=Bbe.is$typed,Mbe=Lbe.validate,t9="app.bsky.embed.defs",i9="aspectRatio";function Vbe(i){return Obe(i,t9,i9)}function Nbe(i){return Mbe(i,t9,i9)}});var l9=k(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.isMain=jbe;na.validateMain=qbe;na.isExternal=$be;na.validateExternal=zbe;na.isView=Kbe;na.validateView=Hbe;na.isViewExternal=Gbe;na.validateViewExternal=Wbe;var Fbe=$(),Ube=z(),Hv=Ube.is$typed,Gv=Fbe.validate,Wl="app.bsky.embed.external",n9="main";function jbe(i){return Hv(i,Wl,n9)}function qbe(i){return Gv(i,Wl,n9)}var o9="external";function $be(i){return Hv(i,Wl,o9)}function zbe(i){return Gv(i,Wl,o9)}var s9="view";function Kbe(i){return Hv(i,Wl,s9)}function Hbe(i){return Gv(i,Wl,s9)}var a9="viewExternal";function Gbe(i){return Hv(i,Wl,a9)}function Wbe(i){return Gv(i,Wl,a9)}});var f9=k(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.isMain=Qbe;oa.validateMain=Ybe;oa.isImage=Jbe;oa.validateImage=e_e;oa.isView=t_e;oa.validateView=i_e;oa.isViewImage=r_e;oa.validateViewImage=n_e;var Xbe=$(),Zbe=z(),Wv=Zbe.is$typed,Xv=Xbe.validate,Xl="app.bsky.embed.images",c9="main";function Qbe(i){return Wv(i,Xl,c9)}function Ybe(i){return Xv(i,Xl,c9)}var u9="image";function Jbe(i){return Wv(i,Xl,u9)}function e_e(i){return Xv(i,Xl,u9)}var d9="view";function t_e(i){return Wv(i,Xl,d9)}function i_e(i){return Xv(i,Xl,d9)}var p9="viewImage";function r_e(i){return Wv(i,Xl,p9)}function n_e(i){return Xv(i,Xl,p9)}});var v9=k(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.isMain=a_e;Bn.validateMain=l_e;Bn.isView=c_e;Bn.validateView=u_e;Bn.isViewRecord=d_e;Bn.validateViewRecord=p_e;Bn.isViewNotFound=f_e;Bn.validateViewNotFound=h_e;Bn.isViewBlocked=m_e;Bn.validateViewBlocked=g_e;Bn.isViewDetached=y_e;Bn.validateViewDetached=b_e;var o_e=$(),s_e=z(),dp=s_e.is$typed,pp=o_e.validate,Ko="app.bsky.embed.record",h9="main";function a_e(i){return dp(i,Ko,h9)}function l_e(i){return pp(i,Ko,h9)}var m9="view";function c_e(i){return dp(i,Ko,m9)}function u_e(i){return pp(i,Ko,m9)}var g9="viewRecord";function d_e(i){return dp(i,Ko,g9)}function p_e(i){return pp(i,Ko,g9)}var y9="viewNotFound";function f_e(i){return dp(i,Ko,y9)}function h_e(i){return pp(i,Ko,y9)}var b9="viewBlocked";function m_e(i){return dp(i,Ko,b9)}function g_e(i){return pp(i,Ko,b9)}var _9="viewDetached";function y_e(i){return dp(i,Ko,_9)}function b_e(i){return pp(i,Ko,_9)}});var w9=k(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.isMain=x_e;fp.validateMain=C_e;fp.isView=E_e;fp.validateView=T_e;var __e=$(),v_e=z(),x9=v_e.is$typed,C9=__e.validate,Zv="app.bsky.embed.recordWithMedia",E9="main";function x_e(i){return x9(i,Zv,E9)}function C_e(i){return C9(i,Zv,E9)}var T9="view";function E_e(i){return x9(i,Zv,T9)}function T_e(i){return C9(i,Zv,T9)}});var k9=k(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.isMain=A_e;Zl.validateMain=R_e;Zl.isCaption=k_e;Zl.validateCaption=D_e;Zl.isView=I_e;Zl.validateView=P_e;var w_e=$(),S_e=z(),Ak=S_e.is$typed,Rk=w_e.validate,hp="app.bsky.embed.video",S9="main";function A_e(i){return Ak(i,hp,S9)}function R_e(i){return Rk(i,hp,S9)}var A9="caption";function k_e(i){return Ak(i,hp,A9)}function D_e(i){return Rk(i,hp,A9)}var R9="view";function I_e(i){return Ak(i,hp,R9)}function P_e(i){return Rk(i,hp,R9)}});var W9=k(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.INTERACTIONSHARE=qe.INTERACTIONQUOTE=qe.INTERACTIONREPLY=qe.INTERACTIONREPOST=qe.INTERACTIONLIKE=qe.INTERACTIONSEEN=qe.CONTENTMODEVIDEO=qe.CONTENTMODEUNSPECIFIED=qe.CLICKTHROUGHEMBED=qe.CLICKTHROUGHREPOSTER=qe.CLICKTHROUGHAUTHOR=qe.CLICKTHROUGHITEM=qe.REQUESTMORE=qe.REQUESTLESS=void 0;qe.isPostView=O_e;qe.validatePostView=M_e;qe.isViewerState=V_e;qe.validateViewerState=N_e;qe.isThreadContext=F_e;qe.validateThreadContext=U_e;qe.isFeedViewPost=j_e;qe.validateFeedViewPost=q_e;qe.isReplyRef=$_e;qe.validateReplyRef=z_e;qe.isReasonRepost=K_e;qe.validateReasonRepost=H_e;qe.isReasonPin=G_e;qe.validateReasonPin=W_e;qe.isThreadViewPost=X_e;qe.validateThreadViewPost=Z_e;qe.isNotFoundPost=Q_e;qe.validateNotFoundPost=Y_e;qe.isBlockedPost=J_e;qe.validateBlockedPost=eve;qe.isBlockedAuthor=tve;qe.validateBlockedAuthor=ive;qe.isGeneratorView=rve;qe.validateGeneratorView=nve;qe.isGeneratorViewerState=ove;qe.validateGeneratorViewerState=sve;qe.isSkeletonFeedPost=ave;qe.validateSkeletonFeedPost=lve;qe.isSkeletonReasonRepost=cve;qe.validateSkeletonReasonRepost=uve;qe.isSkeletonReasonPin=dve;qe.validateSkeletonReasonPin=pve;qe.isThreadgateView=fve;qe.validateThreadgateView=hve;qe.isInteraction=mve;qe.validateInteraction=gve;var L_e=$(),B_e=z(),Lr=B_e.is$typed,Br=L_e.validate,at="app.bsky.feed.defs",D9="postView";function O_e(i){return Lr(i,at,D9)}function M_e(i){return Br(i,at,D9)}var I9="viewerState";function V_e(i){return Lr(i,at,I9)}function N_e(i){return Br(i,at,I9)}var P9="threadContext";function F_e(i){return Lr(i,at,P9)}function U_e(i){return Br(i,at,P9)}var L9="feedViewPost";function j_e(i){return Lr(i,at,L9)}function q_e(i){return Br(i,at,L9)}var B9="replyRef";function $_e(i){return Lr(i,at,B9)}function z_e(i){return Br(i,at,B9)}var O9="reasonRepost";function K_e(i){return Lr(i,at,O9)}function H_e(i){return Br(i,at,O9)}var M9="reasonPin";function G_e(i){return Lr(i,at,M9)}function W_e(i){return Br(i,at,M9)}var V9="threadViewPost";function X_e(i){return Lr(i,at,V9)}function Z_e(i){return Br(i,at,V9)}var N9="notFoundPost";function Q_e(i){return Lr(i,at,N9)}function Y_e(i){return Br(i,at,N9)}var F9="blockedPost";function J_e(i){return Lr(i,at,F9)}function eve(i){return Br(i,at,F9)}var U9="blockedAuthor";function tve(i){return Lr(i,at,U9)}function ive(i){return Br(i,at,U9)}var j9="generatorView";function rve(i){return Lr(i,at,j9)}function nve(i){return Br(i,at,j9)}var q9="generatorViewerState";function ove(i){return Lr(i,at,q9)}function sve(i){return Br(i,at,q9)}var $9="skeletonFeedPost";function ave(i){return Lr(i,at,$9)}function lve(i){return Br(i,at,$9)}var z9="skeletonReasonRepost";function cve(i){return Lr(i,at,z9)}function uve(i){return Br(i,at,z9)}var K9="skeletonReasonPin";function dve(i){return Lr(i,at,K9)}function pve(i){return Br(i,at,K9)}var H9="threadgateView";function fve(i){return Lr(i,at,H9)}function hve(i){return Br(i,at,H9)}var G9="interaction";function mve(i){return Lr(i,at,G9)}function gve(i){return Br(i,at,G9)}qe.REQUESTLESS=`${at}#requestLess`;qe.REQUESTMORE=`${at}#requestMore`;qe.CLICKTHROUGHITEM=`${at}#clickthroughItem`;qe.CLICKTHROUGHAUTHOR=`${at}#clickthroughAuthor`;qe.CLICKTHROUGHREPOSTER=`${at}#clickthroughReposter`;qe.CLICKTHROUGHEMBED=`${at}#clickthroughEmbed`;qe.CONTENTMODEUNSPECIFIED=`${at}#contentModeUnspecified`;qe.CONTENTMODEVIDEO=`${at}#contentModeVideo`;qe.INTERACTIONSEEN=`${at}#interactionSeen`;qe.INTERACTIONLIKE=`${at}#interactionLike`;qe.INTERACTIONREPOST=`${at}#interactionRepost`;qe.INTERACTIONREPLY=`${at}#interactionReply`;qe.INTERACTIONQUOTE=`${at}#interactionQuote`;qe.INTERACTIONSHARE=`${at}#interactionShare`});var J9=k(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.toKnownErr=_ve;Ou.isFeed=vve;Ou.validateFeed=xve;Ou.isLinks=Cve;Ou.validateLinks=Eve;var yve=$(),bve=z(),X9=bve.is$typed,Z9=yve.validate,Qv="app.bsky.feed.describeFeedGenerator";function _ve(i){return i}var Q9="feed";function vve(i){return X9(i,Qv,Q9)}function xve(i){return Z9(i,Qv,Q9)}var Y9="links";function Cve(i){return X9(i,Qv,Y9)}function Eve(i){return Z9(i,Qv,Y9)}});var iF=k(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.isRecord=Rve;Yv.validateRecord=kve;var Tve=$(),wve=z(),Sve=wve.is$typed,Ave=Tve.validate,eF="app.bsky.feed.generator",tF="main";function Rve(i){return Sve(i,eF,tF)}function kve(i){return Ave(i,eF,tF,!0)}});var rF=k(kk=>{"use strict";Object.defineProperty(kk,"__esModule",{value:!0});kk.toKnownErr=Pve;var Dve=$(),Ive=z(),xrt=Ive.is$typed,Crt=Dve.validate;function Pve(i){return i}});var nF=k(Dk=>{"use strict";Object.defineProperty(Dk,"__esModule",{value:!0});Dk.toKnownErr=Ove;var Lve=$(),Bve=z(),Trt=Bve.is$typed,wrt=Lve.validate;function Ove(i){return i}});var oF=k(Ik=>{"use strict";Object.defineProperty(Ik,"__esModule",{value:!0});Ik.toKnownErr=Nve;var Mve=$(),Vve=z(),Art=Vve.is$typed,Rrt=Mve.validate;function Nve(i){return i}});var lF=k(b0=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0});b0.toKnownErr=$ve;b0.isLike=zve;b0.validateLike=Kve;var Fve=$(),Uve=z(),jve=Uve.is$typed,qve=Fve.validate,sF="app.bsky.feed.getLikes";function $ve(i){return i}var aF="like";function zve(i){return jve(i,sF,aF)}function Kve(i){return qve(i,sF,aF)}});var cF=k(Pk=>{"use strict";Object.defineProperty(Pk,"__esModule",{value:!0});Pk.toKnownErr=Wve;var Hve=$(),Gve=z(),Irt=Gve.is$typed,Prt=Hve.validate;function Wve(i){return i}});var uF=k(Lk=>{"use strict";Object.defineProperty(Lk,"__esModule",{value:!0});Lk.toKnownErr=Qve;var Xve=$(),Zve=z(),Brt=Zve.is$typed,Ort=Xve.validate;function Qve(i){return i}});var dF=k(Bk=>{"use strict";Object.defineProperty(Bk,"__esModule",{value:!0});Bk.toKnownErr=e1e;var Yve=$(),Jve=z(),Vrt=Jve.is$typed,Nrt=Yve.validate;function e1e(i){return i}});var pF=k(Ok=>{"use strict";Object.defineProperty(Ok,"__esModule",{value:!0});Ok.toKnownErr=r1e;var t1e=$(),i1e=z(),Urt=i1e.is$typed,jrt=t1e.validate;function r1e(i){return i}});var fF=k(Mk=>{"use strict";Object.defineProperty(Mk,"__esModule",{value:!0});Mk.toKnownErr=s1e;var n1e=$(),o1e=z(),$rt=o1e.is$typed,zrt=n1e.validate;function s1e(i){return i}});var gF=k(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.isRecord=d1e;Jv.validateRecord=p1e;var a1e=$(),l1e=z(),c1e=l1e.is$typed,u1e=a1e.validate,hF="app.bsky.feed.like",mF="main";function d1e(i){return c1e(i,hF,mF)}function p1e(i){return u1e(i,hF,mF,!0)}});var xF=k(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.isRecord=m1e;sa.validateRecord=g1e;sa.isReplyRef=y1e;sa.validateReplyRef=b1e;sa.isEntity=_1e;sa.validateEntity=v1e;sa.isTextSlice=x1e;sa.validateTextSlice=C1e;var f1e=$(),h1e=z(),e1=h1e.is$typed,t1=f1e.validate,Ql="app.bsky.feed.post",yF="main";function m1e(i){return e1(i,Ql,yF)}function g1e(i){return t1(i,Ql,yF,!0)}var bF="replyRef";function y1e(i){return e1(i,Ql,bF)}function b1e(i){return t1(i,Ql,bF)}var _F="entity";function _1e(i){return e1(i,Ql,_F)}function v1e(i){return t1(i,Ql,_F)}var vF="textSlice";function x1e(i){return e1(i,Ql,vF)}function C1e(i){return t1(i,Ql,vF)}});var SF=k(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.isRecord=w1e;mp.validateRecord=S1e;mp.isDisableRule=A1e;mp.validateDisableRule=R1e;var E1e=$(),T1e=z(),CF=T1e.is$typed,EF=E1e.validate,i1="app.bsky.feed.postgate",TF="main";function w1e(i){return CF(i,i1,TF)}function S1e(i){return EF(i,i1,TF,!0)}var wF="disableRule";function A1e(i){return CF(i,i1,wF)}function R1e(i){return EF(i,i1,wF)}});var kF=k(r1=>{"use strict";Object.defineProperty(r1,"__esModule",{value:!0});r1.isRecord=L1e;r1.validateRecord=B1e;var k1e=$(),D1e=z(),I1e=D1e.is$typed,P1e=k1e.validate,AF="app.bsky.feed.repost",RF="main";function L1e(i){return I1e(i,AF,RF)}function B1e(i){return P1e(i,AF,RF,!0)}});var DF=k(Vk=>{"use strict";Object.defineProperty(Vk,"__esModule",{value:!0});Vk.toKnownErr=V1e;var O1e=$(),M1e=z(),Zrt=M1e.is$typed,Qrt=O1e.validate;function V1e(i){return i}});var MF=k(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.isRecord=U1e;Ho.validateRecord=j1e;Ho.isMentionRule=q1e;Ho.validateMentionRule=$1e;Ho.isFollowerRule=z1e;Ho.validateFollowerRule=K1e;Ho.isFollowingRule=H1e;Ho.validateFollowingRule=G1e;Ho.isListRule=W1e;Ho.validateListRule=X1e;var N1e=$(),F1e=z(),_0=F1e.is$typed,v0=N1e.validate,aa="app.bsky.feed.threadgate",IF="main";function U1e(i){return _0(i,aa,IF)}function j1e(i){return v0(i,aa,IF,!0)}var PF="mentionRule";function q1e(i){return _0(i,aa,PF)}function $1e(i){return v0(i,aa,PF)}var LF="followerRule";function z1e(i){return _0(i,aa,LF)}function K1e(i){return v0(i,aa,LF)}var BF="followingRule";function H1e(i){return _0(i,aa,BF)}function G1e(i){return v0(i,aa,BF)}var OF="listRule";function W1e(i){return _0(i,aa,OF)}function X1e(i){return v0(i,aa,OF)}});var FF=k(n1=>{"use strict";Object.defineProperty(n1,"__esModule",{value:!0});n1.isRecord=exe;n1.validateRecord=txe;var Z1e=$(),Q1e=z(),Y1e=Q1e.is$typed,J1e=Z1e.validate,VF="app.bsky.graph.block",NF="main";function exe(i){return Y1e(i,VF,NF)}function txe(i){return J1e(i,VF,NF,!0)}});var WF=k(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.REFERENCELIST=Zi.CURATELIST=Zi.MODLIST=void 0;Zi.isListViewBasic=nxe;Zi.validateListViewBasic=oxe;Zi.isListView=sxe;Zi.validateListView=axe;Zi.isListItemView=lxe;Zi.validateListItemView=cxe;Zi.isStarterPackView=uxe;Zi.validateStarterPackView=dxe;Zi.isStarterPackViewBasic=pxe;Zi.validateStarterPackViewBasic=fxe;Zi.isListViewerState=hxe;Zi.validateListViewerState=mxe;Zi.isNotFoundActor=gxe;Zi.validateNotFoundActor=yxe;Zi.isRelationship=bxe;Zi.validateRelationship=_xe;var ixe=$(),rxe=z(),Yl=rxe.is$typed,Jl=ixe.validate,wr="app.bsky.graph.defs",UF="listViewBasic";function nxe(i){return Yl(i,wr,UF)}function oxe(i){return Jl(i,wr,UF)}var jF="listView";function sxe(i){return Yl(i,wr,jF)}function axe(i){return Jl(i,wr,jF)}var qF="listItemView";function lxe(i){return Yl(i,wr,qF)}function cxe(i){return Jl(i,wr,qF)}var $F="starterPackView";function uxe(i){return Yl(i,wr,$F)}function dxe(i){return Jl(i,wr,$F)}var zF="starterPackViewBasic";function pxe(i){return Yl(i,wr,zF)}function fxe(i){return Jl(i,wr,zF)}Zi.MODLIST=`${wr}#modlist`;Zi.CURATELIST=`${wr}#curatelist`;Zi.REFERENCELIST=`${wr}#referencelist`;var KF="listViewerState";function hxe(i){return Yl(i,wr,KF)}function mxe(i){return Jl(i,wr,KF)}var HF="notFoundActor";function gxe(i){return Yl(i,wr,HF)}function yxe(i){return Jl(i,wr,HF)}var GF="relationship";function bxe(i){return Yl(i,wr,GF)}function _xe(i){return Jl(i,wr,GF)}});var QF=k(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});o1.isRecord=Txe;o1.validateRecord=wxe;var vxe=$(),xxe=z(),Cxe=xxe.is$typed,Exe=vxe.validate,XF="app.bsky.graph.follow",ZF="main";function Txe(i){return Cxe(i,XF,ZF)}function wxe(i){return Exe(i,XF,ZF,!0)}});var YF=k(Nk=>{"use strict";Object.defineProperty(Nk,"__esModule",{value:!0});Nk.toKnownErr=Rxe;var Sxe=$(),Axe=z(),rnt=Axe.is$typed,nnt=Sxe.validate;function Rxe(i){return i}});var JF=k(Fk=>{"use strict";Object.defineProperty(Fk,"__esModule",{value:!0});Fk.toKnownErr=Ixe;var kxe=$(),Dxe=z(),snt=Dxe.is$typed,ant=kxe.validate;function Ixe(i){return i}});var e7=k(Uk=>{"use strict";Object.defineProperty(Uk,"__esModule",{value:!0});Uk.toKnownErr=Bxe;var Pxe=$(),Lxe=z(),cnt=Lxe.is$typed,unt=Pxe.validate;function Bxe(i){return i}});var t7=k(jk=>{"use strict";Object.defineProperty(jk,"__esModule",{value:!0});jk.toKnownErr=Vxe;var Oxe=$(),Mxe=z(),pnt=Mxe.is$typed,fnt=Oxe.validate;function Vxe(i){return i}});var i7=k(qk=>{"use strict";Object.defineProperty(qk,"__esModule",{value:!0});qk.toKnownErr=Uxe;var Nxe=$(),Fxe=z(),mnt=Fxe.is$typed,gnt=Nxe.validate;function Uxe(i){return i}});var r7=k($k=>{"use strict";Object.defineProperty($k,"__esModule",{value:!0});$k.toKnownErr=$xe;var jxe=$(),qxe=z(),bnt=qxe.is$typed,_nt=jxe.validate;function $xe(i){return i}});var n7=k(zk=>{"use strict";Object.defineProperty(zk,"__esModule",{value:!0});zk.toKnownErr=Hxe;var zxe=$(),Kxe=z(),xnt=Kxe.is$typed,Cnt=zxe.validate;function Hxe(i){return i}});var o7=k(Kk=>{"use strict";Object.defineProperty(Kk,"__esModule",{value:!0});Kk.toKnownErr=Xxe;var Gxe=$(),Wxe=z(),Tnt=Wxe.is$typed,wnt=Gxe.validate;function Xxe(i){return i}});var s7=k(Hk=>{"use strict";Object.defineProperty(Hk,"__esModule",{value:!0});Hk.toKnownErr=Yxe;var Zxe=$(),Qxe=z(),Ant=Qxe.is$typed,Rnt=Zxe.validate;function Yxe(i){return i}});var a7=k(Gk=>{"use strict";Object.defineProperty(Gk,"__esModule",{value:!0});Gk.toKnownErr=tCe;var Jxe=$(),eCe=z(),Dnt=eCe.is$typed,Int=Jxe.validate;function tCe(i){return i}});var l7=k(Wk=>{"use strict";Object.defineProperty(Wk,"__esModule",{value:!0});Wk.toKnownErr=nCe;var iCe=$(),rCe=z(),Lnt=rCe.is$typed,Bnt=iCe.validate;function nCe(i){return i}});var c7=k(Xk=>{"use strict";Object.defineProperty(Xk,"__esModule",{value:!0});Xk.toKnownErr=aCe;var oCe=$(),sCe=z(),Mnt=sCe.is$typed,Vnt=oCe.validate;function aCe(i){return i}});var u7=k(Zk=>{"use strict";Object.defineProperty(Zk,"__esModule",{value:!0});Zk.toKnownErr=uCe;var lCe=$(),cCe=z(),Fnt=cCe.is$typed,Unt=lCe.validate;function uCe(i){return i}});var f7=k(s1=>{"use strict";Object.defineProperty(s1,"__esModule",{value:!0});s1.isRecord=mCe;s1.validateRecord=gCe;var dCe=$(),pCe=z(),fCe=pCe.is$typed,hCe=dCe.validate,d7="app.bsky.graph.list",p7="main";function mCe(i){return fCe(i,d7,p7)}function gCe(i){return hCe(i,d7,p7,!0)}});var g7=k(a1=>{"use strict";Object.defineProperty(a1,"__esModule",{value:!0});a1.isRecord=xCe;a1.validateRecord=CCe;var yCe=$(),bCe=z(),_Ce=bCe.is$typed,vCe=yCe.validate,h7="app.bsky.graph.listblock",m7="main";function xCe(i){return _Ce(i,h7,m7)}function CCe(i){return vCe(i,h7,m7,!0)}});var _7=k(l1=>{"use strict";Object.defineProperty(l1,"__esModule",{value:!0});l1.isRecord=ACe;l1.validateRecord=RCe;var ECe=$(),TCe=z(),wCe=TCe.is$typed,SCe=ECe.validate,y7="app.bsky.graph.listitem",b7="main";function ACe(i){return wCe(i,y7,b7)}function RCe(i){return SCe(i,y7,b7,!0)}});var v7=k(Qk=>{"use strict";Object.defineProperty(Qk,"__esModule",{value:!0});Qk.toKnownErr=ICe;var kCe=$(),DCe=z(),Knt=DCe.is$typed,Hnt=kCe.validate;function ICe(i){return i}});var x7=k(Yk=>{"use strict";Object.defineProperty(Yk,"__esModule",{value:!0});Yk.toKnownErr=BCe;var PCe=$(),LCe=z(),Wnt=LCe.is$typed,Xnt=PCe.validate;function BCe(i){return i}});var C7=k(Jk=>{"use strict";Object.defineProperty(Jk,"__esModule",{value:!0});Jk.toKnownErr=VCe;var OCe=$(),MCe=z(),Qnt=MCe.is$typed,Ynt=OCe.validate;function VCe(i){return i}});var E7=k(eD=>{"use strict";Object.defineProperty(eD,"__esModule",{value:!0});eD.toKnownErr=UCe;var NCe=$(),FCe=z(),eot=FCe.is$typed,tot=NCe.validate;function UCe(i){return i}});var R7=k(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.isRecord=$Ce;gp.validateRecord=zCe;gp.isFeedItem=KCe;gp.validateFeedItem=HCe;var jCe=$(),qCe=z(),T7=qCe.is$typed,w7=jCe.validate,c1="app.bsky.graph.starterpack",S7="main";function $Ce(i){return T7(i,c1,S7)}function zCe(i){return w7(i,c1,S7,!0)}var A7="feedItem";function KCe(i){return T7(i,c1,A7)}function HCe(i){return w7(i,c1,A7)}});var k7=k(tD=>{"use strict";Object.defineProperty(tD,"__esModule",{value:!0});tD.toKnownErr=XCe;var GCe=$(),WCe=z(),not=WCe.is$typed,oot=GCe.validate;function XCe(i){return i}});var D7=k(iD=>{"use strict";Object.defineProperty(iD,"__esModule",{value:!0});iD.toKnownErr=YCe;var ZCe=$(),QCe=z(),aot=QCe.is$typed,lot=ZCe.validate;function YCe(i){return i}});var I7=k(rD=>{"use strict";Object.defineProperty(rD,"__esModule",{value:!0});rD.toKnownErr=tEe;var JCe=$(),eEe=z(),uot=eEe.is$typed,dot=JCe.validate;function tEe(i){return i}});var M7=k(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.isLabelerView=nEe;la.validateLabelerView=oEe;la.isLabelerViewDetailed=sEe;la.validateLabelerViewDetailed=aEe;la.isLabelerViewerState=lEe;la.validateLabelerViewerState=cEe;la.isLabelerPolicies=uEe;la.validateLabelerPolicies=dEe;var iEe=$(),rEe=z(),u1=rEe.is$typed,d1=iEe.validate,ec="app.bsky.labeler.defs",P7="labelerView";function nEe(i){return u1(i,ec,P7)}function oEe(i){return d1(i,ec,P7)}var L7="labelerViewDetailed";function sEe(i){return u1(i,ec,L7)}function aEe(i){return d1(i,ec,L7)}var B7="labelerViewerState";function lEe(i){return u1(i,ec,B7)}function cEe(i){return d1(i,ec,B7)}var O7="labelerPolicies";function uEe(i){return u1(i,ec,O7)}function dEe(i){return d1(i,ec,O7)}});var V7=k(nD=>{"use strict";Object.defineProperty(nD,"__esModule",{value:!0});nD.toKnownErr=hEe;var pEe=$(),fEe=z(),hot=fEe.is$typed,mot=pEe.validate;function hEe(i){return i}});var U7=k(p1=>{"use strict";Object.defineProperty(p1,"__esModule",{value:!0});p1.isRecord=_Ee;p1.validateRecord=vEe;var mEe=$(),gEe=z(),yEe=gEe.is$typed,bEe=mEe.validate,N7="app.bsky.labeler.service",F7="main";function _Ee(i){return yEe(i,N7,F7)}function vEe(i){return bEe(i,N7,F7,!0)}});var j7=k(oD=>{"use strict";Object.defineProperty(oD,"__esModule",{value:!0});oD.toKnownErr=EEe;var xEe=$(),CEe=z(),bot=CEe.is$typed,_ot=xEe.validate;function EEe(i){return i}});var z7=k(x0=>{"use strict";Object.defineProperty(x0,"__esModule",{value:!0});x0.toKnownErr=REe;x0.isNotification=kEe;x0.validateNotification=DEe;var TEe=$(),wEe=z(),SEe=wEe.is$typed,AEe=TEe.validate,q7="app.bsky.notification.listNotifications";function REe(i){return i}var $7="notification";function kEe(i){return SEe(i,q7,$7)}function DEe(i){return AEe(i,q7,$7)}});var K7=k(sD=>{"use strict";Object.defineProperty(sD,"__esModule",{value:!0});sD.toKnownErr=LEe;var IEe=$(),PEe=z(),Cot=PEe.is$typed,Eot=IEe.validate;function LEe(i){return i}});var H7=k(aD=>{"use strict";Object.defineProperty(aD,"__esModule",{value:!0});aD.toKnownErr=MEe;var BEe=$(),OEe=z(),wot=OEe.is$typed,Sot=BEe.validate;function MEe(i){return i}});var G7=k(lD=>{"use strict";Object.defineProperty(lD,"__esModule",{value:!0});lD.toKnownErr=FEe;var VEe=$(),NEe=z(),Rot=NEe.is$typed,kot=VEe.validate;function FEe(i){return i}});var J7=k(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.isMain=qEe;Go.validateMain=$Ee;Go.isMention=zEe;Go.validateMention=KEe;Go.isLink=HEe;Go.validateLink=GEe;Go.isTag=WEe;Go.validateTag=XEe;Go.isByteSlice=ZEe;Go.validateByteSlice=QEe;var UEe=$(),jEe=z(),C0=jEe.is$typed,E0=UEe.validate,ca="app.bsky.richtext.facet",W7="main";function qEe(i){return C0(i,ca,W7)}function $Ee(i){return E0(i,ca,W7)}var X7="mention";function zEe(i){return C0(i,ca,X7)}function KEe(i){return E0(i,ca,X7)}var Z7="link";function HEe(i){return C0(i,ca,Z7)}function GEe(i){return E0(i,ca,Z7)}var Q7="tag";function WEe(i){return C0(i,ca,Q7)}function XEe(i){return E0(i,ca,Q7)}var Y7="byteSlice";function ZEe(i){return C0(i,ca,Y7)}function QEe(i){return E0(i,ca,Y7)}});var nU=k(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.isSkeletonSearchPost=eTe;ua.validateSkeletonSearchPost=tTe;ua.isSkeletonSearchActor=iTe;ua.validateSkeletonSearchActor=rTe;ua.isSkeletonSearchStarterPack=nTe;ua.validateSkeletonSearchStarterPack=oTe;ua.isTrendingTopic=sTe;ua.validateTrendingTopic=aTe;var YEe=$(),JEe=z(),f1=JEe.is$typed,h1=YEe.validate,tc="app.bsky.unspecced.defs",eU="skeletonSearchPost";function eTe(i){return f1(i,tc,eU)}function tTe(i){return h1(i,tc,eU)}var tU="skeletonSearchActor";function iTe(i){return f1(i,tc,tU)}function rTe(i){return h1(i,tc,tU)}var iU="skeletonSearchStarterPack";function nTe(i){return f1(i,tc,iU)}function oTe(i){return h1(i,tc,iU)}var rU="trendingTopic";function sTe(i){return f1(i,tc,rU)}function aTe(i){return h1(i,tc,rU)}});var oU=k(cD=>{"use strict";Object.defineProperty(cD,"__esModule",{value:!0});cD.toKnownErr=uTe;var lTe=$(),cTe=z(),Lot=cTe.is$typed,Bot=lTe.validate;function uTe(i){return i}});var sU=k(uD=>{"use strict";Object.defineProperty(uD,"__esModule",{value:!0});uD.toKnownErr=fTe;var dTe=$(),pTe=z(),Mot=pTe.is$typed,Vot=dTe.validate;function fTe(i){return i}});var aU=k(dD=>{"use strict";Object.defineProperty(dD,"__esModule",{value:!0});dD.toKnownErr=gTe;var hTe=$(),mTe=z(),Fot=mTe.is$typed,Uot=hTe.validate;function gTe(i){return i}});var uU=k(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});T0.toKnownErr=xTe;T0.isSuggestion=CTe;T0.validateSuggestion=ETe;var yTe=$(),bTe=z(),_Te=bTe.is$typed,vTe=yTe.validate,lU="app.bsky.unspecced.getTaggedSuggestions";function xTe(i){return i}var cU="suggestion";function CTe(i){return _Te(i,lU,cU)}function ETe(i){return vTe(i,lU,cU)}});var dU=k(pD=>{"use strict";Object.defineProperty(pD,"__esModule",{value:!0});pD.toKnownErr=STe;var TTe=$(),wTe=z(),$ot=wTe.is$typed,zot=TTe.validate;function STe(i){return i}});var hU=k(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});m1.isJobStatus=ITe;m1.validateJobStatus=PTe;var ATe=$(),RTe=z(),kTe=RTe.is$typed,DTe=ATe.validate,pU="app.bsky.video.defs",fU="jobStatus";function ITe(i){return kTe(i,pU,fU)}function PTe(i){return DTe(i,pU,fU)}});var mU=k(fD=>{"use strict";Object.defineProperty(fD,"__esModule",{value:!0});fD.toKnownErr=OTe;var LTe=$(),BTe=z(),Got=BTe.is$typed,Wot=LTe.validate;function OTe(i){return i}});var gU=k(hD=>{"use strict";Object.defineProperty(hD,"__esModule",{value:!0});hD.toKnownErr=NTe;var MTe=$(),VTe=z(),Zot=VTe.is$typed,Qot=MTe.validate;function NTe(i){return i}});var yU=k(mD=>{"use strict";Object.defineProperty(mD,"__esModule",{value:!0});mD.toKnownErr=jTe;var FTe=$(),UTe=z(),Jot=UTe.is$typed,est=FTe.validate;function jTe(i){return i}});var vU=k(g1=>{"use strict";Object.defineProperty(g1,"__esModule",{value:!0});g1.isRecord=HTe;g1.validateRecord=GTe;var qTe=$(),$Te=z(),zTe=$Te.is$typed,KTe=qTe.validate,bU="chat.bsky.actor.declaration",_U="main";function HTe(i){return zTe(i,bU,_U)}function GTe(i){return KTe(i,bU,_U,!0)}});var EU=k(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});y1.isProfileViewBasic=YTe;y1.validateProfileViewBasic=JTe;var WTe=$(),XTe=z(),ZTe=XTe.is$typed,QTe=WTe.validate,xU="chat.bsky.actor.defs",CU="profileViewBasic";function YTe(i){return ZTe(i,xU,CU)}function JTe(i){return QTe(i,xU,CU)}});var TU=k(gD=>{"use strict";Object.defineProperty(gD,"__esModule",{value:!0});gD.toKnownErr=iwe;var ewe=$(),twe=z(),nst=twe.is$typed,ost=ewe.validate;function iwe(i){return i}});var wU=k(yD=>{"use strict";Object.defineProperty(yD,"__esModule",{value:!0});yD.toKnownErr=owe;var rwe=$(),nwe=z(),ast=nwe.is$typed,lst=rwe.validate;function owe(i){return i}});var SU=k(bD=>{"use strict";Object.defineProperty(bD,"__esModule",{value:!0});bD.toKnownErr=lwe;var swe=$(),awe=z(),ust=awe.is$typed,dst=swe.validate;function lwe(i){return i}});var jU=k(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.isMessageRef=dwe;hi.validateMessageRef=pwe;hi.isMessageInput=fwe;hi.validateMessageInput=hwe;hi.isMessageView=mwe;hi.validateMessageView=gwe;hi.isDeletedMessageView=ywe;hi.validateDeletedMessageView=bwe;hi.isMessageViewSender=_we;hi.validateMessageViewSender=vwe;hi.isConvoView=xwe;hi.validateConvoView=Cwe;hi.isLogBeginConvo=Ewe;hi.validateLogBeginConvo=Twe;hi.isLogAcceptConvo=wwe;hi.validateLogAcceptConvo=Swe;hi.isLogLeaveConvo=Awe;hi.validateLogLeaveConvo=Rwe;hi.isLogMuteConvo=kwe;hi.validateLogMuteConvo=Dwe;hi.isLogUnmuteConvo=Iwe;hi.validateLogUnmuteConvo=Pwe;hi.isLogCreateMessage=Lwe;hi.validateLogCreateMessage=Bwe;hi.isLogDeleteMessage=Owe;hi.validateLogDeleteMessage=Mwe;hi.isLogReadMessage=Vwe;hi.validateLogReadMessage=Nwe;var cwe=$(),uwe=z(),On=uwe.is$typed,Mn=cwe.validate,Ai="chat.bsky.convo.defs",AU="messageRef";function dwe(i){return On(i,Ai,AU)}function pwe(i){return Mn(i,Ai,AU)}var RU="messageInput";function fwe(i){return On(i,Ai,RU)}function hwe(i){return Mn(i,Ai,RU)}var kU="messageView";function mwe(i){return On(i,Ai,kU)}function gwe(i){return Mn(i,Ai,kU)}var DU="deletedMessageView";function ywe(i){return On(i,Ai,DU)}function bwe(i){return Mn(i,Ai,DU)}var IU="messageViewSender";function _we(i){return On(i,Ai,IU)}function vwe(i){return Mn(i,Ai,IU)}var PU="convoView";function xwe(i){return On(i,Ai,PU)}function Cwe(i){return Mn(i,Ai,PU)}var LU="logBeginConvo";function Ewe(i){return On(i,Ai,LU)}function Twe(i){return Mn(i,Ai,LU)}var BU="logAcceptConvo";function wwe(i){return On(i,Ai,BU)}function Swe(i){return Mn(i,Ai,BU)}var OU="logLeaveConvo";function Awe(i){return On(i,Ai,OU)}function Rwe(i){return Mn(i,Ai,OU)}var MU="logMuteConvo";function kwe(i){return On(i,Ai,MU)}function Dwe(i){return Mn(i,Ai,MU)}var VU="logUnmuteConvo";function Iwe(i){return On(i,Ai,VU)}function Pwe(i){return Mn(i,Ai,VU)}var NU="logCreateMessage";function Lwe(i){return On(i,Ai,NU)}function Bwe(i){return Mn(i,Ai,NU)}var FU="logDeleteMessage";function Owe(i){return On(i,Ai,FU)}function Mwe(i){return Mn(i,Ai,FU)}var UU="logReadMessage";function Vwe(i){return On(i,Ai,UU)}function Nwe(i){return Mn(i,Ai,UU)}});var qU=k(_D=>{"use strict";Object.defineProperty(_D,"__esModule",{value:!0});_D.toKnownErr=jwe;var Fwe=$(),Uwe=z(),hst=Uwe.is$typed,mst=Fwe.validate;function jwe(i){return i}});var $U=k(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0});vD.toKnownErr=zwe;var qwe=$(),$we=z(),yst=$we.is$typed,bst=qwe.validate;function zwe(i){return i}});var zU=k(xD=>{"use strict";Object.defineProperty(xD,"__esModule",{value:!0});xD.toKnownErr=Gwe;var Kwe=$(),Hwe=z(),vst=Hwe.is$typed,xst=Kwe.validate;function Gwe(i){return i}});var KU=k(CD=>{"use strict";Object.defineProperty(CD,"__esModule",{value:!0});CD.toKnownErr=Zwe;var Wwe=$(),Xwe=z(),Est=Xwe.is$typed,Tst=Wwe.validate;function Zwe(i){return i}});var HU=k(ED=>{"use strict";Object.defineProperty(ED,"__esModule",{value:!0});ED.toKnownErr=Jwe;var Qwe=$(),Ywe=z(),Sst=Ywe.is$typed,Ast=Qwe.validate;function Jwe(i){return i}});var GU=k(TD=>{"use strict";Object.defineProperty(TD,"__esModule",{value:!0});TD.toKnownErr=iSe;var eSe=$(),tSe=z(),kst=tSe.is$typed,Dst=eSe.validate;function iSe(i){return i}});var WU=k(wD=>{"use strict";Object.defineProperty(wD,"__esModule",{value:!0});wD.toKnownErr=oSe;var rSe=$(),nSe=z(),Pst=nSe.is$typed,Lst=rSe.validate;function oSe(i){return i}});var XU=k(SD=>{"use strict";Object.defineProperty(SD,"__esModule",{value:!0});SD.toKnownErr=lSe;var sSe=$(),aSe=z(),Ost=aSe.is$typed,Mst=sSe.validate;function lSe(i){return i}});var ZU=k(AD=>{"use strict";Object.defineProperty(AD,"__esModule",{value:!0});AD.toKnownErr=dSe;var cSe=$(),uSe=z(),Nst=uSe.is$typed,Fst=cSe.validate;function dSe(i){return i}});var QU=k(RD=>{"use strict";Object.defineProperty(RD,"__esModule",{value:!0});RD.toKnownErr=hSe;var pSe=$(),fSe=z(),jst=fSe.is$typed,qst=pSe.validate;function hSe(i){return i}});var ej=k(w0=>{"use strict";Object.defineProperty(w0,"__esModule",{value:!0});w0.toKnownErr=_Se;w0.isBatchItem=vSe;w0.validateBatchItem=xSe;var mSe=$(),gSe=z(),ySe=gSe.is$typed,bSe=mSe.validate,YU="chat.bsky.convo.sendMessageBatch";function _Se(i){return i}var JU="batchItem";function vSe(i){return ySe(i,YU,JU)}function xSe(i){return bSe(i,YU,JU)}});var tj=k(kD=>{"use strict";Object.defineProperty(kD,"__esModule",{value:!0});kD.toKnownErr=TSe;var CSe=$(),ESe=z(),Kst=ESe.is$typed,Hst=CSe.validate;function TSe(i){return i}});var ij=k(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});DD.toKnownErr=ASe;var wSe=$(),SSe=z(),Wst=SSe.is$typed,Xst=wSe.validate;function ASe(i){return i}});var rj=k(ID=>{"use strict";Object.defineProperty(ID,"__esModule",{value:!0});ID.toKnownErr=DSe;var RSe=$(),kSe=z(),Qst=kSe.is$typed,Yst=RSe.validate;function DSe(i){return i}});var sj=k(S0=>{"use strict";Object.defineProperty(S0,"__esModule",{value:!0});S0.toKnownErr=OSe;S0.isMetadata=MSe;S0.validateMetadata=VSe;var ISe=$(),PSe=z(),LSe=PSe.is$typed,BSe=ISe.validate,nj="chat.bsky.moderation.getActorMetadata";function OSe(i){return i}var oj="metadata";function MSe(i){return LSe(i,nj,oj)}function VSe(i){return BSe(i,nj,oj)}});var aj=k(PD=>{"use strict";Object.defineProperty(PD,"__esModule",{value:!0});PD.toKnownErr=USe;var NSe=$(),FSe=z(),tat=FSe.is$typed,iat=NSe.validate;function USe(i){return i}});var lj=k(LD=>{"use strict";Object.defineProperty(LD,"__esModule",{value:!0});LD.toKnownErr=$Se;var jSe=$(),qSe=z(),nat=qSe.is$typed,oat=jSe.validate;function $Se(i){return i}});var dj=k(b1=>{"use strict";Object.defineProperty(b1,"__esModule",{value:!0});b1.isTemplateView=WSe;b1.validateTemplateView=XSe;var zSe=$(),KSe=z(),HSe=KSe.is$typed,GSe=zSe.validate,cj="tools.ozone.communication.defs",uj="templateView";function WSe(i){return HSe(i,cj,uj)}function XSe(i){return GSe(i,cj,uj)}});var pj=k(BD=>{"use strict";Object.defineProperty(BD,"__esModule",{value:!0});BD.toKnownErr=YSe;var ZSe=$(),QSe=z(),lat=QSe.is$typed,cat=ZSe.validate;function YSe(i){return i}});var fj=k(OD=>{"use strict";Object.defineProperty(OD,"__esModule",{value:!0});OD.toKnownErr=t2e;var JSe=$(),e2e=z(),dat=e2e.is$typed,pat=JSe.validate;function t2e(i){return i}});var Yj=k(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.REVIEWNONE=Ie.REVIEWCLOSED=Ie.REVIEWESCALATED=Ie.REVIEWOPEN=void 0;Ie.isModEventView=n2e;Ie.validateModEventView=o2e;Ie.isModEventViewDetail=s2e;Ie.validateModEventViewDetail=a2e;Ie.isSubjectStatusView=l2e;Ie.validateSubjectStatusView=c2e;Ie.isAccountStats=u2e;Ie.validateAccountStats=d2e;Ie.isRecordsStats=p2e;Ie.validateRecordsStats=f2e;Ie.isModEventTakedown=h2e;Ie.validateModEventTakedown=m2e;Ie.isModEventReverseTakedown=g2e;Ie.validateModEventReverseTakedown=y2e;Ie.isModEventResolveAppeal=b2e;Ie.validateModEventResolveAppeal=_2e;Ie.isModEventComment=v2e;Ie.validateModEventComment=x2e;Ie.isModEventReport=C2e;Ie.validateModEventReport=E2e;Ie.isModEventLabel=T2e;Ie.validateModEventLabel=w2e;Ie.isModEventPriorityScore=S2e;Ie.validateModEventPriorityScore=A2e;Ie.isModEventAcknowledge=R2e;Ie.validateModEventAcknowledge=k2e;Ie.isModEventEscalate=D2e;Ie.validateModEventEscalate=I2e;Ie.isModEventMute=P2e;Ie.validateModEventMute=L2e;Ie.isModEventUnmute=B2e;Ie.validateModEventUnmute=O2e;Ie.isModEventMuteReporter=M2e;Ie.validateModEventMuteReporter=V2e;Ie.isModEventUnmuteReporter=N2e;Ie.validateModEventUnmuteReporter=F2e;Ie.isModEventEmail=U2e;Ie.validateModEventEmail=j2e;Ie.isModEventDivert=q2e;Ie.validateModEventDivert=$2e;Ie.isModEventTag=z2e;Ie.validateModEventTag=K2e;Ie.isAccountEvent=H2e;Ie.validateAccountEvent=G2e;Ie.isIdentityEvent=W2e;Ie.validateIdentityEvent=X2e;Ie.isRecordEvent=Z2e;Ie.validateRecordEvent=Q2e;Ie.isRepoView=Y2e;Ie.validateRepoView=J2e;Ie.isRepoViewDetail=eAe;Ie.validateRepoViewDetail=tAe;Ie.isRepoViewNotFound=iAe;Ie.validateRepoViewNotFound=rAe;Ie.isRecordView=nAe;Ie.validateRecordView=oAe;Ie.isRecordViewDetail=sAe;Ie.validateRecordViewDetail=aAe;Ie.isRecordViewNotFound=lAe;Ie.validateRecordViewNotFound=cAe;Ie.isModeration=uAe;Ie.validateModeration=dAe;Ie.isModerationDetail=pAe;Ie.validateModerationDetail=fAe;Ie.isBlobView=hAe;Ie.validateBlobView=mAe;Ie.isImageDetails=gAe;Ie.validateImageDetails=yAe;Ie.isVideoDetails=bAe;Ie.validateVideoDetails=_Ae;Ie.isAccountHosting=vAe;Ie.validateAccountHosting=xAe;Ie.isRecordHosting=CAe;Ie.validateRecordHosting=EAe;Ie.isReporterStats=TAe;Ie.validateReporterStats=wAe;var i2e=$(),r2e=z(),Bt=r2e.is$typed,Ot=i2e.validate,Ve="tools.ozone.moderation.defs",hj="modEventView";function n2e(i){return Bt(i,Ve,hj)}function o2e(i){return Ot(i,Ve,hj)}var mj="modEventViewDetail";function s2e(i){return Bt(i,Ve,mj)}function a2e(i){return Ot(i,Ve,mj)}var gj="subjectStatusView";function l2e(i){return Bt(i,Ve,gj)}function c2e(i){return Ot(i,Ve,gj)}var yj="accountStats";function u2e(i){return Bt(i,Ve,yj)}function d2e(i){return Ot(i,Ve,yj)}var bj="recordsStats";function p2e(i){return Bt(i,Ve,bj)}function f2e(i){return Ot(i,Ve,bj)}Ie.REVIEWOPEN=`${Ve}#reviewOpen`;Ie.REVIEWESCALATED=`${Ve}#reviewEscalated`;Ie.REVIEWCLOSED=`${Ve}#reviewClosed`;Ie.REVIEWNONE=`${Ve}#reviewNone`;var _j="modEventTakedown";function h2e(i){return Bt(i,Ve,_j)}function m2e(i){return Ot(i,Ve,_j)}var vj="modEventReverseTakedown";function g2e(i){return Bt(i,Ve,vj)}function y2e(i){return Ot(i,Ve,vj)}var xj="modEventResolveAppeal";function b2e(i){return Bt(i,Ve,xj)}function _2e(i){return Ot(i,Ve,xj)}var Cj="modEventComment";function v2e(i){return Bt(i,Ve,Cj)}function x2e(i){return Ot(i,Ve,Cj)}var Ej="modEventReport";function C2e(i){return Bt(i,Ve,Ej)}function E2e(i){return Ot(i,Ve,Ej)}var Tj="modEventLabel";function T2e(i){return Bt(i,Ve,Tj)}function w2e(i){return Ot(i,Ve,Tj)}var wj="modEventPriorityScore";function S2e(i){return Bt(i,Ve,wj)}function A2e(i){return Ot(i,Ve,wj)}var Sj="modEventAcknowledge";function R2e(i){return Bt(i,Ve,Sj)}function k2e(i){return Ot(i,Ve,Sj)}var Aj="modEventEscalate";function D2e(i){return Bt(i,Ve,Aj)}function I2e(i){return Ot(i,Ve,Aj)}var Rj="modEventMute";function P2e(i){return Bt(i,Ve,Rj)}function L2e(i){return Ot(i,Ve,Rj)}var kj="modEventUnmute";function B2e(i){return Bt(i,Ve,kj)}function O2e(i){return Ot(i,Ve,kj)}var Dj="modEventMuteReporter";function M2e(i){return Bt(i,Ve,Dj)}function V2e(i){return Ot(i,Ve,Dj)}var Ij="modEventUnmuteReporter";function N2e(i){return Bt(i,Ve,Ij)}function F2e(i){return Ot(i,Ve,Ij)}var Pj="modEventEmail";function U2e(i){return Bt(i,Ve,Pj)}function j2e(i){return Ot(i,Ve,Pj)}var Lj="modEventDivert";function q2e(i){return Bt(i,Ve,Lj)}function $2e(i){return Ot(i,Ve,Lj)}var Bj="modEventTag";function z2e(i){return Bt(i,Ve,Bj)}function K2e(i){return Ot(i,Ve,Bj)}var Oj="accountEvent";function H2e(i){return Bt(i,Ve,Oj)}function G2e(i){return Ot(i,Ve,Oj)}var Mj="identityEvent";function W2e(i){return Bt(i,Ve,Mj)}function X2e(i){return Ot(i,Ve,Mj)}var Vj="recordEvent";function Z2e(i){return Bt(i,Ve,Vj)}function Q2e(i){return Ot(i,Ve,Vj)}var Nj="repoView";function Y2e(i){return Bt(i,Ve,Nj)}function J2e(i){return Ot(i,Ve,Nj)}var Fj="repoViewDetail";function eAe(i){return Bt(i,Ve,Fj)}function tAe(i){return Ot(i,Ve,Fj)}var Uj="repoViewNotFound";function iAe(i){return Bt(i,Ve,Uj)}function rAe(i){return Ot(i,Ve,Uj)}var jj="recordView";function nAe(i){return Bt(i,Ve,jj)}function oAe(i){return Ot(i,Ve,jj)}var qj="recordViewDetail";function sAe(i){return Bt(i,Ve,qj)}function aAe(i){return Ot(i,Ve,qj)}var $j="recordViewNotFound";function lAe(i){return Bt(i,Ve,$j)}function cAe(i){return Ot(i,Ve,$j)}var zj="moderation";function uAe(i){return Bt(i,Ve,zj)}function dAe(i){return Ot(i,Ve,zj)}var Kj="moderationDetail";function pAe(i){return Bt(i,Ve,Kj)}function fAe(i){return Ot(i,Ve,Kj)}var Hj="blobView";function hAe(i){return Bt(i,Ve,Hj)}function mAe(i){return Ot(i,Ve,Hj)}var Gj="imageDetails";function gAe(i){return Bt(i,Ve,Gj)}function yAe(i){return Ot(i,Ve,Gj)}var Wj="videoDetails";function bAe(i){return Bt(i,Ve,Wj)}function _Ae(i){return Ot(i,Ve,Wj)}var Xj="accountHosting";function vAe(i){return Bt(i,Ve,Xj)}function xAe(i){return Ot(i,Ve,Xj)}var Zj="recordHosting";function CAe(i){return Bt(i,Ve,Zj)}function EAe(i){return Ot(i,Ve,Zj)}var Qj="reporterStats";function TAe(i){return Bt(i,Ve,Qj)}function wAe(i){return Ot(i,Ve,Qj)}});var Jj=k(MD=>{"use strict";Object.defineProperty(MD,"__esModule",{value:!0});MD.toKnownErr=RAe;var SAe=$(),AAe=z(),mat=AAe.is$typed,gat=SAe.validate;function RAe(i){return i}});var eq=k(VD=>{"use strict";Object.defineProperty(VD,"__esModule",{value:!0});VD.toKnownErr=IAe;var kAe=$(),DAe=z(),bat=DAe.is$typed,_at=kAe.validate;function IAe(i){return i}});var tq=k(ND=>{"use strict";Object.defineProperty(ND,"__esModule",{value:!0});ND.toKnownErr=BAe;var PAe=$(),LAe=z(),xat=LAe.is$typed,Cat=PAe.validate;function BAe(i){return i}});var iq=k(FD=>{"use strict";Object.defineProperty(FD,"__esModule",{value:!0});FD.toKnownErr=VAe;var OAe=$(),MAe=z(),Tat=MAe.is$typed,wat=OAe.validate;function VAe(i){return i}});var rq=k(UD=>{"use strict";Object.defineProperty(UD,"__esModule",{value:!0});UD.toKnownErr=UAe;var NAe=$(),FAe=z(),Aat=FAe.is$typed,Rat=NAe.validate;function UAe(i){return i}});var nq=k(jD=>{"use strict";Object.defineProperty(jD,"__esModule",{value:!0});jD.toKnownErr=$Ae;var jAe=$(),qAe=z(),Dat=qAe.is$typed,Iat=jAe.validate;function $Ae(i){return i}});var oq=k(qD=>{"use strict";Object.defineProperty(qD,"__esModule",{value:!0});qD.toKnownErr=HAe;var zAe=$(),KAe=z(),Lat=KAe.is$typed,Bat=zAe.validate;function HAe(i){return i}});var uq=k(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.toKnownErr=XAe;Mu.isServiceConfig=ZAe;Mu.validateServiceConfig=QAe;Mu.isViewerConfig=YAe;Mu.validateViewerConfig=JAe;var GAe=$(),WAe=z(),sq=WAe.is$typed,aq=GAe.validate,_1="tools.ozone.server.getConfig";function XAe(i){return i}var lq="serviceConfig";function ZAe(i){return sq(i,_1,lq)}function QAe(i){return aq(i,_1,lq)}var cq="viewerConfig";function YAe(i){return sq(i,_1,cq)}function JAe(i){return aq(i,_1,cq)}});var dq=k($D=>{"use strict";Object.defineProperty($D,"__esModule",{value:!0});$D.toKnownErr=iRe;var eRe=$(),tRe=z(),Vat=tRe.is$typed,Nat=eRe.validate;function iRe(i){return i}});var gq=k(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.isSet=oRe;yp.validateSet=sRe;yp.isSetView=aRe;yp.validateSetView=lRe;var rRe=$(),nRe=z(),pq=nRe.is$typed,fq=rRe.validate,v1="tools.ozone.set.defs",hq="set";function oRe(i){return pq(i,v1,hq)}function sRe(i){return fq(i,v1,hq)}var mq="setView";function aRe(i){return pq(i,v1,mq)}function lRe(i){return fq(i,v1,mq)}});var yq=k(zD=>{"use strict";Object.defineProperty(zD,"__esModule",{value:!0});zD.toKnownErr=dRe;var cRe=$(),uRe=z(),jat=uRe.is$typed,qat=cRe.validate;function dRe(i){return i}});var bq=k(KD=>{"use strict";Object.defineProperty(KD,"__esModule",{value:!0});KD.toKnownErr=hRe;var pRe=$(),fRe=z(),zat=fRe.is$typed,Kat=pRe.validate;function hRe(i){return i}});var xq=k(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.isOption=_Re;x1.validateOption=vRe;var mRe=$(),gRe=z(),yRe=gRe.is$typed,bRe=mRe.validate,_q="tools.ozone.setting.defs",vq="option";function _Re(i){return yRe(i,_q,vq)}function vRe(i){return bRe(i,_q,vq)}});var Cq=k(HD=>{"use strict";Object.defineProperty(HD,"__esModule",{value:!0});HD.toKnownErr=ERe;var xRe=$(),CRe=z(),Wat=CRe.is$typed,Xat=xRe.validate;function ERe(i){return i}});var Eq=k(GD=>{"use strict";Object.defineProperty(GD,"__esModule",{value:!0});GD.toKnownErr=SRe;var TRe=$(),wRe=z(),Qat=wRe.is$typed,Yat=TRe.validate;function SRe(i){return i}});var Tq=k(WD=>{"use strict";Object.defineProperty(WD,"__esModule",{value:!0});WD.toKnownErr=kRe;var ARe=$(),RRe=z(),elt=RRe.is$typed,tlt=ARe.validate;function kRe(i){return i}});var Aq=k(C1=>{"use strict";Object.defineProperty(C1,"__esModule",{value:!0});C1.isSigDetail=BRe;C1.validateSigDetail=ORe;var DRe=$(),IRe=z(),PRe=IRe.is$typed,LRe=DRe.validate,wq="tools.ozone.signature.defs",Sq="sigDetail";function BRe(i){return PRe(i,wq,Sq)}function ORe(i){return LRe(i,wq,Sq)}});var Rq=k(XD=>{"use strict";Object.defineProperty(XD,"__esModule",{value:!0});XD.toKnownErr=NRe;var MRe=$(),VRe=z(),nlt=VRe.is$typed,olt=MRe.validate;function NRe(i){return i}});var Iq=k(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});A0.toKnownErr=$Re;A0.isRelatedAccount=zRe;A0.validateRelatedAccount=KRe;var FRe=$(),URe=z(),jRe=URe.is$typed,qRe=FRe.validate,kq="tools.ozone.signature.findRelatedAccounts";function $Re(i){return i}var Dq="relatedAccount";function zRe(i){return jRe(i,kq,Dq)}function KRe(i){return qRe(i,kq,Dq)}});var Pq=k(ZD=>{"use strict";Object.defineProperty(ZD,"__esModule",{value:!0});ZD.toKnownErr=WRe;var HRe=$(),GRe=z(),llt=GRe.is$typed,clt=HRe.validate;function WRe(i){return i}});var Bq=k(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.ROLETRIAGE=da.ROLEMODERATOR=da.ROLEADMIN=void 0;da.isMember=JRe;da.validateMember=eke;var XRe=$(),ZRe=z(),QRe=ZRe.is$typed,YRe=XRe.validate,R0="tools.ozone.team.defs",Lq="member";function JRe(i){return QRe(i,R0,Lq)}function eke(i){return YRe(i,R0,Lq)}da.ROLEADMIN=`${R0}#roleAdmin`;da.ROLEMODERATOR=`${R0}#roleModerator`;da.ROLETRIAGE=`${R0}#roleTriage`});var Oq=k(QD=>{"use strict";Object.defineProperty(QD,"__esModule",{value:!0});QD.toKnownErr=rke;var tke=$(),ike=z(),plt=ike.is$typed,flt=tke.validate;function rke(i){return i}});var al=k(b=>{"use strict";var nke=b&&b.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),oke=b&&b.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),M=b&&b.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&nke(e,i,t);return oke(e,i),e};Object.defineProperty(b,"__esModule",{value:!0});b.ComAtprotoServerCreateInviteCodes=b.ComAtprotoServerCreateInviteCode=b.ComAtprotoServerCreateAppPassword=b.ComAtprotoServerCreateAccount=b.ComAtprotoServerConfirmEmail=b.ComAtprotoServerCheckAccountStatus=b.ComAtprotoServerActivateAccount=b.ComAtprotoRepoUploadBlob=b.ComAtprotoRepoStrongRef=b.ComAtprotoRepoPutRecord=b.ComAtprotoRepoListRecords=b.ComAtprotoRepoListMissingBlobs=b.ComAtprotoRepoImportRepo=b.ComAtprotoRepoGetRecord=b.ComAtprotoRepoDescribeRepo=b.ComAtprotoRepoDeleteRecord=b.ComAtprotoRepoDefs=b.ComAtprotoRepoCreateRecord=b.ComAtprotoRepoApplyWrites=b.ComAtprotoModerationDefs=b.ComAtprotoModerationCreateReport=b.ComAtprotoLexiconSchema=b.ComAtprotoLabelSubscribeLabels=b.ComAtprotoLabelQueryLabels=b.ComAtprotoLabelDefs=b.ComAtprotoIdentityUpdateHandle=b.ComAtprotoIdentitySubmitPlcOperation=b.ComAtprotoIdentitySignPlcOperation=b.ComAtprotoIdentityResolveIdentity=b.ComAtprotoIdentityResolveHandle=b.ComAtprotoIdentityResolveDid=b.ComAtprotoIdentityRequestPlcOperationSignature=b.ComAtprotoIdentityRefreshIdentity=b.ComAtprotoIdentityGetRecommendedDidCredentials=b.ComAtprotoIdentityDefs=b.ComAtprotoAdminUpdateSubjectStatus=b.ComAtprotoAdminUpdateAccountPassword=b.ComAtprotoAdminUpdateAccountHandle=b.ComAtprotoAdminUpdateAccountEmail=b.ComAtprotoAdminSendEmail=b.ComAtprotoAdminSearchAccounts=b.ComAtprotoAdminGetSubjectStatus=b.ComAtprotoAdminGetInviteCodes=b.ComAtprotoAdminGetAccountInfos=b.ComAtprotoAdminGetAccountInfo=b.ComAtprotoAdminEnableAccountInvites=b.ComAtprotoAdminDisableInviteCodes=b.ComAtprotoAdminDisableAccountInvites=b.ComAtprotoAdminDeleteAccount=b.ComAtprotoAdminDefs=void 0;b.AppBskyEmbedRecord=b.AppBskyEmbedImages=b.AppBskyEmbedExternal=b.AppBskyEmbedDefs=b.AppBskyActorSearchActorsTypeahead=b.AppBskyActorSearchActors=b.AppBskyActorPutPreferences=b.AppBskyActorProfile=b.AppBskyActorGetSuggestions=b.AppBskyActorGetProfiles=b.AppBskyActorGetProfile=b.AppBskyActorGetPreferences=b.AppBskyActorDefs=b.ComAtprotoTempRequestPhoneVerification=b.ComAtprotoTempFetchLabels=b.ComAtprotoTempCheckSignupQueue=b.ComAtprotoTempAddReservedHandle=b.ComAtprotoSyncSubscribeRepos=b.ComAtprotoSyncRequestCrawl=b.ComAtprotoSyncNotifyOfUpdate=b.ComAtprotoSyncListReposByCollection=b.ComAtprotoSyncListRepos=b.ComAtprotoSyncListBlobs=b.ComAtprotoSyncGetRepoStatus=b.ComAtprotoSyncGetRepo=b.ComAtprotoSyncGetRecord=b.ComAtprotoSyncGetLatestCommit=b.ComAtprotoSyncGetHead=b.ComAtprotoSyncGetCheckout=b.ComAtprotoSyncGetBlocks=b.ComAtprotoSyncGetBlob=b.ComAtprotoServerUpdateEmail=b.ComAtprotoServerRevokeAppPassword=b.ComAtprotoServerResetPassword=b.ComAtprotoServerReserveSigningKey=b.ComAtprotoServerRequestPasswordReset=b.ComAtprotoServerRequestEmailUpdate=b.ComAtprotoServerRequestEmailConfirmation=b.ComAtprotoServerRequestAccountDelete=b.ComAtprotoServerRefreshSession=b.ComAtprotoServerListAppPasswords=b.ComAtprotoServerGetSession=b.ComAtprotoServerGetServiceAuth=b.ComAtprotoServerGetAccountInviteCodes=b.ComAtprotoServerDescribeServer=b.ComAtprotoServerDeleteSession=b.ComAtprotoServerDeleteAccount=b.ComAtprotoServerDefs=b.ComAtprotoServerDeactivateAccount=b.ComAtprotoServerCreateSession=void 0;b.AppBskyGraphMuteThread=b.AppBskyGraphMuteActorList=b.AppBskyGraphMuteActor=b.AppBskyGraphListitem=b.AppBskyGraphListblock=b.AppBskyGraphList=b.AppBskyGraphGetSuggestedFollowsByActor=b.AppBskyGraphGetStarterPacks=b.AppBskyGraphGetStarterPack=b.AppBskyGraphGetRelationships=b.AppBskyGraphGetMutes=b.AppBskyGraphGetLists=b.AppBskyGraphGetListMutes=b.AppBskyGraphGetListBlocks=b.AppBskyGraphGetList=b.AppBskyGraphGetKnownFollowers=b.AppBskyGraphGetFollows=b.AppBskyGraphGetFollowers=b.AppBskyGraphGetBlocks=b.AppBskyGraphGetActorStarterPacks=b.AppBskyGraphFollow=b.AppBskyGraphDefs=b.AppBskyGraphBlock=b.AppBskyFeedThreadgate=b.AppBskyFeedSendInteractions=b.AppBskyFeedSearchPosts=b.AppBskyFeedRepost=b.AppBskyFeedPostgate=b.AppBskyFeedPost=b.AppBskyFeedLike=b.AppBskyFeedGetTimeline=b.AppBskyFeedGetSuggestedFeeds=b.AppBskyFeedGetRepostedBy=b.AppBskyFeedGetQuotes=b.AppBskyFeedGetPosts=b.AppBskyFeedGetPostThread=b.AppBskyFeedGetListFeed=b.AppBskyFeedGetLikes=b.AppBskyFeedGetFeedSkeleton=b.AppBskyFeedGetFeedGenerators=b.AppBskyFeedGetFeedGenerator=b.AppBskyFeedGetFeed=b.AppBskyFeedGetAuthorFeed=b.AppBskyFeedGetActorLikes=b.AppBskyFeedGetActorFeeds=b.AppBskyFeedGenerator=b.AppBskyFeedDescribeFeedGenerator=b.AppBskyFeedDefs=b.AppBskyEmbedVideo=b.AppBskyEmbedRecordWithMedia=void 0;b.ChatBskyModerationUpdateActorAccess=b.ChatBskyModerationGetMessageContext=b.ChatBskyModerationGetActorMetadata=b.ChatBskyConvoUpdateRead=b.ChatBskyConvoUpdateAllRead=b.ChatBskyConvoUnmuteConvo=b.ChatBskyConvoSendMessageBatch=b.ChatBskyConvoSendMessage=b.ChatBskyConvoMuteConvo=b.ChatBskyConvoListConvos=b.ChatBskyConvoLeaveConvo=b.ChatBskyConvoGetMessages=b.ChatBskyConvoGetLog=b.ChatBskyConvoGetConvoForMembers=b.ChatBskyConvoGetConvoAvailability=b.ChatBskyConvoGetConvo=b.ChatBskyConvoDeleteMessageForSelf=b.ChatBskyConvoDefs=b.ChatBskyConvoAcceptConvo=b.ChatBskyActorExportAccountData=b.ChatBskyActorDeleteAccount=b.ChatBskyActorDefs=b.ChatBskyActorDeclaration=b.AppBskyVideoUploadVideo=b.AppBskyVideoGetUploadLimits=b.AppBskyVideoGetJobStatus=b.AppBskyVideoDefs=b.AppBskyUnspeccedSearchStarterPacksSkeleton=b.AppBskyUnspeccedSearchPostsSkeleton=b.AppBskyUnspeccedSearchActorsSkeleton=b.AppBskyUnspeccedGetTrendingTopics=b.AppBskyUnspeccedGetTaggedSuggestions=b.AppBskyUnspeccedGetSuggestionsSkeleton=b.AppBskyUnspeccedGetPopularFeedGenerators=b.AppBskyUnspeccedGetConfig=b.AppBskyUnspeccedDefs=b.AppBskyRichtextFacet=b.AppBskyNotificationUpdateSeen=b.AppBskyNotificationRegisterPush=b.AppBskyNotificationPutPreferences=b.AppBskyNotificationListNotifications=b.AppBskyNotificationGetUnreadCount=b.AppBskyLabelerService=b.AppBskyLabelerGetServices=b.AppBskyLabelerDefs=b.AppBskyGraphUnmuteThread=b.AppBskyGraphUnmuteActorList=b.AppBskyGraphUnmuteActor=b.AppBskyGraphStarterpack=b.AppBskyGraphSearchStarterPacks=void 0;b.SchemaRecord=b.ComAtprotoLexiconNS=b.ComAtprotoLabelNS=b.ComAtprotoIdentityNS=b.ComAtprotoAdminNS=b.ComAtprotoNS=b.ComNS=b.AtpBaseClient=b.TOOLS_OZONE_TEAM=b.TOOLS_OZONE_MODERATION=b.APP_BSKY_GRAPH=b.APP_BSKY_FEED=b.COM_ATPROTO_MODERATION=b.ToolsOzoneTeamUpdateMember=b.ToolsOzoneTeamListMembers=b.ToolsOzoneTeamDeleteMember=b.ToolsOzoneTeamDefs=b.ToolsOzoneTeamAddMember=b.ToolsOzoneSignatureSearchAccounts=b.ToolsOzoneSignatureFindRelatedAccounts=b.ToolsOzoneSignatureFindCorrelation=b.ToolsOzoneSignatureDefs=b.ToolsOzoneSettingUpsertOption=b.ToolsOzoneSettingRemoveOptions=b.ToolsOzoneSettingListOptions=b.ToolsOzoneSettingDefs=b.ToolsOzoneSetUpsertSet=b.ToolsOzoneSetQuerySets=b.ToolsOzoneSetGetValues=b.ToolsOzoneSetDeleteValues=b.ToolsOzoneSetDeleteSet=b.ToolsOzoneSetDefs=b.ToolsOzoneSetAddValues=b.ToolsOzoneServerGetConfig=b.ToolsOzoneModerationSearchRepos=b.ToolsOzoneModerationQueryStatuses=b.ToolsOzoneModerationQueryEvents=b.ToolsOzoneModerationGetRepos=b.ToolsOzoneModerationGetReporterStats=b.ToolsOzoneModerationGetRepo=b.ToolsOzoneModerationGetRecords=b.ToolsOzoneModerationGetRecord=b.ToolsOzoneModerationGetEvent=b.ToolsOzoneModerationEmitEvent=b.ToolsOzoneModerationDefs=b.ToolsOzoneCommunicationUpdateTemplate=b.ToolsOzoneCommunicationListTemplates=b.ToolsOzoneCommunicationDeleteTemplate=b.ToolsOzoneCommunicationDefs=b.ToolsOzoneCommunicationCreateTemplate=void 0;b.ToolsOzoneTeamNS=b.ToolsOzoneSignatureNS=b.ToolsOzoneSettingNS=b.ToolsOzoneSetNS=b.ToolsOzoneServerNS=b.ToolsOzoneModerationNS=b.ToolsOzoneCommunicationNS=b.ToolsOzoneNS=b.ToolsNS=b.ChatBskyModerationNS=b.ChatBskyConvoNS=b.DeclarationRecord=b.ChatBskyActorNS=b.ChatBskyNS=b.ChatNS=b.AppBskyVideoNS=b.AppBskyUnspeccedNS=b.AppBskyRichtextNS=b.AppBskyNotificationNS=b.ServiceRecord=b.AppBskyLabelerNS=b.StarterpackRecord=b.ListitemRecord=b.ListblockRecord=b.ListRecord=b.FollowRecord=b.BlockRecord=b.AppBskyGraphNS=b.ThreadgateRecord=b.RepostRecord=b.PostgateRecord=b.PostRecord=b.LikeRecord=b.GeneratorRecord=b.AppBskyFeedNS=b.AppBskyEmbedNS=b.ProfileRecord=b.AppBskyActorNS=b.AppBskyNS=b.AppNS=b.ComAtprotoTempNS=b.ComAtprotoSyncNS=b.ComAtprotoServerNS=b.ComAtprotoRepoNS=b.ComAtprotoModerationNS=void 0;var ske=et(),ake=$(),lke=M(RA()),cke=M(DA()),uke=M(IA()),dke=M(PA()),pke=M(LA()),fke=M(BA()),hke=M(OA()),mke=M(MA()),gke=M(VA()),yke=M(NA()),bke=M(FA()),_ke=M(UA()),vke=M(qA()),xke=M(zA()),Cke=M(KA()),Eke=M(HA()),Tke=M(GA()),wke=M(WA()),Ske=M(ZA()),Ake=M(QA()),Rke=M(YA()),kke=M(JA()),Dke=M(eR()),Ike=M(tR()),Pke=M(iR()),Lke=M(rR()),Bke=M(nR()),Oke=M(oR()),Mke=M(aR()),Vke=M(cR()),Nke=M(uR()),Fke=M(dR()),Uke=M(pR()),jke=M(fR()),qke=M(hR()),$ke=M(mR()),zke=M(gR()),Kke=M(yR()),Hke=M(bR()),Gke=M(_R()),Wke=M(vR()),Xke=M(xR()),Zke=M(CR()),Qke=M(ER()),Yke=M(TR()),Jke=M(wR()),eDe=M(SR()),tDe=M(AR()),iDe=M(kR()),rDe=M(DR());b.ComAtprotoAdminDefs=M(A6());b.ComAtprotoAdminDeleteAccount=M(R6());b.ComAtprotoAdminDisableAccountInvites=M(k6());b.ComAtprotoAdminDisableInviteCodes=M(D6());b.ComAtprotoAdminEnableAccountInvites=M(I6());b.ComAtprotoAdminGetAccountInfo=M(P6());b.ComAtprotoAdminGetAccountInfos=M(L6());b.ComAtprotoAdminGetInviteCodes=M(B6());b.ComAtprotoAdminGetSubjectStatus=M(O6());b.ComAtprotoAdminSearchAccounts=M(M6());b.ComAtprotoAdminSendEmail=M(V6());b.ComAtprotoAdminUpdateAccountEmail=M(N6());b.ComAtprotoAdminUpdateAccountHandle=M(F6());b.ComAtprotoAdminUpdateAccountPassword=M(U6());b.ComAtprotoAdminUpdateSubjectStatus=M(j6());b.ComAtprotoIdentityDefs=M(z6());b.ComAtprotoIdentityGetRecommendedDidCredentials=M(K6());b.ComAtprotoIdentityRefreshIdentity=M(RA());b.ComAtprotoIdentityRequestPlcOperationSignature=M(H6());b.ComAtprotoIdentityResolveDid=M(DA());b.ComAtprotoIdentityResolveHandle=M(IA());b.ComAtprotoIdentityResolveIdentity=M(PA());b.ComAtprotoIdentitySignPlcOperation=M(G6());b.ComAtprotoIdentitySubmitPlcOperation=M(W6());b.ComAtprotoIdentityUpdateHandle=M(X6());b.ComAtprotoLabelDefs=M(tV());b.ComAtprotoLabelQueryLabels=M(iV());b.ComAtprotoLabelSubscribeLabels=M(aV());b.ComAtprotoLexiconSchema=M(uV());b.ComAtprotoModerationCreateReport=M(dV());b.ComAtprotoModerationDefs=M(pV());b.ComAtprotoRepoApplyWrites=M(LA());b.ComAtprotoRepoCreateRecord=M(BA());b.ComAtprotoRepoDefs=M(mV());b.ComAtprotoRepoDeleteRecord=M(OA());b.ComAtprotoRepoDescribeRepo=M(gV());b.ComAtprotoRepoGetRecord=M(MA());b.ComAtprotoRepoImportRepo=M(yV());b.ComAtprotoRepoListMissingBlobs=M(vV());b.ComAtprotoRepoListRecords=M(EV());b.ComAtprotoRepoPutRecord=M(VA());b.ComAtprotoRepoStrongRef=M(SV());b.ComAtprotoRepoUploadBlob=M(AV());b.ComAtprotoServerActivateAccount=M(RV());b.ComAtprotoServerCheckAccountStatus=M(kV());b.ComAtprotoServerConfirmEmail=M(NA());b.ComAtprotoServerCreateAccount=M(FA());b.ComAtprotoServerCreateAppPassword=M(UA());b.ComAtprotoServerCreateInviteCode=M(DV());b.ComAtprotoServerCreateInviteCodes=M(LV());b.ComAtprotoServerCreateSession=M(qA());b.ComAtprotoServerDeactivateAccount=M(BV());b.ComAtprotoServerDefs=M(FV());b.ComAtprotoServerDeleteAccount=M(zA());b.ComAtprotoServerDeleteSession=M(UV());b.ComAtprotoServerDescribeServer=M(KV());b.ComAtprotoServerGetAccountInviteCodes=M(KA());b.ComAtprotoServerGetServiceAuth=M(HA());b.ComAtprotoServerGetSession=M(HV());b.ComAtprotoServerListAppPasswords=M(GA());b.ComAtprotoServerRefreshSession=M(WA());b.ComAtprotoServerRequestAccountDelete=M(GV());b.ComAtprotoServerRequestEmailConfirmation=M(WV());b.ComAtprotoServerRequestEmailUpdate=M(XV());b.ComAtprotoServerRequestPasswordReset=M(ZV());b.ComAtprotoServerReserveSigningKey=M(QV());b.ComAtprotoServerResetPassword=M(ZA());b.ComAtprotoServerRevokeAppPassword=M(YV());b.ComAtprotoServerUpdateEmail=M(QA());b.ComAtprotoSyncGetBlob=M(YA());b.ComAtprotoSyncGetBlocks=M(JA());b.ComAtprotoSyncGetCheckout=M(JV());b.ComAtprotoSyncGetHead=M(eR());b.ComAtprotoSyncGetLatestCommit=M(tR());b.ComAtprotoSyncGetRecord=M(iR());b.ComAtprotoSyncGetRepo=M(rR());b.ComAtprotoSyncGetRepoStatus=M(nR());b.ComAtprotoSyncListBlobs=M(oR());b.ComAtprotoSyncListRepos=M(iN());b.ComAtprotoSyncListReposByCollection=M(oN());b.ComAtprotoSyncNotifyOfUpdate=M(sN());b.ComAtprotoSyncRequestCrawl=M(aN());b.ComAtprotoSyncSubscribeRepos=M(hN());b.ComAtprotoTempAddReservedHandle=M(mN());b.ComAtprotoTempCheckSignupQueue=M(gN());b.ComAtprotoTempFetchLabels=M(yN());b.ComAtprotoTempRequestPhoneVerification=M(bN());b.AppBskyActorDefs=M(zN());b.AppBskyActorGetPreferences=M(KN());b.AppBskyActorGetProfile=M(HN());b.AppBskyActorGetProfiles=M(GN());b.AppBskyActorGetSuggestions=M(WN());b.AppBskyActorProfile=M(QN());b.AppBskyActorPutPreferences=M(YN());b.AppBskyActorSearchActors=M(JN());b.AppBskyActorSearchActorsTypeahead=M(e9());b.AppBskyEmbedDefs=M(r9());b.AppBskyEmbedExternal=M(l9());b.AppBskyEmbedImages=M(f9());b.AppBskyEmbedRecord=M(v9());b.AppBskyEmbedRecordWithMedia=M(w9());b.AppBskyEmbedVideo=M(k9());b.AppBskyFeedDefs=M(W9());b.AppBskyFeedDescribeFeedGenerator=M(J9());b.AppBskyFeedGenerator=M(iF());b.AppBskyFeedGetActorFeeds=M(rF());b.AppBskyFeedGetActorLikes=M(aR());b.AppBskyFeedGetAuthorFeed=M(cR());b.AppBskyFeedGetFeed=M(uR());b.AppBskyFeedGetFeedGenerator=M(nF());b.AppBskyFeedGetFeedGenerators=M(oF());b.AppBskyFeedGetFeedSkeleton=M(dR());b.AppBskyFeedGetLikes=M(lF());b.AppBskyFeedGetListFeed=M(pR());b.AppBskyFeedGetPostThread=M(fR());b.AppBskyFeedGetPosts=M(cF());b.AppBskyFeedGetQuotes=M(uF());b.AppBskyFeedGetRepostedBy=M(dF());b.AppBskyFeedGetSuggestedFeeds=M(pF());b.AppBskyFeedGetTimeline=M(fF());b.AppBskyFeedLike=M(gF());b.AppBskyFeedPost=M(xF());b.AppBskyFeedPostgate=M(SF());b.AppBskyFeedRepost=M(kF());b.AppBskyFeedSearchPosts=M(hR());b.AppBskyFeedSendInteractions=M(DF());b.AppBskyFeedThreadgate=M(MF());b.AppBskyGraphBlock=M(FF());b.AppBskyGraphDefs=M(WF());b.AppBskyGraphFollow=M(QF());b.AppBskyGraphGetActorStarterPacks=M(YF());b.AppBskyGraphGetBlocks=M(JF());b.AppBskyGraphGetFollowers=M(e7());b.AppBskyGraphGetFollows=M(t7());b.AppBskyGraphGetKnownFollowers=M(i7());b.AppBskyGraphGetList=M(r7());b.AppBskyGraphGetListBlocks=M(n7());b.AppBskyGraphGetListMutes=M(o7());b.AppBskyGraphGetLists=M(s7());b.AppBskyGraphGetMutes=M(a7());b.AppBskyGraphGetRelationships=M(mR());b.AppBskyGraphGetStarterPack=M(l7());b.AppBskyGraphGetStarterPacks=M(c7());b.AppBskyGraphGetSuggestedFollowsByActor=M(u7());b.AppBskyGraphList=M(f7());b.AppBskyGraphListblock=M(g7());b.AppBskyGraphListitem=M(_7());b.AppBskyGraphMuteActor=M(v7());b.AppBskyGraphMuteActorList=M(x7());b.AppBskyGraphMuteThread=M(C7());b.AppBskyGraphSearchStarterPacks=M(E7());b.AppBskyGraphStarterpack=M(R7());b.AppBskyGraphUnmuteActor=M(k7());b.AppBskyGraphUnmuteActorList=M(D7());b.AppBskyGraphUnmuteThread=M(I7());b.AppBskyLabelerDefs=M(M7());b.AppBskyLabelerGetServices=M(V7());b.AppBskyLabelerService=M(U7());b.AppBskyNotificationGetUnreadCount=M(j7());b.AppBskyNotificationListNotifications=M(z7());b.AppBskyNotificationPutPreferences=M(K7());b.AppBskyNotificationRegisterPush=M(H7());b.AppBskyNotificationUpdateSeen=M(G7());b.AppBskyRichtextFacet=M(J7());b.AppBskyUnspeccedDefs=M(nU());b.AppBskyUnspeccedGetConfig=M(oU());b.AppBskyUnspeccedGetPopularFeedGenerators=M(sU());b.AppBskyUnspeccedGetSuggestionsSkeleton=M(aU());b.AppBskyUnspeccedGetTaggedSuggestions=M(uU());b.AppBskyUnspeccedGetTrendingTopics=M(dU());b.AppBskyUnspeccedSearchActorsSkeleton=M(gR());b.AppBskyUnspeccedSearchPostsSkeleton=M(yR());b.AppBskyUnspeccedSearchStarterPacksSkeleton=M(bR());b.AppBskyVideoDefs=M(hU());b.AppBskyVideoGetJobStatus=M(mU());b.AppBskyVideoGetUploadLimits=M(gU());b.AppBskyVideoUploadVideo=M(yU());b.ChatBskyActorDeclaration=M(vU());b.ChatBskyActorDefs=M(EU());b.ChatBskyActorDeleteAccount=M(TU());b.ChatBskyActorExportAccountData=M(wU());b.ChatBskyConvoAcceptConvo=M(SU());b.ChatBskyConvoDefs=M(jU());b.ChatBskyConvoDeleteMessageForSelf=M(qU());b.ChatBskyConvoGetConvo=M($U());b.ChatBskyConvoGetConvoAvailability=M(zU());b.ChatBskyConvoGetConvoForMembers=M(KU());b.ChatBskyConvoGetLog=M(HU());b.ChatBskyConvoGetMessages=M(GU());b.ChatBskyConvoLeaveConvo=M(WU());b.ChatBskyConvoListConvos=M(XU());b.ChatBskyConvoMuteConvo=M(ZU());b.ChatBskyConvoSendMessage=M(QU());b.ChatBskyConvoSendMessageBatch=M(ej());b.ChatBskyConvoUnmuteConvo=M(tj());b.ChatBskyConvoUpdateAllRead=M(ij());b.ChatBskyConvoUpdateRead=M(rj());b.ChatBskyModerationGetActorMetadata=M(sj());b.ChatBskyModerationGetMessageContext=M(aj());b.ChatBskyModerationUpdateActorAccess=M(lj());b.ToolsOzoneCommunicationCreateTemplate=M(_R());b.ToolsOzoneCommunicationDefs=M(dj());b.ToolsOzoneCommunicationDeleteTemplate=M(pj());b.ToolsOzoneCommunicationListTemplates=M(fj());b.ToolsOzoneCommunicationUpdateTemplate=M(vR());b.ToolsOzoneModerationDefs=M(Yj());b.ToolsOzoneModerationEmitEvent=M(xR());b.ToolsOzoneModerationGetEvent=M(Jj());b.ToolsOzoneModerationGetRecord=M(CR());b.ToolsOzoneModerationGetRecords=M(eq());b.ToolsOzoneModerationGetRepo=M(ER());b.ToolsOzoneModerationGetReporterStats=M(tq());b.ToolsOzoneModerationGetRepos=M(iq());b.ToolsOzoneModerationQueryEvents=M(rq());b.ToolsOzoneModerationQueryStatuses=M(nq());b.ToolsOzoneModerationSearchRepos=M(oq());b.ToolsOzoneServerGetConfig=M(uq());b.ToolsOzoneSetAddValues=M(dq());b.ToolsOzoneSetDefs=M(gq());b.ToolsOzoneSetDeleteSet=M(TR());b.ToolsOzoneSetDeleteValues=M(wR());b.ToolsOzoneSetGetValues=M(SR());b.ToolsOzoneSetQuerySets=M(yq());b.ToolsOzoneSetUpsertSet=M(bq());b.ToolsOzoneSettingDefs=M(xq());b.ToolsOzoneSettingListOptions=M(Cq());b.ToolsOzoneSettingRemoveOptions=M(Eq());b.ToolsOzoneSettingUpsertOption=M(Tq());b.ToolsOzoneSignatureDefs=M(Aq());b.ToolsOzoneSignatureFindCorrelation=M(Rq());b.ToolsOzoneSignatureFindRelatedAccounts=M(Iq());b.ToolsOzoneSignatureSearchAccounts=M(Pq());b.ToolsOzoneTeamAddMember=M(AR());b.ToolsOzoneTeamDefs=M(Bq());b.ToolsOzoneTeamDeleteMember=M(kR());b.ToolsOzoneTeamListMembers=M(Oq());b.ToolsOzoneTeamUpdateMember=M(DR());b.COM_ATPROTO_MODERATION={DefsReasonSpam:"com.atproto.moderation.defs#reasonSpam",DefsReasonViolation:"com.atproto.moderation.defs#reasonViolation",DefsReasonMisleading:"com.atproto.moderation.defs#reasonMisleading",DefsReasonSexual:"com.atproto.moderation.defs#reasonSexual",DefsReasonRude:"com.atproto.moderation.defs#reasonRude",DefsReasonOther:"com.atproto.moderation.defs#reasonOther",DefsReasonAppeal:"com.atproto.moderation.defs#reasonAppeal"};b.APP_BSKY_FEED={DefsRequestLess:"app.bsky.feed.defs#requestLess",DefsRequestMore:"app.bsky.feed.defs#requestMore",DefsClickthroughItem:"app.bsky.feed.defs#clickthroughItem",DefsClickthroughAuthor:"app.bsky.feed.defs#clickthroughAuthor",DefsClickthroughReposter:"app.bsky.feed.defs#clickthroughReposter",DefsClickthroughEmbed:"app.bsky.feed.defs#clickthroughEmbed",DefsContentModeUnspecified:"app.bsky.feed.defs#contentModeUnspecified",DefsContentModeVideo:"app.bsky.feed.defs#contentModeVideo",DefsInteractionSeen:"app.bsky.feed.defs#interactionSeen",DefsInteractionLike:"app.bsky.feed.defs#interactionLike",DefsInteractionRepost:"app.bsky.feed.defs#interactionRepost",DefsInteractionReply:"app.bsky.feed.defs#interactionReply",DefsInteractionQuote:"app.bsky.feed.defs#interactionQuote",DefsInteractionShare:"app.bsky.feed.defs#interactionShare"};b.APP_BSKY_GRAPH={DefsModlist:"app.bsky.graph.defs#modlist",DefsCuratelist:"app.bsky.graph.defs#curatelist",DefsReferencelist:"app.bsky.graph.defs#referencelist"};b.TOOLS_OZONE_MODERATION={DefsReviewOpen:"tools.ozone.moderation.defs#reviewOpen",DefsReviewEscalated:"tools.ozone.moderation.defs#reviewEscalated",DefsReviewClosed:"tools.ozone.moderation.defs#reviewClosed",DefsReviewNone:"tools.ozone.moderation.defs#reviewNone"};b.TOOLS_OZONE_TEAM={DefsRoleAdmin:"tools.ozone.team.defs#roleAdmin",DefsRoleModerator:"tools.ozone.team.defs#roleModerator",DefsRoleTriage:"tools.ozone.team.defs#roleTriage"};var YD=class extends ske.XrpcClient{constructor(e){super(e,ake.schemas),Object.defineProperty(this,"com",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tools",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.com=new E1(this),this.app=new O1(this),this.chat=new sx(this),this.tools=new px(this)}get xrpc(){return this}};b.AtpBaseClient=YD;var E1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"atproto",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.atproto=new T1(e)}};b.ComNS=E1;var T1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"admin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"identity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lexicon",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moderation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"server",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sync",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.admin=new w1(e),this.identity=new S1(e),this.label=new A1(e),this.lexicon=new R1(e),this.moderation=new D1(e),this.repo=new I1(e),this.server=new P1(e),this.sync=new L1(e),this.temp=new B1(e)}};b.ComAtprotoNS=T1;var w1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}deleteAccount(e,t){return this._client.call("com.atproto.admin.deleteAccount",t?.qp,e,t)}disableAccountInvites(e,t){return this._client.call("com.atproto.admin.disableAccountInvites",t?.qp,e,t)}disableInviteCodes(e,t){return this._client.call("com.atproto.admin.disableInviteCodes",t?.qp,e,t)}enableAccountInvites(e,t){return this._client.call("com.atproto.admin.enableAccountInvites",t?.qp,e,t)}getAccountInfo(e,t){return this._client.call("com.atproto.admin.getAccountInfo",e,void 0,t)}getAccountInfos(e,t){return this._client.call("com.atproto.admin.getAccountInfos",e,void 0,t)}getInviteCodes(e,t){return this._client.call("com.atproto.admin.getInviteCodes",e,void 0,t)}getSubjectStatus(e,t){return this._client.call("com.atproto.admin.getSubjectStatus",e,void 0,t)}searchAccounts(e,t){return this._client.call("com.atproto.admin.searchAccounts",e,void 0,t)}sendEmail(e,t){return this._client.call("com.atproto.admin.sendEmail",t?.qp,e,t)}updateAccountEmail(e,t){return this._client.call("com.atproto.admin.updateAccountEmail",t?.qp,e,t)}updateAccountHandle(e,t){return this._client.call("com.atproto.admin.updateAccountHandle",t?.qp,e,t)}updateAccountPassword(e,t){return this._client.call("com.atproto.admin.updateAccountPassword",t?.qp,e,t)}updateSubjectStatus(e,t){return this._client.call("com.atproto.admin.updateSubjectStatus",t?.qp,e,t)}};b.ComAtprotoAdminNS=w1;var S1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}getRecommendedDidCredentials(e,t){return this._client.call("com.atproto.identity.getRecommendedDidCredentials",e,void 0,t)}refreshIdentity(e,t){return this._client.call("com.atproto.identity.refreshIdentity",t?.qp,e,t).catch(r=>{throw lke.toKnownErr(r)})}requestPlcOperationSignature(e,t){return this._client.call("com.atproto.identity.requestPlcOperationSignature",t?.qp,e,t)}resolveDid(e,t){return this._client.call("com.atproto.identity.resolveDid",e,void 0,t).catch(r=>{throw cke.toKnownErr(r)})}resolveHandle(e,t){return this._client.call("com.atproto.identity.resolveHandle",e,void 0,t).catch(r=>{throw uke.toKnownErr(r)})}resolveIdentity(e,t){return this._client.call("com.atproto.identity.resolveIdentity",e,void 0,t).catch(r=>{throw dke.toKnownErr(r)})}signPlcOperation(e,t){return this._client.call("com.atproto.identity.signPlcOperation",t?.qp,e,t)}submitPlcOperation(e,t){return this._client.call("com.atproto.identity.submitPlcOperation",t?.qp,e,t)}updateHandle(e,t){return this._client.call("com.atproto.identity.updateHandle",t?.qp,e,t)}};b.ComAtprotoIdentityNS=S1;var A1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}queryLabels(e,t){return this._client.call("com.atproto.label.queryLabels",e,void 0,t)}};b.ComAtprotoLabelNS=A1;var R1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.schema=new k1(e)}};b.ComAtprotoLexiconNS=R1;var k1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"com.atproto.lexicon.schema"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"com.atproto.lexicon.schema"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="com.atproto.lexicon.schema";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"com.atproto.lexicon.schema"},e),{headers:t})})}};b.SchemaRecord=k1;var D1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}createReport(e,t){return this._client.call("com.atproto.moderation.createReport",t?.qp,e,t)}};b.ComAtprotoModerationNS=D1;var I1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}applyWrites(e,t){return this._client.call("com.atproto.repo.applyWrites",t?.qp,e,t).catch(r=>{throw pke.toKnownErr(r)})}createRecord(e,t){return this._client.call("com.atproto.repo.createRecord",t?.qp,e,t).catch(r=>{throw fke.toKnownErr(r)})}deleteRecord(e,t){return this._client.call("com.atproto.repo.deleteRecord",t?.qp,e,t).catch(r=>{throw hke.toKnownErr(r)})}describeRepo(e,t){return this._client.call("com.atproto.repo.describeRepo",e,void 0,t)}getRecord(e,t){return this._client.call("com.atproto.repo.getRecord",e,void 0,t).catch(r=>{throw mke.toKnownErr(r)})}importRepo(e,t){return this._client.call("com.atproto.repo.importRepo",t?.qp,e,t)}listMissingBlobs(e,t){return this._client.call("com.atproto.repo.listMissingBlobs",e,void 0,t)}listRecords(e,t){return this._client.call("com.atproto.repo.listRecords",e,void 0,t)}putRecord(e,t){return this._client.call("com.atproto.repo.putRecord",t?.qp,e,t).catch(r=>{throw gke.toKnownErr(r)})}uploadBlob(e,t){return this._client.call("com.atproto.repo.uploadBlob",t?.qp,e,t)}};b.ComAtprotoRepoNS=I1;var P1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}activateAccount(e,t){return this._client.call("com.atproto.server.activateAccount",t?.qp,e,t)}checkAccountStatus(e,t){return this._client.call("com.atproto.server.checkAccountStatus",e,void 0,t)}confirmEmail(e,t){return this._client.call("com.atproto.server.confirmEmail",t?.qp,e,t).catch(r=>{throw yke.toKnownErr(r)})}createAccount(e,t){return this._client.call("com.atproto.server.createAccount",t?.qp,e,t).catch(r=>{throw bke.toKnownErr(r)})}createAppPassword(e,t){return this._client.call("com.atproto.server.createAppPassword",t?.qp,e,t).catch(r=>{throw _ke.toKnownErr(r)})}createInviteCode(e,t){return this._client.call("com.atproto.server.createInviteCode",t?.qp,e,t)}createInviteCodes(e,t){return this._client.call("com.atproto.server.createInviteCodes",t?.qp,e,t)}createSession(e,t){return this._client.call("com.atproto.server.createSession",t?.qp,e,t).catch(r=>{throw vke.toKnownErr(r)})}deactivateAccount(e,t){return this._client.call("com.atproto.server.deactivateAccount",t?.qp,e,t)}deleteAccount(e,t){return this._client.call("com.atproto.server.deleteAccount",t?.qp,e,t).catch(r=>{throw xke.toKnownErr(r)})}deleteSession(e,t){return this._client.call("com.atproto.server.deleteSession",t?.qp,e,t)}describeServer(e,t){return this._client.call("com.atproto.server.describeServer",e,void 0,t)}getAccountInviteCodes(e,t){return this._client.call("com.atproto.server.getAccountInviteCodes",e,void 0,t).catch(r=>{throw Cke.toKnownErr(r)})}getServiceAuth(e,t){return this._client.call("com.atproto.server.getServiceAuth",e,void 0,t).catch(r=>{throw Eke.toKnownErr(r)})}getSession(e,t){return this._client.call("com.atproto.server.getSession",e,void 0,t)}listAppPasswords(e,t){return this._client.call("com.atproto.server.listAppPasswords",e,void 0,t).catch(r=>{throw Tke.toKnownErr(r)})}refreshSession(e,t){return this._client.call("com.atproto.server.refreshSession",t?.qp,e,t).catch(r=>{throw wke.toKnownErr(r)})}requestAccountDelete(e,t){return this._client.call("com.atproto.server.requestAccountDelete",t?.qp,e,t)}requestEmailConfirmation(e,t){return this._client.call("com.atproto.server.requestEmailConfirmation",t?.qp,e,t)}requestEmailUpdate(e,t){return this._client.call("com.atproto.server.requestEmailUpdate",t?.qp,e,t)}requestPasswordReset(e,t){return this._client.call("com.atproto.server.requestPasswordReset",t?.qp,e,t)}reserveSigningKey(e,t){return this._client.call("com.atproto.server.reserveSigningKey",t?.qp,e,t)}resetPassword(e,t){return this._client.call("com.atproto.server.resetPassword",t?.qp,e,t).catch(r=>{throw Ske.toKnownErr(r)})}revokeAppPassword(e,t){return this._client.call("com.atproto.server.revokeAppPassword",t?.qp,e,t)}updateEmail(e,t){return this._client.call("com.atproto.server.updateEmail",t?.qp,e,t).catch(r=>{throw Ake.toKnownErr(r)})}};b.ComAtprotoServerNS=P1;var L1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}getBlob(e,t){return this._client.call("com.atproto.sync.getBlob",e,void 0,t).catch(r=>{throw Rke.toKnownErr(r)})}getBlocks(e,t){return this._client.call("com.atproto.sync.getBlocks",e,void 0,t).catch(r=>{throw kke.toKnownErr(r)})}getCheckout(e,t){return this._client.call("com.atproto.sync.getCheckout",e,void 0,t)}getHead(e,t){return this._client.call("com.atproto.sync.getHead",e,void 0,t).catch(r=>{throw Dke.toKnownErr(r)})}getLatestCommit(e,t){return this._client.call("com.atproto.sync.getLatestCommit",e,void 0,t).catch(r=>{throw Ike.toKnownErr(r)})}getRecord(e,t){return this._client.call("com.atproto.sync.getRecord",e,void 0,t).catch(r=>{throw Pke.toKnownErr(r)})}getRepo(e,t){return this._client.call("com.atproto.sync.getRepo",e,void 0,t).catch(r=>{throw Lke.toKnownErr(r)})}getRepoStatus(e,t){return this._client.call("com.atproto.sync.getRepoStatus",e,void 0,t).catch(r=>{throw Bke.toKnownErr(r)})}listBlobs(e,t){return this._client.call("com.atproto.sync.listBlobs",e,void 0,t).catch(r=>{throw Oke.toKnownErr(r)})}listRepos(e,t){return this._client.call("com.atproto.sync.listRepos",e,void 0,t)}listReposByCollection(e,t){return this._client.call("com.atproto.sync.listReposByCollection",e,void 0,t)}notifyOfUpdate(e,t){return this._client.call("com.atproto.sync.notifyOfUpdate",t?.qp,e,t)}requestCrawl(e,t){return this._client.call("com.atproto.sync.requestCrawl",t?.qp,e,t)}};b.ComAtprotoSyncNS=L1;var B1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}addReservedHandle(e,t){return this._client.call("com.atproto.temp.addReservedHandle",t?.qp,e,t)}checkSignupQueue(e,t){return this._client.call("com.atproto.temp.checkSignupQueue",e,void 0,t)}fetchLabels(e,t){return this._client.call("com.atproto.temp.fetchLabels",e,void 0,t)}requestPhoneVerification(e,t){return this._client.call("com.atproto.temp.requestPhoneVerification",t?.qp,e,t)}};b.ComAtprotoTempNS=B1;var O1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bsky",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.bsky=new M1(e)}};b.AppNS=O1;var M1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"actor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"embed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"feed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"labeler",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"notification",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"richtext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"unspecced",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"video",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.actor=new V1(e),this.embed=new F1(e),this.feed=new U1(e),this.graph=new G1(e),this.labeler=new ex(e),this.notification=new ix(e),this.richtext=new rx(e),this.unspecced=new nx(e),this.video=new ox(e)}};b.AppBskyNS=M1;var V1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"profile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.profile=new N1(e)}getPreferences(e,t){return this._client.call("app.bsky.actor.getPreferences",e,void 0,t)}getProfile(e,t){return this._client.call("app.bsky.actor.getProfile",e,void 0,t)}getProfiles(e,t){return this._client.call("app.bsky.actor.getProfiles",e,void 0,t)}getSuggestions(e,t){return this._client.call("app.bsky.actor.getSuggestions",e,void 0,t)}putPreferences(e,t){return this._client.call("app.bsky.actor.putPreferences",t?.qp,e,t)}searchActors(e,t){return this._client.call("app.bsky.actor.searchActors",e,void 0,t)}searchActorsTypeahead(e,t){return this._client.call("app.bsky.actor.searchActorsTypeahead",e,void 0,t)}};b.AppBskyActorNS=V1;var N1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.actor.profile"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.actor.profile"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.actor.profile";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n,rkey:"self"},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.actor.profile"},e),{headers:t})})}};b.ProfileRecord=N1;var F1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}};b.AppBskyEmbedNS=F1;var U1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"like",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"post",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"postgate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repost",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"threadgate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.generator=new j1(e),this.like=new q1(e),this.post=new $1(e),this.postgate=new z1(e),this.repost=new K1(e),this.threadgate=new H1(e)}describeFeedGenerator(e,t){return this._client.call("app.bsky.feed.describeFeedGenerator",e,void 0,t)}getActorFeeds(e,t){return this._client.call("app.bsky.feed.getActorFeeds",e,void 0,t)}getActorLikes(e,t){return this._client.call("app.bsky.feed.getActorLikes",e,void 0,t).catch(r=>{throw Mke.toKnownErr(r)})}getAuthorFeed(e,t){return this._client.call("app.bsky.feed.getAuthorFeed",e,void 0,t).catch(r=>{throw Vke.toKnownErr(r)})}getFeed(e,t){return this._client.call("app.bsky.feed.getFeed",e,void 0,t).catch(r=>{throw Nke.toKnownErr(r)})}getFeedGenerator(e,t){return this._client.call("app.bsky.feed.getFeedGenerator",e,void 0,t)}getFeedGenerators(e,t){return this._client.call("app.bsky.feed.getFeedGenerators",e,void 0,t)}getFeedSkeleton(e,t){return this._client.call("app.bsky.feed.getFeedSkeleton",e,void 0,t).catch(r=>{throw Fke.toKnownErr(r)})}getLikes(e,t){return this._client.call("app.bsky.feed.getLikes",e,void 0,t)}getListFeed(e,t){return this._client.call("app.bsky.feed.getListFeed",e,void 0,t).catch(r=>{throw Uke.toKnownErr(r)})}getPostThread(e,t){return this._client.call("app.bsky.feed.getPostThread",e,void 0,t).catch(r=>{throw jke.toKnownErr(r)})}getPosts(e,t){return this._client.call("app.bsky.feed.getPosts",e,void 0,t)}getQuotes(e,t){return this._client.call("app.bsky.feed.getQuotes",e,void 0,t)}getRepostedBy(e,t){return this._client.call("app.bsky.feed.getRepostedBy",e,void 0,t)}getSuggestedFeeds(e,t){return this._client.call("app.bsky.feed.getSuggestedFeeds",e,void 0,t)}getTimeline(e,t){return this._client.call("app.bsky.feed.getTimeline",e,void 0,t)}searchPosts(e,t){return this._client.call("app.bsky.feed.searchPosts",e,void 0,t).catch(r=>{throw qke.toKnownErr(r)})}sendInteractions(e,t){return this._client.call("app.bsky.feed.sendInteractions",t?.qp,e,t)}};b.AppBskyFeedNS=U1;var j1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.feed.generator"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.feed.generator"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.feed.generator";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.feed.generator"},e),{headers:t})})}};b.GeneratorRecord=j1;var q1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.feed.like"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.feed.like"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.feed.like";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.feed.like"},e),{headers:t})})}};b.LikeRecord=q1;var $1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.feed.post"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.feed.post"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.feed.post";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.feed.post"},e),{headers:t})})}};b.PostRecord=$1;var z1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.feed.postgate"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.feed.postgate"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.feed.postgate";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.feed.postgate"},e),{headers:t})})}};b.PostgateRecord=z1;var K1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.feed.repost"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.feed.repost"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.feed.repost";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.feed.repost"},e),{headers:t})})}};b.RepostRecord=K1;var H1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.feed.threadgate"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.feed.threadgate"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.feed.threadgate";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.feed.threadgate"},e),{headers:t})})}};b.ThreadgateRecord=H1;var G1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"block",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"follow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listblock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listitem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"starterpack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.block=new W1(e),this.follow=new X1(e),this.list=new Z1(e),this.listblock=new Q1(e),this.listitem=new Y1(e),this.starterpack=new J1(e)}getActorStarterPacks(e,t){return this._client.call("app.bsky.graph.getActorStarterPacks",e,void 0,t)}getBlocks(e,t){return this._client.call("app.bsky.graph.getBlocks",e,void 0,t)}getFollowers(e,t){return this._client.call("app.bsky.graph.getFollowers",e,void 0,t)}getFollows(e,t){return this._client.call("app.bsky.graph.getFollows",e,void 0,t)}getKnownFollowers(e,t){return this._client.call("app.bsky.graph.getKnownFollowers",e,void 0,t)}getList(e,t){return this._client.call("app.bsky.graph.getList",e,void 0,t)}getListBlocks(e,t){return this._client.call("app.bsky.graph.getListBlocks",e,void 0,t)}getListMutes(e,t){return this._client.call("app.bsky.graph.getListMutes",e,void 0,t)}getLists(e,t){return this._client.call("app.bsky.graph.getLists",e,void 0,t)}getMutes(e,t){return this._client.call("app.bsky.graph.getMutes",e,void 0,t)}getRelationships(e,t){return this._client.call("app.bsky.graph.getRelationships",e,void 0,t).catch(r=>{throw $ke.toKnownErr(r)})}getStarterPack(e,t){return this._client.call("app.bsky.graph.getStarterPack",e,void 0,t)}getStarterPacks(e,t){return this._client.call("app.bsky.graph.getStarterPacks",e,void 0,t)}getSuggestedFollowsByActor(e,t){return this._client.call("app.bsky.graph.getSuggestedFollowsByActor",e,void 0,t)}muteActor(e,t){return this._client.call("app.bsky.graph.muteActor",t?.qp,e,t)}muteActorList(e,t){return this._client.call("app.bsky.graph.muteActorList",t?.qp,e,t)}muteThread(e,t){return this._client.call("app.bsky.graph.muteThread",t?.qp,e,t)}searchStarterPacks(e,t){return this._client.call("app.bsky.graph.searchStarterPacks",e,void 0,t)}unmuteActor(e,t){return this._client.call("app.bsky.graph.unmuteActor",t?.qp,e,t)}unmuteActorList(e,t){return this._client.call("app.bsky.graph.unmuteActorList",t?.qp,e,t)}unmuteThread(e,t){return this._client.call("app.bsky.graph.unmuteThread",t?.qp,e,t)}};b.AppBskyGraphNS=G1;var W1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.graph.block"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.graph.block"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.graph.block";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.graph.block"},e),{headers:t})})}};b.BlockRecord=W1;var X1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.graph.follow"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.graph.follow"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.graph.follow";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.graph.follow"},e),{headers:t})})}};b.FollowRecord=X1;var Z1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.graph.list"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.graph.list"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.graph.list";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.graph.list"},e),{headers:t})})}};b.ListRecord=Z1;var Q1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.graph.listblock"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.graph.listblock"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.graph.listblock";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.graph.listblock"},e),{headers:t})})}};b.ListblockRecord=Q1;var Y1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.graph.listitem"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.graph.listitem"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.graph.listitem";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.graph.listitem"},e),{headers:t})})}};b.ListitemRecord=Y1;var J1=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.graph.starterpack"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.graph.starterpack"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.graph.starterpack";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.graph.starterpack"},e),{headers:t})})}};b.StarterpackRecord=J1;var ex=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.service=new tx(e)}getServices(e,t){return this._client.call("app.bsky.labeler.getServices",e,void 0,t)}};b.AppBskyLabelerNS=ex;var tx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"app.bsky.labeler.service"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"app.bsky.labeler.service"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="app.bsky.labeler.service";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n,rkey:"self"},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"app.bsky.labeler.service"},e),{headers:t})})}};b.ServiceRecord=tx;var ix=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}getUnreadCount(e,t){return this._client.call("app.bsky.notification.getUnreadCount",e,void 0,t)}listNotifications(e,t){return this._client.call("app.bsky.notification.listNotifications",e,void 0,t)}putPreferences(e,t){return this._client.call("app.bsky.notification.putPreferences",t?.qp,e,t)}registerPush(e,t){return this._client.call("app.bsky.notification.registerPush",t?.qp,e,t)}updateSeen(e,t){return this._client.call("app.bsky.notification.updateSeen",t?.qp,e,t)}};b.AppBskyNotificationNS=ix;var rx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}};b.AppBskyRichtextNS=rx;var nx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}getConfig(e,t){return this._client.call("app.bsky.unspecced.getConfig",e,void 0,t)}getPopularFeedGenerators(e,t){return this._client.call("app.bsky.unspecced.getPopularFeedGenerators",e,void 0,t)}getSuggestionsSkeleton(e,t){return this._client.call("app.bsky.unspecced.getSuggestionsSkeleton",e,void 0,t)}getTaggedSuggestions(e,t){return this._client.call("app.bsky.unspecced.getTaggedSuggestions",e,void 0,t)}getTrendingTopics(e,t){return this._client.call("app.bsky.unspecced.getTrendingTopics",e,void 0,t)}searchActorsSkeleton(e,t){return this._client.call("app.bsky.unspecced.searchActorsSkeleton",e,void 0,t).catch(r=>{throw zke.toKnownErr(r)})}searchPostsSkeleton(e,t){return this._client.call("app.bsky.unspecced.searchPostsSkeleton",e,void 0,t).catch(r=>{throw Kke.toKnownErr(r)})}searchStarterPacksSkeleton(e,t){return this._client.call("app.bsky.unspecced.searchStarterPacksSkeleton",e,void 0,t).catch(r=>{throw Hke.toKnownErr(r)})}};b.AppBskyUnspeccedNS=nx;var ox=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}getJobStatus(e,t){return this._client.call("app.bsky.video.getJobStatus",e,void 0,t)}getUploadLimits(e,t){return this._client.call("app.bsky.video.getUploadLimits",e,void 0,t)}uploadVideo(e,t){return this._client.call("app.bsky.video.uploadVideo",t?.qp,e,t)}};b.AppBskyVideoNS=ox;var sx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bsky",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.bsky=new ax(e)}};b.ChatNS=sx;var ax=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"actor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"convo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moderation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.actor=new lx(e),this.convo=new ux(e),this.moderation=new dx(e)}};b.ChatBskyNS=ax;var lx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"declaration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.declaration=new cx(e)}deleteAccount(e,t){return this._client.call("chat.bsky.actor.deleteAccount",t?.qp,e,t)}exportAccountData(e,t){return this._client.call("chat.bsky.actor.exportAccountData",e,void 0,t)}};b.ChatBskyActorNS=lx;var cx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}list(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.listRecords",R({collection:"chat.bsky.actor.declaration"},e))).data})}get(e){return Y(this,null,function*(){return(yield this._client.call("com.atproto.repo.getRecord",R({collection:"chat.bsky.actor.declaration"},e))).data})}create(e,t,r){return Y(this,null,function*(){let n="chat.bsky.actor.declaration";return(yield this._client.call("com.atproto.repo.createRecord",void 0,ue(R({collection:n,rkey:"self"},e),{record:ue(R({},t),{$type:n})}),{encoding:"application/json",headers:r})).data})}delete(e,t){return Y(this,null,function*(){yield this._client.call("com.atproto.repo.deleteRecord",void 0,R({collection:"chat.bsky.actor.declaration"},e),{headers:t})})}};b.DeclarationRecord=cx;var ux=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}acceptConvo(e,t){return this._client.call("chat.bsky.convo.acceptConvo",t?.qp,e,t)}deleteMessageForSelf(e,t){return this._client.call("chat.bsky.convo.deleteMessageForSelf",t?.qp,e,t)}getConvo(e,t){return this._client.call("chat.bsky.convo.getConvo",e,void 0,t)}getConvoAvailability(e,t){return this._client.call("chat.bsky.convo.getConvoAvailability",e,void 0,t)}getConvoForMembers(e,t){return this._client.call("chat.bsky.convo.getConvoForMembers",e,void 0,t)}getLog(e,t){return this._client.call("chat.bsky.convo.getLog",e,void 0,t)}getMessages(e,t){return this._client.call("chat.bsky.convo.getMessages",e,void 0,t)}leaveConvo(e,t){return this._client.call("chat.bsky.convo.leaveConvo",t?.qp,e,t)}listConvos(e,t){return this._client.call("chat.bsky.convo.listConvos",e,void 0,t)}muteConvo(e,t){return this._client.call("chat.bsky.convo.muteConvo",t?.qp,e,t)}sendMessage(e,t){return this._client.call("chat.bsky.convo.sendMessage",t?.qp,e,t)}sendMessageBatch(e,t){return this._client.call("chat.bsky.convo.sendMessageBatch",t?.qp,e,t)}unmuteConvo(e,t){return this._client.call("chat.bsky.convo.unmuteConvo",t?.qp,e,t)}updateAllRead(e,t){return this._client.call("chat.bsky.convo.updateAllRead",t?.qp,e,t)}updateRead(e,t){return this._client.call("chat.bsky.convo.updateRead",t?.qp,e,t)}};b.ChatBskyConvoNS=ux;var dx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}getActorMetadata(e,t){return this._client.call("chat.bsky.moderation.getActorMetadata",e,void 0,t)}getMessageContext(e,t){return this._client.call("chat.bsky.moderation.getMessageContext",e,void 0,t)}updateActorAccess(e,t){return this._client.call("chat.bsky.moderation.updateActorAccess",t?.qp,e,t)}};b.ChatBskyModerationNS=dx;var px=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ozone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.ozone=new fx(e)}};b.ToolsNS=px;var fx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"communication",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moderation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"server",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"set",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setting",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"team",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e,this.communication=new hx(e),this.moderation=new mx(e),this.server=new gx(e),this.set=new yx(e),this.setting=new bx(e),this.signature=new _x(e),this.team=new vx(e)}};b.ToolsOzoneNS=fx;var hx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}createTemplate(e,t){return this._client.call("tools.ozone.communication.createTemplate",t?.qp,e,t).catch(r=>{throw Gke.toKnownErr(r)})}deleteTemplate(e,t){return this._client.call("tools.ozone.communication.deleteTemplate",t?.qp,e,t)}listTemplates(e,t){return this._client.call("tools.ozone.communication.listTemplates",e,void 0,t)}updateTemplate(e,t){return this._client.call("tools.ozone.communication.updateTemplate",t?.qp,e,t).catch(r=>{throw Wke.toKnownErr(r)})}};b.ToolsOzoneCommunicationNS=hx;var mx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}emitEvent(e,t){return this._client.call("tools.ozone.moderation.emitEvent",t?.qp,e,t).catch(r=>{throw Xke.toKnownErr(r)})}getEvent(e,t){return this._client.call("tools.ozone.moderation.getEvent",e,void 0,t)}getRecord(e,t){return this._client.call("tools.ozone.moderation.getRecord",e,void 0,t).catch(r=>{throw Zke.toKnownErr(r)})}getRecords(e,t){return this._client.call("tools.ozone.moderation.getRecords",e,void 0,t)}getRepo(e,t){return this._client.call("tools.ozone.moderation.getRepo",e,void 0,t).catch(r=>{throw Qke.toKnownErr(r)})}getReporterStats(e,t){return this._client.call("tools.ozone.moderation.getReporterStats",e,void 0,t)}getRepos(e,t){return this._client.call("tools.ozone.moderation.getRepos",e,void 0,t)}queryEvents(e,t){return this._client.call("tools.ozone.moderation.queryEvents",e,void 0,t)}queryStatuses(e,t){return this._client.call("tools.ozone.moderation.queryStatuses",e,void 0,t)}searchRepos(e,t){return this._client.call("tools.ozone.moderation.searchRepos",e,void 0,t)}};b.ToolsOzoneModerationNS=mx;var gx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}getConfig(e,t){return this._client.call("tools.ozone.server.getConfig",e,void 0,t)}};b.ToolsOzoneServerNS=gx;var yx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}addValues(e,t){return this._client.call("tools.ozone.set.addValues",t?.qp,e,t)}deleteSet(e,t){return this._client.call("tools.ozone.set.deleteSet",t?.qp,e,t).catch(r=>{throw Yke.toKnownErr(r)})}deleteValues(e,t){return this._client.call("tools.ozone.set.deleteValues",t?.qp,e,t).catch(r=>{throw Jke.toKnownErr(r)})}getValues(e,t){return this._client.call("tools.ozone.set.getValues",e,void 0,t).catch(r=>{throw eDe.toKnownErr(r)})}querySets(e,t){return this._client.call("tools.ozone.set.querySets",e,void 0,t)}upsertSet(e,t){return this._client.call("tools.ozone.set.upsertSet",t?.qp,e,t)}};b.ToolsOzoneSetNS=yx;var bx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}listOptions(e,t){return this._client.call("tools.ozone.setting.listOptions",e,void 0,t)}removeOptions(e,t){return this._client.call("tools.ozone.setting.removeOptions",t?.qp,e,t)}upsertOption(e,t){return this._client.call("tools.ozone.setting.upsertOption",t?.qp,e,t)}};b.ToolsOzoneSettingNS=bx;var _x=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}findCorrelation(e,t){return this._client.call("tools.ozone.signature.findCorrelation",e,void 0,t)}findRelatedAccounts(e,t){return this._client.call("tools.ozone.signature.findRelatedAccounts",e,void 0,t)}searchAccounts(e,t){return this._client.call("tools.ozone.signature.searchAccounts",e,void 0,t)}};b.ToolsOzoneSignatureNS=_x;var vx=class{constructor(e){Object.defineProperty(this,"_client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._client=e}addMember(e,t){return this._client.call("tools.ozone.team.addMember",t?.qp,e,t).catch(r=>{throw tDe.toKnownErr(r)})}deleteMember(e,t){return this._client.call("tools.ozone.team.deleteMember",t?.qp,e,t).catch(r=>{throw iDe.toKnownErr(r)})}listMembers(e,t){return this._client.call("tools.ozone.team.listMembers",e,void 0,t)}updateMember(e,t){return this._client.call("tools.ozone.team.updateMember",t?.qp,e,t).catch(r=>{throw rDe.toKnownErr(r)})}};b.ToolsOzoneTeamNS=vx});var Mq=k((ylt,nDe)=>{nDe.exports=["aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mv","mw","mx","my","mz","na","nab","nagoya","name","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shell","shia","shiksha","shoes","shop","shopping","shouji","show","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","verm\xF6gensberater","verm\xF6gensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volvo","vote","voting","voto","voyage","vu","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","\u03B5\u03BB","\u03B5\u03C5","\u0431\u0433","\u0431\u0435\u043B","\u0434\u0435\u0442\u0438","\u0435\u044E","\u043A\u0430\u0442\u043E\u043B\u0438\u043A","\u043A\u043E\u043C","\u043C\u043A\u0434","\u043C\u043E\u043D","\u043C\u043E\u0441\u043A\u0432\u0430","\u043E\u043D\u043B\u0430\u0439\u043D","\u043E\u0440\u0433","\u0440\u0443\u0441","\u0440\u0444","\u0441\u0430\u0439\u0442","\u0441\u0440\u0431","\u0443\u043A\u0440","\u049B\u0430\u0437","\u0570\u0561\u0575","\u05D9\u05E9\u05E8\u05D0\u05DC","\u05E7\u05D5\u05DD","\u0627\u0628\u0648\u0638\u0628\u064A","\u0627\u0631\u0627\u0645\u0643\u0648","\u0627\u0644\u0627\u0631\u062F\u0646","\u0627\u0644\u0628\u062D\u0631\u064A\u0646","\u0627\u0644\u062C\u0632\u0627\u0626\u0631","\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629","\u0627\u0644\u0639\u0644\u064A\u0627\u0646","\u0627\u0644\u0645\u063A\u0631\u0628","\u0627\u0645\u0627\u0631\u0627\u062A","\u0627\u06CC\u0631\u0627\u0646","\u0628\u0627\u0631\u062A","\u0628\u0627\u0632\u0627\u0631","\u0628\u064A\u062A\u0643","\u0628\u06BE\u0627\u0631\u062A","\u062A\u0648\u0646\u0633","\u0633\u0648\u062F\u0627\u0646","\u0633\u0648\u0631\u064A\u0629","\u0634\u0628\u0643\u0629","\u0639\u0631\u0627\u0642","\u0639\u0631\u0628","\u0639\u0645\u0627\u0646","\u0641\u0644\u0633\u0637\u064A\u0646","\u0642\u0637\u0631","\u0643\u0627\u062B\u0648\u0644\u064A\u0643","\u0643\u0648\u0645","\u0645\u0635\u0631","\u0645\u0644\u064A\u0633\u064A\u0627","\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627","\u0645\u0648\u0642\u0639","\u0647\u0645\u0631\u0627\u0647","\u067E\u0627\u06A9\u0633\u062A\u0627\u0646","\u0680\u0627\u0631\u062A","\u0915\u0949\u092E","\u0928\u0947\u091F","\u092D\u093E\u0930\u0924","\u092D\u093E\u0930\u0924\u092E\u094D","\u092D\u093E\u0930\u094B\u0924","\u0938\u0902\u0917\u0920\u0928","\u09AC\u09BE\u0982\u09B2\u09BE","\u09AD\u09BE\u09B0\u09A4","\u09AD\u09BE\u09F0\u09A4","\u0A2D\u0A3E\u0A30\u0A24","\u0AAD\u0ABE\u0AB0\u0AA4","\u0B2D\u0B3E\u0B30\u0B24","\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE","\u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8","\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD","\u0C2D\u0C3E\u0C30\u0C24\u0C4D","\u0CAD\u0CBE\u0CB0\u0CA4","\u0D2D\u0D3E\u0D30\u0D24\u0D02","\u0DBD\u0D82\u0D9A\u0DCF","\u0E04\u0E2D\u0E21","\u0E44\u0E17\u0E22","\u0EA5\u0EB2\u0EA7","\u10D2\u10D4","\u307F\u3093\u306A","\u30A2\u30DE\u30BE\u30F3","\u30AF\u30E9\u30A6\u30C9","\u30B0\u30FC\u30B0\u30EB","\u30B3\u30E0","\u30B9\u30C8\u30A2","\u30BB\u30FC\u30EB","\u30D5\u30A1\u30C3\u30B7\u30E7\u30F3","\u30DD\u30A4\u30F3\u30C8","\u4E16\u754C","\u4E2D\u4FE1","\u4E2D\u56FD","\u4E2D\u570B","\u4E2D\u6587\u7F51","\u4E9A\u9A6C\u900A","\u4F01\u4E1A","\u4F5B\u5C71","\u4FE1\u606F","\u5065\u5EB7","\u516B\u5366","\u516C\u53F8","\u516C\u76CA","\u53F0\u6E7E","\u53F0\u7063","\u5546\u57CE","\u5546\u5E97","\u5546\u6807","\u5609\u91CC","\u5609\u91CC\u5927\u9152\u5E97","\u5728\u7EBF","\u5927\u62FF","\u5929\u4E3B\u6559","\u5A31\u4E50","\u5BB6\u96FB","\u5E7F\u4E1C","\u5FAE\u535A","\u6148\u5584","\u6211\u7231\u4F60","\u624B\u673A","\u62DB\u8058","\u653F\u52A1","\u653F\u5E9C","\u65B0\u52A0\u5761","\u65B0\u95FB","\u65F6\u5C1A","\u66F8\u7C4D","\u673A\u6784","\u6DE1\u9A6C\u9521","\u6E38\u620F","\u6FB3\u9580","\u70B9\u770B","\u79FB\u52A8","\u7EC4\u7EC7\u673A\u6784","\u7F51\u5740","\u7F51\u5E97","\u7F51\u7AD9","\u7F51\u7EDC","\u8054\u901A","\u8C37\u6B4C","\u8D2D\u7269","\u901A\u8CA9","\u96C6\u56E2","\u96FB\u8A0A\u76C8\u79D1","\u98DE\u5229\u6D66","\u98DF\u54C1","\u9910\u5385","\u9999\u683C\u91CC\u62C9","\u9999\u6E2F","\uB2F7\uB137","\uB2F7\uCEF4","\uC0BC\uC131","\uD55C\uAD6D"]});var JD=k(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.TAG_REGEX=pa.TRAILING_PUNCTUATION_REGEX=pa.URL_REGEX=pa.MENTION_REGEX=void 0;pa.MENTION_REGEX=/(^|\s|\()(@)([a-zA-Z0-9.-]+)(\b)/g;pa.URL_REGEX=/(^|\s|\()((https?:\/\/[\S]+)|((?<domain>[a-z][a-z0-9]*(\.[a-z0-9]+)+)[\S]*))/gim;pa.TRAILING_PUNCTUATION_REGEX=new RegExp("\\p{P}+$","gu");pa.TAG_REGEX=/(^|\s)[#]((?!\ufe0f)[^\s\u00AD\u2060\u200A\u200B\u200C\u200D\u20e2]*[^\d\s\p{P}\u00AD\u2060\u200A\u200B\u200C\u200D\u20e2]+[^\s\u00AD\u2060\u200A\u200B\u200C\u200D\u20e2]*)?/gu});var Nq=k(k0=>{"use strict";var oDe=k0&&k0.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(k0,"__esModule",{value:!0});k0.detectFacets=aDe;var sDe=oDe(Mq()),xx=JD();function aDe(i){let e,t=[];{let r=xx.MENTION_REGEX;for(;e=r.exec(i.utf16);){if(!Vq(e[3])&&!e[3].endsWith(".test"))continue;let n=i.utf16.indexOf(e[3],e.index)-1;t.push({$type:"app.bsky.richtext.facet",index:{byteStart:i.utf16IndexToUtf8Index(n),byteEnd:i.utf16IndexToUtf8Index(n+e[3].length+1)},features:[{$type:"app.bsky.richtext.facet#mention",did:e[3]}]})}}{let r=xx.URL_REGEX;for(;e=r.exec(i.utf16);){let n=e[2];if(!n.startsWith("http")){let a=e.groups?.domain;if(!a||!Vq(a))continue;n=`https://${n}`}let o=i.utf16.indexOf(e[2],e.index),s={start:o,end:o+e[2].length};/[.,;:!?]$/.test(n)&&(n=n.slice(0,-1),s.end--),/[)]$/.test(n)&&!n.includes("(")&&(n=n.slice(0,-1),s.end--),t.push({index:{byteStart:i.utf16IndexToUtf8Index(s.start),byteEnd:i.utf16IndexToUtf8Index(s.end)},features:[{$type:"app.bsky.richtext.facet#link",uri:n}]})}}{let r=xx.TAG_REGEX;for(;e=r.exec(i.utf16);){let n=e[1],o=e[2];if(!o||(o=o.trim().replace(xx.TRAILING_PUNCTUATION_REGEX,""),o.length===0||o.length>64))continue;let s=e.index+n.length;t.push({index:{byteStart:i.utf16IndexToUtf8Index(s),byteEnd:i.utf16IndexToUtf8Index(s+1+o.length)},features:[{$type:"app.bsky.richtext.facet#tag",tag:o}]})}}return t.length>0?t:void 0}function Vq(i){return!!sDe.default.find(e=>{let t=i.lastIndexOf(e);return t===-1?!1:i.charAt(t-1)==="."&&t===i.length-e.length})}});var Ex=k(Cx=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});Cx.UnicodeString=void 0;var lDe=Js(),Fq=new TextEncoder,cDe=new TextDecoder,eI=class{constructor(e){Object.defineProperty(this,"utf16",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"utf8",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_graphemeLen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.utf16=e,this.utf8=Fq.encode(e)}get length(){return this.utf8.byteLength}get graphemeLength(){return this._graphemeLen||(this._graphemeLen=(0,lDe.graphemeLen)(this.utf16)),this._graphemeLen}slice(e,t){return cDe.decode(this.utf8.slice(e,t))}utf16IndexToUtf8Index(e){return Fq.encode(this.utf16.slice(0,e)).byteLength}toString(){return this.utf16}};Cx.UnicodeString=eI});var iI=k(tI=>{"use strict";Object.defineProperty(tI,"__esModule",{value:!0});tI.sanitizeRichText=fDe;var uDe=Ex(),dDe=/[\r\n]([\u00AD\u2060\u200D\u200C\u200B\s]*[\r\n]){2,}/,pDe=`

`;function fDe(i,e){return e.cleanNewlines&&(i=hDe(i,dDe,pDe)),i}function hDe(i,e,t){i=i.clone();let r=i.unicodeText.utf16.match(e);for(;r&&typeof r.index<"u";){let n=i.unicodeText,o=i.unicodeText.utf16IndexToUtf8Index(r.index),s=o+new uDe.UnicodeString(r[0]).length;if(i.delete(o,s),i.unicodeText.utf16===n.utf16)break;i.insert(o,t),r=i.unicodeText.utf16.match(e)}return i}});var qq=k(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.RichText=bp.RichTextSegment=void 0;var Tx=al(),Uq=Nq(),mDe=iI(),rI=Ex(),ic=class{constructor(e,t){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"facet",{enumerable:!0,configurable:!0,writable:!0,value:t})}get link(){return this.facet?.features.find(Tx.AppBskyRichtextFacet.isLink)}isLink(){return!!this.link}get mention(){return this.facet?.features.find(Tx.AppBskyRichtextFacet.isMention)}isMention(){return!!this.mention}get tag(){return this.facet?.features.find(Tx.AppBskyRichtextFacet.isTag)}isTag(){return!!this.tag}};bp.RichTextSegment=ic;var oI=class i{constructor(e,t){Object.defineProperty(this,"unicodeText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"facets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.unicodeText=new rI.UnicodeString(e.text),this.facets=e.facets,!this.facets?.length&&e.entities?.length&&(this.facets=yDe(this.unicodeText,e.entities)),this.facets&&(this.facets=this.facets.filter(gDe).sort(nI)),t?.cleanNewlines&&(0,mDe.sanitizeRichText)(this,{cleanNewlines:!0}).copyInto(this)}get text(){return this.unicodeText.toString()}get length(){return this.unicodeText.length}get graphemeLength(){return this.unicodeText.graphemeLength}clone(){return new i({text:this.unicodeText.utf16,facets:jq(this.facets)})}copyInto(e){e.unicodeText=this.unicodeText,e.facets=jq(this.facets)}*segments(){let e=this.facets||[];if(!e.length){yield new ic(this.unicodeText.utf16);return}let t=0,r=0;do{let n=e[r];if(t<n.index.byteStart)yield new ic(this.unicodeText.slice(t,n.index.byteStart));else if(t>n.index.byteStart){r++;continue}if(n.index.byteStart<n.index.byteEnd){let o=this.unicodeText.slice(n.index.byteStart,n.index.byteEnd);o.trim()?yield new ic(o,n):yield new ic(o)}t=n.index.byteEnd,r++}while(r<e.length);t<this.unicodeText.length&&(yield new ic(this.unicodeText.slice(t,this.unicodeText.length)))}insert(e,t){if(this.unicodeText=new rI.UnicodeString(this.unicodeText.slice(0,e)+t+this.unicodeText.slice(e)),!this.facets?.length)return this;let r=t.length;for(let n of this.facets)e<=n.index.byteStart?(n.index.byteStart+=r,n.index.byteEnd+=r):e>=n.index.byteStart&&e<n.index.byteEnd&&(n.index.byteEnd+=r);return this}delete(e,t){if(this.unicodeText=new rI.UnicodeString(this.unicodeText.slice(0,e)+this.unicodeText.slice(t)),!this.facets?.length)return this;let r=t-e;for(let n of this.facets)e<=n.index.byteStart&&t>=n.index.byteEnd?(n.index.byteStart=0,n.index.byteEnd=0):e>n.index.byteEnd||(e>n.index.byteStart&&e<=n.index.byteEnd&&t>n.index.byteEnd?n.index.byteEnd=e:e>=n.index.byteStart&&t<=n.index.byteEnd?n.index.byteEnd-=r:e<n.index.byteStart&&t>=n.index.byteStart&&t<=n.index.byteEnd?(n.index.byteStart=e,n.index.byteEnd-=r):t<n.index.byteStart&&(n.index.byteStart-=r,n.index.byteEnd-=r));return this.facets=this.facets.filter(n=>n.index.byteStart<n.index.byteEnd),this}detectFacets(e){return Y(this,null,function*(){if(this.facets=(0,Uq.detectFacets)(this.unicodeText),this.facets){let t=[];for(let r of this.facets)for(let n of r.features)Tx.AppBskyRichtextFacet.isMention(n)&&t.push(e.com.atproto.identity.resolveHandle({handle:n.did}).then(o=>o?.data.did).catch(o=>{}).then(o=>{n.did=o||""}));yield Promise.allSettled(t),this.facets.sort(nI)}})}detectFacetsWithoutResolution(){this.facets=(0,Uq.detectFacets)(this.unicodeText),this.facets&&this.facets.sort(nI)}};bp.RichText=oI;var nI=(i,e)=>i.index.byteStart-e.index.byteStart,gDe=i=>i.index.byteStart<=i.index.byteEnd;function yDe(i,e){let t=[];for(let r of e)r.type==="link"?t.push({$type:"app.bsky.richtext.facet",index:{byteStart:i.utf16IndexToUtf8Index(r.index.start),byteEnd:i.utf16IndexToUtf8Index(r.index.end)},features:[{$type:"app.bsky.richtext.facet#link",uri:r.value}]}):r.type==="mention"&&t.push({$type:"app.bsky.richtext.facet",index:{byteStart:i.utf16IndexToUtf8Index(r.index.start),byteEnd:i.utf16IndexToUtf8Index(r.index.end)},features:[{$type:"app.bsky.richtext.facet#mention",did:r.value}]});return t}function jq(i){return typeof i>"u"?i:JSON.parse(JSON.stringify(i))}});var wx=k(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.LABELS=_p.DEFAULT_LABEL_SETTINGS=void 0;_p.DEFAULT_LABEL_SETTINGS={porn:"hide",sexual:"warn",nudity:"ignore","graphic-media":"warn"};_p.LABELS={"!hide":{identifier:"!hide",configurable:!1,defaultSetting:"hide",flags:["no-override","no-self"],severity:"alert",blurs:"content",behaviors:{account:{profileList:"blur",profileView:"blur",avatar:"blur",banner:"blur",displayName:"blur",contentList:"blur",contentView:"blur"},profile:{avatar:"blur",banner:"blur",displayName:"blur"},content:{contentList:"blur",contentView:"blur"}},locales:[]},"!warn":{identifier:"!warn",configurable:!1,defaultSetting:"warn",flags:["no-self"],severity:"none",blurs:"content",behaviors:{account:{profileList:"blur",profileView:"blur",avatar:"blur",banner:"blur",contentList:"blur",contentView:"blur"},profile:{avatar:"blur",banner:"blur",displayName:"blur"},content:{contentList:"blur",contentView:"blur"}},locales:[]},"!no-unauthenticated":{identifier:"!no-unauthenticated",configurable:!1,defaultSetting:"hide",flags:["no-override","unauthed"],severity:"none",blurs:"content",behaviors:{account:{profileList:"blur",profileView:"blur",avatar:"blur",banner:"blur",displayName:"blur",contentList:"blur",contentView:"blur"},profile:{avatar:"blur",banner:"blur",displayName:"blur"},content:{contentList:"blur",contentView:"blur"}},locales:[]},porn:{identifier:"porn",configurable:!0,defaultSetting:"hide",flags:["adult"],severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]},sexual:{identifier:"sexual",configurable:!0,defaultSetting:"warn",flags:["adult"],severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]},nudity:{identifier:"nudity",configurable:!0,defaultSetting:"ignore",flags:[],severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]},"graphic-media":{identifier:"graphic-media",flags:["adult"],configurable:!0,defaultSetting:"warn",severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]},gore:{identifier:"gore",flags:["adult"],configurable:!0,defaultSetting:"warn",severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]}}});var sI=k(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.NOOP_BEHAVIOR=Vn.HIDE_BEHAVIOR=Vn.MUTEWORD_BEHAVIOR=Vn.MUTE_BEHAVIOR=Vn.BLOCK_BEHAVIOR=Vn.CUSTOM_LABEL_VALUE_RE=void 0;Vn.CUSTOM_LABEL_VALUE_RE=/^[a-z-]+$/;Vn.BLOCK_BEHAVIOR={profileList:"blur",profileView:"alert",avatar:"blur",banner:"blur",contentList:"blur",contentView:"blur"};Vn.MUTE_BEHAVIOR={profileList:"inform",profileView:"alert",contentList:"blur",contentView:"inform"};Vn.MUTEWORD_BEHAVIOR={contentList:"blur",contentView:"blur"};Vn.HIDE_BEHAVIOR={contentList:"blur",contentView:"blur"};Vn.NOOP_BEHAVIOR={}});var lI=k(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});Sx.ModerationUI=void 0;var aI=class{constructor(){Object.defineProperty(this,"noOverride",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"filters",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blurs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"alerts",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"informs",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get filter(){return this.filters.length!==0}get blur(){return this.blurs.length!==0}get alert(){return this.alerts.length!==0}get inform(){return this.informs.length!==0}};Sx.ModerationUI=aI});var ll=k(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});Ax.ModerationDecision=void 0;var $q=wx(),Nn=sI(),bDe=lI(),Vu=function(i){return i[i.High=0]="High",i[i.Medium=1]="Medium",i[i.Low=2]="Low",i}(Vu||{}),cI=class i{constructor(){Object.defineProperty(this,"did",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"isMe",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"causes",{enumerable:!0,configurable:!0,writable:!0,value:[]})}static merge(...e){let t=e.filter(n=>n!=null),r=new i;return t[0]&&(r.did=t[0].did,r.isMe=t[0].isMe),r.causes=t.flatMap(n=>n.causes),r}downgrade(){for(let e of this.causes)e.downgraded=!0;return this}get blocked(){return!!this.blockCause}get muted(){return!!this.muteCause}get blockCause(){return this.causes.find(e=>e.type==="blocking"||e.type==="blocked-by"||e.type==="block-other")}get muteCause(){return this.causes.find(e=>e.type==="muted")}get labelCauses(){return this.causes.filter(e=>e.type==="label")}ui(e){let t=new bDe.ModerationUI;for(let r of this.causes)if(r.type==="blocking"||r.type==="blocked-by"||r.type==="block-other"){if(this.isMe)continue;(e==="profileList"||e==="contentList")&&t.filters.push(r),r.downgraded||(Nn.BLOCK_BEHAVIOR[e]==="blur"?(t.noOverride=!0,t.blurs.push(r)):Nn.BLOCK_BEHAVIOR[e]==="alert"?t.alerts.push(r):Nn.BLOCK_BEHAVIOR[e]==="inform"&&t.informs.push(r))}else if(r.type==="muted"){if(this.isMe)continue;(e==="profileList"||e==="contentList")&&t.filters.push(r),r.downgraded||(Nn.MUTE_BEHAVIOR[e]==="blur"?t.blurs.push(r):Nn.MUTE_BEHAVIOR[e]==="alert"?t.alerts.push(r):Nn.MUTE_BEHAVIOR[e]==="inform"&&t.informs.push(r))}else if(r.type==="mute-word"){if(this.isMe)continue;e==="contentList"&&t.filters.push(r),r.downgraded||(Nn.MUTEWORD_BEHAVIOR[e]==="blur"?t.blurs.push(r):Nn.MUTEWORD_BEHAVIOR[e]==="alert"?t.alerts.push(r):Nn.MUTEWORD_BEHAVIOR[e]==="inform"&&t.informs.push(r))}else r.type==="hidden"?((e==="profileList"||e==="contentList")&&t.filters.push(r),r.downgraded||(Nn.HIDE_BEHAVIOR[e]==="blur"?t.blurs.push(r):Nn.HIDE_BEHAVIOR[e]==="alert"?t.alerts.push(r):Nn.HIDE_BEHAVIOR[e]==="inform"&&t.informs.push(r))):r.type==="label"&&(e==="profileList"&&r.target==="account"?r.setting==="hide"&&!this.isMe&&t.filters.push(r):e==="contentList"&&(r.target==="account"||r.target==="content")&&r.setting==="hide"&&!this.isMe&&t.filters.push(r),r.downgraded||(r.behavior[e]==="blur"?(t.blurs.push(r),r.noOverride&&!this.isMe&&(t.noOverride=!0)):r.behavior[e]==="alert"?t.alerts.push(r):r.behavior[e]==="inform"&&t.informs.push(r)));return t.filters.sort(zq),t.blurs.sort(zq),t}setDid(e){this.did=e}setIsMe(e){this.isMe=e}addHidden(e){e&&this.causes.push({type:"hidden",source:{type:"user"},priority:6})}addMutedWord(e){e&&this.causes.push({type:"mute-word",source:{type:"user"},priority:6})}addBlocking(e){e&&this.causes.push({type:"blocking",source:{type:"user"},priority:3})}addBlockingByList(e){e&&this.causes.push({type:"blocking",source:{type:"list",list:e},priority:3})}addBlockedBy(e){e&&this.causes.push({type:"blocked-by",source:{type:"user"},priority:4})}addBlockOther(e){e&&this.causes.push({type:"block-other",source:{type:"user"},priority:4})}addLabel(e,t,r){let n=Nn.CUSTOM_LABEL_VALUE_RE.test(t.val)&&r.labelDefs?.[t.src]?.find(g=>g.identifier===t.val)||$q.LABELS[t.val];if(!n)return;let o=t.src===this.did,s=o?void 0:r.prefs.labelers.find(g=>g.did===t.src);if(!o&&!s||o&&n.flags.includes("no-self"))return;let a=n.defaultSetting||"ignore";if(n.configurable?n.flags.includes("adult")&&!r.prefs.adultContentEnabled?a="hide":s?.labels[n.identifier]?a=s?.labels[n.identifier]:r.prefs.labels[n.identifier]&&(a=r.prefs.labels[n.identifier]):a=n.defaultSetting||"hide",a==="ignore"||n.flags.includes("unauthed")&&r.userDid)return;let l,d=_De(n.behaviors[e]);n.flags.includes("no-override")||n.flags.includes("adult")&&!r.prefs.adultContentEnabled?l=1:a==="hide"?l=2:d===Vu.High?l=5:d===Vu.Medium?l=7:l=8;let f=!1;(n.flags.includes("no-override")||n.flags.includes("adult")&&!r.prefs.adultContentEnabled)&&(f=!0),this.causes.push({type:"label",source:o||!s?{type:"user"}:{type:"labeler",did:s.did},label:t,labelDef:n,target:e,setting:a,behavior:n.behaviors[e]||Nn.NOOP_BEHAVIOR,noOverride:f,priority:l})}addMuted(e){e&&this.causes.push({type:"muted",source:{type:"user"},priority:6})}addMutedByList(e){e&&this.causes.push({type:"muted",source:{type:"list",list:e},priority:6})}};Ax.ModerationDecision=cI;function _De(i){return i?i.profileView==="blur"||i.contentView==="blur"?Vu.High:i.contentList==="blur"||i.contentMedia==="blur"?Vu.Medium:Vu.Low:Vu.Low}function zq(i,e){return i.priority-e.priority}});var vp=k(Rx=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0});Rx.decideAccount=xDe;Rx.filterAccountLabels=Kq;var vDe=ll();function xDe(i,e){let t=new vDe.ModerationDecision;t.setDid(i.did),t.setIsMe(i.did===e.userDid),i.viewer?.muted&&(i.viewer?.mutedByList?t.addMutedByList(i.viewer?.mutedByList):t.addMuted(i.viewer?.muted)),i.viewer?.blocking&&(i.viewer?.blockingByList?t.addBlockingByList(i.viewer?.blockingByList):t.addBlocking(i.viewer?.blocking)),t.addBlockedBy(i.viewer?.blockedBy);for(let r of Kq(i.labels))t.addLabel("account",r,e);return t}function Kq(i){return i?i.filter(e=>!e.uri.endsWith("/app.bsky.actor.profile/self")||e.val==="!no-unauthenticated"):[]}});var xp=k(kx=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0});kx.decideProfile=EDe;kx.filterProfileLabels=Hq;var CDe=ll();function EDe(i,e){let t=new CDe.ModerationDecision;t.setDid(i.did),t.setIsMe(i.did===e.userDid);for(let r of Hq(i.labels))t.addLabel("profile",r,e);return t}function Hq(i){return i?i.filter(e=>e.uri.endsWith("/app.bsky.actor.profile/self")):[]}});var Wq=k(uI=>{"use strict";Object.defineProperty(uI,"__esModule",{value:!0});uI.decideFeedGenerator=SDe;var Gq=ll(),TDe=vp(),wDe=xp();function SDe(i,e){let t=new Gq.ModerationDecision;if(t.setDid(i.creator.did),t.setIsMe(i.creator.did===e.userDid),i.labels?.length)for(let r of i.labels)t.addLabel("content",r,e);return Gq.ModerationDecision.merge(t,(0,TDe.decideAccount)(i.creator,e),(0,wDe.decideProfile)(i.creator,e))}});var Zq=k(dI=>{"use strict";Object.defineProperty(dI,"__esModule",{value:!0});dI.decideNotification=kDe;var Xq=ll(),ADe=vp(),RDe=xp();function kDe(i,e){let t=new Xq.ModerationDecision;if(t.setDid(i.author.did),t.setIsMe(i.author.did===e.userDid),i.labels?.length)for(let r of i.labels)t.addLabel("content",r,e);return Xq.ModerationDecision.merge(t,(0,ADe.decideAccount)(i.author,e),(0,RDe.decideProfile)(i.author,e))}});var fI=k(pI=>{"use strict";Object.defineProperty(pI,"__esModule",{value:!0});pI.hasMutedWord=PDe;var DDe=al(),Qq={LEADING_TRAILING_PUNCTUATION:new RegExp("(?:^\\p{P}+|\\p{P}+$)","gu"),ESCAPE:/[[\]{}()*+?.\\^$|\s]/g,SEPARATORS:/[/\-()[\]_]+/g,WORD_BOUNDARY:/[\s\n\t\r\f\v]+?/g},IDe=["ja","zh","ko","th","vi"];function PDe({mutedWords:i,text:e,facets:t,outlineTags:r,languages:n,actor:o}){let s=IDe.includes(n?.[0]||""),a=[].concat(r||[]).concat((t||[]).flatMap(l=>l.features.filter(DDe.AppBskyRichtextFacet.isTag).map(d=>d.tag))).map(l=>l.toLowerCase());for(let l of i){let d=l.value.toLowerCase(),f=e.toLowerCase();if(l.expiresAt&&l.expiresAt<new Date().toISOString()||l.actorTarget==="exclude-following"&&o?.viewer?.following)continue;if(a.includes(d))return!0;if(!l.targets.includes("content"))continue;if((d.length===1||s)&&f.includes(d))return!0;if(d.length>f.length)continue;if(d===f||new RegExp("(?:\\s|\\p{P})+?","u").test(d)&&f.includes(d))return!0;let g=f.split(Qq.WORD_BOUNDARY);for(let w of g){if(w===d)return!0;let A=w.replace(Qq.LEADING_TRAILING_PUNCTUATION,"");if(d===A)return!0;if(!(d.length>A.length)&&new RegExp("\\p{P}+","u").test(A)){let B=A.replace(new RegExp("\\p{P}+","gu")," ");if(B===d||B.replace(/\s/gu,"")===d)return!0;let U=A.split(new RegExp("\\p{P}+","u"));for(let q of U)if(q===d)return!0}}}return!1}});var i$=k(hI=>{"use strict";Object.defineProperty(hI,"__esModule",{value:!0});hI.decidePost=LDe;var Qt=al(),D0=ll(),Ss=fI(),e$=vp(),t$=xp();function LDe(i,e){return D0.ModerationDecision.merge(BDe(i,e),ODe(i.embed,e)?.downgrade(),(0,e$.decideAccount)(i.author,e),(0,t$.decideProfile)(i.author,e))}function BDe(i,e){let t=new D0.ModerationDecision;if(t.setDid(i.author.did),t.setIsMe(i.author.did===e.userDid),i.labels?.length)for(let r of i.labels)t.addLabel("content",r,e);return t.addHidden(MDe(i,e.prefs.hiddenPosts)),t.isMe||t.addMutedWord(VDe(i,e.prefs.mutedWords)),t}function ODe(i,e){if(i){if((Qt.AppBskyEmbedRecord.isView(i)||Qt.AppBskyEmbedRecordWithMedia.isView(i))&&Qt.AppBskyEmbedRecord.isViewRecord(i.record))return Yq(i.record,e);if(Qt.AppBskyEmbedRecordWithMedia.isView(i)&&Qt.AppBskyEmbedRecord.isViewRecord(i.record.record))return Yq(i.record.record,e);if((Qt.AppBskyEmbedRecord.isView(i)||Qt.AppBskyEmbedRecordWithMedia.isView(i))&&Qt.AppBskyEmbedRecord.isViewBlocked(i.record))return Jq(i.record,e);if(Qt.AppBskyEmbedRecordWithMedia.isView(i)&&Qt.AppBskyEmbedRecord.isViewBlocked(i.record.record))return Jq(i.record.record,e)}}function Yq(i,e){let t=new D0.ModerationDecision;if(t.setDid(i.author.did),t.setIsMe(i.author.did===e.userDid),i.labels?.length)for(let r of i.labels)t.addLabel("content",r,e);return D0.ModerationDecision.merge(t,(0,e$.decideAccount)(i.author,e),(0,t$.decideProfile)(i.author,e))}function Jq(i,e){let t=new D0.ModerationDecision;return t.setDid(i.author.did),t.setIsMe(i.author.did===e.userDid),i.author.viewer?.muted&&(i.author.viewer?.mutedByList?t.addMutedByList(i.author.viewer?.mutedByList):t.addMuted(i.author.viewer?.muted)),i.author.viewer?.blocking&&(i.author.viewer?.blockingByList?t.addBlockingByList(i.author.viewer?.blockingByList):t.addBlocking(i.author.viewer?.blocking)),t.addBlockedBy(i.author.viewer?.blockedBy),t}function MDe(i,e){return e?.length?!!(e.includes(i.uri)||i.embed&&(Qt.AppBskyEmbedRecord.isView(i.embed)&&Qt.AppBskyEmbedRecord.isViewRecord(i.embed.record)&&e.includes(i.embed.record.uri)||Qt.AppBskyEmbedRecordWithMedia.isView(i.embed)&&Qt.AppBskyEmbedRecord.isViewRecord(i.embed.record.record)&&e.includes(i.embed.record.record.uri))):!1}function VDe(i,e){if(!e?.length)return!1;let t=i.author;if(Qt.AppBskyFeedPost.isRecord(i.record)){let n=i.record;if((0,Ss.hasMutedWord)({mutedWords:e,text:n.text,facets:n.facets,outlineTags:n.tags,languages:n.langs,actor:t}))return!0;if(n.embed&&Qt.AppBskyEmbedImages.isMain(n.embed)){for(let o of n.embed.images)if((0,Ss.hasMutedWord)({mutedWords:e,text:o.alt,languages:n.langs,actor:t}))return!0}}let{embed:r}=i;if(r){if((Qt.AppBskyEmbedRecord.isView(r)||Qt.AppBskyEmbedRecordWithMedia.isView(r))&&Qt.AppBskyEmbedRecord.isViewRecord(r.record)){if(Qt.AppBskyFeedPost.isRecord(r.record.value)){let n=r.record.value,o=r.record.author;if((0,Ss.hasMutedWord)({mutedWords:e,text:n.text,facets:n.facets,outlineTags:n.tags,languages:n.langs,actor:o}))return!0;if(Qt.AppBskyEmbedImages.isMain(n.embed)){for(let s of n.embed.images)if((0,Ss.hasMutedWord)({mutedWords:e,text:s.alt,languages:n.langs,actor:o}))return!0}if(Qt.AppBskyEmbedExternal.isMain(n.embed)){let{external:s}=n.embed;if((0,Ss.hasMutedWord)({mutedWords:e,text:s.title+" "+s.description,languages:[],actor:o}))return!0}if(Qt.AppBskyEmbedRecordWithMedia.isMain(n.embed)){if(Qt.AppBskyEmbedExternal.isMain(n.embed.media)){let{external:s}=n.embed.media;if((0,Ss.hasMutedWord)({mutedWords:e,text:s.title+" "+s.description,languages:[],actor:o}))return!0}if(Qt.AppBskyEmbedImages.isMain(n.embed.media)){for(let s of n.embed.media.images)if((0,Ss.hasMutedWord)({mutedWords:e,text:s.alt,languages:Qt.AppBskyFeedPost.isRecord(n.record)?n.langs:[],actor:o}))return!0}}}}else if(Qt.AppBskyEmbedExternal.isView(r)){let{external:n}=r;if((0,Ss.hasMutedWord)({mutedWords:e,text:n.title+" "+n.description,languages:[],actor:t}))return!0}else if(Qt.AppBskyEmbedRecordWithMedia.isView(r)&&Qt.AppBskyEmbedRecord.isViewRecord(r.record.record)){let n=r.record.record.author;if(Qt.AppBskyFeedPost.isRecord(r.record.record.value)){let o=r.record.record.value;if((0,Ss.hasMutedWord)({mutedWords:e,text:o.text,facets:o.facets,outlineTags:o.tags,languages:o.langs,actor:n}))return!0}if(Qt.AppBskyEmbedImages.isView(r.media)){for(let o of r.media.images)if((0,Ss.hasMutedWord)({mutedWords:e,text:o.alt,languages:Qt.AppBskyFeedPost.isRecord(i.record)?i.record.langs:[],actor:n}))return!0}if(Qt.AppBskyEmbedExternal.isView(r.media)){let{external:o}=r.media;if((0,Ss.hasMutedWord)({mutedWords:e,text:o.title+" "+o.description,languages:[],actor:n}))return!0}}}return!1}});var n$=k(mI=>{"use strict";Object.defineProperty(mI,"__esModule",{value:!0});mI.decideUserList=jDe;var NDe=yu(),r$=ll(),FDe=vp(),UDe=xp();function jDe(i,e){let t=new r$.ModerationDecision,r="creator"in i&&qDe(i.creator)?i.creator:void 0;if(r){if(t.setDid(r.did),t.setIsMe(r.did===e.userDid),i.labels?.length)for(let o of i.labels)t.addLabel("content",o,e);return r$.ModerationDecision.merge(t,(0,FDe.decideAccount)(r,e),(0,UDe.decideProfile)(r,e))}let n=new NDe.AtUri(i.uri).hostname;if(t.setDid(n),t.setIsMe(n===e.userDid),i.labels?.length)for(let o of i.labels)t.addLabel("content",o,e);return t}function qDe(i){return i&&typeof i=="object"&&"did"in i}});var s$=k(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.isQuotedPost=zDe;Cp.isQuotedPostWithMedia=KDe;Cp.interpretLabelValueDefinition=o$;Cp.interpretLabelValueDefinitions=HDe;var gI=al(),$De=z();function zDe(i){return!!(i&&gI.AppBskyEmbedRecord.isView(i))}function KDe(i){return!!(i&&gI.AppBskyEmbedRecordWithMedia.isView(i))}function o$(i,e){let t={account:{},profile:{},content:{}},r=i.severity==="alert"?"alert":i.severity==="inform"?"inform":void 0;i.blurs==="content"?(t.account.profileList=r,t.account.profileView=r,t.account.contentList="blur",t.account.contentView=i.adultOnly?"blur":r,t.profile.profileList=r,t.profile.profileView=r,t.content.contentList="blur",t.content.contentView=i.adultOnly?"blur":r):i.blurs==="media"?(t.account.profileList=r,t.account.profileView=r,t.account.avatar="blur",t.account.banner="blur",t.profile.profileList=r,t.profile.profileView=r,t.profile.avatar="blur",t.profile.banner="blur",t.content.contentMedia="blur"):i.blurs==="none"&&(t.account.profileList=r,t.account.profileView=r,t.account.contentList=r,t.account.contentView=r,t.profile.profileList=r,t.profile.profileView=r,t.content.contentList=r,t.content.contentView=r);let n="warn";(i.defaultSetting==="hide"||i.defaultSetting==="ignore")&&(n=i.defaultSetting);let o=["no-self"];return i.adultOnly&&o.push("adult"),ue(R({},i),{definedBy:e,configurable:!0,defaultSetting:n,flags:o,behaviors:t})}function HDe(i){return(i.policies?.labelValueDefinitions||[]).filter((0,$De.asPredicate)(gI.ComAtprotoLabelDefs.validateLabelValueDefinition)).map(e=>o$(e,i.creator.did))}});var yI=k(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.interpretLabelValueDefinitions=Kr.interpretLabelValueDefinition=Kr.hasMutedWord=Kr.ModerationDecision=Kr.ModerationUI=void 0;Kr.moderateProfile=rIe;Kr.moderatePost=nIe;Kr.moderateNotification=oIe;Kr.moderateFeedGenerator=sIe;Kr.moderateUserList=aIe;var GDe=ll(),WDe=vp(),XDe=Wq(),ZDe=Zq(),QDe=i$(),YDe=xp(),JDe=n$(),eIe=lI();Object.defineProperty(Kr,"ModerationUI",{enumerable:!0,get:function(){return eIe.ModerationUI}});var tIe=ll();Object.defineProperty(Kr,"ModerationDecision",{enumerable:!0,get:function(){return tIe.ModerationDecision}});var iIe=fI();Object.defineProperty(Kr,"hasMutedWord",{enumerable:!0,get:function(){return iIe.hasMutedWord}});var a$=s$();Object.defineProperty(Kr,"interpretLabelValueDefinition",{enumerable:!0,get:function(){return a$.interpretLabelValueDefinition}});Object.defineProperty(Kr,"interpretLabelValueDefinitions",{enumerable:!0,get:function(){return a$.interpretLabelValueDefinitions}});function rIe(i,e){return GDe.ModerationDecision.merge((0,WDe.decideAccount)(i,e),(0,YDe.decideProfile)(i,e))}function nIe(i,e){return(0,QDe.decidePost)(i,e)}function oIe(i,e){return(0,ZDe.decideNotification)(i,e)}function sIe(i,e){return(0,XDe.decideFeedGenerator)(i,e)}function aIe(i,e){return(0,JDe.decideUserList)(i,e)}});var l$=k(Dx=>{"use strict";Object.defineProperty(Dx,"__esModule",{value:!0});Dx.mock=void 0;var I0="bafyreiclp443lavogvhj3d2ob2cxbfuscni2k5jk7bebjzg7khl3esabwq";Dx.mock={post({text:i,facets:e,reply:t,embed:r}){return{$type:"app.bsky.feed.post",text:i,facets:e,reply:t,embed:r,langs:["en"],createdAt:new Date().toISOString()}},postView({record:i,author:e,embed:t,replyCount:r,repostCount:n,likeCount:o,viewer:s,labels:a}){return{$type:"app.bsky.feed.defs#postView",uri:`at://${e.did}/app.bsky.feed.post/fake`,cid:I0,author:e,record:i,embed:t,replyCount:r,repostCount:n,likeCount:o,indexedAt:new Date().toISOString(),viewer:s,labels:a}},embedRecordView({record:i,author:e,labels:t}){return{$type:"app.bsky.embed.record#view",record:{$type:"app.bsky.embed.record#viewRecord",uri:`at://${e.did}/app.bsky.feed.post/fake`,cid:I0,author:e,value:i,labels:t,indexedAt:new Date().toISOString()}}},profileViewBasic({handle:i,displayName:e,description:t,viewer:r,labels:n}){return{did:`did:web:${i}`,handle:i,displayName:e,description:t,viewer:r,labels:n}},actorViewerState({muted:i,mutedByList:e,blockedBy:t,blocking:r,blockingByList:n,following:o,followedBy:s}){return{muted:i,mutedByList:e,blockedBy:t,blocking:r,blockingByList:n,following:o,followedBy:s}},listViewBasic({name:i}){return{uri:"at://did:plc:fake/app.bsky.graph.list/fake",cid:I0,name:i,purpose:"app.bsky.graph.defs#modlist",indexedAt:new Date().toISOString()}},replyNotification({author:i,record:e,labels:t}){return{uri:`at://${i.did}/app.bsky.feed.post/fake`,cid:I0,author:i,reason:"reply",reasonSubject:`at://${i.did}/app.bsky.feed.post/fake-parent`,record:e,isRead:!1,indexedAt:new Date().toISOString(),labels:t}},followNotification({author:i,subjectDid:e,labels:t}){return{uri:`at://${i.did}/app.bsky.graph.follow/fake`,cid:I0,author:i,reason:"follow",record:{$type:"app.bsky.graph.follow",createdAt:new Date().toISOString(),subject:e},isRead:!1,indexedAt:new Date().toISOString(),labels:t}},label({val:i,uri:e,src:t}){return{src:t||"did:plc:fake-labeler",uri:e,val:i,cts:new Date().toISOString()}}}});var c$=k(Nu=>{"use strict";var fa=Nu&&Nu.__classPrivateFieldGet||function(i,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)},bI=Nu&&Nu.__classPrivateFieldSet||function(i,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(i,t):n?n.value=t:e.set(i,t),t},cl,rc;Object.defineProperty(Nu,"__esModule",{value:!0});var _I=class{constructor(){cl.set(this,!1),rc.set(this,new Set)}get acquired(){return fa(this,cl,"f")}acquireAsync({timeout:e}={}){if(!fa(this,cl,"f"))return bI(this,cl,!0,"f"),Promise.resolve();if(e==null)return new Promise(n=>{fa(this,rc,"f").add(n)});let t,r;return Promise.race([new Promise(n=>{t=()=>{clearTimeout(r),n()},fa(this,rc,"f").add(t)}),new Promise((n,o)=>{r=setTimeout(()=>{fa(this,rc,"f").delete(t),o(new Error("Timed out waiting for lock"))},e)})])}tryAcquire(){return fa(this,cl,"f")?!1:(bI(this,cl,!0,"f"),!0)}release(){if(!fa(this,cl,"f"))throw new Error("Cannot release an unacquired lock");if(fa(this,rc,"f").size>0){let[e]=fa(this,rc,"f");fa(this,rc,"f").delete(e),e()}else bI(this,cl,!1,"f")}};Nu.default=_I;cl=new WeakMap,rc=new WeakMap});var u$=k(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.isValidThreadViewPref=mi.isValidSavedFeedsPrefV2=mi.isValidSavedFeedsPref=mi.isValidPostInteractionSettingsPref=mi.isValidPersonalDetailsPref=mi.isValidMutedWordsPref=mi.isValidLabelersPref=mi.isValidInterestsPref=mi.isValidHiddenPostsPref=mi.isValidFeedViewPref=mi.isValidContentLabelPref=mi.isValidBskyAppStatePref=mi.isValidAdultContentPref=mi.isValidProfile=void 0;var Fn=al(),Un=z();mi.isValidProfile=(0,Un.asPredicate)(Fn.AppBskyActorProfile.validateRecord);mi.isValidAdultContentPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateAdultContentPref);mi.isValidBskyAppStatePref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateBskyAppStatePref);mi.isValidContentLabelPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateContentLabelPref);mi.isValidFeedViewPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateFeedViewPref);mi.isValidHiddenPostsPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateHiddenPostsPref);mi.isValidInterestsPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateInterestsPref);mi.isValidLabelersPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateLabelersPref);mi.isValidMutedWordsPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateMutedWordsPref);mi.isValidPersonalDetailsPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validatePersonalDetailsPref);mi.isValidPostInteractionSettingsPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validatePostInteractionSettingsPref);mi.isValidSavedFeedsPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateSavedFeedsPref);mi.isValidSavedFeedsPrefV2=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateSavedFeedsPrefV2);mi.isValidThreadViewPref=(0,Un.asPredicate)(Fn.AppBskyActorDefs.validateThreadViewPref)});var CI=k(jn=>{"use strict";var lIe=jn&&jn.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),cIe=jn&&jn.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),uIe=jn&&jn.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&lIe(e,i,t);return cIe(e,i),e},d$=jn&&jn.__classPrivateFieldGet||function(i,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)},dIe=jn&&jn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},Ix;Object.defineProperty(jn,"__esModule",{value:!0});jn.Agent=void 0;var pIe=dIe(c$()),ul=Js(),Ep=yu(),p$=et(),ai=al(),fIe=$(),hIe=hA(),mIe=yI(),gIe=wx(),Nt=uIe(u$()),mn=mA(),f$={hideReplies:!1,hideRepliesByUnfollowed:!0,hideRepliesByLikeCount:0,hideReposts:!1,hideQuotePosts:!1},yIe={sort:"hotness",prioritizeFollowedUsers:!0},Px=class i extends p$.XrpcClient{static configure(e){e.appLabelers&&(this.appLabelers=e.appLabelers.map(mn.asDid))}get xrpc(){return this}constructor(e){let t=typeof e=="string"||e instanceof URL?{did:void 0,fetchHandler:(0,p$.buildFetchHandler)(e)}:e;super((r,n)=>{let o=new Headers(n?.headers);return this.proxy&&!o.has("atproto-proxy")&&o.set("atproto-proxy",this.proxy),o.set("atproto-accept-labelers",[...this.appLabelers.map(s=>`${s};redact`),...this.labelers,o.get("atproto-accept-labelers")?.trim()].filter(Boolean).join(", ")),this.sessionManager.fetchHandler(r,ue(R({},n),{headers:o}))},fIe.schemas),Object.defineProperty(this,"com",{enumerable:!0,configurable:!0,writable:!0,value:new ai.ComNS(this)}),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:new ai.AppNS(this)}),Object.defineProperty(this,"chat",{enumerable:!0,configurable:!0,writable:!0,value:new ai.ChatNS(this)}),Object.defineProperty(this,"tools",{enumerable:!0,configurable:!0,writable:!0,value:new ai.ToolsNS(this)}),Object.defineProperty(this,"sessionManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"labelers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"uploadBlob",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.com.atproto.repo.uploadBlob(r,n)}),Object.defineProperty(this,"resolveHandle",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.com.atproto.identity.resolveHandle(r,n)}),Object.defineProperty(this,"updateHandle",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.com.atproto.identity.updateHandle(r,n)}),Object.defineProperty(this,"createModerationReport",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.com.atproto.moderation.createReport(r,n)}),Object.defineProperty(this,"getTimeline",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.feed.getTimeline(r,n)}),Object.defineProperty(this,"getAuthorFeed",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.feed.getAuthorFeed(r,n)}),Object.defineProperty(this,"getActorLikes",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.feed.getActorLikes(r,n)}),Object.defineProperty(this,"getPostThread",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.feed.getPostThread(r,n)}),Object.defineProperty(this,"getPost",{enumerable:!0,configurable:!0,writable:!0,value:r=>this.app.bsky.feed.post.get(r)}),Object.defineProperty(this,"getPosts",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.feed.getPosts(r,n)}),Object.defineProperty(this,"getLikes",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.feed.getLikes(r,n)}),Object.defineProperty(this,"getRepostedBy",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.feed.getRepostedBy(r,n)}),Object.defineProperty(this,"getFollows",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.graph.getFollows(r,n)}),Object.defineProperty(this,"getFollowers",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.graph.getFollowers(r,n)}),Object.defineProperty(this,"getProfile",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.actor.getProfile(r,n)}),Object.defineProperty(this,"getProfiles",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.actor.getProfiles(r,n)}),Object.defineProperty(this,"getSuggestions",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.actor.getSuggestions(r,n)}),Object.defineProperty(this,"searchActors",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.actor.searchActors(r,n)}),Object.defineProperty(this,"searchActorsTypeahead",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.actor.searchActorsTypeahead(r,n)}),Object.defineProperty(this,"listNotifications",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.notification.listNotifications(r,n)}),Object.defineProperty(this,"countUnreadNotifications",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.notification.getUnreadCount(r,n)}),Object.defineProperty(this,"getLabelers",{enumerable:!0,configurable:!0,writable:!0,value:(r,n)=>this.app.bsky.labeler.getServices(r,n)}),Ix.set(this,new pIe.default),this.sessionManager=t}clone(){return this.copyInto(new i(this.sessionManager))}copyInto(e){e.configureLabelers(this.labelers),e.configureProxy(this.proxy??null),e.clearHeaders();for(let[t,r]of this.headers)e.setHeader(t,r);return e}withProxy(e,t){let r=this.clone();return r.configureProxy(`${(0,mn.asDid)(t)}#${e}`),r}get appLabelers(){return this.constructor.appLabelers}configureLabelers(e){this.labelers=e.map(mn.asDid)}configureLabelersHeader(e){this.configureLabelers(e.filter(mn.isDid))}configureProxy(e){if(e===null)this.proxy=void 0;else if((0,mn.isDid)(e))this.proxy=e;else throw new TypeError("Invalid proxy DID")}configureProxyHeader(e,t){(0,mn.isDid)(t)&&this.configureProxy(`${t}#${e}`)}get did(){return this.sessionManager.did}get accountDid(){return this.assertDid}get assertDid(){return this.assertAuthenticated(),this.did}assertAuthenticated(){if(!this.did)throw new Error("Not logged in")}get api(){return this}getLabelDefinitions(e){return Y(this,null,function*(){let t=[...this.appLabelers];vIe(e)?t.push(...e.moderationPrefs.labelers.map(o=>o.did)):m$(e)?t.push(...e.labelers.map(o=>o.did)):t.push(...e);let r=yield this.getLabelers({dids:t,detailed:!0}),n={};if(r.data)for(let o of r.data.views)n[o.creator.did]=(0,mIe.interpretLabelValueDefinitions)(o);return n})}post(e){return Y(this,null,function*(){return e.createdAt||(e.createdAt=new Date().toISOString()),this.app.bsky.feed.post.create({repo:this.accountDid},e)})}deletePost(e){return Y(this,null,function*(){this.assertAuthenticated();let t=new Ep.AtUri(e);return this.app.bsky.feed.post.delete({repo:t.hostname,rkey:t.rkey})})}like(e,t){return Y(this,null,function*(){return this.app.bsky.feed.like.create({repo:this.accountDid},{subject:{uri:e,cid:t},createdAt:new Date().toISOString()})})}deleteLike(e){return Y(this,null,function*(){this.assertAuthenticated();let t=new Ep.AtUri(e);return this.app.bsky.feed.like.delete({repo:t.hostname,rkey:t.rkey})})}repost(e,t){return Y(this,null,function*(){return this.app.bsky.feed.repost.create({repo:this.accountDid},{subject:{uri:e,cid:t},createdAt:new Date().toISOString()})})}deleteRepost(e){return Y(this,null,function*(){this.assertAuthenticated();let t=new Ep.AtUri(e);return this.app.bsky.feed.repost.delete({repo:t.hostname,rkey:t.rkey})})}follow(e){return Y(this,null,function*(){return this.app.bsky.graph.follow.create({repo:this.accountDid},{subject:e,createdAt:new Date().toISOString()})})}deleteFollow(e){return Y(this,null,function*(){this.assertAuthenticated();let t=new Ep.AtUri(e);return this.app.bsky.graph.follow.delete({repo:t.hostname,rkey:t.rkey})})}upsertProfile(e){return Y(this,null,function*(){let t=()=>Y(this,null,function*(){let r=this.assertDid,n="app.bsky.actor.profile",o=yield this.com.atproto.repo.getRecord({repo:r,collection:n,rkey:"self"}).catch(d=>{}),s=o&&Nt.isValidProfile(o.data.value)?o.data.value:void 0,a=yield e(s),l=ai.AppBskyActorProfile.validateRecord(R({$type:n},a));if(!l.success)throw l.error;yield this.com.atproto.repo.putRecord({repo:r,collection:n,rkey:"self",record:l.value,swapRecord:o?.data.cid||null})});return(0,ul.retry)(t,{maxRetries:5,retryable:r=>r instanceof ai.ComAtprotoRepoPutRecord.InvalidSwapError})})}mute(e){return Y(this,null,function*(){return this.app.bsky.graph.muteActor({actor:e})})}unmute(e){return Y(this,null,function*(){return this.app.bsky.graph.unmuteActor({actor:e})})}muteModList(e){return Y(this,null,function*(){return this.app.bsky.graph.muteActorList({list:e})})}unmuteModList(e){return Y(this,null,function*(){return this.app.bsky.graph.unmuteActorList({list:e})})}blockModList(e){return Y(this,null,function*(){return this.app.bsky.graph.listblock.create({repo:this.accountDid},{subject:e,createdAt:new Date().toISOString()})})}unblockModList(e){return Y(this,null,function*(){let t=this.accountDid,n=(yield this.app.bsky.graph.getList({list:e,limit:1})).data.list.viewer?.blocked;if(n){let{rkey:o}=new Ep.AtUri(n);return this.app.bsky.graph.listblock.delete({repo:t,rkey:o})}})}updateSeenNotifications(){return Y(this,arguments,function*(e=new Date().toISOString()){return this.app.bsky.notification.updateSeen({seenAt:e})})}getPreferences(){return Y(this,null,function*(){let e={feeds:{saved:void 0,pinned:void 0},savedFeeds:void 0,feedViewPrefs:{home:R({},f$)},threadViewPrefs:R({},yIe),moderationPrefs:{adultContentEnabled:!1,labels:R({},gIe.DEFAULT_LABEL_SETTINGS),labelers:this.appLabelers.map(a=>({did:a,labels:{}})),mutedWords:[],hiddenPosts:[]},birthDate:void 0,interests:{tags:[]},bskyAppState:{queuedNudges:[],activeProgressGuide:void 0,nuxs:[]},postInteractionSettings:{threadgateAllowRules:void 0,postgateEmbeddingRules:void 0}},t=yield this.app.bsky.actor.getPreferences({}),r=[];for(let a of t.data.preferences)if(Nt.isValidAdultContentPref(a))e.moderationPrefs.adultContentEnabled=a.enabled;else if(Nt.isValidContentLabelPref(a)){let l=bIe(a);r.push(l)}else if(Nt.isValidLabelersPref(a))e.moderationPrefs.labelers=this.appLabelers.map(l=>({did:l,labels:{}})).concat(a.labelers.map(l=>ue(R({},l),{labels:{}})));else if(Nt.isValidSavedFeedsPrefV2(a))e.savedFeeds=a.items;else if(Nt.isValidSavedFeedsPref(a))e.feeds.saved=a.saved,e.feeds.pinned=a.pinned;else if(Nt.isValidPersonalDetailsPref(a))a.birthDate&&(e.birthDate=new Date(a.birthDate));else if(Nt.isValidFeedViewPref(a)){let n=a,{$type:l,feed:d}=n,f=Eh(n,["$type","feed"]);e.feedViewPrefs[d]=R(R({},f$),f)}else if(Nt.isValidThreadViewPref(a)){let o=a,{$type:l}=o,d=Eh(o,["$type"]);e.threadViewPrefs=R(R({},e.threadViewPrefs),d)}else if(Nt.isValidInterestsPref(a)){let s=a,{$type:l}=s,d=Eh(s,["$type"]);e.interests=R(R({},e.interests),d)}else Nt.isValidMutedWordsPref(a)?(e.moderationPrefs.mutedWords=a.items,e.moderationPrefs.mutedWords.length&&(e.moderationPrefs.mutedWords=e.moderationPrefs.mutedWords.map(l=>(l.actorTarget=l.actorTarget||"all",l)))):Nt.isValidHiddenPostsPref(a)?e.moderationPrefs.hiddenPosts=a.items:Nt.isValidBskyAppStatePref(a)?(e.bskyAppState.queuedNudges=a.queuedNudges||[],e.bskyAppState.activeProgressGuide=a.activeProgressGuide,e.bskyAppState.nuxs=a.nuxs||[]):Nt.isValidPostInteractionSettingsPref(a)&&(e.postInteractionSettings.threadgateAllowRules=a.threadgateAllowRules,e.postInteractionSettings.postgateEmbeddingRules=a.postgateEmbeddingRules);if(e.savedFeeds==null){let{saved:a,pinned:l}=e.feeds;if(a&&l){let d=new Map;d.set("timeline",{id:ul.TID.nextStr(),type:"timeline",value:"following",pinned:!0});for(let f of l){let g=(0,mn.getSavedFeedType)(f);g!=="unknown"&&d.set(f,{id:ul.TID.nextStr(),type:g,value:f,pinned:!0})}for(let f of a)if(!d.has(f)){let g=(0,mn.getSavedFeedType)(f);if(g==="unknown")continue;d.set(f,{id:ul.TID.nextStr(),type:g,value:f,pinned:!1})}e.savedFeeds=Array.from(d.values())}else e.savedFeeds=[{id:ul.TID.nextStr(),type:"timeline",value:"following",pinned:!0}];yield this.overwriteSavedFeeds(e.savedFeeds)}for(let a of r)if(a.labelerDid){let l=e.moderationPrefs.labelers.find(d=>d.did===a.labelerDid);if(!l)continue;l.labels[a.label]=a.visibility}else e.moderationPrefs.labels[a.label]=a.visibility;return e.moderationPrefs.labels=_Ie(e.moderationPrefs.labels),this.configureLabelers(vI(t.data.preferences)),e})}overwriteSavedFeeds(e){return Y(this,null,function*(){e.forEach(mn.validateSavedFeed);let t=new Map;return e.forEach(r=>{t.has(r.id)&&t.delete(r.id),t.set(r.id,r)}),this.updateSavedFeedsV2Preferences(()=>Array.from(t.values()))})}updateSavedFeeds(e){return Y(this,null,function*(){return e.map(mn.validateSavedFeed),this.updateSavedFeedsV2Preferences(t=>t.map(r=>{let n=e.find(o=>r.id===o.id);return n?ue(R({},r),{pinned:n.pinned}):r}))})}addSavedFeeds(e){return Y(this,null,function*(){let t=e.map(r=>ue(R({},r),{id:ul.TID.nextStr()}));return t.forEach(mn.validateSavedFeed),this.updateSavedFeedsV2Preferences(r=>[...r,...t])})}removeSavedFeeds(e){return Y(this,null,function*(){return this.updateSavedFeedsV2Preferences(t=>[...t.filter(r=>!e.find(n=>r.id===n))])})}setSavedFeeds(e,t){return Y(this,null,function*(){return this.updateFeedPreferences(()=>({saved:e,pinned:t}))})}addSavedFeed(e){return Y(this,null,function*(){return this.updateFeedPreferences((t,r)=>({saved:[...t.filter(n=>n!==e),e],pinned:r}))})}removeSavedFeed(e){return Y(this,null,function*(){return this.updateFeedPreferences((t,r)=>({saved:t.filter(n=>n!==e),pinned:r.filter(n=>n!==e)}))})}addPinnedFeed(e){return Y(this,null,function*(){return this.updateFeedPreferences((t,r)=>({saved:[...t.filter(n=>n!==e),e],pinned:[...r.filter(n=>n!==e),e]}))})}removePinnedFeed(e){return Y(this,null,function*(){return this.updateFeedPreferences((t,r)=>({saved:t,pinned:r.filter(n=>n!==e)}))})}setAdultContentEnabled(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidAdultContentPref)||{$type:"app.bsky.actor.defs#adultContentPref",enabled:e};return r.enabled=e,t.filter(n=>!ai.AppBskyActorDefs.isAdultContentPref(n)).concat(r)})})}setContentLabelPref(e,t,r){return Y(this,null,function*(){r&&(0,Ep.ensureValidDid)(r),yield this.updatePreferences(n=>{let o=n.filter(Nt.isValidContentLabelPref).findLast(a=>a.label===e&&a.labelerDid===r)||{$type:"app.bsky.actor.defs#contentLabelPref",label:e,labelerDid:r,visibility:t};o.visibility=t;let s;if(ai.AppBskyActorDefs.isContentLabelPref(o)&&!o.labelerDid){let a={"graphic-media":"gore",porn:"nsfw",sexual:"suggestive",__proto__:null}[o.label];a&&(s=n.filter(Nt.isValidContentLabelPref).findLast(l=>l.label===a&&l.labelerDid===void 0)||{$type:"app.bsky.actor.defs#contentLabelPref",label:a,labelerDid:void 0,visibility:t},s.visibility=t)}return n.filter(a=>!ai.AppBskyActorDefs.isContentLabelPref(a)||!(a.label===e&&a.labelerDid===r)).concat(o).filter(a=>s?!ai.AppBskyActorDefs.isContentLabelPref(a)||!(a.label===s.label&&a.labelerDid===void 0):!0).concat(s?[s]:[])})})}addLabeler(e){return Y(this,null,function*(){let t=yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidLabelersPref)||{$type:"app.bsky.actor.defs#labelersPref",labelers:[]};return n.labelers.some(o=>o.did===e)||n.labelers.push({did:e}),r.filter(o=>!ai.AppBskyActorDefs.isLabelersPref(o)).concat(n)});this.configureLabelers(vI(t))})}removeLabeler(e){return Y(this,null,function*(){let t=yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidLabelersPref)||{$type:"app.bsky.actor.defs#labelersPref",labelers:[]};return n.labelers=n.labelers.filter(o=>o.did!==e),r.filter(o=>!ai.AppBskyActorDefs.isLabelersPref(o)).concat(n)});this.configureLabelers(vI(t))})}setPersonalDetails(t){return Y(this,arguments,function*({birthDate:e}){yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidPersonalDetailsPref)||{$type:"app.bsky.actor.defs#personalDetailsPref"};return n.birthDate=e instanceof Date?e.toISOString():e,r.filter(o=>!ai.AppBskyActorDefs.isPersonalDetailsPref(o)).concat(n)})})}setFeedViewPrefs(e,t){return Y(this,null,function*(){yield this.updatePreferences(r=>{let n=r.filter(Nt.isValidFeedViewPref).findLast(o=>o.feed===e);return r.filter(o=>!ai.AppBskyActorDefs.isFeedViewPref(o)||o.feed!==e).concat(ue(R(R({},n),t),{$type:"app.bsky.actor.defs#feedViewPref",feed:e}))})})}setThreadViewPrefs(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidThreadViewPref);return t.filter(n=>!ai.AppBskyActorDefs.isThreadViewPref(n)).concat(ue(R(R({},r),e),{$type:"app.bsky.actor.defs#threadViewPref"}))})})}setInterestsPref(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidInterestsPref);return t.filter(n=>!ai.AppBskyActorDefs.isInterestsPref(n)).concat(ue(R(R({},r),e),{$type:"app.bsky.actor.defs#interestsPref"}))})})}addMutedWord(e){return Y(this,null,function*(){let t=(0,mn.sanitizeMutedWordValue)(e.value);t&&(yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidMutedWordsPref),o={id:ul.TID.nextStr(),value:t,targets:e.targets||[],actorTarget:e.actorTarget||"all",expiresAt:e.expiresAt||void 0};return n?(n.items.push(o),n.items=xI(n.items)):n={$type:"app.bsky.actor.defs#mutedWordsPref",items:[o]},r.filter(s=>!ai.AppBskyActorDefs.isMutedWordsPref(s)).concat(n)}))})}addMutedWords(e){return Y(this,null,function*(){yield Promise.all(e.map(t=>this.addMutedWord(t)))})}upsertMutedWords(e){return Y(this,null,function*(){yield this.addMutedWords(e)})}updateMutedWord(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidMutedWordsPref);return r?(r.items=r.items.map(n=>{if(h$(n,e)){let s=R(R({},n),e);return{id:n.id||ul.TID.nextStr(),value:(0,mn.sanitizeMutedWordValue)(s.value)||n.value,targets:s.targets||[],actorTarget:s.actorTarget||"all",expiresAt:s.expiresAt||void 0}}else return n}),r.items=xI(r.items),t.filter(n=>!ai.AppBskyActorDefs.isMutedWordsPref(n)).concat(r)):t})})}removeMutedWord(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidMutedWordsPref);if(r){for(let n=0;n<r.items.length;n++)if(h$(r.items[n],e)){r.items.splice(n,1);break}return r.items=xI(r.items),t.filter(n=>!ai.AppBskyActorDefs.isMutedWordsPref(n)).concat(r)}return t})})}removeMutedWords(e){return Y(this,null,function*(){yield Promise.all(e.map(t=>this.removeMutedWord(t)))})}hidePost(e){return Y(this,null,function*(){yield this.updateHiddenPost(e,"hide")})}unhidePost(e){return Y(this,null,function*(){yield this.updateHiddenPost(e,"unhide")})}bskyAppQueueNudges(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidBskyAppStatePref)||{$type:"app.bsky.actor.defs#bskyAppStatePref"};return r.queuedNudges=(r.queuedNudges||[]).concat(e),t.filter(n=>!ai.AppBskyActorDefs.isBskyAppStatePref(n)).concat(r)})})}bskyAppDismissNudges(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidBskyAppStatePref)||{$type:"app.bsky.actor.defs#bskyAppStatePref"};return e=Array.isArray(e)?e:[e],r.queuedNudges=(r.queuedNudges||[]).filter(n=>!e.includes(n)),t.filter(n=>!ai.AppBskyActorDefs.isBskyAppStatePref(n)).concat(r)})})}bskyAppSetActiveProgressGuide(e){return Y(this,null,function*(){if(e){let t=ai.AppBskyActorDefs.validateBskyAppProgressGuide(e);if(!t.success)throw t.error}yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidBskyAppStatePref)||{$type:"app.bsky.actor.defs#bskyAppStatePref"};return r.activeProgressGuide=e,t.filter(n=>!ai.AppBskyActorDefs.isBskyAppStatePref(n)).concat(r)})})}bskyAppUpsertNux(e){return Y(this,null,function*(){(0,mn.validateNux)(e),yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidBskyAppStatePref)||{$type:"app.bsky.actor.defs#bskyAppStatePref"};r.nuxs=r.nuxs||[];let n=r.nuxs?.find(s=>s.id===e.id),o;return n?o={id:n.id,completed:e.completed,data:e.data,expiresAt:e.expiresAt}:o=e,r.nuxs=r.nuxs.filter(s=>s.id!==e.id).concat(o),t.filter(s=>!ai.AppBskyActorDefs.isBskyAppStatePref(s)).concat(r)})})}bskyAppRemoveNuxs(e){return Y(this,null,function*(){yield this.updatePreferences(t=>{let r=t.findLast(Nt.isValidBskyAppStatePref)||{$type:"app.bsky.actor.defs#bskyAppStatePref"};return r.nuxs=(r.nuxs||[]).filter(n=>!e.includes(n.id)),t.filter(n=>!ai.AppBskyActorDefs.isBskyAppStatePref(n)).concat(r)})})}setPostInteractionSettings(e){return Y(this,null,function*(){let t=ai.AppBskyActorDefs.validatePostInteractionSettingsPref(e);if(!t.success)throw t.error;yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidPostInteractionSettingsPref)||{$type:"app.bsky.actor.defs#postInteractionSettingsPref"};return n.threadgateAllowRules=e.threadgateAllowRules,n.postgateEmbeddingRules=e.postgateEmbeddingRules,r.filter(o=>!ai.AppBskyActorDefs.isPostInteractionSettingsPref(o)).concat(n)})})}updatePreferences(e){return Y(this,null,function*(){try{yield d$(this,Ix,"f").acquireAsync();let t=yield this.app.bsky.actor.getPreferences({}),r=e(t.data.preferences);return r===!1?t.data.preferences:(yield this.app.bsky.actor.putPreferences({preferences:r}),r)}finally{d$(this,Ix,"f").release()}})}updateHiddenPost(e,t){return Y(this,null,function*(){yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidHiddenPostsPref)||{$type:"app.bsky.actor.defs#hiddenPostsPref",items:[]},o=new Set(n.items);return t==="hide"?o.add(e):o.delete(e),n.items=[...o],r.filter(s=>!ai.AppBskyActorDefs.isHiddenPostsPref(s)).concat(n)})})}updateFeedPreferences(e){return Y(this,null,function*(){let t;return yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidSavedFeedsPref)||{$type:"app.bsky.actor.defs#savedFeedsPref",saved:[],pinned:[]};return t=e(n.saved,n.pinned),n.saved=t.saved,n.pinned=t.pinned,r.filter(o=>!ai.AppBskyActorDefs.isSavedFeedsPref(o)).concat(n)}),t})}updateSavedFeedsV2Preferences(e){return Y(this,null,function*(){let t=[];return yield this.updatePreferences(r=>{let n=r.findLast(Nt.isValidSavedFeedsPrefV2)||{$type:"app.bsky.actor.defs#savedFeedsPrefV2",items:[]},o=e(n.items);n.items=[...o].sort((l,d)=>l.pinned===d.pinned?0:l.pinned?-1:1),t=o;let s=r.filter(l=>!ai.AppBskyActorDefs.isSavedFeedsPrefV2(l)).concat(n),a=r.findLast(Nt.isValidSavedFeedsPref);if(a){let{saved:l,pinned:d}=a,f=(0,mn.savedFeedsToUriArrays)(n.items.filter(g=>["feed","list"].includes(g.type)));a=ue(R({},a),{saved:Array.from(new Set([...l,...f.saved])),pinned:Array.from(new Set([...d,...f.pinned]))}),s=s.filter(g=>!ai.AppBskyActorDefs.isSavedFeedsPref(g)).concat(a)}return s}),t})}};jn.Agent=Px;Ix=new WeakMap;Object.defineProperty(Px,"appLabelers",{enumerable:!0,configurable:!0,writable:!0,value:[hIe.BSKY_LABELER_DID]});function bIe(i){let e=i.visibility;return e==="show"&&(e="ignore"),ue(R({},i),{visibility:e})}function _Ie(i){let e=R({},i),t={gore:"graphic-media",nsfw:"porn",suggestive:"sexual"};for(let r in e){let n=t[r];n&&(e[n]=e[r])}return e}function vI(i){let e=i.findLast(Nt.isValidLabelersPref),t=[];return e&&(t=e.labelers.map(r=>r.did)),t}function vIe(i){return i&&typeof i=="object"&&"moderationPrefs"in i&&m$(i.moderationPrefs)}function m$(i){return i&&typeof i=="object"&&"labelers"in i}function xI(i){return i.map(e=>ue(R({},e),{id:e.id||ul.TID.nextStr()}))}function h$(i,e){let t=i.id,r=t&&t===e.id,n=!t&&i.value===e.value;return r||n}});var P0=k(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.CredentialSession=wp.AtpAgent=void 0;var g$=Js(),Fu=et(),xIe=CI(),CIe=al(),EIe=$(),y$=globalThis.ReadableStream,EI=class i extends xIe.Agent{constructor(e){let t=e instanceof Tp?e:new Tp(new URL(e.service),e.fetch,e.persistSession);if(super(t),Object.defineProperty(this,"sessionManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.sessionManager=t,!(e instanceof Tp)&&e.headers)for(let[r,n]of e.headers)this.setHeader(r,n)}clone(){return this.copyInto(new i(this.sessionManager))}get session(){return this.sessionManager.session}get hasSession(){return this.sessionManager.hasSession}get did(){return this.sessionManager.did}get serviceUrl(){return this.sessionManager.serviceUrl}get pdsUrl(){return this.sessionManager.pdsUrl}get dispatchUrl(){return this.sessionManager.dispatchUrl}get service(){return this.serviceUrl}get persistSession(){throw new Error('Cannot set persistSession directly. "persistSession" is defined through the constructor and will be invoked automatically when session data changes.')}set persistSession(e){throw new Error('Cannot set persistSession directly. "persistSession" must be defined in the constructor and can no longer be changed.')}getServiceUrl(){return this.serviceUrl}resumeSession(e){return Y(this,null,function*(){return this.sessionManager.resumeSession(e)})}createAccount(e,t){return Y(this,null,function*(){return this.sessionManager.createAccount(e,t)})}login(e){return Y(this,null,function*(){return this.sessionManager.login(e)})}logout(){return Y(this,null,function*(){return this.sessionManager.logout()})}};wp.AtpAgent=EI;var Tp=class{constructor(e,t=globalThis.fetch,r){Object.defineProperty(this,"serviceUrl",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"persistSession",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"pdsUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"refreshSessionPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"server",{enumerable:!0,configurable:!0,writable:!0,value:new CIe.ComAtprotoServerNS(new Fu.XrpcClient((n,o)=>(0,this.fetch)(new URL(n,this.serviceUrl),o),EIe.schemas))})}get did(){return this.session?.did}get dispatchUrl(){return this.pdsUrl||this.serviceUrl}get hasSession(){return!!this.session}setFetch(e=globalThis.fetch){this.fetch=e}fetchHandler(e,t){return Y(this,null,function*(){yield this.refreshSessionPromise;let r=new URL(e,this.dispatchUrl),n=new Request(r,t),o=this.session?.accessJwt;if(!o||n.headers.has("authorization"))return(0,this.fetch)(n);n.headers.set("authorization",`Bearer ${o}`);let s=yield(0,this.fetch)(n);if(!this.session?.refreshJwt||!(yield wIe(s,[400],["ExpiredToken"])))return s;try{yield this.refreshSession()}catch{return s}if(t?.signal?.aborted||y$&&t?.body instanceof y$)return s;let l=this.session?.accessJwt;if(!l||l===o)return s;yield s.body?.cancel();let d=new URL(e,this.dispatchUrl),f=new Request(d,t);return f.headers.set("authorization",`Bearer ${l}`),yield(0,this.fetch)(f)})}createAccount(e,t){return Y(this,null,function*(){try{let r=yield this.server.createAccount(e,t);return this.session={accessJwt:r.data.accessJwt,refreshJwt:r.data.refreshJwt,handle:r.data.handle,did:r.data.did,email:e.email,emailConfirmed:!1,emailAuthFactor:!1,active:!0},this.persistSession?.("create",this.session),this._updateApiEndpoint(r.data.didDoc),r}catch(r){throw this.session=void 0,this.persistSession?.("create-failed",void 0),r}})}login(e){return Y(this,null,function*(){try{let t=yield this.server.createSession({identifier:e.identifier,password:e.password,authFactorToken:e.authFactorToken,allowTakendown:e.allowTakendown});return this.session={accessJwt:t.data.accessJwt,refreshJwt:t.data.refreshJwt,handle:t.data.handle,did:t.data.did,email:t.data.email,emailConfirmed:t.data.emailConfirmed,emailAuthFactor:t.data.emailAuthFactor,active:t.data.active??!0,status:t.data.status},this._updateApiEndpoint(t.data.didDoc),this.persistSession?.("create",this.session),t}catch(t){throw this.session=void 0,this.persistSession?.("create-failed",void 0),t}})}logout(){return Y(this,null,function*(){if(this.session)try{yield this.server.deleteSession(void 0,{headers:{authorization:`Bearer ${this.session.refreshJwt}`}})}catch{}finally{this.session=void 0,this.persistSession?.("expired",void 0)}})}resumeSession(e){return Y(this,null,function*(){this.session=e;try{let t=yield this.server.getSession(void 0,{headers:{authorization:`Bearer ${e.accessJwt}`}}).catch(r=>Y(this,null,function*(){if(r instanceof Fu.XRPCError&&["ExpiredToken","InvalidToken"].includes(r.error)&&e.refreshJwt)try{let n=yield this.server.refreshSession(void 0,{headers:{authorization:`Bearer ${e.refreshJwt}`}});return e.accessJwt=n.data.accessJwt,e.refreshJwt=n.data.refreshJwt,this.server.getSession(void 0,{headers:{authorization:`Bearer ${e.accessJwt}`}})}catch{}throw r}));if(t.data.did!==e.did)throw new Fu.XRPCError(Fu.ResponseType.InvalidRequest,"Invalid session","InvalidDID");return e.email=t.data.email,e.handle=t.data.handle,e.emailConfirmed=t.data.emailConfirmed,e.emailAuthFactor=t.data.emailAuthFactor,e.active=t.data.active??!0,e.status=t.data.status,this.session===e&&(this._updateApiEndpoint(t.data.didDoc),this.persistSession?.("update",e)),t}catch(t){throw this.session===e&&(this.session=void 0,this.persistSession?.(t instanceof Fu.XRPCError&&["ExpiredToken","InvalidToken"].includes(t.error)?"expired":"network-error",void 0)),t}})}refreshSession(){return Y(this,null,function*(){return this.refreshSessionPromise||(this.refreshSessionPromise=this._refreshSessionInner().finally(()=>{this.refreshSessionPromise=void 0}))})}_refreshSessionInner(){return Y(this,null,function*(){if(this.session?.refreshJwt)try{let e=yield this.server.refreshSession(void 0,{headers:{authorization:`Bearer ${this.session.refreshJwt}`}});this.session=ue(R({},this.session),{accessJwt:e.data.accessJwt,refreshJwt:e.data.refreshJwt,handle:e.data.handle,did:e.data.did}),this._updateApiEndpoint(e.data.didDoc),this.persistSession?.("update",this.session)}catch(e){e instanceof Fu.XRPCError&&e.error&&["ExpiredToken","InvalidToken"].includes(e.error)&&(this.session=void 0,this.persistSession?.("expired",void 0))}})}_updateApiEndpoint(e){if((0,g$.isValidDidDoc)(e)){let t=(0,g$.getPdsEndpoint)(e);this.pdsUrl=t?new URL(t):void 0}else this.pdsUrl=void 0}};wp.CredentialSession=Tp;function TIe(i){return Fu.errorResponseBody.safeParse(i).success}function wIe(i,e,t){return Y(this,null,function*(){if(!e.includes(i.status))return!1;try{let r=yield SIe(i,10240);return TIe(r)&&t.includes(r.error)}catch{return!1}})}function SIe(i,e=1/0){return Y(this,null,function*(){if(RIe(i)!=="application/json")throw new Error("Not JSON");if(AIe(i)>e)throw new Error("Response too large");return i.clone().json()})}function AIe({headers:i}){return i.get("Content-Length")?Number(i.get("Content-Length")):NaN}function RIe({headers:i}){return i.get("Content-Type")?.split(";")[0]?.trim()}});var b$=k(Lx=>{"use strict";Object.defineProperty(Lx,"__esModule",{value:!0});Lx.BskyAgent=void 0;var kIe=P0(),TI=class i extends kIe.AtpAgent{clone(){if(this.constructor===i){let e=new i(this.sessionManager);return this.copyInto(e)}throw new TypeError("Cannot clone a subclass of BskyAgent")}};Lx.BskyAgent=TI});var Pi=k(ot=>{"use strict";var DIe=ot&&ot.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),As=ot&&ot.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DIe(e,i,t)};Object.defineProperty(ot,"__esModule",{value:!0});ot.lexicons=ot.default=ot.BskyAgent=ot.CredentialSession=ot.AtpAgent=ot.Agent=ot.LABELS=ot.DEFAULT_LABEL_SETTINGS=ot.asPredicate=ot.schemas=ot.parseLanguage=ot.stringifyLex=ot.lexToJson=ot.jsonToLex=ot.jsonStringToLex=ot.BlobRef=ot.AtUri=void 0;var IIe=Cu(),PIe=$(),LIe=yu();Object.defineProperty(ot,"AtUri",{enumerable:!0,get:function(){return LIe.AtUri}});var L0=Cu();Object.defineProperty(ot,"BlobRef",{enumerable:!0,get:function(){return L0.BlobRef}});Object.defineProperty(ot,"jsonStringToLex",{enumerable:!0,get:function(){return L0.jsonStringToLex}});Object.defineProperty(ot,"jsonToLex",{enumerable:!0,get:function(){return L0.jsonToLex}});Object.defineProperty(ot,"lexToJson",{enumerable:!0,get:function(){return L0.lexToJson}});Object.defineProperty(ot,"stringifyLex",{enumerable:!0,get:function(){return L0.stringifyLex}});var BIe=Js();Object.defineProperty(ot,"parseLanguage",{enumerable:!0,get:function(){return BIe.parseLanguage}});As(S8(),ot);As(hA(),ot);As(mA(),ot);As(al(),ot);var OIe=$();Object.defineProperty(ot,"schemas",{enumerable:!0,get:function(){return OIe.schemas}});var MIe=z();Object.defineProperty(ot,"asPredicate",{enumerable:!0,get:function(){return MIe.asPredicate}});As(qq(),ot);As(iI(),ot);As(Ex(),ot);As(JD(),ot);As(yI(),ot);As(sI(),ot);As(l$(),ot);var _$=wx();Object.defineProperty(ot,"DEFAULT_LABEL_SETTINGS",{enumerable:!0,get:function(){return _$.DEFAULT_LABEL_SETTINGS}});Object.defineProperty(ot,"LABELS",{enumerable:!0,get:function(){return _$.LABELS}});var VIe=CI();Object.defineProperty(ot,"Agent",{enumerable:!0,get:function(){return VIe.Agent}});var NIe=P0();Object.defineProperty(ot,"AtpAgent",{enumerable:!0,get:function(){return NIe.AtpAgent}});var FIe=P0();Object.defineProperty(ot,"CredentialSession",{enumerable:!0,get:function(){return FIe.CredentialSession}});var UIe=b$();Object.defineProperty(ot,"BskyAgent",{enumerable:!0,get:function(){return UIe.BskyAgent}});var jIe=P0();Object.defineProperty(ot,"default",{enumerable:!0,get:function(){return jIe.AtpAgent}});ot.lexicons=new IIe.Lexicons(PIe.lexicons)});var _a=k((P0t,nK)=>{"use strict";var q0;typeof window<"u"?q0=window:typeof global<"u"?q0=global:typeof self<"u"?q0=self:q0={};nK.exports=q0});var QI=k((L0t,sK)=>{"use strict";var oK=Array.prototype.slice;sK.exports=V5e;function V5e(i,e){for(("length"in i)||(i=[i]),i=oK.call(i);i.length;){var t=i.shift(),r=e(t);if(r)return r;t.childNodes&&t.childNodes.length&&(i=oK.call(t.childNodes).concat(i))}}});var lK=k((B0t,aK)=>{"use strict";aK.exports=zp;function zp(i,e){if(!(this instanceof zp))return new zp(i,e);this.data=i,this.nodeValue=i,this.length=i.length,this.ownerDocument=e||null}zp.prototype.nodeType=8;zp.prototype.nodeName="#comment";zp.prototype.toString=function(){return"[object Comment]"}});var uK=k((O0t,cK)=>{"use strict";cK.exports=mc;function mc(i,e){if(!(this instanceof mc))return new mc(i);this.data=i||"",this.length=this.data.length,this.ownerDocument=e||null}mc.prototype.type="DOMTextNode";mc.prototype.nodeType=3;mc.prototype.nodeName="#text";mc.prototype.toString=function(){return this.data};mc.prototype.replaceData=function(e,t,r){var n=this.data,o=n.substring(0,e),s=n.substring(e+t,n.length);this.data=o+r+s,this.length=this.data.length}});var YI=k((M0t,dK)=>{"use strict";dK.exports=N5e;function N5e(i){var e=this,t=i.type;i.target||(i.target=e),e.listeners||(e.listeners={});var r=e.listeners[t];if(r)return r.forEach(function(n){i.currentTarget=e,typeof n=="function"?n(i):n.handleEvent(i)});e.parentNode&&e.parentNode.dispatchEvent(i)}});var JI=k((V0t,pK)=>{"use strict";pK.exports=F5e;function F5e(i,e){var t=this;t.listeners||(t.listeners={}),t.listeners[i]||(t.listeners[i]=[]),t.listeners[i].indexOf(e)===-1&&t.listeners[i].push(e)}});var eP=k((N0t,fK)=>{"use strict";fK.exports=U5e;function U5e(i,e){var t=this;if(t.listeners&&t.listeners[i]){var r=t.listeners[i],n=r.indexOf(e);n!==-1&&r.splice(n,1)}}});var yK=k((F0t,gK)=>{"use strict";gK.exports=hK;var j5e=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function hK(i){switch(i.nodeType){case 3:return tP(i.data);case 8:return"<!--"+i.data+"-->";default:return q5e(i)}}function q5e(i){var e=[],t=i.tagName;return i.namespaceURI==="http://www.w3.org/1999/xhtml"&&(t=t.toLowerCase()),e.push("<"+t+H5e(i)+K5e(i)),j5e.indexOf(t)>-1?e.push(" />"):(e.push(">"),i.childNodes.length?e.push.apply(e,i.childNodes.map(hK)):i.textContent||i.innerText?e.push(tP(i.textContent||i.innerText)):i.innerHTML&&e.push(i.innerHTML),e.push("</"+t+">")),e.join("")}function $5e(i,e){var t=typeof i[e];return e==="style"&&Object.keys(i.style).length>0?!0:i.hasOwnProperty(e)&&(t==="string"||t==="boolean"||t==="number")&&e!=="nodeName"&&e!=="className"&&e!=="tagName"&&e!=="textContent"&&e!=="innerText"&&e!=="namespaceURI"&&e!=="innerHTML"}function z5e(i){if(typeof i=="string")return i;var e="";return Object.keys(i).forEach(function(t){var r=i[t];t=t.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}),e+=t+":"+r+";"}),e}function K5e(i){var e=i.dataset,t=[];for(var r in e)t.push({name:"data-"+r,value:e[r]});return t.length?mK(t):""}function mK(i){var e=[];return i.forEach(function(t){var r=t.name,n=t.value;r==="style"&&(n=z5e(n)),e.push(r+'="'+G5e(n)+'"')}),e.length?" "+e.join(" "):""}function H5e(i){var e=[];for(var t in i)$5e(i,t)&&e.push({name:t,value:i[t]});for(var r in i._attributes)for(var n in i._attributes[r]){var o=i._attributes[r][n],s=(o.prefix?o.prefix+":":"")+n;e.push({name:s,value:o.value})}return i.className&&e.push({name:"class",value:i.className}),e.length?mK(e):""}function tP(i){var e="";return typeof i=="string"?e=i:i&&(e=i.toString()),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function G5e(i){return tP(i).replace(/"/g,"&quot;")}});var rP=k((U0t,_K)=>{"use strict";var iP=QI(),W5e=YI(),X5e=JI(),Z5e=eP(),Q5e=yK(),bK="http://www.w3.org/1999/xhtml";_K.exports=Hi;function Hi(i,e,t){if(!(this instanceof Hi))return new Hi(i);var r=t===void 0?bK:t||null;this.tagName=r===bK?String(i).toUpperCase():i,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=e||null,this.namespaceURI=r,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}Hi.prototype.type="DOMElement";Hi.prototype.nodeType=1;Hi.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e};Hi.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var r=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[r]=e,e.parentNode=this,t};Hi.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e};Hi.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var r=t==null?-1:this.childNodes.indexOf(t);return r>-1?this.childNodes.splice(r,0,e):this.childNodes.push(e),e.parentNode=this,e};Hi.prototype.setAttributeNS=function(e,t,r){var n=null,o=t,s=t.indexOf(":");if(s>-1&&(n=t.substr(0,s),o=t.substr(s+1)),this.tagName==="INPUT"&&t==="type")this.type=r;else{var a=this._attributes[e]||(this._attributes[e]={});a[o]={value:r,prefix:n}}};Hi.prototype.getAttributeNS=function(e,t){var r=this._attributes[e],n=r&&r[t]&&r[t].value;return this.tagName==="INPUT"&&t==="type"?this.type:typeof n!="string"?null:n};Hi.prototype.removeAttributeNS=function(e,t){var r=this._attributes[e];r&&delete r[t]};Hi.prototype.hasAttributeNS=function(e,t){var r=this._attributes[e];return!!r&&t in r};Hi.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)};Hi.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)};Hi.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)};Hi.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)};Hi.prototype.removeEventListener=Z5e;Hi.prototype.addEventListener=X5e;Hi.prototype.dispatchEvent=W5e;Hi.prototype.focus=function(){};Hi.prototype.toString=function(){return Q5e(this)};Hi.prototype.getElementsByClassName=function(e){var t=e.split(" "),r=[];return iP(this,function(n){if(n.nodeType===1){var o=n.className||"",s=o.split(" ");t.every(function(a){return s.indexOf(a)!==-1})&&r.push(n)}}),r};Hi.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return iP(this.childNodes,function(r){r.nodeType===1&&(e==="*"||r.tagName.toLowerCase()===e)&&t.push(r)}),t};Hi.prototype.contains=function(e){return iP(this,function(t){return e===t})||!1}});var xK=k((j0t,vK)=>{"use strict";var nP=rP();vK.exports=va;function va(i){if(!(this instanceof va))return new va;this.childNodes=[],this.parentNode=null,this.ownerDocument=i||null}va.prototype.type="DocumentFragment";va.prototype.nodeType=11;va.prototype.nodeName="#document-fragment";va.prototype.appendChild=nP.prototype.appendChild;va.prototype.replaceChild=nP.prototype.replaceChild;va.prototype.removeChild=nP.prototype.removeChild;va.prototype.toString=function(){return this.childNodes.map(function(e){return String(e)}).join("")}});var EK=k((q0t,CK)=>{"use strict";CK.exports=oP;function oP(i){}oP.prototype.initEvent=function(e,t,r){this.type=e,this.bubbles=t,this.cancelable=r};oP.prototype.preventDefault=function(){}});var wK=k(($0t,TK)=>{"use strict";var Y5e=QI(),J5e=lK(),eBe=uK(),$0=rP(),tBe=xK(),iBe=EK(),rBe=YI(),nBe=JI(),oBe=eP();TK.exports=lC;function lC(){if(!(this instanceof lC))return new lC;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var xo=lC.prototype;xo.createTextNode=function(e){return new eBe(e,this)};xo.createElementNS=function(e,t){var r=e===null?null:String(e);return new $0(t,this,r)};xo.createElement=function(e){return new $0(e,this)};xo.createDocumentFragment=function(){return new tBe(this)};xo.createEvent=function(e){return new iBe(e)};xo.createComment=function(e){return new J5e(e,this)};xo.getElementById=function(e){e=String(e);var t=Y5e(this.childNodes,function(r){if(String(r.id)===e)return r});return t||null};xo.getElementsByClassName=$0.prototype.getElementsByClassName;xo.getElementsByTagName=$0.prototype.getElementsByTagName;xo.contains=$0.prototype.contains;xo.removeEventListener=oBe;xo.addEventListener=nBe;xo.dispatchEvent=rBe});var AK=k((z0t,SK)=>{"use strict";var sBe=wK();SK.exports=new sBe});var sP=k((K0t,kK)=>{"use strict";var RK=typeof global<"u"?global:typeof window<"u"?window:{},aBe=AK(),z0;typeof document<"u"?z0=document:(z0=RK["__GLOBAL_DOCUMENT_CACHE@4"],z0||(z0=RK["__GLOBAL_DOCUMENT_CACHE@4"]=aBe));kK.exports=z0});var DK=k((H0t,pl)=>{"use strict";function aP(){return pl.exports=aP=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},pl.exports.__esModule=!0,pl.exports.default=pl.exports,aP.apply(null,arguments)}pl.exports=aP,pl.exports.__esModule=!0,pl.exports.default=pl.exports});var PK=k((G0t,IK)=>{"use strict";IK.exports=cBe;var lBe=Object.prototype.toString;function cBe(i){if(!i)return!1;var e=lBe.call(i);return e==="[object Function]"||typeof i=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}});var OK=k((W0t,BK)=>{"use strict";function uBe(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t)return(t=t.call(i)).next.bind(t);if(Array.isArray(i)||(t=dBe(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0;return function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dBe(i,e){if(i){if(typeof i=="string")return LK(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LK(i,e)}}function LK(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var pBe=function(){function i(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=i.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(r,n){this.typeToInterceptorsMap_.has(r)||this.typeToInterceptorsMap_.set(r,new Set);var o=this.typeToInterceptorsMap_.get(r);return o.has(n)?!1:(o.add(n),!0)},e.removeInterceptor=function(r,n){var o=this.typeToInterceptorsMap_.get(r);return o&&o.has(n)?(o.delete(n),!0):!1},e.clearInterceptorsByType=function(r){var n=this.typeToInterceptorsMap_.get(r);return n?(this.typeToInterceptorsMap_.delete(r),this.typeToInterceptorsMap_.set(r,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(r){return this.typeToInterceptorsMap_.get(r)||new Set},e.execute=function(r,n){for(var o=this.getForType(r),s=uBe(o),a;!(a=s()).done;){var l=a.value;try{n=l(n)}catch{}}return n},i}();BK.exports=pBe});var VK=k((X0t,MK)=>{"use strict";var fBe=function(){function i(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=i.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(r){this.maxAttempts_=r},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(r){this.delayFactor_=r},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(r){this.fuzzFactor_=r},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(r){this.initialDelay_=r},e.createRetry=function(r){var n=r===void 0?{}:r,o=n.maxAttempts,s=n.delayFactor,a=n.fuzzFactor,l=n.initialDelay;return new hBe({maxAttempts:o||this.maxAttempts_,delayFactor:s||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},i}(),hBe=function(){function i(t){this.maxAttempts_=t.maxAttempts,this.delayFactor_=t.delayFactor,this.fuzzFactor_=t.fuzzFactor,this.currentDelay_=t.initialDelay,this.currentAttempt_=1}var e=i.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var r=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+r},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var r=this.getCurrentMinPossibleDelay(),n=this.getCurrentMaxPossibleDelay();return r+Math.random()*(n-r)},i}();MK.exports=fBe});var FK=k((Z0t,NK)=>{"use strict";var mBe=_a(),gBe=function(e,t){return t===void 0&&(t=!1),function(r,n,o){if(r){e(r);return}if(n.statusCode>=400&&n.statusCode<=599){var s=o;if(t)if(mBe.TextDecoder){var a=yBe(n.headers&&n.headers["content-type"]);try{s=new TextDecoder(a).decode(o)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:s});return}e(null,o)}};function yBe(i){return i===void 0&&(i=""),i.toLowerCase().split(";").reduce(function(e,t){var r=t.split("="),n=r[0],o=r[1];return n.trim()==="charset"?o.trim():e},"utf-8")}NK.exports=gBe});var $K=k((Q0t,cP)=>{"use strict";var UK=_a(),bBe=DK(),_Be=PK(),jK=OK(),vBe=VK();fr.httpHandler=FK();fr.requestInterceptorsStorage=new jK;fr.responseInterceptorsStorage=new jK;fr.retryManager=new vBe;var xBe=function(e){var t={};return e&&e.trim().split(`
`).forEach(function(r){var n=r.indexOf(":"),o=r.slice(0,n).trim().toLowerCase(),s=r.slice(n+1).trim();typeof t[o]>"u"?t[o]=s:Array.isArray(t[o])?t[o].push(s):t[o]=[t[o],s]}),t};cP.exports=fr;cP.exports.default=fr;fr.XMLHttpRequest=UK.XMLHttpRequest||wBe;fr.XDomainRequest="withCredentials"in new fr.XMLHttpRequest?fr.XMLHttpRequest:UK.XDomainRequest;CBe(["get","put","post","patch","head","delete"],function(i){fr[i==="delete"?"del":i]=function(e,t,r){return t=qK(e,t,r),t.method=i.toUpperCase(),lP(t)}});function CBe(i,e){for(var t=0;t<i.length;t++)e(i[t])}function EBe(i){for(var e in i)if(i.hasOwnProperty(e))return!1;return!0}function qK(i,e,t){var r=i;return _Be(e)?(t=e,typeof i=="string"&&(r={uri:i})):r=bBe({},e,{uri:i}),r.callback=t,r}function fr(i,e,t){return e=qK(i,e,t),lP(e)}function lP(i){if(typeof i.callback>"u")throw new Error("callback argument missing");if(i.requestType&&fr.requestInterceptorsStorage.getIsEnabled()){var e={uri:i.uri||i.url,headers:i.headers||{},body:i.body,metadata:i.metadata||{},retry:i.retry,timeout:i.timeout},t=fr.requestInterceptorsStorage.execute(i.requestType,e);i.uri=t.uri,i.headers=t.headers,i.body=t.body,i.metadata=t.metadata,i.retry=t.retry,i.timeout=t.timeout}var r=!1,n=function(re,ge,ce){r||(r=!0,i.callback(re,ge,ce))};function o(){d.readyState===4&&!fr.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function s(){var Z=void 0;if(d.response?Z=d.response:Z=d.responseText||TBe(d),q)try{Z=JSON.parse(Z)}catch{}return Z}function a(Z){if(clearTimeout(G),clearTimeout(i.retryTimeout),Z instanceof Error||(Z=new Error(""+(Z||"Unknown XMLHttpRequest Error"))),Z.statusCode=0,!g&&fr.retryManager.getIsEnabled()&&i.retry&&i.retry.shouldRetry()){i.retryTimeout=setTimeout(function(){i.retry.moveToNextAttempt(),i.xhr=d,lP(i)},i.retry.getCurrentFuzzedDelay());return}if(i.requestType&&fr.responseInterceptorsStorage.getIsEnabled()){var re={headers:K.headers||{},body:K.body,responseUrl:d.responseURL,responseType:d.responseType},ge=fr.responseInterceptorsStorage.execute(i.requestType,re);K.body=ge.body,K.headers=ge.headers}return n(Z,K)}function l(){if(!g){var Z;clearTimeout(G),clearTimeout(i.retryTimeout),i.useXDR&&d.status===void 0?Z=200:Z=d.status===1223?204:d.status;var re=K,ge=null;if(Z!==0?(re={body:s(),statusCode:Z,method:A,headers:{},url:w,rawRequest:d},d.getAllResponseHeaders&&(re.headers=xBe(d.getAllResponseHeaders()))):ge=new Error("Internal XMLHttpRequest Error"),i.requestType&&fr.responseInterceptorsStorage.getIsEnabled()){var ce={headers:re.headers||{},body:re.body,responseUrl:d.responseURL,responseType:d.responseType},Ee=fr.responseInterceptorsStorage.execute(i.requestType,ce);re.body=Ee.body,re.headers=Ee.headers}return n(ge,re,re.body)}}var d=i.xhr||null;d||(i.cors||i.useXDR?d=new fr.XDomainRequest:d=new fr.XMLHttpRequest);var f,g,w=d.url=i.uri||i.url,A=d.method=i.method||"GET",B=i.body||i.data,S=d.headers=i.headers||{},U=!!i.sync,q=!1,G,K={body:void 0,headers:{},statusCode:0,method:A,url:w,rawRequest:d};if("json"in i&&i.json!==!1&&(q=!0,S.accept||S.Accept||(S.Accept="application/json"),A!=="GET"&&A!=="HEAD"&&(S["content-type"]||S["Content-Type"]||(S["Content-Type"]="application/json"),B=JSON.stringify(i.json===!0?B:i.json))),d.onreadystatechange=o,d.onload=l,d.onerror=a,d.onprogress=function(){},d.onabort=function(){g=!0,clearTimeout(i.retryTimeout)},d.ontimeout=a,d.open(A,w,!U,i.username,i.password),U||(d.withCredentials=!!i.withCredentials),!U&&i.timeout>0&&(G=setTimeout(function(){if(!g){g=!0,d.abort("timeout");var Z=new Error("XMLHttpRequest timeout");Z.code="ETIMEDOUT",a(Z)}},i.timeout)),d.setRequestHeader)for(f in S)S.hasOwnProperty(f)&&d.setRequestHeader(f,S[f]);else if(i.headers&&!EBe(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(d.responseType=i.responseType),"beforeSend"in i&&typeof i.beforeSend=="function"&&i.beforeSend(d),d.send(B||null),d}function TBe(i){try{if(i.responseType==="document")return i.responseXML;var e=i.responseXML&&i.responseXML.documentElement.nodeName==="parsererror";if(i.responseType===""&&!e)return i.responseXML}catch{}return null}function wBe(){}});var ZK=k((Y0t,XK)=>{"use strict";var zK=sP(),dP=Object.create||function(){function i(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return i.prototype=e,new i}}();function Co(i,e){this.name="ParsingError",this.code=i.code,this.message=e||i.message}Co.prototype=dP(Error.prototype);Co.prototype.constructor=Co;Co.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function pP(i){function e(r,n,o,s){return(r|0)*3600+(n|0)*60+(o|0)+(s|0)/1e3}var t=i.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return t?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null}function H0(){this.values=dP(null)}H0.prototype={set:function(i,e){!this.get(i)&&e!==""&&(this.values[i]=e)},get:function(i,e,t){return t?this.has(i)?this.values[i]:e[t]:this.has(i)?this.values[i]:e},has:function(i){return i in this.values},alt:function(i,e,t){for(var r=0;r<t.length;++r)if(e===t[r]){this.set(i,e);break}},integer:function(i,e){/^-?\d+$/.test(e)&&this.set(i,parseInt(e,10))},percent:function(i,e){var t;return(t=e.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(i,e),!0):!1}};function K0(i,e,t,r){var n=r?i.split(r):[i];for(var o in n)if(typeof n[o]=="string"){var s=n[o].split(t);if(s.length===2){var a=s[0].trim(),l=s[1].trim();e(a,l)}}}function SBe(i,e,t){var r=i;function n(){var a=pP(i);if(a===null)throw new Co(Co.Errors.BadTimeStamp,"Malformed timestamp: "+r);return i=i.replace(/^[^\sa-zA-Z-]+/,""),a}function o(a,l){var d=new H0;K0(a,function(f,g){switch(f){case"region":for(var w=t.length-1;w>=0;w--)if(t[w].id===g){d.set(f,t[w].region);break}break;case"vertical":d.alt(f,g,["rl","lr"]);break;case"line":var A=g.split(","),B=A[0];d.integer(f,B),d.percent(f,B)&&d.set("snapToLines",!1),d.alt(f,B,["auto"]),A.length===2&&d.alt("lineAlign",A[1],["start","center","end"]);break;case"position":A=g.split(","),d.percent(f,A[0]),A.length===2&&d.alt("positionAlign",A[1],["start","center","end"]);break;case"size":d.percent(f,g);break;case"align":d.alt(f,g,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=d.get("region",null),l.vertical=d.get("vertical","");try{l.line=d.get("line","auto")}catch{}l.lineAlign=d.get("lineAlign","start"),l.snapToLines=d.get("snapToLines",!0),l.size=d.get("size",100);try{l.align=d.get("align","center")}catch{l.align=d.get("align","middle")}try{l.position=d.get("position","auto")}catch{l.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){i=i.replace(/^\s+/,"")}if(s(),e.startTime=n(),s(),i.substr(0,3)!=="-->")throw new Co(Co.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);i=i.substr(3),s(),e.endTime=n(),s(),o(i,e)}var uP=zK.createElement&&zK.createElement("textarea"),ABe={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},KK={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},RBe={v:"title",lang:"lang"},HK={rt:"ruby"};function WK(i,e){function t(){if(!e)return null;function B(U){return e=e.substr(U.length),U}var S=e.match(/^([^<]*)(<[^>]*>?)?/);return B(S[1]?S[1]:S[2])}function r(B){return uP.innerHTML=B,B=uP.textContent,uP.textContent="",B}function n(B,S){return!HK[S.localName]||HK[S.localName]===B.localName}function o(B,S){var U=ABe[B];if(!U)return null;var q=i.document.createElement(U),G=RBe[B];return G&&S&&(q[G]=S.trim()),q}for(var s=i.document.createElement("div"),a=s,l,d=[];(l=t())!==null;){if(l[0]==="<"){if(l[1]==="/"){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),a=a.parentNode);continue}var f=pP(l.substr(1,l.length-2)),g;if(f){g=i.document.createProcessingInstruction("timestamp",f),a.appendChild(g);continue}var w=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!w||(g=o(w[1],w[3]),!g)||!n(a,g))continue;if(w[2]){var A=w[2].split(".");A.forEach(function(B){var S=/^bg_/.test(B),U=S?B.slice(3):B;if(KK.hasOwnProperty(U)){var q=S?"background-color":"color",G=KK[U];g.style[q]=G}}),g.className=A.join(" ")}d.push(w[1]),a.appendChild(g),a=g;continue}a.appendChild(i.document.createTextNode(r(l)))}return s}var GK=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function kBe(i){for(var e=0;e<GK.length;e++){var t=GK[e];if(i>=t[0]&&i<=t[1])return!0}return!1}function DBe(i){var e=[],t="",r;if(!i||!i.childNodes)return"ltr";function n(a,l){for(var d=l.childNodes.length-1;d>=0;d--)a.push(l.childNodes[d])}function o(a){if(!a||!a.length)return null;var l=a.pop(),d=l.textContent||l.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):d}if(l.tagName==="ruby")return o(a);if(l.childNodes)return n(a,l),o(a)}for(n(e,i);t=o(e);)for(var s=0;s<t.length;s++)if(r=t.charCodeAt(s),kBe(r))return"rtl";return"ltr"}function IBe(i){if(typeof i.line=="number"&&(i.snapToLines||i.line>=0&&i.line<=100))return i.line;if(!i.track||!i.track.textTrackList||!i.track.textTrackList.mediaElement)return-1;for(var e=i.track,t=e.textTrackList,r=0,n=0;n<t.length&&t[n]!==e;n++)t[n].mode==="showing"&&r++;return++r*-1}function uC(){}uC.prototype.applyStyles=function(i,e){e=e||this.div;for(var t in i)i.hasOwnProperty(t)&&(e.style[t]=i[t])};uC.prototype.formatStyle=function(i,e){return i===0?0:i+e};function cC(i,e,t){uC.call(this),this.cue=e,this.cueDiv=WK(i,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=i.document.createElement("div"),r={direction:DBe(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:t.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":case"line-left":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":case"line-right":n=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}cC.prototype=dP(uC.prototype);cC.prototype.constructor=cC;function yn(i){var e,t,r,n;if(i.div){t=i.div.offsetHeight,r=i.div.offsetWidth,n=i.div.offsetTop;var o=(o=i.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();i=i.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,i.height/o.length):0}this.left=i.left,this.right=i.right,this.top=i.top||n,this.height=i.height||t,this.bottom=i.bottom||n+(i.height||t),this.width=i.width||r,this.lineHeight=e!==void 0?e:i.lineHeight}yn.prototype.move=function(i,e){switch(e=e!==void 0?e:this.lineHeight,i){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};yn.prototype.overlaps=function(i){return this.left<i.right&&this.right>i.left&&this.top<i.bottom&&this.bottom>i.top};yn.prototype.overlapsAny=function(i){for(var e=0;e<i.length;e++)if(this.overlaps(i[e]))return!0;return!1};yn.prototype.within=function(i){return this.top>=i.top&&this.bottom<=i.bottom&&this.left>=i.left&&this.right<=i.right};yn.prototype.overlapsOppositeAxis=function(i,e){switch(e){case"+x":return this.left<i.left;case"-x":return this.right>i.right;case"+y":return this.top<i.top;case"-y":return this.bottom>i.bottom}};yn.prototype.intersectPercentage=function(i){var e=Math.max(0,Math.min(this.right,i.right)-Math.max(this.left,i.left)),t=Math.max(0,Math.min(this.bottom,i.bottom)-Math.max(this.top,i.top)),r=e*t;return r/(this.height*this.width)};yn.prototype.toCSSCompatValues=function(i){return{top:this.top-i.top,bottom:i.bottom-this.bottom,left:this.left-i.left,right:i.right-this.right,height:this.height,width:this.width}};yn.getSimpleBoxPosition=function(i){var e=i.div?i.div.offsetHeight:i.tagName?i.offsetHeight:0,t=i.div?i.div.offsetWidth:i.tagName?i.offsetWidth:0,r=i.div?i.div.offsetTop:i.tagName?i.offsetTop:0;i=i.div?i.div.getBoundingClientRect():i.tagName?i.getBoundingClientRect():i;var n={left:i.left,right:i.right,top:i.top||r,height:i.height||e,bottom:i.bottom||r+(i.height||e),width:i.width||t};return n};function PBe(i,e,t,r){function n(U,q){for(var G,K=new yn(U),Z=1,re=0;re<q.length;re++){for(;U.overlapsOppositeAxis(t,q[re])||U.within(t)&&U.overlapsAny(r);)U.move(q[re]);if(U.within(t))return U;var ge=U.intersectPercentage(t);Z>ge&&(G=new yn(U),Z=ge),U=new yn(K)}return G||K}var o=new yn(e),s=e.cue,a=IBe(s),l=[];if(s.snapToLines){var d;switch(s.vertical){case"":l=["+y","-y"],d="height";break;case"rl":l=["+x","-x"],d="width";break;case"lr":l=["-x","+x"],d="width";break}var f=o.lineHeight,g=f*Math.round(a),w=t[d]+f,A=l[0];Math.abs(g)>w&&(g=g<0?-1:1,g*=Math.ceil(w/f)*f),a<0&&(g+=s.vertical===""?t.height:t.width,l=l.reverse()),o.move(A,g)}else{var B=o.lineHeight/t.height*100;switch(s.lineAlign){case"center":a-=B/2;break;case"end":a-=B;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],o=new yn(e)}var S=n(o,l);e.move(S.toCSSCompatValues(t))}function Kp(){}Kp.StringDecoder=function(){return{decode:function(i){if(!i)return"";if(typeof i!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(i))}}};Kp.convertCueToDOMTree=function(i,e){return!i||!e?null:WK(i,e)};var LBe=.05,BBe="sans-serif",OBe="1.5%";Kp.processCues=function(i,e,t){if(!i||!e||!t)return null;for(;t.firstChild;)t.removeChild(t.firstChild);var r=i.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=OBe,t.appendChild(r);function n(f){for(var g=0;g<f.length;g++)if(f[g].hasBeenReset||!f[g].displayState)return!0;return!1}if(!n(e)){for(var o=0;o<e.length;o++)r.appendChild(e[o].displayState);return}var s=[],a=yn.getSimpleBoxPosition(r),l=Math.round(a.height*LBe*100)/100,d={font:l+"px "+BBe};(function(){for(var f,g,w=0;w<e.length;w++)g=e[w],f=new cC(i,g,d),r.appendChild(f.div),PBe(i,f,a,s),g.displayState=f.div,s.push(yn.getSimpleBoxPosition(f))})()};Kp.Parser=function(i,e,t){t||(t=e,e={}),e||(e={}),this.window=i,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]};Kp.Parser.prototype={reportOrThrowError:function(i){if(i instanceof Co)this.onparsingerror&&this.onparsingerror(i);else throw i},parse:function(i){var e=this;i&&(e.buffer+=e.decoder.decode(i,{stream:!0}));function t(){for(var f=e.buffer,g=0;g<f.length&&f[g]!=="\r"&&f[g]!==`
`;)++g;var w=f.substr(0,g);return f[g]==="\r"&&++g,f[g]===`
`&&++g,e.buffer=f.substr(g),w}function r(f){var g=new H0;if(K0(f,function(A,B){switch(A){case"id":g.set(A,B);break;case"width":g.percent(A,B);break;case"lines":g.integer(A,B);break;case"regionanchor":case"viewportanchor":var S=B.split(",");if(S.length!==2)break;var U=new H0;if(U.percent("x",S[0]),U.percent("y",S[1]),!U.has("x")||!U.has("y"))break;g.set(A+"X",U.get("x")),g.set(A+"Y",U.get("y"));break;case"scroll":g.alt(A,B,["up"]);break}},/=/,/\s/),g.has("id")){var w=new(e.vttjs.VTTRegion||e.window.VTTRegion);w.width=g.get("width",100),w.lines=g.get("lines",3),w.regionAnchorX=g.get("regionanchorX",0),w.regionAnchorY=g.get("regionanchorY",100),w.viewportAnchorX=g.get("viewportanchorX",0),w.viewportAnchorY=g.get("viewportanchorY",100),w.scroll=g.get("scroll",""),e.onregion&&e.onregion(w),e.regionList.push({id:g.get("id"),region:w})}}function n(f){var g=new H0;K0(f,function(w,A){switch(w){case"MPEGT":g.integer(w+"S",A);break;case"LOCA":g.set(w+"L",pP(A));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:g.get("MPEGTS"),LOCAL:g.get("LOCAL")})}function o(f){f.match(/X-TIMESTAMP-MAP/)?K0(f,function(g,w){switch(g){case"X-TIMESTAMP-MAP":n(w);break}},/=/):K0(f,function(g,w){switch(g){case"Region":r(w);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=t();var a=s.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Co(Co.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:s=t(),e.state){case"HEADER":/:/.test(s)?o(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{SBe(s,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=s.indexOf("-->")!==-1;if(!s||d&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var i=this;try{if(i.buffer+=i.decoder.decode(),(i.cue||i.state==="HEADER")&&(i.buffer+=`

`,i.parse()),i.state==="INITIAL")throw new Co(Co.Errors.BadSignature)}catch(e){i.reportOrThrowError(e)}return i.onflush&&i.onflush(),this}};XK.exports=Kp});var JK=k((J0t,YK)=>{"use strict";var MBe="auto",VBe={"":1,lr:1,rl:1},NBe={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function FBe(i){if(typeof i!="string")return!1;var e=VBe[i.toLowerCase()];return e?i.toLowerCase():!1}function fP(i){if(typeof i!="string")return!1;var e=NBe[i.toLowerCase()];return e?i.toLowerCase():!1}function QK(i,e,t){this.hasBeenReset=!1;var r="",n=!1,o=i,s=e,a=t,l=null,d="",f=!0,g="auto",w="start",A="auto",B="auto",S=100,U="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(q){r=""+q}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(q){n=!!q}},startTime:{enumerable:!0,get:function(){return o},set:function(q){if(typeof q!="number")throw new TypeError("Start time must be set to a number.");o=q,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(q){if(typeof q!="number")throw new TypeError("End time must be set to a number.");s=q,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(q){a=""+q,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(q){l=q,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(q){var G=FBe(q);if(G===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=G,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(q){f=!!q,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return g},set:function(q){if(typeof q!="number"&&q!==MBe)throw new SyntaxError("Line: an invalid number or illegal string was specified.");g=q,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return w},set:function(q){var G=fP(q);G?(w=G,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return A},set:function(q){if(q<0||q>100)throw new Error("Position must be between 0 and 100.");A=q,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return B},set:function(q){var G=fP(q);G?(B=G,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return S},set:function(q){if(q<0||q>100)throw new Error("Size must be between 0 and 100.");S=q,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return U},set:function(q){var G=fP(q);if(!G)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");U=G,this.hasBeenReset=!0}}}),this.displayState=void 0}QK.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};YK.exports=QK});var tH=k((egt,eH)=>{"use strict";var UBe={"":!0,up:!0};function jBe(i){if(typeof i!="string")return!1;var e=UBe[i.toLowerCase()];return e?i.toLowerCase():!1}function G0(i){return typeof i=="number"&&i>=0&&i<=100}function qBe(){var i=100,e=3,t=0,r=100,n=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return i},set:function(a){if(!G0(a))throw new Error("Width must be between 0 and 100.");i=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(a){if(!G0(a))throw new Error("RegionAnchorX must be between 0 and 100.");r=a}},regionAnchorX:{enumerable:!0,get:function(){return t},set:function(a){if(!G0(a))throw new Error("RegionAnchorY must be between 0 and 100.");t=a}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(a){if(!G0(a))throw new Error("ViewportAnchorY must be between 0 and 100.");o=a}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(a){if(!G0(a))throw new Error("ViewportAnchorX must be between 0 and 100.");n=a}},scroll:{enumerable:!0,get:function(){return s},set:function(a){var l=jBe(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}eH.exports=qBe});var rH=k((tgt,iH)=>{"use strict";var fl=_a(),Hu=iH.exports={WebVTT:ZK(),VTTCue:JK(),VTTRegion:tH()};fl.vttjs=Hu;fl.WebVTT=Hu.WebVTT;var $Be=Hu.VTTCue,zBe=Hu.VTTRegion,KBe=fl.VTTCue,HBe=fl.VTTRegion;Hu.shim=function(){fl.VTTCue=$Be,fl.VTTRegion=zBe};Hu.restore=function(){fl.VTTCue=KBe,fl.VTTRegion=HBe};fl.VTTCue||Hu.shim()});var X0=k(Xp=>{"use strict";function oOe(i,e,t){if(t===void 0&&(t=Array.prototype),i&&typeof t.find=="function")return t.find.call(i,e);for(var r=0;r<i.length;r++)if(Object.prototype.hasOwnProperty.call(i,r)){var n=i[r];if(e.call(void 0,n,r,i))return n}}function AP(i,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(i):i}function sOe(i,e){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i}var fH=AP({HTML:"text/html",isHTML:function(i){return i===fH.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),hH=AP({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===hH.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Xp.assign=sOe;Xp.find=oOe;Xp.freeze=AP;Xp.MIME_TYPE=fH;Xp.NAMESPACE=hH});var NP=k(yc=>{"use strict";var CH=X0(),xa=CH.find,Z0=CH.NAMESPACE;function aOe(i){return i!==""}function lOe(i){return i?i.split(/[\t\n\f\r ]+/).filter(aOe):[]}function cOe(i,e){return i.hasOwnProperty(e)||(i[e]=!0),i}function mH(i){if(!i)return[];var e=lOe(i);return Object.keys(e.reduce(cOe,{}))}function uOe(i){return function(e){return i&&i.indexOf(e)!==-1}}function Y0(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function Hn(i,e){var t=i.prototype;if(!(t instanceof e)){let n=function(){};var r=n;n.prototype=e.prototype,n=new n,Y0(t,n),i.prototype=t=n}t.constructor!=i&&(typeof i!="function"&&console.error("unknown Class:"+i),t.constructor=i)}var Gn={},Vs=Gn.ELEMENT_NODE=1,Qp=Gn.ATTRIBUTE_NODE=2,mC=Gn.TEXT_NODE=3,EH=Gn.CDATA_SECTION_NODE=4,TH=Gn.ENTITY_REFERENCE_NODE=5,dOe=Gn.ENTITY_NODE=6,wH=Gn.PROCESSING_INSTRUCTION_NODE=7,SH=Gn.COMMENT_NODE=8,AH=Gn.DOCUMENT_NODE=9,RH=Gn.DOCUMENT_TYPE_NODE=10,ml=Gn.DOCUMENT_FRAGMENT_NODE=11,pOe=Gn.NOTATION_NODE=12,sn={},Mr={},ggt=sn.INDEX_SIZE_ERR=(Mr[1]="Index size error",1),ygt=sn.DOMSTRING_SIZE_ERR=(Mr[2]="DOMString size error",2),Kn=sn.HIERARCHY_REQUEST_ERR=(Mr[3]="Hierarchy request error",3),bgt=sn.WRONG_DOCUMENT_ERR=(Mr[4]="Wrong document",4),_gt=sn.INVALID_CHARACTER_ERR=(Mr[5]="Invalid character",5),vgt=sn.NO_DATA_ALLOWED_ERR=(Mr[6]="No data allowed",6),xgt=sn.NO_MODIFICATION_ALLOWED_ERR=(Mr[7]="No modification allowed",7),kH=sn.NOT_FOUND_ERR=(Mr[8]="Not found",8),Cgt=sn.NOT_SUPPORTED_ERR=(Mr[9]="Not supported",9),gH=sn.INUSE_ATTRIBUTE_ERR=(Mr[10]="Attribute in use",10),Egt=sn.INVALID_STATE_ERR=(Mr[11]="Invalid state",11),Tgt=sn.SYNTAX_ERR=(Mr[12]="Syntax error",12),wgt=sn.INVALID_MODIFICATION_ERR=(Mr[13]="Invalid modification",13),Sgt=sn.NAMESPACE_ERR=(Mr[14]="Invalid namespace",14),Agt=sn.INVALID_ACCESS_ERR=(Mr[15]="Invalid access",15);function hr(i,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,Mr[i]),this.message=Mr[i],Error.captureStackTrace&&Error.captureStackTrace(this,hr);return t.code=i,e&&(this.message=this.message+": "+e),t}hr.prototype=Error.prototype;Y0(sn,hr);function hl(){}hl.prototype={length:0,item:function(i){return i>=0&&i<this.length?this[i]:null},toString:function(i,e){for(var t=[],r=0;r<this.length;r++)Zp(this[r],t,i,e);return t.join("")},filter:function(i){return Array.prototype.filter.call(this,i)},indexOf:function(i){return Array.prototype.indexOf.call(this,i)}};function Yp(i,e){this._node=i,this._refresh=e,DP(this)}function DP(i){var e=i._node._inc||i._node.ownerDocument._inc;if(i._inc!==e){var t=i._refresh(i._node);if(jH(i,"length",t.length),!i.$$length||t.length<i.$$length)for(var r=t.length;r in i;r++)Object.prototype.hasOwnProperty.call(i,r)&&delete i[r];Y0(t,i),i._inc=e}}Yp.prototype.item=function(i){return DP(this),this[i]||null};Hn(Yp,hl);function gC(){}function DH(i,e){for(var t=i.length;t--;)if(i[t]===e)return t}function yH(i,e,t,r){if(r?e[DH(e,r)]=t:e[e.length++]=t,i){t.ownerElement=i;var n=i.ownerDocument;n&&(r&&LH(n,i,r),fOe(n,i,t))}}function bH(i,e,t){var r=DH(e,t);if(r>=0){for(var n=e.length-1;r<n;)e[r]=e[++r];if(e.length=n,i){var o=i.ownerDocument;o&&(LH(o,i,t),t.ownerElement=null)}}else throw new hr(kH,new Error(i.tagName+"@"+t))}gC.prototype={length:0,item:hl.prototype.item,getNamedItem:function(i){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==i)return t}},setNamedItem:function(i){var e=i.ownerElement;if(e&&e!=this._ownerElement)throw new hr(gH);var t=this.getNamedItem(i.nodeName);return yH(this._ownerElement,this,i,t),t},setNamedItemNS:function(i){var e=i.ownerElement,t;if(e&&e!=this._ownerElement)throw new hr(gH);return t=this.getNamedItemNS(i.namespaceURI,i.localName),yH(this._ownerElement,this,i,t),t},removeNamedItem:function(i){var e=this.getNamedItem(i);return bH(this._ownerElement,this,e),e},removeNamedItemNS:function(i,e){var t=this.getNamedItemNS(i,e);return bH(this._ownerElement,this,t),t},getNamedItemNS:function(i,e){for(var t=this.length;t--;){var r=this[t];if(r.localName==e&&r.namespaceURI==i)return r}return null}};function IH(){}IH.prototype={hasFeature:function(i,e){return!0},createDocument:function(i,e,t){var r=new J0;if(r.implementation=this,r.childNodes=new hl,r.doctype=t||null,t&&r.appendChild(t),e){var n=r.createElementNS(i,e);r.appendChild(n)}return r},createDocumentType:function(i,e,t){var r=new _C;return r.name=i,r.nodeName=i,r.publicId=e||"",r.systemId=t||"",r}};function Ti(){}Ti.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(i,e){return yC(this,i,e)},replaceChild:function(i,e){yC(this,i,e,OH),e&&this.removeChild(e)},removeChild:function(i){return BH(this,i)},appendChild:function(i){return this.insertBefore(i,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(i){return kP(this.ownerDocument||this,this,i)},normalize:function(){for(var i=this.firstChild;i;){var e=i.nextSibling;e&&e.nodeType==mC&&i.nodeType==mC?(this.removeChild(e),i.appendData(e.data)):(i.normalize(),i=e)}},isSupported:function(i,e){return this.ownerDocument.implementation.hasFeature(i,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(i){for(var e=this;e;){var t=e._nsMap;if(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]===i)return r}e=e.nodeType==Qp?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(i){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i];e=e.nodeType==Qp?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(i){var e=this.lookupPrefix(i);return e==null}};function PH(i){return i=="<"&&"&lt;"||i==">"&&"&gt;"||i=="&"&&"&amp;"||i=='"'&&"&quot;"||"&#"+i.charCodeAt()+";"}Y0(Gn,Ti);Y0(Gn,Ti.prototype);function Q0(i,e){if(e(i))return!0;if(i=i.firstChild)do if(Q0(i,e))return!0;while(i=i.nextSibling)}function J0(){this.ownerDocument=this}function fOe(i,e,t){i&&i._inc++;var r=t.namespaceURI;r===Z0.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function LH(i,e,t,r){i&&i._inc++;var n=t.namespaceURI;n===Z0.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function IP(i,e,t){if(i&&i._inc){i._inc++;var r=e.childNodes;if(t)r[r.length++]=t;else{for(var n=e.firstChild,o=0;n;)r[o++]=n,n=n.nextSibling;r.length=o,delete r[r.length]}}}function BH(i,e){var t=e.previousSibling,r=e.nextSibling;return t?t.nextSibling=r:i.firstChild=r,r?r.previousSibling=t:i.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,IP(i.ownerDocument,i),e}function hOe(i){return i&&(i.nodeType===Ti.DOCUMENT_NODE||i.nodeType===Ti.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ti.ELEMENT_NODE)}function mOe(i){return i&&(Ca(i)||PP(i)||gl(i)||i.nodeType===Ti.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ti.COMMENT_NODE||i.nodeType===Ti.PROCESSING_INSTRUCTION_NODE)}function gl(i){return i&&i.nodeType===Ti.DOCUMENT_TYPE_NODE}function Ca(i){return i&&i.nodeType===Ti.ELEMENT_NODE}function PP(i){return i&&i.nodeType===Ti.TEXT_NODE}function _H(i,e){var t=i.childNodes||[];if(xa(t,Ca)||gl(e))return!1;var r=xa(t,gl);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function vH(i,e){var t=i.childNodes||[];function r(o){return Ca(o)&&o!==e}if(xa(t,r))return!1;var n=xa(t,gl);return!(e&&n&&t.indexOf(n)>t.indexOf(e))}function gOe(i,e,t){if(!hOe(i))throw new hr(Kn,"Unexpected parent node type "+i.nodeType);if(t&&t.parentNode!==i)throw new hr(kH,"child not in parent");if(!mOe(e)||gl(e)&&i.nodeType!==Ti.DOCUMENT_NODE)throw new hr(Kn,"Unexpected node type "+e.nodeType+" for parent node type "+i.nodeType)}function yOe(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Ti.DOCUMENT_FRAGMENT_NODE){var o=n.filter(Ca);if(o.length>1||xa(n,PP))throw new hr(Kn,"More than one element or text in fragment");if(o.length===1&&!_H(i,t))throw new hr(Kn,"Element in fragment can not be inserted before doctype")}if(Ca(e)&&!_H(i,t))throw new hr(Kn,"Only one element can be added and only after doctype");if(gl(e)){if(xa(r,gl))throw new hr(Kn,"Only one doctype is allowed");var s=xa(r,Ca);if(t&&r.indexOf(s)<r.indexOf(t))throw new hr(Kn,"Doctype can only be inserted before an element");if(!t&&s)throw new hr(Kn,"Doctype can not be appended since element is present")}}function OH(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Ti.DOCUMENT_FRAGMENT_NODE){var o=n.filter(Ca);if(o.length>1||xa(n,PP))throw new hr(Kn,"More than one element or text in fragment");if(o.length===1&&!vH(i,t))throw new hr(Kn,"Element in fragment can not be inserted before doctype")}if(Ca(e)&&!vH(i,t))throw new hr(Kn,"Only one element can be added and only after doctype");if(gl(e)){let l=function(d){return gl(d)&&d!==t};var a=l;if(xa(r,l))throw new hr(Kn,"Only one doctype is allowed");var s=xa(r,Ca);if(t&&r.indexOf(s)<r.indexOf(t))throw new hr(Kn,"Doctype can only be inserted before an element")}}function yC(i,e,t,r){gOe(i,e,t),i.nodeType===Ti.DOCUMENT_NODE&&(r||yOe)(i,e,t);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===ml){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var a=t?t.previousSibling:i.lastChild;o.previousSibling=a,s.nextSibling=t,a?a.nextSibling=o:i.firstChild=o,t==null?i.lastChild=s:t.previousSibling=s;do o.parentNode=i;while(o!==s&&(o=o.nextSibling));return IP(i.ownerDocument||i,i),e.nodeType==ml&&(e.firstChild=e.lastChild=null),e}function bOe(i,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=i,e.previousSibling=i.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:i.firstChild=e,i.lastChild=e,IP(i.ownerDocument,i,e),e}J0.prototype={nodeName:"#document",nodeType:AH,doctype:null,documentElement:null,_inc:1,insertBefore:function(i,e){if(i.nodeType==ml){for(var t=i.firstChild;t;){var r=t.nextSibling;this.insertBefore(t,e),t=r}return i}return yC(this,i,e),i.ownerDocument=this,this.documentElement===null&&i.nodeType===Vs&&(this.documentElement=i),i},removeChild:function(i){return this.documentElement==i&&(this.documentElement=null),BH(this,i)},replaceChild:function(i,e){yC(this,i,e,OH),i.ownerDocument=this,e&&this.removeChild(e),Ca(i)&&(this.documentElement=i)},importNode:function(i,e){return UH(this,i,e)},getElementById:function(i){var e=null;return Q0(this.documentElement,function(t){if(t.nodeType==Vs&&t.getAttribute("id")==i)return e=t,!0}),e},getElementsByClassName:function(i){var e=mH(i);return new Yp(this,function(t){var r=[];return e.length>0&&Q0(t.documentElement,function(n){if(n!==t&&n.nodeType===Vs){var o=n.getAttribute("class");if(o){var s=i===o;if(!s){var a=mH(o);s=e.every(uOe(a))}s&&r.push(n)}}}),r})},createElement:function(i){var e=new Zu;e.ownerDocument=this,e.nodeName=i,e.tagName=i,e.localName=i,e.childNodes=new hl;var t=e.attributes=new gC;return t._ownerElement=e,e},createDocumentFragment:function(){var i=new vC;return i.ownerDocument=this,i.childNodes=new hl,i},createTextNode:function(i){var e=new LP;return e.ownerDocument=this,e.appendData(i),e},createComment:function(i){var e=new BP;return e.ownerDocument=this,e.appendData(i),e},createCDATASection:function(i){var e=new OP;return e.ownerDocument=this,e.appendData(i),e},createProcessingInstruction:function(i,e){var t=new VP;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=i,t.nodeValue=t.data=e,t},createAttribute:function(i){var e=new bC;return e.ownerDocument=this,e.name=i,e.nodeName=i,e.localName=i,e.specified=!0,e},createEntityReference:function(i){var e=new MP;return e.ownerDocument=this,e.nodeName=i,e},createElementNS:function(i,e){var t=new Zu,r=e.split(":"),n=t.attributes=new gC;return t.childNodes=new hl,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=i,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,n._ownerElement=t,t},createAttributeNS:function(i,e){var t=new bC,r=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=i,t.specified=!0,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,t}};Hn(J0,Ti);function Zu(){this._nsMap={}}Zu.prototype={nodeType:Vs,hasAttribute:function(i){return this.getAttributeNode(i)!=null},getAttribute:function(i){var e=this.getAttributeNode(i);return e&&e.value||""},getAttributeNode:function(i){return this.attributes.getNamedItem(i)},setAttribute:function(i,e){var t=this.ownerDocument.createAttribute(i);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(i){var e=this.getAttributeNode(i);e&&this.removeAttributeNode(e)},appendChild:function(i){return i.nodeType===ml?this.insertBefore(i,null):bOe(this,i)},setAttributeNode:function(i){return this.attributes.setNamedItem(i)},setAttributeNodeNS:function(i){return this.attributes.setNamedItemNS(i)},removeAttributeNode:function(i){return this.attributes.removeNamedItem(i.nodeName)},removeAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(i,e){return this.getAttributeNodeNS(i,e)!=null},getAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);return t&&t.value||""},setAttributeNS:function(i,e,t){var r=this.ownerDocument.createAttributeNS(i,e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},getAttributeNodeNS:function(i,e){return this.attributes.getNamedItemNS(i,e)},getElementsByTagName:function(i){return new Yp(this,function(e){var t=[];return Q0(e,function(r){r!==e&&r.nodeType==Vs&&(i==="*"||r.tagName==i)&&t.push(r)}),t})},getElementsByTagNameNS:function(i,e){return new Yp(this,function(t){var r=[];return Q0(t,function(n){n!==t&&n.nodeType===Vs&&(i==="*"||n.namespaceURI===i)&&(e==="*"||n.localName==e)&&r.push(n)}),r})}};J0.prototype.getElementsByTagName=Zu.prototype.getElementsByTagName;J0.prototype.getElementsByTagNameNS=Zu.prototype.getElementsByTagNameNS;Hn(Zu,Ti);function bC(){}bC.prototype.nodeType=Qp;Hn(bC,Ti);function eg(){}eg.prototype={data:"",substringData:function(i,e){return this.data.substring(i,i+e)},appendData:function(i){i=this.data+i,this.nodeValue=this.data=i,this.length=i.length},insertData:function(i,e){this.replaceData(i,0,e)},appendChild:function(i){throw new Error(Mr[Kn])},deleteData:function(i,e){this.replaceData(i,e,"")},replaceData:function(i,e,t){var r=this.data.substring(0,i),n=this.data.substring(i+e);t=r+t+n,this.nodeValue=this.data=t,this.length=t.length}};Hn(eg,Ti);function LP(){}LP.prototype={nodeName:"#text",nodeType:mC,splitText:function(i){var e=this.data,t=e.substring(i);e=e.substring(0,i),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Hn(LP,eg);function BP(){}BP.prototype={nodeName:"#comment",nodeType:SH};Hn(BP,eg);function OP(){}OP.prototype={nodeName:"#cdata-section",nodeType:EH};Hn(OP,eg);function _C(){}_C.prototype.nodeType=RH;Hn(_C,Ti);function MH(){}MH.prototype.nodeType=pOe;Hn(MH,Ti);function VH(){}VH.prototype.nodeType=dOe;Hn(VH,Ti);function MP(){}MP.prototype.nodeType=TH;Hn(MP,Ti);function vC(){}vC.prototype.nodeName="#document-fragment";vC.prototype.nodeType=ml;Hn(vC,Ti);function VP(){}VP.prototype.nodeType=wH;Hn(VP,Ti);function NH(){}NH.prototype.serializeToString=function(i,e,t){return FH.call(i,e,t)};Ti.prototype.toString=FH;function FH(i,e){var t=[],r=this.nodeType==9&&this.documentElement||this,n=r.prefix,o=r.namespaceURI;if(o&&n==null){var n=r.lookupPrefix(o);if(n==null)var s=[{namespace:o,prefix:null}]}return Zp(this,t,i,e,s),t.join("")}function xH(i,e,t){var r=i.prefix||"",n=i.namespaceURI;if(!n||r==="xml"&&n===Z0.XML||n===Z0.XMLNS)return!1;for(var o=t.length;o--;){var s=t[o];if(s.prefix===r)return s.namespace!==n}return!0}function RP(i,e,t){i.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,PH),'"')}function Zp(i,e,t,r,n){if(n||(n=[]),r)if(i=r(i),i){if(typeof i=="string"){e.push(i);return}}else return;switch(i.nodeType){case Vs:var o=i.attributes,s=o.length,q=i.firstChild,a=i.tagName;t=Z0.isHTML(i.namespaceURI)||t;var l=a;if(!t&&!i.prefix&&i.namespaceURI){for(var d,f=0;f<o.length;f++)if(o.item(f).name==="xmlns"){d=o.item(f).value;break}if(!d)for(var g=n.length-1;g>=0;g--){var w=n[g];if(w.prefix===""&&w.namespace===i.namespaceURI){d=w.namespace;break}}if(d!==i.namespaceURI)for(var g=n.length-1;g>=0;g--){var w=n[g];if(w.namespace===i.namespaceURI){w.prefix&&(l=w.prefix+":"+a);break}}}e.push("<",l);for(var A=0;A<s;A++){var B=o.item(A);B.prefix=="xmlns"?n.push({prefix:B.localName,namespace:B.value}):B.nodeName=="xmlns"&&n.push({prefix:"",namespace:B.value})}for(var A=0;A<s;A++){var B=o.item(A);if(xH(B,t,n)){var S=B.prefix||"",U=B.namespaceURI;RP(e,S?"xmlns:"+S:"xmlns",U),n.push({prefix:S,namespace:U})}Zp(B,e,t,r,n)}if(a===l&&xH(i,t,n)){var S=i.prefix||"",U=i.namespaceURI;RP(e,S?"xmlns:"+S:"xmlns",U),n.push({prefix:S,namespace:U})}if(q||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),t&&/^script$/i.test(a))for(;q;)q.data?e.push(q.data):Zp(q,e,t,r,n.slice()),q=q.nextSibling;else for(;q;)Zp(q,e,t,r,n.slice()),q=q.nextSibling;e.push("</",l,">")}else e.push("/>");return;case AH:case ml:for(var q=i.firstChild;q;)Zp(q,e,t,r,n.slice()),q=q.nextSibling;return;case Qp:return RP(e,i.name,i.value);case mC:return e.push(i.data.replace(/[<&>]/g,PH));case EH:return e.push("<![CDATA[",i.data,"]]>");case SH:return e.push("<!--",i.data,"-->");case RH:var G=i.publicId,K=i.systemId;if(e.push("<!DOCTYPE ",i.name),G)e.push(" PUBLIC ",G),K&&K!="."&&e.push(" ",K),e.push(">");else if(K&&K!=".")e.push(" SYSTEM ",K,">");else{var Z=i.internalSubset;Z&&e.push(" [",Z,"]"),e.push(">")}return;case wH:return e.push("<?",i.target," ",i.data,"?>");case TH:return e.push("&",i.nodeName,";");default:e.push("??",i.nodeName)}}function UH(i,e,t){var r;switch(e.nodeType){case Vs:r=e.cloneNode(!1),r.ownerDocument=i;case ml:break;case Qp:t=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=i,r.parentNode=null,t)for(var n=e.firstChild;n;)r.appendChild(UH(i,n,t)),n=n.nextSibling;return r}function kP(i,e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];typeof o!="object"&&o!=r[n]&&(r[n]=o)}switch(e.childNodes&&(r.childNodes=new hl),r.ownerDocument=i,r.nodeType){case Vs:var s=e.attributes,a=r.attributes=new gC,l=s.length;a._ownerElement=r;for(var d=0;d<l;d++)r.setAttributeNode(kP(i,s.item(d),!0));break;case Qp:t=!0}if(t)for(var f=e.firstChild;f;)r.appendChild(kP(i,f,t)),f=f.nextSibling;return r}function jH(i,e,t){i[e]=t}try{if(Object.defineProperty){let i=function(e){switch(e.nodeType){case Vs:case ml:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(i(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};_Oe=i,Object.defineProperty(Yp.prototype,"length",{get:function(){return DP(this),this.$$length}}),Object.defineProperty(Ti.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case Vs:case ml:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),jH=function(e,t,r){e["$$"+t]=r}}}catch{}var _Oe;yc.DocumentType=_C;yc.DOMException=hr;yc.DOMImplementation=IH;yc.Element=Zu;yc.Node=Ti;yc.NodeList=hl;yc.XMLSerializer=NH});var $H=k(tg=>{"use strict";var qH=X0().freeze;tg.XML_ENTITIES=qH({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});tg.HTML_ENTITIES=qH({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"});tg.entityMap=tg.HTML_ENTITIES});var QH=k(UP=>{"use strict";var og=X0().NAMESPACE,FP=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,zH=new RegExp("[\\-\\.0-9"+FP.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),KH=new RegExp("^"+FP.source+zH.source+"*(?::"+FP.source+zH.source+"*)?$"),ig=0,bc=1,Jp=2,rg=3,ef=4,tf=5,ng=6,xC=7;function rf(i,e){this.message=i,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,rf)}rf.prototype=new Error;rf.prototype.name=rf.name;function WH(){}WH.prototype={parse:function(i,e,t){var r=this.domBuilder;r.startDocument(),XH(e,e={}),vOe(i,e,t,r,this.errorHandler),r.endDocument()}};function vOe(i,e,t,r,n){function o(Ft){if(Ft>65535){Ft-=65536;var Li=55296+(Ft>>10),Sn=56320+(Ft&1023);return String.fromCharCode(Li,Sn)}else return String.fromCharCode(Ft)}function s(Ft){var Li=Ft.slice(1,-1);return Object.hasOwnProperty.call(t,Li)?t[Li]:Li.charAt(0)==="#"?o(parseInt(Li.substr(1).replace("x","0x"))):(n.error("entity not found:"+Ft),Ft)}function a(Ft){if(Ft>S){var Li=i.substring(S,Ft).replace(/&#?\w+;/g,s);w&&l(S),r.characters(Li,0,Ft-S),S=Ft}}function l(Ft,Li){for(;Ft>=f&&(Li=g.exec(i));)d=Li.index,f=d+Li[0].length,w.lineNumber++;w.columnNumber=Ft-d+1}for(var d=0,f=0,g=/.*(?:\r\n?|\n)|.*$/g,w=r.locator,A=[{currentNSMap:e}],B={},S=0;;){try{var U=i.indexOf("<",S);if(U<0){if(!i.substr(S).match(/^\s*$/)){var q=r.doc,G=q.createTextNode(i.substr(S));q.appendChild(G),r.currentElement=G}return}switch(U>S&&a(U),i.charAt(U+1)){case"/":var St=i.indexOf(">",U+3),K=i.substring(U+2,St).replace(/[ \t\n\r]+$/g,""),Z=A.pop();St<0?(K=i.substring(U+2).replace(/[\s<].*/,""),n.error("end tag name: "+K+" is not complete:"+Z.tagName),St=U+1+K.length):K.match(/\s</)&&(K=K.replace(/[\s<].*/,""),n.error("end tag name: "+K+" maybe not complete"),St=U+1+K.length);var re=Z.localNSMap,ge=Z.tagName==K,ce=ge||Z.tagName&&Z.tagName.toLowerCase()==K.toLowerCase();if(ce){if(r.endElement(Z.uri,Z.localName,K),re)for(var Ee in re)Object.prototype.hasOwnProperty.call(re,Ee)&&r.endPrefixMapping(Ee);ge||n.fatalError("end tag name: "+K+" is not match the current start tagName:"+Z.tagName)}else A.push(Z);St++;break;case"?":w&&l(U),St=wOe(i,U,r);break;case"!":w&&l(U),St=TOe(i,U,r,n);break;default:w&&l(U);var We=new ZH,Xt=A[A.length-1].currentNSMap,St=xOe(i,U,We,Xt,s,n),Yt=We.length;if(!We.closed&&EOe(i,St,We.tagName,B)&&(We.closed=!0,t.nbsp||n.warning("unclosed xml attribute")),w&&Yt){for(var ze=HH(w,{}),At=0;At<Yt;At++){var gr=We[At];l(gr.offset),gr.locator=HH(w,{})}r.locator=ze,GH(We,r,Xt)&&A.push(We),r.locator=w}else GH(We,r,Xt)&&A.push(We);og.isHTML(We.uri)&&!We.closed?St=COe(i,St,We.tagName,s,r):St++}}catch(Ft){if(Ft instanceof rf)throw Ft;n.error("element parse error: "+Ft),St=-1}St>S?S=St:a(Math.max(U,S)+1)}}function HH(i,e){return e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber,e}function xOe(i,e,t,r,n,o){function s(A,B,S){t.attributeNames.hasOwnProperty(A)&&o.fatalError("Attribute "+A+" redefined"),t.addValue(A,B.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,n),S)}for(var a,l,d=++e,f=ig;;){var g=i.charAt(d);switch(g){case"=":if(f===bc)a=i.slice(e,d),f=rg;else if(f===Jp)f=rg;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===rg||f===bc)if(f===bc&&(o.warning('attribute value must after "="'),a=i.slice(e,d)),e=d+1,d=i.indexOf(g,e),d>0)l=i.slice(e,d),s(a,l,e-1),f=tf;else throw new Error("attribute value no end '"+g+"' match");else if(f==ef)l=i.slice(e,d),s(a,l,e),o.warning('attribute "'+a+'" missed start quot('+g+")!!"),e=d+1,f=tf;else throw new Error('attribute value must after "="');break;case"/":switch(f){case ig:t.setTagName(i.slice(e,d));case tf:case ng:case xC:f=xC,t.closed=!0;case ef:case bc:break;case Jp:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),f==ig&&t.setTagName(i.slice(e,d)),d;case">":switch(f){case ig:t.setTagName(i.slice(e,d));case tf:case ng:case xC:break;case ef:case bc:l=i.slice(e,d),l.slice(-1)==="/"&&(t.closed=!0,l=l.slice(0,-1));case Jp:f===Jp&&(l=a),f==ef?(o.warning('attribute "'+l+'" missed quot(")!'),s(a,l,e)):((!og.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case rg:throw new Error("attribute value missed!!")}return d;case"\x80":g=" ";default:if(g<=" ")switch(f){case ig:t.setTagName(i.slice(e,d)),f=ng;break;case bc:a=i.slice(e,d),f=Jp;break;case ef:var l=i.slice(e,d);o.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,e);case tf:f=ng;break}else switch(f){case Jp:var w=t.tagName;(!og.isHTML(r[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=d,f=bc;break;case tf:o.warning('attribute space is required"'+a+'"!!');case ng:f=bc,e=d;break;case rg:f=ef,e=d;break;case xC:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function GH(i,e,t){for(var r=i.tagName,n=null,g=i.length;g--;){var o=i[g],s=o.qName,a=o.value,w=s.indexOf(":");if(w>0)var l=o.prefix=s.slice(0,w),d=s.slice(w+1),f=l==="xmlns"&&d;else d=s,l=null,f=s==="xmlns"&&"";o.localName=d,f!==!1&&(n==null&&(n={},XH(t,t={})),t[f]=n[f]=a,o.uri=og.XMLNS,e.startPrefixMapping(f,a))}for(var g=i.length;g--;){o=i[g];var l=o.prefix;l&&(l==="xml"&&(o.uri=og.XML),l!=="xmlns"&&(o.uri=t[l||""]))}var w=r.indexOf(":");w>0?(l=i.prefix=r.slice(0,w),d=i.localName=r.slice(w+1)):(l=null,d=i.localName=r);var A=i.uri=t[l||""];if(e.startElement(A,d,r,i),i.closed){if(e.endElement(A,d,r),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.endPrefixMapping(l)}else return i.currentNSMap=t,i.localNSMap=n,!0}function COe(i,e,t,r,n){if(/^(?:script|textarea)$/i.test(t)){var o=i.indexOf("</"+t+">",e),s=i.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(t)?(n.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),n.characters(s,0,s.length),o)}return e+1}function EOe(i,e,t,r){var n=r[t];return n==null&&(n=i.lastIndexOf("</"+t+">"),n<e&&(n=i.lastIndexOf("</"+t)),r[t]=n),n<e}function XH(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function TOe(i,e,t,r){var n=i.charAt(e+2);switch(n){case"-":if(i.charAt(e+3)==="-"){var o=i.indexOf("-->",e+4);return o>e?(t.comment(i,e+4,o-e-4),o+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(i.substr(e+3,6)=="CDATA["){var o=i.indexOf("]]>",e+9);return t.startCDATA(),t.characters(i,e+9,o-e-9),t.endCDATA(),o+3}var s=SOe(i,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],d=!1,f=!1;a>3&&(/^public$/i.test(s[2][0])?(d=s[3][0],f=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(f=s[3][0]));var g=s[a-1];return t.startDTD(l,d,f),t.endDTD(),g.index+g[0].length}}return-1}function wOe(i,e,t){var r=i.indexOf("?>",e);if(r){var n=i.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){var o=n[0].length;return t.processingInstruction(n[1],n[2]),r+2}else return-1}return-1}function ZH(){this.attributeNames={}}ZH.prototype={setTagName:function(i){if(!KH.test(i))throw new Error("invalid tagName:"+i);this.tagName=i},addValue:function(i,e,t){if(!KH.test(i))throw new Error("invalid attribute:"+i);this.attributeNames[i]=this.length,this[this.length++]={qName:i,value:e,offset:t}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}};function SOe(i,e){var t,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(i);t=n.exec(i);)if(r.push(t),t[1])return r}UP.XMLReader=WH;UP.ParseError=rf});var nG=k(EC=>{"use strict";var AOe=X0(),ROe=NP(),YH=$H(),tG=QH(),kOe=ROe.DOMImplementation,JH=AOe.NAMESPACE,DOe=tG.ParseError,IOe=tG.XMLReader;function iG(i){return i.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function rG(i){this.options=i||{locator:{}}}rG.prototype.parseFromString=function(i,e){var t=this.options,r=new IOe,n=t.domBuilder||new sg,o=t.errorHandler,s=t.locator,a=t.xmlns||{},l=/\/x?html?$/.test(e),d=l?YH.HTML_ENTITIES:YH.XML_ENTITIES;s&&n.setDocumentLocator(s),r.errorHandler=POe(o,n,s),r.domBuilder=t.domBuilder||n,l&&(a[""]=JH.HTML),a.xml=a.xml||JH.XML;var f=t.normalizeLineEndings||iG;return i&&typeof i=="string"?r.parse(f(i),a,d):r.errorHandler.error("invalid doc source"),n.doc};function POe(i,e,t){if(!i){if(e instanceof sg)return e;i=e}var r={},n=i instanceof Function;t=t||{};function o(s){var a=i[s];!a&&n&&(a=i.length==2?function(l){i(s,l)}:i),r[s]=a&&function(l){a("[xmldom "+s+"]	"+l+jP(t))}||function(){}}return o("warning"),o("error"),o("fatalError"),r}function sg(){this.cdata=!1}function nf(i,e){e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber}sg.prototype={startDocument:function(){this.doc=new kOe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(i,e,t,r){var n=this.doc,o=n.createElementNS(i,t||e),s=r.length;CC(this,o),this.currentElement=o,this.locator&&nf(this.locator,o);for(var a=0;a<s;a++){var i=r.getURI(a),l=r.getValue(a),t=r.getQName(a),d=n.createAttributeNS(i,t);this.locator&&nf(r.getLocator(a),d),d.value=d.nodeValue=l,o.setAttributeNode(d)}},endElement:function(i,e,t){var r=this.currentElement,n=r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(i,e){},endPrefixMapping:function(i){},processingInstruction:function(i,e){var t=this.doc.createProcessingInstruction(i,e);this.locator&&nf(this.locator,t),CC(this,t)},ignorableWhitespace:function(i,e,t){},characters:function(i,e,t){if(i=eG.apply(this,arguments),i){if(this.cdata)var r=this.doc.createCDATASection(i);else var r=this.doc.createTextNode(i);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(i)&&this.doc.appendChild(r),this.locator&&nf(this.locator,r)}},skippedEntity:function(i){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(i){(this.locator=i)&&(i.lineNumber=0)},comment:function(i,e,t){i=eG.apply(this,arguments);var r=this.doc.createComment(i);this.locator&&nf(this.locator,r),CC(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(i,e,t){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(i,e,t);this.locator&&nf(this.locator,n),CC(this,n),this.doc.doctype=n}},warning:function(i){console.warn("[xmldom warning]	"+i,jP(this.locator))},error:function(i){console.error("[xmldom error]	"+i,jP(this.locator))},fatalError:function(i){throw new DOe(i,this.locator)}};function jP(i){if(i)return`
@`+(i.systemId||"")+"#[line:"+i.lineNumber+",col:"+i.columnNumber+"]"}function eG(i,e,t){return typeof i=="string"?i.substr(e,t):i.length>=e+t||e?new java.lang.String(i,e,t)+"":i}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(i){sg.prototype[i]=function(){return null}});function CC(i,e){i.currentElement?i.currentElement.appendChild(e):i.doc.appendChild(e)}EC.__DOMHandler=sg;EC.normalizeLineEndings=iG;EC.DOMParser=rG});var sG=k(TC=>{"use strict";var oG=NP();TC.DOMImplementation=oG.DOMImplementation;TC.XMLSerializer=oG.XMLSerializer;TC.DOMParser=nG().DOMParser});var wG=k((Vgt,TG)=>{"use strict";var EG=Math.pow(2,32),TMe=function(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength),t;return e.getBigUint64?(t=e.getBigUint64(0),t<Number.MAX_SAFE_INTEGER?Number(t):t):e.getUint32(0)*EG+e.getUint32(4)};TG.exports={getUint64:TMe,MAX_UINT32:EG}});var RG=k((Ngt,AG)=>{"use strict";var SG=wG().getUint64,wMe=function(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength),t={version:i[0],flags:new Uint8Array(i.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;t.version===0?(t.earliestPresentationTime=e.getUint32(r),t.firstOffset=e.getUint32(r+4),r+=8):(t.earliestPresentationTime=SG(i.subarray(r)),t.firstOffset=SG(i.subarray(r+8)),r+=16),r+=2;var n=e.getUint16(r);for(r+=2;n>0;r+=12,n--)t.references.push({referenceType:(i[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(i[r+8]&128),sapType:(i[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return t};AG.exports=wMe});var qG=k((lyt,jG)=>{"use strict";var ZP=9e4,QP,YP,kC,JP,NG,FG,UG;QP=function(i){return i*ZP};YP=function(i,e){return i*e};kC=function(i){return i/ZP};JP=function(i,e){return i/e};NG=function(i,e){return QP(JP(i,e))};FG=function(i,e){return YP(kC(i),e)};UG=function(i,e,t){return kC(t?i:i-e)};jG.exports={ONE_SECOND_IN_TS:ZP,secondsToVideoTs:QP,secondsToAudioTs:YP,videoTsToSeconds:kC,audioTsToSeconds:JP,audioTsToVideoTs:NG,videoTsToAudioTs:FG,metadataTsToSeconds:UG}});var Bh=class{},$y=class{},Xc=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let n=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(n,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let n=(e.op==="a"?this.headers.get(t):void 0)||[];n.push(...r),this.headers.set(t,n);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),n=e.toLowerCase();this.headers.set(n,r),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var rS=class{encodeKey(e){return O5(e)}encodeValue(e){return O5(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Lte(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[s,a]=o==-1?[e.decodeKey(n),""]:[e.decodeKey(n.slice(0,o)),e.decodeValue(n.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var Bte=/%(\d[a-f0-9])/gi,Ote={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function O5(i){return encodeURIComponent(i).replace(Bte,(e,t)=>Ote[t]??e)}function qy(i){return`${i}`}var Il=class i{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new rS,e.fromString){if(e.fromObject)throw new ei(2805,!1);this.map=Lte(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],n=Array.isArray(r)?r.map(qy):[qy(r)];this.map.set(t,n)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let n=e[r];Array.isArray(n)?n.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:n,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(qy(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],n=r.indexOf(qy(e.value));n!==-1&&r.splice(n,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nS=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Mte(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function M5(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function V5(i){return typeof Blob<"u"&&i instanceof Blob}function N5(i){return typeof FormData<"u"&&i instanceof FormData}function Vte(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var F5="Content-Type",U5="Accept",$5="X-Request-URL",z5="text/plain",K5="application/json",Nte=`${K5}, ${z5}, */*`,Lh=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,n){this.url=t,this.method=e.toUpperCase();let o;if(Mte(this.method)||n?(this.body=r!==void 0?r:null,o=n):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Xc,this.context??=new nS,!this.params)this.params=new Il,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||M5(this.body)||V5(this.body)||N5(this.body)||Vte(this.body)?this.body:this.body instanceof Il?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||N5(this.body)?null:V5(this.body)?this.body.type||null:M5(this.body)?null:typeof this.body=="string"?z5:this.body instanceof Il?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?K5:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,n=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((w,A)=>w.set(A,e.setHeaders[A]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((w,A)=>w.set(A,e.setParams[A]),f)),new i(t,r,s,{params:f,headers:d,context:g,reportProgress:l,responseType:n,withCredentials:a,transferCache:o})}},wd=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(wd||{}),Oh=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Xc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},oS=class i extends Oh{constructor(e={}){super(e)}type=wd.ResponseHeader;clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zy=class i extends Oh{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=wd.Response;clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ky=class extends Oh{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Fte=200,Ute=204;function iS(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var sS=(()=>{class i{handler;constructor(t){this.handler=t}request(t,r,n={}){let o;if(t instanceof Lh)o=t;else{let l;n.headers instanceof Xc?l=n.headers:l=new Xc(n.headers);let d;n.params&&(n.params instanceof Il?d=n.params:d=new Il({fromObject:n.params})),o=new Lh(t,r,n.body!==void 0?n.body:null,{headers:l,context:n.context,params:d,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let s=it(o).pipe(Rl(l=>this.handler.handle(l)));if(t instanceof Lh||n.observe==="events")return s;let a=s.pipe(Na(l=>l instanceof zy));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ut(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new ei(2806,!1);return l.body}));case"blob":return a.pipe(Ut(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new ei(2807,!1);return l.body}));case"text":return a.pipe(Ut(l=>{if(l.body!==null&&typeof l.body!="string")throw new ei(2808,!1);return l.body}));case"json":default:return a.pipe(Ut(l=>l.body))}case"response":return a;default:throw new ei(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Il().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,n={}){return this.request("PATCH",t,iS(n,r))}post(t,r,n={}){return this.request("POST",t,iS(n,r))}put(t,r,n={}){return this.request("PUT",t,iS(n,r))}static \u0275fac=function(r){return new(r||i)(Ke(Bh))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var jte=new jt("");function qte(i,e){return e(i)}function $te(i,e,t){return(r,n)=>Io(t,()=>e(r,o=>i(o,n)))}var H5=new jt(""),zte=new jt(""),Kte=new jt("",{providedIn:"root",factory:()=>!0});var j5=(()=>{class i extends Bh{backend;injector;chain=null;pendingTasks=se(Dy);contributeToStability=se(Kte);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(H5),...this.injector.get(zte,[])]));this.chain=r.reduceRight((n,o)=>$te(n,o,this.injector),qte)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,n=>this.backend.handle(n)).pipe(gd(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||i)(Ke($y),Ke(qc))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var Hte=/^\)\]\}',?\n/,Gte=RegExp(`^${$5}:`,"m");function Wte(i){return"responseURL"in i&&i.responseURL?i.responseURL:Gte.test(i.getAllResponseHeaders())?i.getResponseHeader($5):null}var q5=(()=>{class i{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ei(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Xe(r.\u0275loadImpl()):it(null)).pipe(dn(()=>new Ay(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((S,U)=>s.setRequestHeader(S,U.join(","))),t.headers.has(U5)||s.setRequestHeader(U5,Nte),!t.headers.has(F5)){let S=t.detectContentTypeHeader();S!==null&&s.setRequestHeader(F5,S)}if(t.responseType){let S=t.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let S=s.statusText||"OK",U=new Xc(s.getAllResponseHeaders()),q=Wte(s)||t.url;return l=new oS({headers:U,status:s.status,statusText:S,url:q}),l},f=()=>{let{headers:S,status:U,statusText:q,url:G}=d(),K=null;U!==Ute&&(K=typeof s.response>"u"?s.responseText:s.response),U===0&&(U=K?Fte:0);let Z=U>=200&&U<300;if(t.responseType==="json"&&typeof K=="string"){let re=K;K=K.replace(Hte,"");try{K=K!==""?JSON.parse(K):null}catch(ge){K=re,Z&&(Z=!1,K={error:ge,text:K})}}Z?(o.next(new zy({body:K,headers:S,status:U,statusText:q,url:G||void 0})),o.complete()):o.error(new Ky({error:K,headers:S,status:U,statusText:q,url:G||void 0}))},g=S=>{let{url:U}=d(),q=new Ky({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:U||void 0});o.error(q)},w=!1,A=S=>{w||(o.next(d()),w=!0);let U={type:wd.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(U.total=S.total),t.responseType==="text"&&s.responseText&&(U.partialText=s.responseText),o.next(U)},B=S=>{let U={type:wd.UploadProgress,loaded:S.loaded};S.lengthComputable&&(U.total=S.total),o.next(U)};return s.addEventListener("load",f),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",A),a!==null&&s.upload&&s.upload.addEventListener("progress",B)),s.send(a),o.next({type:wd.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",f),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",A),a!==null&&s.upload&&s.upload.removeEventListener("progress",B)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||i)(Ke(jy))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),G5=new jt(""),Xte="XSRF-TOKEN",Zte=new jt("",{providedIn:"root",factory:()=>Xte}),Qte="X-XSRF-TOKEN",Yte=new jt("",{providedIn:"root",factory:()=>Qte}),Hy=class{},Jte=(()=>{class i{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,n){this.doc=t,this.platform=r,this.cookieName=n}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fy(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||i)(Ke(ci),Ke(er),Ke(Zte))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function eie(i,e){let t=i.url.toLowerCase();if(!se(G5)||i.method==="GET"||i.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(i);let r=se(Hy).getToken(),n=se(Yte);return r!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,r)})),e(i)}function W5(...i){let e=[sS,q5,j5,{provide:Bh,useExisting:j5},{provide:$y,useFactory:()=>se(jte,{optional:!0})??se(q5)},{provide:H5,useValue:eie,multi:!0},{provide:G5,useValue:!0},{provide:Hy,useClass:Jte}];for(let t of i)e.push(...t.\u0275providers);return Ua(e)}var lS=class extends S5{supportsDOMEvents=!0},cS=class i extends lS{static makeCurrent(){w5(new i)}onAndCancel(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=rie();return t==null?null:nie(t)}resetBaseElement(){Mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fy(document.cookie,e)}},Mh=null;function rie(){return Mh=Mh||document.querySelector("base"),Mh?Mh.getAttribute("href"):null}function nie(i){return new URL(i,document.baseURI).pathname}var oie=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),uS=new jt(""),eB=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(n=>{n.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,n,o){return this._findPluginFor(r).addEventListener(t,r,n,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ei(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||i)(Ke(uS),Ke(Bi))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),Wy=class{_doc;constructor(e){this._doc=e}manager},Gy="ng-app-id";function X5(i){for(let e of i)e.remove()}function Z5(i,e){let t=e.createElement("style");return t.textContent=i,t}function sie(i,e,t,r){let n=i.head?.querySelectorAll(`style[${Gy}="${e}"],link[${Gy}="${e}"]`);if(n)for(let o of n)o.removeAttribute(Gy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function dS(i,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",i),t}var tB=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,n,o={}){this.doc=t,this.appId=r,this.nonce=n,this.isServer=Ph(o),sie(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let n of t)this.addUsage(n,this.inline,Z5);r?.forEach(n=>this.addUsage(n,this.external,dS))}removeStyles(t,r){for(let n of t)this.removeUsage(n,this.inline);r?.forEach(n=>this.removeUsage(n,this.external))}addUsage(t,r,n){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,n(t,this.doc)))})}removeUsage(t,r){let n=r.get(t);n&&(n.usage--,n.usage<=0&&(X5(n.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])X5(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:n}]of this.inline)n.push(this.addElement(t,Z5(r,this.doc)));for(let[r,{elements:n}]of this.external)n.push(this.addElement(t,dS(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Gy,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||i)(Ke(ci),Ke(Xw),Ke(Sh,8),Ke(er))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),aS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fS=/%COMP%/g;var iB="%COMP%",aie=`_nghost-${iB}`,lie=`_ngcontent-${iB}`,cie=!0,uie=new jt("",{providedIn:"root",factory:()=>cie});function die(i){return lie.replace(fS,i)}function pie(i){return aie.replace(fS,i)}function rB(i,e){return e.map(t=>t.replace(fS,i))}var Xy=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,n,o,s,a,l,d=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=f,this.platformIsServer=Ph(a),this.defaultRenderer=new Vh(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ah.ShadowDom&&(r=ue(R({},r),{encapsulation:Ah.Emulated}));let n=this.getOrCreateRenderer(t,r);return n instanceof Zy?n.applyToHost(t):n instanceof Nh&&n.applyStyles(),n}getOrCreateRenderer(t,r){let n=this.rendererByCompId,o=n.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,w=this.tracingService;switch(r.encapsulation){case Ah.Emulated:o=new Zy(l,d,r,this.appId,f,s,a,g,w);break;case Ah.ShadowDom:return new pS(l,d,t,r,s,a,this.nonce,g,w);default:o=new Nh(l,d,r,f,s,a,g,w);break}n.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||i)(Ke(eB),Ke(tB),Ke(Xw),Ke(uie),Ke(ci),Ke(er),Ke(Bi),Ke(Sh),Ke(i5,8))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),Vh=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,n,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=n,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(aS[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Q5(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Q5(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ei(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,n){if(n){t=n+":"+t;let o=aS[n];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let n=aS[r];n?e.removeAttributeNS(n,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,n){n&(Rh.DashCase|Rh.Important)?e.style.setProperty(t,r,n&Rh.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rh.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,n){if(typeof e=="string"&&(e=Ed().getGlobalEventTarget(this.doc,e),!e))throw new ei(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,n)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Q5(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var pS=class extends Vh{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,n,o,s,a,l,d){super(e,o,s,l,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=n.styles;f=rB(n.id,f);for(let w of f){let A=document.createElement("style");a&&A.setAttribute("nonce",a),A.textContent=w,this.shadowRoot.appendChild(A)}let g=n.getExternalStyles?.();if(g)for(let w of g){let A=dS(w,o);a&&A.setAttribute("nonce",a),this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nh=class extends Vh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,n,o,s,a,l,d){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n;let f=r.styles;this.styles=d?rB(d,f):f,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zy=class extends Nh{contentAttr;hostAttr;constructor(e,t,r,n,o,s,a,l,d){let f=n+"-"+r.id;super(e,t,r,o,s,a,l,d,f),this.contentAttr=die(f),this.hostAttr=pie(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},fie=(()=>{class i extends Wy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,n,o){return t.addEventListener(r,n,o),()=>this.removeEventListener(t,r,n,o)}removeEventListener(t,r,n,o){return t.removeEventListener(r,n,o)}static \u0275fac=function(r){return new(r||i)(Ke(ci))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),Y5=["alt","control","meta","shift"],hie={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mie={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},gie=(()=>{class i extends Wy{constructor(t){super(t)}supports(t){return i.parseEventName(t)!=null}addEventListener(t,r,n,o){let s=i.parseEventName(r),a=i.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ed().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),n=r.shift();if(r.length===0||!(n==="keydown"||n==="keyup"))return null;let o=i._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Y5.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=n,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let n=hie[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(n=t.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Y5.forEach(s=>{if(s!==n){let a=mie[s];a(t)&&(o+=s+".")}}),o+=n,o===r)}static eventCallback(t,r,n){return o=>{i.matchEventFullKeyCode(o,t)&&n.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||i)(Ke(ci))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function nB(i,e){return C5(R({rootComponent:i},yie(e)))}function yie(i){return{appProviders:[...Cie,...i?.providers??[]],platformProviders:xie}}function bie(){cS.makeCurrent()}function _ie(){return new Ww}function vie(){return J4(document),document}var xie=[{provide:er,useValue:I5},{provide:e5,useValue:bie,multi:!0},{provide:ci,useFactory:vie,deps:[]}];var Cie=[{provide:X4,useValue:"root"},{provide:Ww,useFactory:_ie,deps:[]},{provide:uS,useClass:fie,multi:!0,deps:[ci]},{provide:uS,useClass:gie,multi:!0,deps:[ci]},Xy,tB,eB,{provide:vd,useExisting:Xy},{provide:jy,useClass:oie,deps:[]},[]];var oB=(()=>{class i{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||i)(Ke(ci))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Fh=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:function(r){let n=null;return r?n=new(r||i):n=Ke(Eie),n},providedIn:"root"})}return i})(),Eie=(()=>{class i extends Fh{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case $c.NONE:return r;case $c.HTML:return bd(r,"HTML")?yd(r):u5(this._doc,String(r)).toString();case $c.STYLE:return bd(r,"Style")?yd(r):r;case $c.SCRIPT:if(bd(r,"Script"))return yd(r);throw new ei(5200,!1);case $c.URL:return bd(r,"URL")?yd(r):c5(String(r));case $c.RESOURCE_URL:if(bd(r,"ResourceURL"))return yd(r);throw new ei(5201,!1);default:throw new ei(5202,!1)}}bypassSecurityTrustHtml(t){return n5(t)}bypassSecurityTrustStyle(t){return o5(t)}bypassSecurityTrustScript(t){return s5(t)}bypassSecurityTrustUrl(t){return a5(t)}bypassSecurityTrustResourceUrl(t){return l5(t)}static \u0275fac=function(r){return new(r||i)(Ke(ci))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Et="primary",Jh=Symbol("RouteTitle"),_S=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Id(i){return new _S(i)}function Tie(i,e,t){let r=t.path.split("/");if(r.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<i.length))return null;let n={};for(let o=0;o<r.length;o++){let s=r[o],a=i[o];if(s[0]===":")n[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,r.length),posParams:n}}function wie(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Hs(i[t],e[t]))return!1;return!0}function Hs(i,e){let t=i?vS(i):void 0,r=e?vS(e):void 0;if(!t||!r||t.length!=r.length)return!1;let n;for(let o=0;o<t.length;o++)if(n=t[o],!mB(i[n],e[n]))return!1;return!0}function vS(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function mB(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),r=[...e].sort();return t.every((n,o)=>r[o]===n)}else return i===e}function gB(i){return i.length>0?i[i.length-1]:null}function Bl(i){return F4(i)?i:Ly(i)?Xe(Promise.resolve(i)):it(i)}var Sie={exact:bB,subset:_B},yB={exact:Aie,subset:Rie,ignored:()=>!0};function sB(i,e,t){return Sie[t.paths](i.root,e.root,t.matrixParams)&&yB[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function Aie(i,e){return Hs(i,e)}function bB(i,e,t){if(!Qc(i.segments,e.segments)||!Jy(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!i.children[r]||!bB(i.children[r],e.children[r],t))return!1;return!0}function Rie(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>mB(i[t],e[t]))}function _B(i,e,t){return vB(i,e,e.segments,t)}function vB(i,e,t,r){if(i.segments.length>t.length){let n=i.segments.slice(0,t.length);return!(!Qc(n,t)||e.hasChildren()||!Jy(n,t,r))}else if(i.segments.length===t.length){if(!Qc(i.segments,t)||!Jy(i.segments,t,r))return!1;for(let n in e.children)if(!i.children[n]||!_B(i.children[n],e.children[n],r))return!1;return!0}else{let n=t.slice(0,i.segments.length),o=t.slice(i.segments.length);return!Qc(i.segments,n)||!Jy(i.segments,n,r)||!i.children[Et]?!1:vB(i.children[Et],e,o,r)}}function Jy(i,e,t){return e.every((r,n)=>yB[t](i[n].parameters,r.parameters))}var Ga=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ui([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Id(this.queryParams),this._queryParamMap}toString(){return Iie.serialize(this)}},ui=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eb(this)}},Zc=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Id(this.parameters),this._parameterMap}toString(){return CB(this)}};function kie(i,e){return Qc(i,e)&&i.every((t,r)=>Hs(t.parameters,e[r].parameters))}function Qc(i,e){return i.length!==e.length?!1:i.every((t,r)=>t.path===e[r].path)}function Die(i,e){let t=[];return Object.entries(i.children).forEach(([r,n])=>{r===Et&&(t=t.concat(e(n,r)))}),Object.entries(i.children).forEach(([r,n])=>{r!==Et&&(t=t.concat(e(n,r)))}),t}var em=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:()=>new Pd,providedIn:"root"})}return i})(),Pd=class{parse(e){let t=new CS(e);return new Ga(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Uh(e.root,!0)}`,r=Bie(e.queryParams),n=typeof e.fragment=="string"?`#${Pie(e.fragment)}`:"";return`${t}${r}${n}`}},Iie=new Pd;function eb(i){return i.segments.map(e=>CB(e)).join("/")}function Uh(i,e){if(!i.hasChildren())return eb(i);if(e){let t=i.children[Et]?Uh(i.children[Et],!1):"",r=[];return Object.entries(i.children).forEach(([n,o])=>{n!==Et&&r.push(`${n}:${Uh(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Die(i,(r,n)=>n===Et?[Uh(i.children[Et],!1)]:[`${n}:${Uh(r,!1)}`]);return Object.keys(i.children).length===1&&i.children[Et]!=null?`${eb(i)}/${t[0]}`:`${eb(i)}/(${t.join("//")})`}}function xB(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qy(i){return xB(i).replace(/%3B/gi,";")}function Pie(i){return encodeURI(i)}function xS(i){return xB(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tb(i){return decodeURIComponent(i)}function aB(i){return tb(i.replace(/\+/g,"%20"))}function CB(i){return`${xS(i.path)}${Lie(i.parameters)}`}function Lie(i){return Object.entries(i).map(([e,t])=>`;${xS(e)}=${xS(t)}`).join("")}function Bie(i){let e=Object.entries(i).map(([t,r])=>Array.isArray(r)?r.map(n=>`${Qy(t)}=${Qy(n)}`).join("&"):`${Qy(t)}=${Qy(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Oie=/^[^\/()?;#]+/;function mS(i){let e=i.match(Oie);return e?e[0]:""}var Mie=/^[^\/()?;=#]+/;function Vie(i){let e=i.match(Mie);return e?e[0]:""}var Nie=/^[^=?&#]+/;function Fie(i){let e=i.match(Nie);return e?e[0]:""}var Uie=/^[^&#]+/;function jie(i){let e=i.match(Uie);return e?e[0]:""}var CS=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ui([],{}):new ui([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Et]=new ui(e,t)),r}parseSegment(){let e=mS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ei(4009,!1);return this.capture(e),new Zc(tb(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Vie(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let n=mS(this.remaining);n&&(r=n,this.capture(r))}e[tb(t)]=tb(r)}parseQueryParam(e){let t=Fie(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=jie(this.remaining);s&&(r=s,this.capture(r))}let n=aB(t),o=aB(r);if(e.hasOwnProperty(n)){let s=e[n];Array.isArray(s)||(s=[s],e[n]=s),s.push(o)}else e[n]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mS(this.remaining),n=this.remaining[r.length];if(n!=="/"&&n!==")"&&n!==";")throw new ei(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Et);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Et]:new ui([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ei(4011,!1)}};function EB(i){return i.segments.length>0?new ui([],{[Et]:i}):i}function TB(i){let e={};for(let[r,n]of Object.entries(i.children)){let o=TB(n);if(r===Et&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ui(i.segments,e);return qie(t)}function qie(i){if(i.numberOfChildren===1&&i.children[Et]){let e=i.children[Et];return new ui(i.segments.concat(e.segments),e.children)}return i}function Yc(i){return i instanceof Ga}function $ie(i,e,t=null,r=null){let n=wB(i);return SB(n,e,t,r)}function wB(i){let e;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new ui(o.url,s);return o===i&&(e=a),a}let r=t(i.root),n=EB(r);return e??n}function SB(i,e,t,r){let n=i;for(;n.parent;)n=n.parent;if(e.length===0)return gS(n,n,n,t,r);let o=zie(e);if(o.toRoot())return gS(n,n,new ui([],{}),t,r);let s=Kie(o,n,i),a=s.processChildren?qh(s.segmentGroup,s.index,o.commands):RB(s.segmentGroup,s.index,o.commands);return gS(n,s.segmentGroup,a,t,r)}function ib(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Kh(i){return typeof i=="object"&&i!=null&&i.outlets}function gS(i,e,t,r,n){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;i===e?s=t:s=AB(i,e,t);let a=EB(TB(s));return new Ga(a,o,n)}function AB(i,e,t){let r={};return Object.entries(i.children).forEach(([n,o])=>{o===e?r[n]=t:r[n]=AB(o,e,t)}),new ui(i.segments,r)}var rb=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ib(r[0]))throw new ei(4003,!1);let n=r.find(Kh);if(n&&n!==gB(r))throw new ei(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zie(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new rb(!0,0,i);let e=0,t=!1,r=i.reduce((n,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...n,{outlets:a}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&n.push(a))}),n):[...n,o]},[]);return new rb(t,e,r)}var Rd=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Kie(i,e,t){if(i.isAbsolute)return new Rd(e,!0,0);if(!t)return new Rd(e,!1,NaN);if(t.parent===null)return new Rd(t,!0,0);let r=ib(i.commands[0])?0:1,n=t.segments.length-1+r;return Hie(t,n,i.numberOfDoubleDots)}function Hie(i,e,t){let r=i,n=e,o=t;for(;o>n;){if(o-=n,r=r.parent,!r)throw new ei(4005,!1);n=r.segments.length}return new Rd(r,!1,n-o)}function Gie(i){return Kh(i[0])?i[0].outlets:{[Et]:i}}function RB(i,e,t){if(i??=new ui([],{}),i.segments.length===0&&i.hasChildren())return qh(i,e,t);let r=Wie(i,e,t),n=t.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){let o=new ui(i.segments.slice(0,r.pathIndex),{});return o.children[Et]=new ui(i.segments.slice(r.pathIndex),i.children),qh(o,0,n)}else return r.match&&n.length===0?new ui(i.segments,{}):r.match&&!i.hasChildren()?ES(i,e,t):r.match?qh(i,0,n):ES(i,e,t)}function qh(i,e,t){if(t.length===0)return new ui(i.segments,{});{let r=Gie(t),n={};if(Object.keys(r).some(o=>o!==Et)&&i.children[Et]&&i.numberOfChildren===1&&i.children[Et].segments.length===0){let o=qh(i.children[Et],e,t);return new ui(i.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(n[o]=RB(i.children[o],e,s))}),Object.entries(i.children).forEach(([o,s])=>{r[o]===void 0&&(n[o]=s)}),new ui(i.segments,n)}}function Wie(i,e,t){let r=0,n=e,o={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(r>=t.length)return o;let s=i.segments[n],a=t[r];if(Kh(a))break;let l=`${a}`,d=r<t.length-1?t[r+1]:null;if(n>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!cB(l,d,s))return o;r+=2}else{if(!cB(l,{},s))return o;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}function ES(i,e,t){let r=i.segments.slice(0,e),n=0;for(;n<t.length;){let o=t[n];if(Kh(o)){let l=Xie(o.outlets);return new ui(r,l)}if(n===0&&ib(t[0])){let l=i.segments[e];r.push(new Zc(l.path,lB(t[0]))),n++;continue}let s=Kh(o)?o.outlets[Et]:`${o}`,a=n<t.length-1?t[n+1]:null;s&&a&&ib(a)?(r.push(new Zc(s,lB(a))),n+=2):(r.push(new Zc(s,{})),n++)}return new ui(r,{})}function Xie(i){let e={};return Object.entries(i).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ES(new ui([],{}),0,r))}),e}function lB(i){let e={};return Object.entries(i).forEach(([t,r])=>e[t]=`${r}`),e}function cB(i,e,t){return i==t.path&&Hs(e,t.parameters)}var $h="imperative",Dr=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Dr||{}),Oo=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ld=class extends Oo{type=Dr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",n=null){super(e,t),this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fs=class extends Oo{urlAfterRedirects;type=Dr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},no=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(no||{}),nb=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(nb||{}),Ha=class extends Oo{reason;code;type=Dr.NavigationCancel;constructor(e,t,r,n){super(e,t),this.reason=r,this.code=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pl=class extends Oo{reason;code;type=Dr.NavigationSkipped;constructor(e,t,r,n){super(e,t),this.reason=r,this.code=n}},Hh=class extends Oo{error;target;type=Dr.NavigationError;constructor(e,t,r,n){super(e,t),this.error=r,this.target=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ob=class extends Oo{urlAfterRedirects;state;type=Dr.RoutesRecognized;constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},TS=class extends Oo{urlAfterRedirects;state;type=Dr.GuardsCheckStart;constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wS=class extends Oo{urlAfterRedirects;state;shouldActivate;type=Dr.GuardsCheckEnd;constructor(e,t,r,n,o){super(e,t),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},SS=class extends Oo{urlAfterRedirects;state;type=Dr.ResolveStart;constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AS=class extends Oo{urlAfterRedirects;state;type=Dr.ResolveEnd;constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},RS=class{route;type=Dr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kS=class{route;type=Dr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},DS=class{snapshot;type=Dr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},IS=class{snapshot;type=Dr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},PS=class{snapshot;type=Dr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},LS=class{snapshot;type=Dr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sb=class{routerEvent;position;anchor;type=Dr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Gh=class{},Bd=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Zie(i,e){return i.providers&&!i._injector&&(i._injector=Yw(i.providers,e,`Route: ${i.path}`)),i._injector??e}function ps(i){return i.outlet||Et}function Qie(i,e){let t=i.filter(r=>ps(r)===e);return t.push(...i.filter(r=>ps(r)!==e)),t}function tm(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var BS=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return tm(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new im(this.rootInjector)}},im=(()=>{class i{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let n=this.getOrCreateContext(t);n.outlet=r,this.contexts.set(t,n)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new BS(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||i)(Ke(qc))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ab=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=OS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=OS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=MS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(n=>n.value).filter(n=>n!==e)}pathFromRoot(e){return MS(e,this._root).map(t=>t.value)}};function OS(i,e){if(i===e.value)return e;for(let t of e.children){let r=OS(i,t);if(r)return r}return null}function MS(i,e){if(i===e.value)return[e];for(let t of e.children){let r=MS(i,t);if(r.length)return r.unshift(e),r}return[]}var ro=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ad(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var lb=class extends ab{snapshot;constructor(e,t){super(e),this.snapshot=t,KS(this,e)}toString(){return this.snapshot.toString()}};function kB(i){let e=Yie(i),t=new Qr([new Zc("",{})]),r=new Qr({}),n=new Qr({}),o=new Qr({}),s=new Qr(""),a=new Ll(t,r,o,s,n,Et,i,e.root);return a.snapshot=e.root,new lb(new ro(a,[]),e)}function Yie(i){let e={},t={},r={},n="",o=new kd([],e,r,n,t,Et,i,null,{});return new ub("",new ro(o,[]))}var Ll=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,n,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=n,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ut(d=>d[Jh]))??it(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ut(e=>Id(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ut(e=>Id(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cb(i,e,t="emptyOnly"){let r,{routeConfig:n}=i;return e!==null&&(t==="always"||n?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),i.params),data:R(R({},e.data),i.data),resolve:R(R(R(R({},i.data),e.data),n?.data),i._resolvedData)}:r={params:R({},i.params),data:R({},i.data),resolve:R(R({},i.data),i._resolvedData??{})},n&&IB(n)&&(r.resolve[Jh]=n.title),r}var kd=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Jh]}constructor(e,t,r,n,o,s,a,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Id(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Id(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ub=class extends ab{url;constructor(e,t){super(t),this.url=e,KS(this,t)}toString(){return DB(this._root)}};function KS(i,e){e.value._routerState=i,e.children.forEach(t=>KS(i,t))}function DB(i){let e=i.children.length>0?` { ${i.children.map(DB).join(", ")} } `:"";return`${i.value}${e}`}function yS(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Hs(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),Hs(e.params,t.params)||i.paramsSubject.next(t.params),wie(e.url,t.url)||i.urlSubject.next(t.url),Hs(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function VS(i,e){let t=Hs(i.params,e.params)&&kie(i.url,e.url),r=!i.parent!=!e.parent;return t&&!r&&(!i.parent||VS(i.parent,e.parent))}function IB(i){return typeof i.title=="string"||i.title===null}var Jie=new jt(""),HS=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Et;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=$t(void 0);parentContexts=se(im);location=se(Dl);changeDetector=se(Wt);inputBinder=se(mb,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:n}=t.name;if(r)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ei(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ei(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ei(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ei(4013,!1);this._activatedRoute=t;let n=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new NS(t,a,n.injector,this.routerOutletData);this.activated=n.createComponent(s,{index:n.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||i)};static \u0275dir=Ht({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ji]})}return i})(),NS=class i{route;childContexts;parent;outletData;__ngOutletInjector(e){return new i(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,n){this.route=e,this.childContexts=t,this.parent=r,this.outletData=n}get(e,t){return e===Ll?this.route:e===im?this.childContexts:e===Jie?this.outletData:this.parent.get(e,t)}},mb=new jt(""),uB=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,n=Ry([r.queryParams,r.params,r.data]).pipe(dn(([o,s,a],l)=>(a=R(R(R({},o),s),a),l===0?it(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=T5(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,n)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function ere(i,e,t){let r=Wh(i,e._root,t?t._root:void 0);return new lb(r,e)}function Wh(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let n=tre(i,e,t);return new ro(r,n)}else{if(i.shouldAttach(e.value)){let o=i.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wh(i,a)),s}}let r=ire(e.value),n=e.children.map(o=>Wh(i,o));return new ro(r,n)}}function tre(i,e,t){return e.children.map(r=>{for(let n of t.children)if(i.shouldReuseRoute(r.value,n.value.snapshot))return Wh(i,r,n);return Wh(i,r)})}function ire(i){return new Ll(new Qr(i.url),new Qr(i.params),new Qr(i.queryParams),new Qr(i.fragment),new Qr(i.data),i.outlet,i.component,i)}var Xh=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},PB="ngNavigationCancelingError";function db(i,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,n=LB(!1,no.Redirect);return n.url=t,n.navigationBehaviorOptions=r,n}function LB(i,e){let t=new Error(`NavigationCancelingError: ${i||""}`);return t[PB]=!0,t.cancellationCode=e,t}function rre(i){return BB(i)&&Yc(i.url)}function BB(i){return!!i&&i[PB]}var nre=(i,e,t,r)=>Ut(n=>(new FS(e,n.targetRouterState,n.currentRouterState,t,r).activate(i),n)),FS=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,n,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=n,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let n=Ad(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,n[s],r),delete n[s]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let n=e.value,o=t?t.value:null;if(n===o)if(n.component){let s=r.getContext(n.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),n=r&&e.value.component?r.children:t,o=Ad(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),n=r&&e.value.component?r.children:t,o=Ad(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let n=Ad(t);e.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],r),this.forwardEvent(new LS(o.value.snapshot))}),e.children.length&&this.forwardEvent(new IS(e.value.snapshot))}activateRoutes(e,t,r){let n=e.value,o=t?t.value:null;if(yS(n),n===o)if(n.component){let s=r.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(n.component){let s=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yS(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=n,s.outlet&&s.outlet.activateWith(n,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pb=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Dd=class{component;route;constructor(e,t){this.component=e,this.route=t}};function ore(i,e,t){let r=i._root,n=e?e._root:null;return jh(r,n,t,[r.value])}function sre(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Md(i,e){let t=Symbol(),r=e.get(i,t);return r===t?typeof i=="function"&&!W4(i)?i:e.get(i):r}function jh(i,e,t,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ad(e);return i.children.forEach(s=>{are(s,o[s.value.outlet],t,r.concat([s.value]),n),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>zh(a,t.getContext(s),n)),n}function are(i,e,t,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=lre(s,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new pb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?jh(i,e,a?a.children:null,r,n):jh(i,e,t,r,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new Dd(a.outlet.component,s))}else s&&zh(e,a,n),n.canActivateChecks.push(new pb(r)),o.component?jh(i,null,a?a.children:null,r,n):jh(i,null,t,r,n);return n}function lre(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!Qc(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Qc(i.url,e.url)||!Hs(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VS(i,e)||!Hs(i.queryParams,e.queryParams);case"paramsChange":default:return!VS(i,e)}}function zh(i,e,t){let r=Ad(i),n=i.value;Object.entries(r).forEach(([o,s])=>{n.component?e?zh(s,e.children.getContext(o),t):zh(s,null,t):zh(s,e,t)}),n.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Dd(e.outlet.component,n)):t.canDeactivateChecks.push(new Dd(null,n)):t.canDeactivateChecks.push(new Dd(null,n))}function rm(i){return typeof i=="function"}function cre(i){return typeof i=="boolean"}function ure(i){return i&&rm(i.canLoad)}function dre(i){return i&&rm(i.canActivate)}function pre(i){return i&&rm(i.canActivateChild)}function fre(i){return i&&rm(i.canDeactivate)}function hre(i){return i&&rm(i.canMatch)}function OB(i){return i instanceof U4||i?.name==="EmptyError"}var Yy=Symbol("INITIAL_VALUE");function Od(){return dn(i=>Ry(i.map(e=>e.pipe(md(1),H4(Yy)))).pipe(Ut(e=>{for(let t of e)if(t!==!0){if(t===Yy)return Yy;if(t===!1||mre(t))return t}return!0}),Na(e=>e!==Yy),md(1)))}function mre(i){return Yc(i)||i instanceof Xh}function gre(i,e){return eo(t=>{let{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?it(ue(R({},t),{guardsResult:!0})):yre(s,r,n,i).pipe(eo(a=>a&&cre(a)?bre(r,o,i,e):it(a)),Ut(a=>ue(R({},t),{guardsResult:a})))})}function yre(i,e,t,r){return Xe(i).pipe(eo(n=>Ere(n.component,n.route,t,e,r)),kl(n=>n!==!0,!0))}function bre(i,e,t,r){return Xe(e).pipe(Rl(n=>j4(vre(n.route.parent,r),_re(n.route,r),Cre(i,n.path,t),xre(i,n.route,t))),kl(n=>n!==!0,!0))}function _re(i,e){return i!==null&&e&&e(new PS(i)),it(!0)}function vre(i,e){return i!==null&&e&&e(new DS(i)),it(!0)}function xre(i,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return it(!0);let n=r.map(o=>zw(()=>{let s=tm(e)??t,a=Md(o,s),l=dre(a)?a.canActivate(e,i):Io(s,()=>a(e,i));return Bl(l).pipe(kl())}));return it(n).pipe(Od())}function Cre(i,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>sre(s)).filter(s=>s!==null).map(s=>zw(()=>{let a=s.guards.map(l=>{let d=tm(s.node)??t,f=Md(l,d),g=pre(f)?f.canActivateChild(r,i):Io(d,()=>f(r,i));return Bl(g).pipe(kl())});return it(a).pipe(Od())}));return it(o).pipe(Od())}function Ere(i,e,t,r,n){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return it(!0);let s=o.map(a=>{let l=tm(e)??n,d=Md(a,l),f=fre(d)?d.canDeactivate(i,e,t,r):Io(l,()=>d(i,e,t,r));return Bl(f).pipe(kl())});return it(s).pipe(Od())}function Tre(i,e,t,r){let n=e.canLoad;if(n===void 0||n.length===0)return it(!0);let o=n.map(s=>{let a=Md(s,i),l=ure(a)?a.canLoad(e,t):Io(i,()=>a(e,t));return Bl(l)});return it(o).pipe(Od(),MB(r))}function MB(i){return N4(jr(e=>{if(typeof e!="boolean")throw db(i,e)}),Ut(e=>e===!0))}function wre(i,e,t,r){let n=e.canMatch;if(!n||n.length===0)return it(!0);let o=n.map(s=>{let a=Md(s,i),l=hre(a)?a.canMatch(e,t):Io(i,()=>a(e,t));return Bl(l)});return it(o).pipe(Od(),MB(r))}var Zh=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Qh=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Sd(i){return Th(new Zh(i))}function Sre(i){return Th(new ei(4e3,!1))}function Are(i){return Th(LB(!1,no.GuardRejected))}var US=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],n=t.root;for(;;){if(r=r.concat(n.segments),n.numberOfChildren===0)return it(r);if(n.numberOfChildren>1||!n.children[Et])return Sre(`${e.redirectTo}`);n=n.children[Et]}}applyRedirectCommands(e,t,r,n,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:f,url:g,outlet:w,params:A,data:B,title:S}=n,U=Io(o,()=>a({params:A,data:B,queryParams:l,fragment:d,routeConfig:f,url:g,outlet:w,title:S}));if(U instanceof Ga)throw new Qh(U);t=U}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Qh(s);return s}applyRedirectCreateUrlTree(e,t,r,n){let o=this.createSegmentGroup(e,t.root,r,n);return new Ga(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[n]=t[a]}else r[n]=o}),r}createSegmentGroup(e,t,r,n){let o=this.createSegments(e,t.segments,r,n),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,n)}),new ui(o,s)}createSegments(e,t,r,n){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,n):this.findOrReturn(o,r))}findPosParam(e,t,r){let n=r[t.path.substring(1)];if(!n)throw new ei(4001,!1);return n}findOrReturn(e,t){let r=0;for(let n of t){if(n.path===e.path)return t.splice(r),n;r++}return e}},jS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rre(i,e,t,r,n){let o=VB(i,e,t);return o.matched?(r=Zie(e,r),wre(r,e,t,n).pipe(Ut(s=>s===!0?o:R({},jS)))):it(o)}function VB(i,e,t){if(e.path==="**")return kre(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?R({},jS):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let n=(e.matcher||Tie)(t,i,e);if(!n)return R({},jS);let o={};Object.entries(n.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=n.consumed.length>0?R(R({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:t.slice(n.consumed.length),parameters:s,positionalParamSegments:n.posParams??{}}}function kre(i){return{matched:!0,parameters:i.length>0?gB(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function dB(i,e,t,r){return t.length>0&&Pre(i,t,r)?{segmentGroup:new ui(e,Ire(r,new ui(t,i.children))),slicedSegments:[]}:t.length===0&&Lre(i,t,r)?{segmentGroup:new ui(i.segments,Dre(i,t,r,i.children)),slicedSegments:t}:{segmentGroup:new ui(i.segments,i.children),slicedSegments:t}}function Dre(i,e,t,r){let n={};for(let o of t)if(gb(i,e,o)&&!r[ps(o)]){let s=new ui([],{});n[ps(o)]=s}return R(R({},r),n)}function Ire(i,e){let t={};t[Et]=e;for(let r of i)if(r.path===""&&ps(r)!==Et){let n=new ui([],{});t[ps(r)]=n}return t}function Pre(i,e,t){return t.some(r=>gb(i,e,r)&&ps(r)!==Et)}function Lre(i,e,t){return t.some(r=>gb(i,e,r))}function gb(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Bre(i,e,t){return e.length===0&&!i.children[t]}var qS=class{};function Ore(i,e,t,r,n,o,s="emptyOnly"){return new $S(i,e,t,r,n,s,o).recognize()}var Mre=31,$S=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,n,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new US(this.urlSerializer,this.urlTree)}noMatchError(e){return new ei(4002,`'${e.segmentGroup}'`)}recognize(){let e=dB(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ut(({children:t,rootSnapshot:r})=>{let n=new ro(r,t),o=new ub("",n),s=$ie(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new kd([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Et,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Et,t).pipe(Ut(r=>({children:r,rootSnapshot:t})),hd(r=>{if(r instanceof Qh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zh?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,n,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,n,!0,o).pipe(Ut(s=>s instanceof ro?[s]:[]))}processChildren(e,t,r,n){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Xe(o).pipe(Rl(s=>{let a=r.children[s],l=Qie(t,s);return this.processSegmentGroup(e,l,a,s,n)}),K4((s,a)=>(s.push(...a),s)),Kw(null),z4(),eo(s=>{if(s===null)return Sd(r);let a=NB(s);return Vre(a),it(a)}))}processSegment(e,t,r,n,o,s,a){return Xe(t).pipe(Rl(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,n,o,s,a).pipe(hd(d=>{if(d instanceof Zh)return it(null);throw d}))),kl(l=>!!l),hd(l=>{if(OB(l))return Bre(r,n,o)?it(new qS):Sd(r);throw l}))}processSegmentAgainstRoute(e,t,r,n,o,s,a,l){return ps(r)!==s&&(s===Et||!gb(n,o,r))?Sd(n):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,n,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,n,t,r,o,s,l):Sd(n)}expandSegmentAgainstRouteUsingRedirect(e,t,r,n,o,s,a){let{matched:l,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:w}=VB(t,n,o);if(!l)return Sd(t);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Mre&&(this.allowRedirects=!1));let A=new kd(o,d,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,pB(n),ps(n),n.component??n._loadedComponent??null,n,fB(n)),B=cb(A,a,this.paramsInheritanceStrategy);A.params=Object.freeze(B.params),A.data=Object.freeze(B.data);let S=this.applyRedirects.applyRedirectCommands(f,n.redirectTo,g,A,e);return this.applyRedirects.lineralizeSegments(n,S).pipe(eo(U=>this.processSegment(e,r,t,U.concat(w),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,n,o,s){let a=Rre(t,r,n,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(dn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,n).pipe(dn(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:w,remainingSegments:A}=l,B=new kd(w,g,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,pB(r),ps(r),r.component??r._loadedComponent??null,r,fB(r)),S=cb(B,s,this.paramsInheritanceStrategy);B.params=Object.freeze(S.params),B.data=Object.freeze(S.data);let{segmentGroup:U,slicedSegments:q}=dB(t,w,A,d);if(q.length===0&&U.hasChildren())return this.processChildren(f,d,U,B).pipe(Ut(K=>new ro(B,K)));if(d.length===0&&q.length===0)return it(new ro(B,[]));let G=ps(r)===o;return this.processSegment(f,d,U,q,G?Et:o,!0,B).pipe(Ut(K=>new ro(B,K instanceof ro?[K]:[])))}))):Sd(t)))}getChildConfig(e,t,r){return t.children?it({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?it({routes:t._loadedRoutes,injector:t._loadedInjector}):Tre(e,t,r,this.urlSerializer).pipe(eo(n=>n?this.configLoader.loadChildren(e,t).pipe(jr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Are(t))):it({routes:[],injector:e})}};function Vre(i){i.sort((e,t)=>e.value.outlet===Et?-1:t.value.outlet===Et?1:e.value.outlet.localeCompare(t.value.outlet))}function Nre(i){let e=i.value.routeConfig;return e&&e.path===""}function NB(i){let e=[],t=new Set;for(let r of i){if(!Nre(r)){e.push(r);continue}let n=e.find(o=>r.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...r.children),t.add(n)):e.push(r)}for(let r of t){let n=NB(r.children);e.push(new ro(r.value,n))}return e.filter(r=>!t.has(r))}function pB(i){return i.data||{}}function fB(i){return i.resolve||{}}function Fre(i,e,t,r,n,o){return eo(s=>Ore(i,e,t,r,s.extractedUrl,n,o).pipe(Ut(({state:a,tree:l})=>ue(R({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Ure(i,e){return eo(t=>{let{targetSnapshot:r,guards:{canActivateChecks:n}}=t;if(!n.length)return it(t);let o=new Set(n.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of FB(l))s.add(d);let a=0;return Xe(s).pipe(Rl(l=>o.has(l)?jre(l,r,i,e):(l.data=cb(l,l.parent,i).resolve,it(void 0))),jr(()=>a++),Hw(1),eo(l=>a===s.size?it(t):Va))})}function FB(i){let e=i.children.map(t=>FB(t)).flat();return[i,...e]}function jre(i,e,t,r){let n=i.routeConfig,o=i._resolve;return n?.title!==void 0&&!IB(n)&&(o[Jh]=n.title),qre(o,i,e,r).pipe(Ut(s=>(i._resolvedData=s,i.data=cb(i,i.parent,t).resolve,null)))}function qre(i,e,t,r){let n=vS(i);if(n.length===0)return it({});let o={};return Xe(n).pipe(eo(s=>$re(i[s],e,t,r).pipe(kl(),jr(a=>{if(a instanceof Xh)throw db(new Pd,a);o[s]=a}))),Hw(1),Ut(()=>o),hd(s=>OB(s)?Va:Th(s)))}function $re(i,e,t,r){let n=tm(e)??r,o=Md(i,n),s=o.resolve?o.resolve(e,t):Io(n,()=>o(e,t));return Bl(s)}function bS(i){return dn(e=>{let t=i(e);return t?Xe(t).pipe(Ut(()=>e)):it(e)})}var UB=(()=>{class i{buildTitle(t){let r,n=t.root;for(;n!==void 0;)r=this.getResolvedTitleForRoute(n)??r,n=n.children.find(o=>o.outlet===Et);return r}getResolvedTitleForRoute(t){return t.data[Jh]}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:()=>se(zre),providedIn:"root"})}return i})(),zre=(()=>{class i extends UB{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||i)(Ke(oB))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),nm=new jt("",{providedIn:"root",factory:()=>({})}),Kre=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=oe({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,n){r&1&&N(0,"router-outlet")},dependencies:[HS],encapsulation:2})}return i})();function GS(i){let e=i.children&&i.children.map(GS),t=e?ue(R({},i),{children:e}):R({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Et&&(t.component=Kre),t}var Yh=new jt(""),WS=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=se(Ny);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return it(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Bl(t.loadComponent()).pipe(Ut(jB),jr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),gd(()=>{this.componentLoaders.delete(t)})),n=new $w(r,()=>new oi).pipe(qw());return this.componentLoaders.set(t,n),n}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return it({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Hre(r,this.compiler,t,this.onLoadEndListener).pipe(gd(()=>{this.childrenLoaders.delete(r)})),s=new $w(o,()=>new oi).pipe(qw());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Hre(i,e,t,r){return Bl(i.loadChildren()).pipe(Ut(jB),eo(n=>n instanceof m5||Array.isArray(n)?it(n):Xe(e.compileModuleAsync(n))),Ut(n=>{r&&r(i);let o,s,a=!1;return Array.isArray(n)?(s=n,a=!0):(o=n.create(t).injector,s=o.get(Yh,[],{optional:!0,self:!0}).flat()),{routes:s.map(GS),injector:o}}))}function Gre(i){return i&&typeof i=="object"&&"default"in i}function jB(i){return Gre(i)?i.default:i}var XS=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:()=>se(Wre),providedIn:"root"})}return i})(),Wre=(()=>{class i{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),qB=new jt(""),$B=new jt("");function Xre(i,e,t){let r=i.get($B),n=i.get(ci);return i.get(Bi).runOutsideAngular(()=>{if(!n.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=n.startViewTransition(()=>(o(),Zre(i))),{onViewTransitionCreated:l}=r;return l&&Io(i,()=>l({transition:a,from:e,to:t})),s})}function Zre(i){return new Promise(e=>{r5({read:()=>setTimeout(e)},{injector:i})})}var zB=new jt(""),ZS=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new oi;transitionAbortSubject=new oi;configLoader=se(WS);environmentInjector=se(qc);destroyRef=se(Q4);urlSerializer=se(em);rootContexts=se(im);location=se(Dh);inputBindingEnabled=se(mb,{optional:!0})!==null;titleStrategy=se(UB);options=se(nm,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=se(XS);createViewTransition=se(qB,{optional:!0});navigationErrorHandler=se(zB,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>it(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=n=>this.events.next(new RS(n)),r=n=>this.events.next(new kS(n));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(R(R({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,n){return this.transitions=new Qr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$h,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Na(o=>o.id!==0),Ut(o=>ue(R({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dn(o=>{let s=!1,a=!1;return it(o).pipe(dn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",no.SupersededByNewNavigation),Va;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new Pl(l.id,this.urlSerializer.serialize(l.rawUrl),g,nb.IgnoredSameUrlNavigation)),l.resolve(!1),Va}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return it(l).pipe(dn(g=>{let w=this.transitions?.getValue();return this.events.next(new Ld(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),w!==this.transitions?.getValue()?Va:Promise.resolve(g)}),Fre(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),jr(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ue(R({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let w=new ob(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:w,source:A,restoredState:B,extras:S}=l,U=new Ld(g,this.urlSerializer.serialize(w),A,B);this.events.next(U);let q=kB(this.rootComponentType).snapshot;return this.currentTransition=o=ue(R({},l),{targetSnapshot:q,urlAfterRedirects:w,extras:ue(R({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,it(o)}else{let g="";return this.events.next(new Pl(l.id,this.urlSerializer.serialize(l.extractedUrl),g,nb.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Va}}),jr(l=>{let d=new TS(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ut(l=>(this.currentTransition=o=ue(R({},l),{guards:ore(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),gre(this.environmentInjector,l=>this.events.next(l)),jr(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw db(this.urlSerializer,l.guardsResult);let d=new wS(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Na(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",no.GuardRejected),!1)),bS(l=>{if(l.guards.canActivateChecks.length)return it(l).pipe(jr(d=>{let f=new SS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),dn(d=>{let f=!1;return it(d).pipe(Ure(this.paramsInheritanceStrategy,this.environmentInjector),jr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",no.NoDataFromResolver)}}))}),jr(d=>{let f=new AS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),bS(l=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(jr(w=>{f.component=w}),Ut(()=>{})));for(let w of f.children)g.push(...d(w));return g};return Ry(d(l.targetSnapshot.root)).pipe(Kw(null),md(1))}),bS(()=>this.afterPreactivation()),dn(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?Xe(f).pipe(Ut(()=>o)):it(o)}),Ut(l=>{let d=ere(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ue(R({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),jr(()=>{this.events.next(new Gh)}),nre(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),md(1),jr({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ky(this.transitionAbortSubject.pipe(jr(l=>{throw l}))),gd(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",no.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),hd(l=>{if(this.destroyed)return o.resolve(!1),Va;if(a=!0,BB(l))this.events.next(new Ha(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),rre(l)?this.events.next(new Bd(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Hh(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=Io(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Xh){let{message:g,cancellationCode:w}=db(this.urlSerializer,f);this.events.next(new Ha(o.id,this.urlSerializer.serialize(o.extractedUrl),g,w)),this.events.next(new Bd(f.redirectTo,f.navigationBehaviorOptions))}else throw this.events.next(d),l}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Va}))}))}cancelNavigationTransition(t,r,n){let o=new Ha(t.id,this.urlSerializer.serialize(t.extractedUrl),r,n);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Qre(i){return i!==$h}var Yre=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:()=>se(Jre),providedIn:"root"})}return i})(),zS=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Jre=(()=>{class i extends zS{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),KB=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:()=>se(ene),providedIn:"root"})}return i})(),ene=(()=>{class i extends KB{location=se(Dh);urlSerializer=se(em);options=se(nm,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=se(XS);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ga;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=kB(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ld)this.stateMemento=this.createStateMemento();else if(t instanceof Pl)this.rawUrlTree=r.initialUrl;else if(t instanceof ob){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??n,r)}}else t instanceof Gh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Ha&&(t.code===no.GuardRejected||t.code===no.NoDataFromResolver)?this.restoreHistory(r):t instanceof Hh?this.restoreHistory(r,!0):t instanceof fs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let n=t instanceof Ga?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(n)||r.extras.replaceUrl){let o=this.browserPageId,s=R(R({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(n,"",s)}else{let o=R(R({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(n,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function HB(i,e){i.events.pipe(Na(t=>t instanceof fs||t instanceof Ha||t instanceof Hh||t instanceof Pl),Ut(t=>t instanceof fs||t instanceof Pl?0:(t instanceof Ha?t.code===no.Redirect||t.code===no.SupersededByNewNavigation:!1)?2:1),Na(t=>t!==2),md(1)).subscribe(()=>{e()})}var tne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ine={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fn=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=se(Jw);stateManager=se(KB);options=se(nm,{optional:!0})||{};pendingTasks=se(Dy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=se(ZS);urlSerializer=se(em);location=se(Dh);urlHandlingStrategy=se(XS);_events=new oi;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=se(Yre);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=se(Yh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!se(mb,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new V4;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let n=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ha&&r.code!==no.Redirect&&r.code!==no.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fs)this.navigated=!0;else if(r instanceof Bd){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,n.currentRawUrl),l=R({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qre(n.source)},s);this.scheduleNavigation(a,$h,null,l,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}nne(r)&&this._events.next(r)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$h,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,n){let o={replaceUrl:!0},s=n?.navigationId?n:null;if(n){let l=R({},n);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(GS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:n,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let w=n?n.snapshot:this.routerState.snapshot.root;g=wB(w)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return SB(g,t,f,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let n=Yc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,$h,null,r)}navigate(t,r={skipLocationChange:!1}){return rne(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let n;if(r===!0?n=R({},tne):r===!1?n=R({},ine):n=r,Yc(t))return sB(this.currentUrlTree,t,n);let o=this.parseUrl(t);return sB(this.currentUrlTree,o,n)}removeEmptyProps(t){return Object.entries(t).reduce((r,[n,o])=>(o!=null&&(r[n]=o),r),{})}scheduleNavigation(t,r,n,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((g,w)=>{a=g,l=w});let f=this.pendingTasks.add();return HB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function rne(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new ei(4008,!1)}function nne(i){return!(i instanceof Gh)&&!(i instanceof Bd)}var fb=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new oi;constructor(t,r,n,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=n,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof fs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yc(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,n,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||n||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:p5(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let n=this.renderer,o=this.el.nativeElement;r!==null?n.setAttribute(o,t,r):n.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Yc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||i)(ne(fn),ne(Ll),Z4("tabindex"),ne(Po),ne(Kt),ne(kh))};static \u0275dir=Ht({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,n){r&1&&V("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ae("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",de],skipLocationChange:[2,"skipLocationChange","skipLocationChange",de],replaceUrl:[2,"replaceUrl","replaceUrl",de],routerLink:"routerLink"},features:[Ji]})}return i})(),GB=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Me;constructor(t,r,n,o,s){this.router=t,this.element=r,this.renderer=n,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof fs&&this.update()})}ngAfterContentInit(){it(this.links.changes,it(null)).pipe(wh()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(t).pipe(wh()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(n=>!!n)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=one(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>{let o=n.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||i)(ne(fn),ne(Kt),ne(Po),ne(Wt),ne(fb,8))};static \u0275dir=Ht({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(r,n,o){if(r&1&&Re(o,fb,5),r&2){let s;be(s=_e())&&(n.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ji]})}return i})();function one(i){return!!i.paths}var hb=class{};var sne=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,n,o,s){this.router=t,this.injector=n,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Na(t=>t instanceof fs),Rl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let n=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Yw(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&n.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&n.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Xe(n).pipe(wh())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let n;r.loadChildren&&r.canLoad===void 0?n=this.loader.loadChildren(t,r):n=it(null);let o=n.pipe(eo(s=>s===null?it(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Xe([o,s]).pipe(wh())}else return o})}static \u0275fac=function(r){return new(r||i)(Ke(fn),Ke(Ny),Ke(qc),Ke(hb),Ke(WS))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),WB=new jt(""),ane=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,n,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=n,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ld?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Pl&&t.code===nb.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sb&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sb(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Py()};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function XB(i,...e){return Ua([{provide:Yh,multi:!0,useValue:i},[],{provide:Ll,useFactory:ZB,deps:[fn]},{provide:By,multi:!0,useFactory:QB},e.map(t=>t.\u0275providers)])}function ZB(i){return i.routerState.root}function om(i,e){return{\u0275kind:i,\u0275providers:e}}function QB(){let i=se(to);return e=>{let t=i.get(xd);if(e!==t.components[0])return;let r=i.get(fn),n=i.get(YB);i.get(QS)===1&&r.initialNavigation(),i.get(JB,null,Gw.Optional)?.setUpPreloading(),i.get(WB,null,Gw.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var YB=new jt("",{factory:()=>new oi}),QS=new jt("",{providedIn:"root",factory:()=>1});function lne(){return om(2,[{provide:QS,useValue:0},{provide:eS,multi:!0,deps:[to],useFactory:e=>{let t=e.get(A5,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let n=e.get(fn),o=e.get(YB);HB(n,()=>{r(!0)}),e.get(ZS).afterPreactivation=()=>(r(!0),o.closed?it(void 0):o),n.initialNavigation()}))}}])}function cne(){return om(3,[{provide:eS,multi:!0,useFactory:()=>{let e=se(fn);return()=>{e.setUpLocationChangeListener()}}},{provide:QS,useValue:2}])}var JB=new jt("");function une(i){return om(0,[{provide:JB,useExisting:sne},{provide:hb,useExisting:i}])}function dne(){return om(8,[uB,{provide:mb,useExisting:uB}])}function pne(i){let e=[{provide:qB,useValue:Xre},{provide:$B,useValue:R({skipNextTransition:!!i?.skipInitialTransition},i)}];return om(9,e)}var fne=[Dh,{provide:em,useClass:Pd},fn,im,{provide:Ll,useFactory:ZB,deps:[fn]},WS,[]],YS=(()=>{class i{constructor(){}static forRoot(t,r){return{ngModule:i,providers:[fne,[],{provide:Yh,multi:!0,useValue:t},[],r?.errorHandler?{provide:zB,useValue:r.errorHandler}:[],{provide:nm,useValue:r||{}},r?.useHash?mne():gne(),hne(),r?.preloadingStrategy?une(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yne(r):[],r?.bindToComponentInputs?dne().\u0275providers:[],r?.enableViewTransitions?pne().\u0275providers:[],bne()]}}static forChild(t){return{ngModule:i,providers:[{provide:Yh,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({})}return i})();function hne(){return{provide:WB,useFactory:()=>{let i=se(P5),e=se(Bi),t=se(nm),r=se(ZS),n=se(em);return t.scrollOffset&&i.setOffset(t.scrollOffset),new ane(n,r,i,e,t)}}}function mne(){return{provide:kh,useClass:k5}}function gne(){return{provide:kh,useClass:R5}}function yne(i){return[i.initialNavigation==="disabled"?cne().\u0275providers:[],i.initialNavigation==="enabledBlocking"?lne().\u0275providers:[]]}var hB=new jt("");function bne(){return[{provide:hB,useFactory:QB},{provide:By,multi:!0,useExisting:hB}]}var v$=Dt(Pi()),ke=new v$.AtpAgent({service:"https://bsky.social"});var Bx=class i{platformId=se(er);set(e,t){Lt(this.platformId)&&localStorage.setItem(e,t)}get(e){return Lt(this.platformId)?localStorage.getItem(e):null}remove(e){Lt(this.platformId)&&localStorage.removeItem(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};function gn(i,e){return i?i.classList?i.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(i.className):!1}function zi(i,e){if(i&&e){let t=r=>{gn(i,r)||(i.classList?i.classList.add(r):i.className+=" "+r)};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function $Ie(){return window.innerWidth-document.documentElement.offsetWidth}function Sp(i){for(let e of document?.styleSheets)try{for(let t of e?.cssRules)for(let r of t?.style)if(i.test(r))return{name:r,value:t.style.getPropertyValue(r).trim()}}catch{}return null}function Uu(i="p-overflow-hidden"){let e=Sp(/-scrollbar-width$/);e?.name&&document.body.style.setProperty(e.name,$Ie()+"px"),zi(document.body,i)}function vr(i,e){if(i&&e){let t=r=>{i.classList?i.classList.remove(r):i.className=i.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function ju(i="p-overflow-hidden"){let e=Sp(/-scrollbar-width$/);e?.name&&document.body.style.removeProperty(e.name),vr(document.body,i)}function x$(i){let e={width:0,height:0};return i&&(i.style.visibility="hidden",i.style.display="block",e.width=i.offsetWidth,e.height=i.offsetHeight,i.style.display="none",i.style.visibility="visible"),e}function ha(){let i=window,e=document,t=e.documentElement,r=e.getElementsByTagName("body")[0],n=i.innerWidth||t.clientWidth||r.clientWidth,o=i.innerHeight||t.clientHeight||r.clientHeight;return{width:n,height:o}}function wI(){let i=document.documentElement;return(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}function SI(){let i=document.documentElement;return(window.pageYOffset||i.scrollTop)-(i.clientTop||0)}function Ox(i,e,t=!0){var r,n,o,s;if(i){let a=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:x$(i),l=a.height,d=a.width,f=e.offsetHeight,g=e.offsetWidth,w=e.getBoundingClientRect(),A=SI(),B=wI(),S=ha(),U,q,G="top";w.top+f+l>S.height?(U=w.top+A-l,G="bottom",U<0&&(U=A)):U=f+w.top+A,w.left+d>S.width?q=Math.max(0,w.left+B+g-d):q=w.left+B,i.style.top=U+"px",i.style.left=q+"px",i.style.transformOrigin=G,t&&(i.style.marginTop=G==="bottom"?`calc(${(n=(r=Sp(/-anchor-gutter$/))==null?void 0:r.value)!=null?n:"2px"} * -1)`:(s=(o=Sp(/-anchor-gutter$/))==null?void 0:o.value)!=null?s:"")}}function tn(i,e){if(i instanceof HTMLElement){let t=i.offsetWidth;if(e){let r=getComputedStyle(i);t+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return t}return 0}function C$(i,e,t=!0){var r,n,o,s;if(i){let a=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:x$(i),l=e.offsetHeight,d=e.getBoundingClientRect(),f=ha(),g,w,A="top";d.top+l+a.height>f.height?(g=-1*a.height,A="bottom",d.top+g<0&&(g=-1*d.top)):g=l,a.width>f.width?w=d.left*-1:d.left+a.width>f.width?w=(d.left+a.width-f.width)*-1:w=0,i.style.top=g+"px",i.style.left=w+"px",i.style.transformOrigin=A,t&&(i.style.marginTop=A==="bottom"?`calc(${(n=(r=Sp(/-anchor-gutter$/))==null?void 0:r.value)!=null?n:"2px"} * -1)`:(s=(o=Sp(/-anchor-gutter$/))==null?void 0:o.value)!=null?s:"")}}function Ap(i){return typeof HTMLElement=="object"?i instanceof HTMLElement:i&&typeof i=="object"&&i!==null&&i.nodeType===1&&typeof i.nodeName=="string"}function E$(i){let e=i;return i&&typeof i=="object"&&(i.hasOwnProperty("current")?e=i.current:i.hasOwnProperty("el")&&(i.el.hasOwnProperty("nativeElement")?e=i.el.nativeElement:e=i.el)),Ap(e)?e:void 0}function go(i,e){let t=E$(i);if(t)t.appendChild(e);else throw new Error("Cannot append "+e+" to "+i)}function Mx(i,e={}){if(Ap(i)){let t=(r,n)=>{var o,s;let a=(o=i?.$attrs)!=null&&o[r]?[(s=i?.$attrs)==null?void 0:s[r]]:[];return[n].flat().reduce((l,d)=>{if(d!=null){let f=typeof d;if(f==="string"||f==="number")l.push(d);else if(f==="object"){let g=Array.isArray(d)?t(r,d):Object.entries(d).map(([w,A])=>r==="style"&&(A||A===0)?`${w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${A}`:A?w:void 0);l=g.length?l.concat(g.filter(w=>!!w)):l}}return l},a)};Object.entries(e).forEach(([r,n])=>{if(n!=null){let o=r.match(/^on(.+)/);o?i.addEventListener(o[1].toLowerCase(),n):r==="p-bind"||r==="pBind"?Mx(i,n):(n=r==="class"?[...new Set(t("class",n))].join(" ").trim():r==="style"?t("style",n).join(";").trim():n,(i.$attrs=i.$attrs||{})&&(i.$attrs[r]=n),i.setAttribute(r,n))}})}}function T$(i,e={},...t){if(i){let r=document.createElement(i);return Mx(r,e),r.append(...t),r}}function w$(i,e){if(i){i.style.opacity="0";let t=+new Date,r="0",n=function(){r=`${+i.style.opacity+(new Date().getTime()-t)/e}`,i.style.opacity=r,t=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(n)||setTimeout(n,16))};n()}}function Wo(i,e){return Ap(i)?Array.from(i.querySelectorAll(e)):[]}function tr(i,e){return Ap(i)?i.matches(e)?i:i.querySelector(e):null}function yo(i,e){i&&document.activeElement!==i&&i.focus(e)}function S$(i,e){if(Ap(i)){let t=i.getAttribute(e);return isNaN(t)?t==="true"||t==="false"?t==="true":t:+t}}function A$(i,e=""){let t=Wo(i,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`),r=[];for(let n of t)getComputedStyle(n).display!="none"&&getComputedStyle(n).visibility!="hidden"&&r.push(n);return r}function R$(i,e){let t=A$(i,e);return t.length>0?t[0]:null}function AI(i){if(i){let e=i.offsetHeight,t=getComputedStyle(i);return e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),e}return 0}function k$(i,e){let t=A$(i,e);return t.length>0?t[t.length-1]:null}function B0(i){if(i){let e=i.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function Or(i,e){if(i){let t=i.offsetHeight;if(e){let r=getComputedStyle(i);t+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return t}return 0}function RI(i){if(i){let e=i.offsetWidth,t=getComputedStyle(i);return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),e}return 0}function D$(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Vx(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function I$(i){var e;i&&("remove"in Element.prototype?i.remove():(e=i.parentNode)==null||e.removeChild(i))}function P$(i,e){let t=E$(i);if(t)t.removeChild(e);else throw new Error("Cannot remove "+e+" from "+i)}function Xo(i,e="",t){Ap(i)&&t!==null&&t!==void 0&&i.setAttribute(e,t)}function L$(){let i=new Map;return{on(e,t){let r=i.get(e);return r?r.push(t):r=[t],i.set(e,r),this},off(e,t){let r=i.get(e);return r&&r.splice(r.indexOf(t)>>>0,1),this},emit(e,t){let r=i.get(e);r&&r.slice().map(n=>{n(t)})},clear(){i.clear()}}}var zIe=Object.defineProperty,B$=Object.getOwnPropertySymbols,KIe=Object.prototype.hasOwnProperty,HIe=Object.prototype.propertyIsEnumerable,O$=(i,e,t)=>e in i?zIe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,GIe=(i,e)=>{for(var t in e||(e={}))KIe.call(e,t)&&O$(i,t,e[t]);if(B$)for(var t of B$(e))HIe.call(e,t)&&O$(i,t,e[t]);return i};function Sr(i){return i==null||i===""||Array.isArray(i)&&i.length===0||!(i instanceof Date)&&typeof i=="object"&&Object.keys(i).length===0}function kI(i,e,t=new WeakSet){if(i===e)return!0;if(!i||!e||typeof i!="object"||typeof e!="object"||t.has(i)||t.has(e))return!1;t.add(i).add(e);let r=Array.isArray(i),n=Array.isArray(e),o,s,a;if(r&&n){if(s=i.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!kI(i[o],e[o],t))return!1;return!0}if(r!=n)return!1;let l=i instanceof Date,d=e instanceof Date;if(l!=d)return!1;if(l&&d)return i.getTime()==e.getTime();let f=i instanceof RegExp,g=e instanceof RegExp;if(f!=g)return!1;if(f&&g)return i.toString()==e.toString();let w=Object.keys(i);if(s=w.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,w[o]))return!1;for(o=s;o--!==0;)if(a=w[o],!kI(i[a],e[a],t))return!1;return!0}function WIe(i,e){return kI(i,e)}function V$(i){return!!(i&&i.constructor&&i.call&&i.apply)}function Ki(i){return!Sr(i)}function qu(i,e){if(!i||!e)return null;try{let t=i[e];if(Ki(t))return t}catch{}if(Object.keys(i).length){if(V$(e))return e(i);if(e.indexOf(".")===-1)return i[e];{let t=e.split("."),r=i;for(let n=0,o=t.length;n<o;++n){if(r==null)return null;r=r[t[n]]}return r}}return null}function nc(i,e,t){return t?qu(i,t)===qu(e,t):WIe(i,e)}function Rs(i,e=!0){return i instanceof Object&&i.constructor===Object&&(e||Object.keys(i).length!==0)}function Zo(i,...e){return V$(i)?i(...e):i}function oc(i,e=!0){return typeof i=="string"&&(e||i!=="")}function M$(i){return oc(i)?i.replace(/(-|_)/g,"").toLowerCase():i}function Nx(i,e="",t={}){let r=M$(e).split("."),n=r.shift();return n?Rs(i)?Nx(Zo(i[Object.keys(i).find(o=>M$(o)===n)||""],t),r.join("."),t):void 0:Zo(i,t)}function Fx(i,e=!0){return Array.isArray(i)&&(e||i.length!==0)}function N$(i){return Ki(i)&&!isNaN(i)}function bo(i,e){if(e){let t=e.test(i);return e.lastIndex=0,t}return!1}function O0(...i){let e=(t={},r={})=>{let n=GIe({},t);return Object.keys(r).forEach(o=>{Rs(r[o])&&o in t&&Rs(t[o])?n[o]=e(t[o],r[o]):n[o]=r[o]}),n};return i.reduce((t,r,n)=>n===0?r:e(t,r),{})}function $u(i){return i&&i.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function Ux(i){return oc(i)?i.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,t)=>t===0?e:"-"+e.toLowerCase()).toLowerCase():i}function DI(i){return oc(i)?i.replace(/[A-Z]/g,(e,t)=>t===0?e:"."+e.toLowerCase()).toLowerCase():i}var jx={};function gt(i="pui_id_"){return jx.hasOwnProperty(i)||(jx[i]=0),jx[i]++,`${i}${jx[i]}`}function XIe(){let i=[],e=(s,a,l=999)=>{let d=n(s,a,l),f=d.value+(d.key===s?0:l)+1;return i.push({key:s,value:f}),f},t=s=>{i=i.filter(a=>a.value!==s)},r=(s,a)=>n(s,a).value,n=(s,a,l=0)=>[...i].reverse().find(d=>a?!0:d.key===s)||{key:s,value:l},o=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:o,set:(s,a,l)=>{a&&(a.style.zIndex=String(e(s,!0,l)))},clear:s=>{s&&(t(o(s)),s.style.zIndex="")},getCurrent:s=>r(s,!0)}}var rct=XIe();var F$=["*"],zu=function(i){return i[i.ACCEPT=0]="ACCEPT",i[i.REJECT=1]="REJECT",i[i.CANCEL=2]="CANCEL",i}(zu||{}),Rp=(()=>{class i{requireConfirmationSource=new oi;acceptConfirmationSource=new oi;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(t){return this.requireConfirmationSource.next(t),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var Hr=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return i})();var kp=(()=>{class i{messageSource=new oi;clearSource=new oi;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),qx=(()=>{class i{clickSource=new oi;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var U$=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=oe({type:i,selectors:[["p-header"]],standalone:!1,ngContentSelectors:F$,decls:1,vars:0,template:function(r,n){r&1&&(Wi(),xi(0))},encapsulation:2})}return i})(),Dp=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=oe({type:i,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:F$,decls:1,vars:0,template:function(r,n){r&1&&(Wi(),xi(0))},encapsulation:2})}return i})(),Mi=(()=>{class i{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||i)(ne(Iy))};static \u0275dir=Ht({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return i})(),yt=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({imports:[tt]})}return i})(),Ku=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return i})();var Qi=class i{constructor(e,t){this.messageService=e;this.confirmationService=t}success(e,t){this.messageService.add({severity:"success",summary:e,detail:t})}warn(e,t){this.messageService.add({severity:"warn",summary:e,detail:t})}error(e,t){this.messageService.add({icon:"error",severity:"error",summary:e,detail:t})}confirm(e,t,r){return new Promise((n,o)=>{this.confirmationService.confirm({message:e,closable:!1,closeOnEscape:!0,acceptButtonStyleClass:"!text-sm !h-8",rejectButtonStyleClass:"!text-sm !h-8",rejectButtonProps:{label:r??"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:t},accept:()=>{n()},reject:()=>{o()}})})}static \u0275fac=function(t){return new(t||i)(Ke(kp),Ke(Rp))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};var Gr=[];for(let i=0;i<256;++i)Gr.push((i+256).toString(16).slice(1));function j$(i,e=0){return(Gr[i[e+0]]+Gr[i[e+1]]+Gr[i[e+2]]+Gr[i[e+3]]+"-"+Gr[i[e+4]]+Gr[i[e+5]]+"-"+Gr[i[e+6]]+Gr[i[e+7]]+"-"+Gr[i[e+8]]+Gr[i[e+9]]+"-"+Gr[i[e+10]]+Gr[i[e+11]]+Gr[i[e+12]]+Gr[i[e+13]]+Gr[i[e+14]]+Gr[i[e+15]]).toLowerCase()}var PI,ZIe=new Uint8Array(16);function LI(){if(!PI){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");PI=crypto.getRandomValues.bind(crypto)}return PI(ZIe)}var QIe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BI={randomUUID:QIe};function YIe(i,e,t){if(BI.randomUUID&&!e&&!i)return BI.randomUUID();i=i||{};let r=i.random??i.rng?.()??LI();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let n=0;n<16;++n)e[t+n]=r[n];return e}return j$(r)}var Ds=YIe;var Ip=class{uuid=Ds();title="";width=400;index},$x=class extends Ip{type="TIMELINE"},zx=class extends Ip{type="NOTIFICATION"},Kx=class extends Ip{type="AUTHOR";did;handle;displayName;mode="posts_no_replies"};var Hx=class extends Ip{type="SEARCH";query;sort};var Is=mt([]),ma=class i{addColumn(e){Is.update(t=>[...t,e]),localStorage.setItem("columns",JSON.stringify(Is()))}updateColumn(e){Is.update(t=>(t[t.findIndex(r=>r.uuid==e.uuid)]=e,t)),this.saveColumns()}deleteColumn(e){Is.update(t=>(t.splice(t.findIndex(r=>r.uuid==e),1),t.forEach((r,n)=>r.index=n),t)),this.saveColumns()}getColumns(){return Is}saveColumns(){localStorage.setItem("columns",JSON.stringify(Is()))}checkColumns(){let e=JSON.parse(localStorage.getItem("columns"));if(!e||!e.length){this.initColumns();return}e.forEach(t=>{t.width||(t.width=480),t.uuid||(t.uuid=Ds())}),localStorage.setItem("columns",JSON.stringify(e)),Is.set(e)}initColumns(){this.createTimelineColumn(),this.createNotificationsColumn()}createTimelineColumn(){let e=new $x;e.index=Is().length,this.addColumn(e)}createNotificationsColumn(){let e=new zx;e.index=Is().length,this.addColumn(e)}createAuthorColumn(e){let t=new Kx;t.did=e.did,t.handle=e.handle,t.displayName=e.displayName,t.index=Is().length,this.addColumn(t)}createSearchColumn(e,t){let r=new Hx;r.query=e,r.sort=t,r.index=Is().length,this.addColumn(r)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};var qn=class i{constructor(e,t,r,n){this.router=e;this.storageService=t;this.messageService=r;this.columnService=n;this.checkToken()}authenticationState=new Qr(!1);loggedUser=mt(void 0);checkToken(){let e=this.storageService.get("session");e&&ke.resumeSession(JSON.parse(e)).then(()=>{this.storageService.set("session",JSON.stringify(ke.session)),ke.getProfile({actor:ke.session.did}).then(t=>{this.loggedUser.set(t.data),this.columnService.checkColumns(),this.authenticationState.next(!0)})})}login(e){Xe(ke.login(e)).subscribe({next:()=>{this.storageService.set("session",JSON.stringify(ke.session)),ke.getProfile({actor:ke.session.did}).then(t=>{this.loggedUser.set(t.data),this.columnService.checkColumns(),this.authenticationState.next(!0),this.router.navigate([""])})},error:t=>{this.messageService.warn(t.message,"Oops!")}})}logout(){ke.logout().then(()=>{this.storageService.remove("session"),this.authenticationState.next(!1)})}isAuthenticated(){return this.authenticationState.value}static \u0275fac=function(t){return new(t||i)(Ke(fn),Ke(Bx),Ke(Qi),Ke(ma))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};var Wx=class i{constructor(e,t){this.auth=e;this.router=t}canActivate(){return this.auth.isAuthenticated()?!0:(this.router.navigate(["login"]),!1)}static \u0275fac=function(t){return new(t||i)(Ke(qn),Ke(fn))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};var ePe=Object.defineProperty,tPe=Object.defineProperties,iPe=Object.getOwnPropertyDescriptors,Xx=Object.getOwnPropertySymbols,z$=Object.prototype.hasOwnProperty,K$=Object.prototype.propertyIsEnumerable,q$=(i,e,t)=>e in i?ePe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ls=(i,e)=>{for(var t in e||(e={}))z$.call(e,t)&&q$(i,t,e[t]);if(Xx)for(var t of Xx(e))K$.call(e,t)&&q$(i,t,e[t]);return i},OI=(i,e)=>tPe(i,iPe(e)),dl=(i,e)=>{var t={};for(var r in i)z$.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&Xx)for(var r of Xx(i))e.indexOf(r)<0&&K$.call(i,r)&&(t[r]=i[r]);return t};function H$(...i){return O0(...i)}var rPe=L$(),_o=rPe;function $$(i,e){Fx(i)?i.push(...e||[]):Rs(i)&&Object.assign(i,e)}function nPe(i){return Rs(i)&&i.hasOwnProperty("value")&&i.hasOwnProperty("type")?i.value:i}function oPe(i){return i.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function MI(i="",e=""){return oPe(`${oc(i,!1)&&oc(e,!1)?`${i}-`:i}${e}`)}function G$(i="",e=""){return`--${MI(i,e)}`}function sPe(i=""){let e=(i.match(/{/g)||[]).length,t=(i.match(/}/g)||[]).length;return(e+t)%2!==0}function W$(i,e="",t="",r=[],n){if(oc(i)){let o=/{([^}]*)}/g,s=i.trim();if(sPe(s))return;if(bo(s,o)){let a=s.replaceAll(o,f=>{let w=f.replace(/{|}/g,"").split(".").filter(A=>!r.some(B=>bo(A,B)));return`var(${G$(t,Ux(w.join("-")))}${Ki(n)?`, ${n}`:""})`}),l=/(\d+\s+[\+\-\*\/]\s+\d+)/g,d=/var\([^)]+\)/g;return bo(a.replace(d,"0"),l)?`calc(${a})`:a}return s}else if(N$(i))return i}function aPe(i,e,t){oc(e,!1)&&i.push(`${e}:${t};`)}function Lp(i,e){return i?`${i}{${e}}`:""}var X$=i=>{var e;let t=Ri.getTheme(),r=VI(t,i,void 0,"variable"),n=(e=r?.match(/--[\w-]+/g))==null?void 0:e[0],o=VI(t,i,void 0,"value");return{name:n,variable:r,value:o}},Bp=(...i)=>VI(Ri.getTheme(),...i),VI=(i={},e,t,r)=>{if(e){let{variable:n,options:o}=Ri.defaults||{},{prefix:s,transform:a}=i?.options||o||{},d=bo(e,/{([^}]*)}/g)?e:`{${e}}`;return r==="value"||Sr(r)&&a==="strict"?Ri.getTokenValue(e):W$(d,void 0,s,[n.excludedKeyRegex],t)}return""};function lPe(i,e={}){let t=Ri.defaults.variable,{prefix:r=t.prefix,selector:n=t.selector,excludedKeyRegex:o=t.excludedKeyRegex}=e,s=(d,f="")=>Object.entries(d).reduce((g,[w,A])=>{let B=bo(w,o)?MI(f):MI(f,Ux(w)),S=nPe(A);if(Rs(S)){let{variables:U,tokens:q}=s(S,B);$$(g.tokens,q),$$(g.variables,U)}else g.tokens.push((r?B.replace(`${r}-`,""):B).replaceAll("-",".")),aPe(g.variables,G$(B),W$(S,B,r,[o]));return g},{variables:[],tokens:[]}),{variables:a,tokens:l}=s(i,r);return{value:a,tokens:l,declarations:a.join(""),css:Lp(n,a.join(""))}}var Ps={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(i){return{type:"class",selector:i,matched:this.pattern.test(i.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(i){return{type:"attr",selector:`:root${i}`,matched:this.pattern.test(i.trim())}}},media:{pattern:/^@media (.*)$/,resolve(i){return{type:"media",selector:`${i}{:root{[CSS]}}`,matched:this.pattern.test(i.trim())}}},system:{pattern:/^system$/,resolve(i){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(i.trim())}}},custom:{resolve(i){return{type:"custom",selector:i,matched:!0}}}},resolve(i){let e=Object.keys(this.rules).filter(t=>t!=="custom").map(t=>this.rules[t]);return[i].flat().map(t=>{var r;return(r=e.map(n=>n.resolve(t)).find(n=>n.matched))!=null?r:this.rules.custom.resolve(t)})}},_toVariables(i,e){return lPe(i,{prefix:e?.prefix})},getCommon({name:i="",theme:e={},params:t,set:r,defaults:n}){var o,s,a,l,d,f,g;let{preset:w,options:A}=e,B,S,U,q,G,K,Z;if(Ki(w)&&A.transform!=="strict"){let{primitive:re,semantic:ge,extend:ce}=w,Ee=ge||{},{colorScheme:We}=Ee,Xt=dl(Ee,["colorScheme"]),St=ce||{},{colorScheme:Yt}=St,ze=dl(St,["colorScheme"]),At=We||{},{dark:gr}=At,Ft=dl(At,["dark"]),Li=Yt||{},{dark:Sn}=Li,So=dl(Li,["dark"]),Ao=Ki(re)?this._toVariables({primitive:re},A):{},Ro=Ki(Xt)?this._toVariables({semantic:Xt},A):{},ko=Ki(Ft)?this._toVariables({light:Ft},A):{},Nc=Ki(gr)?this._toVariables({dark:gr},A):{},Jf=Ki(ze)?this._toVariables({semantic:ze},A):{},eh=Ki(So)?this._toVariables({light:So},A):{},th=Ki(Sn)?this._toVariables({dark:Sn},A):{},[sw,aw]=[(o=Ao.declarations)!=null?o:"",Ao.tokens],[lw,cw]=[(s=Ro.declarations)!=null?s:"",Ro.tokens||[]],[uw,Jg]=[(a=ko.declarations)!=null?a:"",ko.tokens||[]],[dw,pw]=[(l=Nc.declarations)!=null?l:"",Nc.tokens||[]],[fw,hw]=[(d=Jf.declarations)!=null?d:"",Jf.tokens||[]],[mw,js]=[(f=eh.declarations)!=null?f:"",eh.tokens||[]],[ih,ni]=[(g=th.declarations)!=null?g:"",th.tokens||[]];B=this.transformCSS(i,sw,"light","variable",A,r,n),S=aw;let gw=this.transformCSS(i,`${lw}${uw}`,"light","variable",A,r,n),rh=this.transformCSS(i,`${dw}`,"dark","variable",A,r,n);U=`${gw}${rh}`,q=[...new Set([...cw,...Jg,...pw])];let yw=this.transformCSS(i,`${fw}${mw}color-scheme:light`,"light","variable",A,r,n),nh=this.transformCSS(i,`${ih}color-scheme:dark`,"dark","variable",A,r,n);G=`${yw}${nh}`,K=[...new Set([...hw,...js,...ni])],Z=Zo(w.css,{dt:Bp})}return{primitive:{css:B,tokens:S},semantic:{css:U,tokens:q},global:{css:G,tokens:K},style:Z}},getPreset({name:i="",preset:e={},options:t,params:r,set:n,defaults:o,selector:s}){var a,l,d;let f,g,w;if(Ki(e)&&t.transform!=="strict"){let A=i.replace("-directive",""),B=e,{colorScheme:S,extend:U,css:q}=B,G=dl(B,["colorScheme","extend","css"]),K=U||{},{colorScheme:Z}=K,re=dl(K,["colorScheme"]),ge=S||{},{dark:ce}=ge,Ee=dl(ge,["dark"]),We=Z||{},{dark:Xt}=We,St=dl(We,["dark"]),Yt=Ki(G)?this._toVariables({[A]:Ls(Ls({},G),re)},t):{},ze=Ki(Ee)?this._toVariables({[A]:Ls(Ls({},Ee),St)},t):{},At=Ki(ce)?this._toVariables({[A]:Ls(Ls({},ce),Xt)},t):{},[gr,Ft]=[(a=Yt.declarations)!=null?a:"",Yt.tokens||[]],[Li,Sn]=[(l=ze.declarations)!=null?l:"",ze.tokens||[]],[So,Ao]=[(d=At.declarations)!=null?d:"",At.tokens||[]],Ro=this.transformCSS(A,`${gr}${Li}`,"light","variable",t,n,o,s),ko=this.transformCSS(A,So,"dark","variable",t,n,o,s);f=`${Ro}${ko}`,g=[...new Set([...Ft,...Sn,...Ao])],w=Zo(q,{dt:Bp})}return{css:f,tokens:g,style:w}},getPresetC({name:i="",theme:e={},params:t,set:r,defaults:n}){var o;let{preset:s,options:a}=e,l=(o=s?.components)==null?void 0:o[i];return this.getPreset({name:i,preset:l,options:a,params:t,set:r,defaults:n})},getPresetD({name:i="",theme:e={},params:t,set:r,defaults:n}){var o;let s=i.replace("-directive",""),{preset:a,options:l}=e,d=(o=a?.directives)==null?void 0:o[s];return this.getPreset({name:s,preset:d,options:l,params:t,set:r,defaults:n})},applyDarkColorScheme(i){return!(i.darkModeSelector==="none"||i.darkModeSelector===!1)},getColorSchemeOption(i,e){var t;return this.applyDarkColorScheme(i)?this.regex.resolve(i.darkModeSelector===!0?e.options.darkModeSelector:(t=i.darkModeSelector)!=null?t:e.options.darkModeSelector):[]},getLayerOrder(i,e={},t,r){let{cssLayer:n}=e;return n?`@layer ${Zo(n.order||"primeui",t)}`:""},getCommonStyleSheet({name:i="",theme:e={},params:t,props:r={},set:n,defaults:o}){let s=this.getCommon({name:i,theme:e,params:t,set:n,defaults:o}),a=Object.entries(r).reduce((l,[d,f])=>l.push(`${d}="${f}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[d,f])=>{if(f?.css){let g=$u(f?.css),w=`${d}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${w}" ${a}>${g}</style>`)}return l},[]).join("")},getStyleSheet({name:i="",theme:e={},params:t,props:r={},set:n,defaults:o}){var s;let a={name:i,theme:e,params:t,set:n,defaults:o},l=(s=i.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:s.css,d=Object.entries(r).reduce((f,[g,w])=>f.push(`${g}="${w}"`)&&f,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${i}-variables" ${d}>${$u(l)}</style>`:""},createTokens(i={},e,t="",r="",n={}){return Object.entries(i).forEach(([o,s])=>{let a=bo(o,e.variable.excludedKeyRegex)?t:t?`${t}.${DI(o)}`:DI(o),l=r?`${r}.${o}`:o;Rs(s)?this.createTokens(s,e,a,l,n):(n[a]||(n[a]={paths:[],computed(d,f={}){var g,w;return this.paths.length===1?(g=this.paths[0])==null?void 0:g.computed(this.paths[0].scheme,f.binding):d&&d!=="none"?(w=this.paths.find(A=>A.scheme===d))==null?void 0:w.computed(d,f.binding):this.paths.map(A=>A.computed(A.scheme,f[A.scheme]))}}),n[a].paths.push({path:l,value:s,scheme:l.includes("colorScheme.light")?"light":l.includes("colorScheme.dark")?"dark":"none",computed(d,f={}){let g=/{([^}]*)}/g,w=s;if(f.name=this.path,f.binding||(f.binding={}),bo(s,g)){let B=s.trim().replaceAll(g,q=>{var G;let K=q.replace(/{|}/g,""),Z=(G=n[K])==null?void 0:G.computed(d,f);return Fx(Z)&&Z.length===2?`light-dark(${Z[0].value},${Z[1].value})`:Z?.value}),S=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,U=/var\([^)]+\)/g;w=bo(B.replace(U,"0"),S)?`calc(${B})`:B}return Sr(f.binding)&&delete f.binding,{colorScheme:d,path:this.path,paths:f,value:w.includes("undefined")?void 0:w}}}))}),n},getTokenValue(i,e,t){var r;let o=(l=>l.split(".").filter(f=>!bo(f.toLowerCase(),t.variable.excludedKeyRegex)).join("."))(e),s=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,a=[(r=i[o])==null?void 0:r.computed(s)].flat().filter(l=>l);return a.length===1?a[0].value:a.reduce((l={},d)=>{let f=d,{colorScheme:g}=f,w=dl(f,["colorScheme"]);return l[g]=w,l},void 0)},getSelectorRule(i,e,t,r){return t==="class"||t==="attr"?Lp(Ki(e)?`${i}${e},${i} ${e}`:i,r):Lp(i,Ki(e)?Lp(e,r):r)},transformCSS(i,e,t,r,n={},o,s,a){if(Ki(e)){let{cssLayer:l}=n;if(r!=="style"){let d=this.getColorSchemeOption(n,s);e=t==="dark"?d.reduce((f,{type:g,selector:w})=>(Ki(w)&&(f+=w.includes("[CSS]")?w.replace("[CSS]",e):this.getSelectorRule(w,a,g,e)),f),""):Lp(a??":root",e)}if(l){let d={name:"primeui",order:"primeui"};Rs(l)&&(d.name=Zo(l.name,{name:i,type:r})),Ki(d.name)&&(e=Lp(`@layer ${d.name}`,e),o?.layerNames(d.name))}return e}return""}},Ri={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(i={}){let{theme:e}=i;e&&(this._theme=OI(Ls({},e),{options:Ls(Ls({},this.defaults.options),e.options)}),this._tokens=Ps.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var i;return((i=this.theme)==null?void 0:i.preset)||{}},get options(){var i;return((i=this.theme)==null?void 0:i.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(i){this.update({theme:i}),_o.emit("theme:change",i)},getPreset(){return this.preset},setPreset(i){this._theme=OI(Ls({},this.theme),{preset:i}),this._tokens=Ps.createTokens(i,this.defaults),this.clearLoadedStyleNames(),_o.emit("preset:change",i),_o.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(i){this._theme=OI(Ls({},this.theme),{options:i}),this.clearLoadedStyleNames(),_o.emit("options:change",i),_o.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(i){this._layerNames.add(i)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(i){return this._loadedStyleNames.has(i)},setLoadedStyleName(i){this._loadedStyleNames.add(i)},deleteLoadedStyleName(i){this._loadedStyleNames.delete(i)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(i){return Ps.getTokenValue(this.tokens,i,this.defaults)},getCommon(i="",e){return Ps.getCommon({name:i,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(i="",e){let t={name:i,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Ps.getPresetC(t)},getDirective(i="",e){let t={name:i,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Ps.getPresetD(t)},getCustomPreset(i="",e,t,r){let n={name:i,preset:e,options:this.options,selector:t,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Ps.getPreset(n)},getLayerOrderCSS(i=""){return Ps.getLayerOrder(i,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(i="",e,t="style",r){return Ps.transformCSS(i,e,r,t,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(i="",e,t={}){return Ps.getCommonStyleSheet({name:i,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(i,e,t={}){return Ps.getStyleSheet({name:i,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(i){this._loadingStyles.add(i)},onStyleUpdated(i){this._loadingStyles.add(i)},onStyleLoaded(i,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),_o.emit(`theme:${e}:load`,i),!this._loadingStyles.size&&_o.emit("theme:load"))}};var cPe=0,Z$=(()=>{class i{document=se(ci);use(t,r={}){let n=!1,o=t,s=null,{immediate:a=!0,manual:l=!1,name:d=`style_${++cPe}`,id:f=void 0,media:g=void 0,nonce:w=void 0,first:A=!1,props:B={}}=r;if(this.document){if(s=this.document.querySelector(`style[data-primeng-style-id="${d}"]`)||f&&this.document.getElementById(f)||this.document.createElement("style"),!s.isConnected){o=t,Mx(s,{type:"text/css",media:g,nonce:w});let S=this.document.head;A&&S.firstChild?S.insertBefore(s,S.firstChild):S.appendChild(s),Xo(s,"data-primeng-style-id",d)}return s.textContent!==o&&(s.textContent=o),{id:f,name:d,el:s,css:o}}}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Op={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(i){return this._loadedStyleNames.has(i)},setLoadedStyleName(i){this._loadedStyleNames.add(i)},deleteLoadedStyleName(i){this._loadedStyleNames.delete(i)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},uPe=({dt:i})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non ng overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* NG based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${i("disabled.opacity")};
}

.pi {
    font-size: ${i("icon.size")};
}

.p-icon {
    width: ${i("icon.size")};
    height: ${i("icon.size")};
}

.p-overlay-mask {
    background: ${i("mask.background")};
    color: ${i("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${i("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${i("mask.transition.duration")} forwards;
}
/* Temporarily disabled, distrupts PrimeNG overlay animations */
/* @keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${i("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${i("mask.background")};
    }
    to {
        background: transparent;
    }
}*/

.p-iconwrapper {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}
`,dPe=({dt:i})=>`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: ${i("scrollbar.width")};
}

/* @todo move to baseiconstyle.ts */

.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,lt=(()=>{class i{name="base";useStyle=se(Z$);theme=void 0;css=void 0;classes={};inlineStyles={};load=(t,r={},n=o=>o)=>{let o=n(Zo(t,{dt:Bp}));return o?this.useStyle.use($u(o),R({name:this.name},r)):{}};loadCSS=(t={})=>this.load(this.css,t);loadTheme=(t={},r="")=>this.load(this.theme,t,(n="")=>Ri.transformCSS(t.name||this.name,`${n}${r}`));loadGlobalCSS=(t={})=>this.load(dPe,t);loadGlobalTheme=(t={},r="")=>this.load(uPe,t,(n="")=>Ri.transformCSS(t.name||this.name,`${n}${r}`));getCommonTheme=t=>Ri.getCommon(this.name,t);getComponentTheme=t=>Ri.getComponent(this.name,t);getDirectiveTheme=t=>Ri.getDirective(this.name,t);getPresetTheme=(t,r,n)=>Ri.getCustomPreset(this.name,t,r,n);getLayerOrderThemeCSS=()=>Ri.getLayerOrderCSS(this.name);getStyleSheet=(t="",r={})=>{if(this.css){let n=Zo(this.css,{dt:Bp}),o=$u(`${n}${t}`),s=Object.entries(r).reduce((a,[l,d])=>a.push(`${l}="${d}"`)&&a,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${s}>${o}</style>`}return""};getCommonThemeStyleSheet=(t,r={})=>Ri.getCommonStyleSheet(this.name,t,r);getThemeStyleSheet=(t,r={})=>{let n=[Ri.getStyleSheet(this.name,t,r)];if(this.theme){let o=this.name==="base"?"global-style":`${this.name}-style`,s=Zo(this.theme,{dt:Bp}),a=$u(Ri.transformCSS(o,s)),l=Object.entries(r).reduce((d,[f,g])=>d.push(`${f}="${g}"`)&&d,[]).join(" ");n.push(`<style type="text/css" data-primeng-style-id="${o}" ${l}>${a}</style>`)}return n.join("")};static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var pPe=(()=>{class i{theme=mt(void 0);csp=mt({nonce:void 0});isThemeChanged=!1;document=se(ci);baseStyle=se(lt);constructor(){qa(()=>{_o.on("theme:change",t=>{ja(()=>{this.isThemeChanged=!0,this.theme.set(t)})})}),qa(()=>{let t=this.theme();this.document&&t&&(this.isThemeChanged||this.onThemeChange(t),this.isThemeChanged=!1)})}ngOnDestroy(){Ri.clearLoadedStyleNames(),_o.clear()}onThemeChange(t){Ri.setTheme(t),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!Ri.isStyleNameLoaded("common")){let{primitive:t,semantic:r,global:n,style:o}=this.baseStyle.getCommonTheme?.()||{},s={nonce:this.csp?.()?.nonce};this.baseStyle.load(t?.css,R({name:"primitive-variables"},s)),this.baseStyle.load(r?.css,R({name:"semantic-variables"},s)),this.baseStyle.load(n?.css,R({name:"global-variables"},s)),this.baseStyle.loadGlobalTheme(R({name:"global-style"},s),o),Ri.setLoadedStyleName("common")}}setThemeConfig(t){let{theme:r,csp:n}=t||{};r&&this.theme.set(r),n&&this.csp.set(n)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),NI=(()=>{class i extends pPe{ripple=mt(!1);platformId=se(er);inputStyle=mt(null);inputVariant=mt(null);overlayOptions={};csp=mt({nonce:void 0});filterMatchModeOptions={text:[Hr.STARTS_WITH,Hr.CONTAINS,Hr.NOT_CONTAINS,Hr.ENDS_WITH,Hr.EQUALS,Hr.NOT_EQUALS],numeric:[Hr.EQUALS,Hr.NOT_EQUALS,Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL_TO,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL_TO],date:[Hr.DATE_IS,Hr.DATE_IS_NOT,Hr.DATE_BEFORE,Hr.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new oi;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=R(R({},this.translation),t),this.translationSource.next(this.translation)}setConfig(t){let{csp:r,ripple:n,inputStyle:o,inputVariant:s,theme:a,overlayOptions:l,translation:d}=t||{};r&&this.csp.set(r),n&&this.ripple.set(n),o&&this.inputStyle.set(o),s&&this.inputVariant.set(s),l&&(this.overlayOptions=l),d&&this.setTranslation(d),a&&this.setThemeConfig({theme:a,csp:r})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fPe=new jt("PRIME_NG_CONFIG");function Q$(...i){let e=i?.map(r=>({provide:fPe,useValue:r,multi:!1})),t=g5(()=>{let r=se(NI);i?.forEach(n=>r.setConfig(n))});return Ua([...e,t])}var Y$=(()=>{class i extends lt{name="common";static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Je=(()=>{class i{document=se(ci);platformId=se(er);el=se(Kt);injector=se(to);cd=se(Wt);renderer=se(Po);config=se(NI);baseComponentStyle=se(Y$);baseStyle=se(lt);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=gt("pc");themeChangeListeners=[];_getHostInstance(t){if(t)return t?this.hostName?t.name===this.hostName?t:this._getHostInstance(t.parentInstance):t.parentInstance:void 0}_getOptionValue(t,r="",n={}){return Nx(t,r,n)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(t){if(this.document&&!Ph(this.platformId)){let{dt:r}=t;r&&r.currentValue&&(this._loadScopedThemeStyles(r.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(r.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles(),this.themeChangeListeners.forEach(t=>_o.off("theme:change",t))}_loadStyles(){let t=()=>{Op.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),Op.setLoadedStyleName("base")),this._loadThemeStyles()};t(),this._themeChangeListener(()=>t())}_loadCoreStyles(){!Op.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),Op.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!Ri.isStyleNameLoaded("common")){let{primitive:t,semantic:r,global:n,style:o}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(t?.css,R({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(r?.css,R({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(n?.css,R({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(R({name:"global-style"},this.styleOptions),o),Ri.setLoadedStyleName("common")}if(!Ri.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:t,style:r}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(t,R({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(R({name:`${this.componentStyle?.name}-style`},this.styleOptions),r),Ri.setLoadedStyleName(this.componentStyle?.name)}if(!Ri.isStyleNameLoaded("layer-order")){let t=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(t,R({name:"layer-order",first:!0},this.styleOptions)),Ri.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(t){let{css:r}=this.componentStyle?.getPresetTheme?.(t,`[${this.attrSelector}]`)||{},n=this.componentStyle?.load(r,R({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=n?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(t=()=>{}){Op.clearLoadedStyleNames(),_o.on("theme:change",t),this.themeChangeListeners.push(t)}cx(t,r){let n=this.parent?this.parent.componentStyle?.classes?.[t]:this.componentStyle?.classes?.[t];return typeof n=="function"?n({instance:this}):typeof n=="string"?n:t}sx(t){let r=this.componentStyle?.inlineStyles?.[t];return typeof r=="function"?r({instance:this}):typeof r=="string"?r:R({},r)}get parent(){return this.parentInstance}static \u0275fac=function(r){return new(r||i)};static \u0275dir=Ht({type:i,inputs:{dt:"dt"},features:[He([Y$,lt]),Ji]})}return i})();var hPe=({dt:i})=>`
/* For PrimeNG */
.p-ripple {
    overflow: hidden;
    position: relative;
}

.p-ink {
    display: block;
    position: absolute;
    background: ${i("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

.p-ripple-disabled .p-ink {
    display: none !important;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,mPe={root:"p-ink"},J$=(()=>{class i extends lt{name="ripple";theme=hPe;classes=mPe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var ii=(()=>{class i extends Je{zone=se(Bi);_componentStyle=se(J$);animationListener;mouseDownListener;timeout;constructor(){super(),qa(()=>{Lt(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}ngAfterViewInit(){super.ngAfterViewInit()}onMouseDown(t){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(vr(r,"p-ink-active"),!AI(r)&&!RI(r)){let a=Math.max(tn(this.el.nativeElement),Or(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let n=B0(this.el.nativeElement),o=t.pageX-n.left+this.document.body.scrollTop-RI(r)/2,s=t.pageY-n.top+this.document.body.scrollLeft-AI(r)/2;this.renderer.setStyle(r,"top",s+"px"),this.renderer.setStyle(r,"left",o+"px"),zi(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&vr(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if(typeof t[r].className=="string"&&t[r].className.indexOf("p-ink")!==-1)return t[r];return null}resetInk(){let t=this.getInk();t&&vr(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),vr(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,I$(t))}ngOnDestroy(){this.config&&this.config.ripple()&&this.remove(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||i)};static \u0275dir=Ht({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[He([J$]),Se]})}return i})(),Zx=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({})}return i})();var yPe=["*"];function bPe(i,e){if(i&1&&(E(0,"span",3),J(1),T()),i&2){let t=_();v(),Ze(t.label)}}function _Pe(i,e){if(i&1&&N(0,"span",5),i&2){let t=_(2);we(t.icon),C("ngClass","p-avatar-icon")}}function vPe(i,e){if(i&1&&D(0,_Pe,1,3,"span",4),i&2){let t=_(),r=Ue(5);C("ngIf",t.icon)("ngIfElse",r)}}function xPe(i,e){if(i&1){let t=W();E(0,"img",7),V("error",function(n){P(t);let o=_(2);return L(o.imageError(n))}),T()}if(i&2){let t=_(2);C("src",t.image,dt),ae("aria-label",t.ariaLabel)}}function CPe(i,e){if(i&1&&D(0,xPe,1,2,"img",6),i&2){let t=_();C("ngIf",t.image)}}var EPe=({dt:i})=>`
.p-avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: ${i("avatar.width")};
    height: ${i("avatar.height")};
    font-size: ${i("avatar.font.size")};
    color: ${i("avatar.color")};
    background: ${i("avatar.background")};
    border-radius: ${i("avatar.border.radius")};
}

.p-avatar-image {
    background: transparent;
}

.p-avatar-circle {
    border-radius: 50%;
}

.p-avatar-circle img {
    border-radius: 50%;
}

.p-avatar-icon {
    font-size: ${i("avatar.icon.size")};
    width: ${i("avatar.icon.size")};
    height: ${i("avatar.icon.size")};
}

.p-avatar img {
    width: 100%;
    height: 100%;
}

.p-avatar-lg {
    width: ${i("avatar.lg.width")};
    height: ${i("avatar.lg.width")};
    font-size: ${i("avatar.lg.font.size")};
}

.p-avatar-lg .p-avatar-icon {
    font-size: ${i("avatar.lg.icon.size")};
    width: ${i("avatar.lg.icon.size")};
    height: ${i("avatar.lg.icon.size")};
}

.p-avatar-xl {
    width: ${i("avatar.xl.width")};
    height: ${i("avatar.xl.width")};
    font-size: ${i("avatar.xl.font.size")};
}

.p-avatar-xl .p-avatar-icon {
    font-size: ${i("avatar.xl.font.size")};
    width: ${i("avatar.xl.icon.size")};
    height: ${i("avatar.xl.icon.size")};
}

.p-avatar-group {
    display: flex;
    align-items: center;
}

.p-avatar-group .p-avatar + .p-avatar {
    margin-inline-start: ${i("avatar.group.offset")};
}

.p-avatar-group .p-avatar {
    border: 2px solid ${i("avatar.group.border.color")};
}

.p-avatar-group .p-avatar-lg + .p-avatar-lg {
    margin-inline-start: ${i("avatar.lg.group.offset")};
}

.p-avatar-group .p-avatar-xl + .p-avatar-xl {
    margin-inline-start: ${i("avatar.xl.group.offset")};
}
`,TPe={root:({props:i})=>["p-avatar p-component",{"p-avatar-image":i.image!=null,"p-avatar-circle":i.shape==="circle","p-avatar-lg":i.size==="large","p-avatar-xl":i.size==="xlarge"}],label:"p-avatar-label",icon:"p-avatar-icon"},ez=(()=>{class i extends lt{name="avatar";theme=EPe;classes=TPe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var rn=(()=>{class i extends Je{label;icon;image;size="normal";shape="square";style;styleClass;ariaLabel;ariaLabelledBy;onImageError=new Me;_componentStyle=se(ez);imageError(t){this.onImageError.emit(t)}get hostClass(){return this.styleClass}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-avatar"]],hostVars:19,hostBindings:function(r,n){r&2&&(ae("data-pc-name","avatar")("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),pt(n.style),we(n.hostClass),bi("p-avatar",!0)("p-component",!0)("p-avatar-circle",n.shape==="circle")("p-avatar-lg",n.size==="large")("p-avatar-xl",n.size==="xlarge")("p-avatar-image",n.image!=null))},inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onImageError:"onImageError"},features:[He([ez]),Se],ngContentSelectors:yPe,decls:6,vars:2,consts:[["iconTemplate",""],["imageTemplate",""],["class","p-avatar-text",4,"ngIf","ngIfElse"],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"error","src"]],template:function(r,n){if(r&1&&(Wi(),xi(0),D(1,bPe,2,1,"span",2)(2,vPe,1,2,"ng-template",null,0,Le)(4,CPe,1,1,"ng-template",null,1,Le)),r&2){let o=Ue(3);v(),C("ngIf",n.label)("ngIfElse",o)}},dependencies:[tt,Gt,si,yt],encapsulation:2,changeDetection:0})}return i})();var ac=(()=>{class i{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let n=r.trim().split(" ");for(let o=0;o<n.length;o++)t.classList.add(n[o])}else{let n=r.split(" ");for(let o=0;o<n.length;o++)t.className+=" "+n[o]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(o=>this.removeClass(t,o)))}static hasClass(t,r){return t&&r?t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,n=0;for(var o=0;o<r.length;o++){if(r[o]==t)return n;r[o].nodeType==1&&n++}return-1}static indexWithinGroup(t,r){let n=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<n.length;s++){if(n[s]==t)return o;n[s].attributes&&n[s].attributes[r]&&n[s].nodeType==1&&o++}return-1}static appendOverlay(t,r,n="self"){n!=="self"&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,n="self",o=!0){t&&r&&(o&&(t.style.minWidth=`${i.getOuterWidth(r)}px`),n==="self"?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,n=!0){let o=G=>{if(G)return getComputedStyle(G).getPropertyValue("position")==="relative"?G:o(G.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight,l=r.getBoundingClientRect(),d=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),g=this.getViewport(),A=o(t)?.getBoundingClientRect()||{top:-1*d,left:-1*f},B,S;l.top+a+s.height>g.height?(B=l.top-A.top-s.height,t.style.transformOrigin="bottom",l.top+B<0&&(B=-1*l.top)):(B=a+l.top-A.top,t.style.transformOrigin="top");let U=l.left+s.width-g.width,q=l.left-A.left;s.width>g.width?S=(l.left-A.left)*-1:U>0?S=q-U:S=l.left-A.left,t.style.top=B+"px",t.style.left=S+"px",n&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,n=!0){let o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=o.height,a=o.width,l=r.offsetHeight,d=r.offsetWidth,f=r.getBoundingClientRect(),g=this.getWindowScrollTop(),w=this.getWindowScrollLeft(),A=this.getViewport(),B,S;f.top+l+s>A.height?(B=f.top+g-s,t.style.transformOrigin="bottom",B<0&&(B=g)):(B=l+f.top+g,t.style.transformOrigin="top"),f.left+a>A.width?S=Math.max(0,f.left+w+d-a):S=f.left+w,t.style.top=B+"px",t.style.left=S+"px",n&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return t.parentNode===null?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let n=this.getParents(t),o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of n){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let d=l.split(",");for(let f of d){let g=this.findSingle(a,f);g&&s(g)&&r.push(g)}}a.nodeType!==9&&s(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=n?parseFloat(n):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=t.getBoundingClientRect(),f=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,g=t.scrollTop,w=t.clientHeight,A=this.getOuterHeight(r);f<0?t.scrollTop=g+f:f+A>w&&(t.scrollTop=g+f-w+A)}static fadeIn(t,r){t.style.opacity=0;let n=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+(new Date().getTime()-n)/r,t.style.opacity=o,n=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,r){var n=1,o=50,s=r,a=o/s;let l=setInterval(()=>{n=n-a,n<=0&&(n=0,clearInterval(l)),t.style.opacity=n},o)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var n=Element.prototype,o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(t,r)}static getOuterWidth(t,r){let n=t.offsetWidth;if(r){let o=getComputedStyle(t);n+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return n}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,n=getComputedStyle(t);return r+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),r}static width(t){let r=t.offsetWidth,n=getComputedStyle(t);return r-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,n=getComputedStyle(t);return r+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),r}static getOuterHeight(t,r){let n=t.offsetHeight;if(r){let o=getComputedStyle(t);n+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return n}static getHeight(t){let r=t.offsetHeight,n=getComputedStyle(t);return r-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,n=getComputedStyle(t);return r-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),r}static getViewport(){let t=window,r=document,n=r.documentElement,o=r.getElementsByTagName("body")[0],s=t.innerWidth||n.clientWidth||o.clientWidth,a=t.innerHeight||n.clientHeight||o.clientHeight;return{width:s,height:a}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let n=t.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return!0;var n=t.indexOf("Trident/");if(n>0){var o=t.indexOf("rv:");return!0}var s=t.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(t);else throw"Cannot append "+r+" to "+t}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+r}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let n=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=n,n}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,n){t[r].apply(t,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let n=this.find(t,this.getFocusableSelectorString(r)),o=[];for(let s of n){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(t,r=""){let n=this.findSingle(t,this.getFocusableSelectorString(r));if(n){let o=getComputedStyle(n);if(this.isVisible(n)&&o.display!="none"&&o.visibility!="hidden")return n}return null}static getFirstFocusableElement(t,r=""){let n=this.getFocusableElements(t,r);return n.length>0?n[0]:null}static getLastFocusableElement(t,r){let n=this.getFocusableElements(t,r);return n.length>0?n[n.length-1]:null}static getNextFocusableElement(t,r=!1){let n=i.getFocusableElements(t),o=0;if(n&&n.length>0){let s=n.indexOf(n[0].ownerDocument.activeElement);r?s==-1||s===0?o=n.length-1:o=s-1:s!=-1&&s!==n.length-1&&(o=s+1)}return n[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:let n=typeof t;if(n==="string")return document.querySelector(t);if(n==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){let n=t.getAttribute(r);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...n){if(t){let o=document.createElement(t);return this.setAttributes(o,r),o.append(...n),o}}static setAttribute(t,r="",n){this.isElement(t)&&n!==null&&n!==void 0&&t.setAttribute(r,n)}static setAttributes(t,r={}){if(this.isElement(t)){let n=(o,s)=>{let a=t?.$attrs?.[o]?[t?.$attrs?.[o]]:[];return[s].flat().reduce((l,d)=>{if(d!=null){let f=typeof d;if(f==="string"||f==="number")l.push(d);else if(f==="object"){let g=Array.isArray(d)?n(o,d):Object.entries(d).map(([w,A])=>o==="style"&&(A||A===0)?`${w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${A}`:A?w:void 0);l=g.length?l.concat(g.filter(w=>!!w)):l}}return l},a)};Object.entries(r).forEach(([o,s])=>{if(s!=null){let a=o.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),s):o==="pBind"?this.setAttributes(t,s):(s=o==="class"?[...new Set(n("class",s))].join(" ").trim():o==="style"?n("style",s).join(";").trim():s,(t.$attrs=t.$attrs||{})&&(t.$attrs[o]=s),t.setAttribute(o,s))}})}}static isFocusableElement(t,r=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return i})(),sc=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=ac.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var tz=(()=>{class i extends Je{autofocus=!1;_autofocus=!1;focused=!1;platformId=se(er);document=se(ci);host=se(Kt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Lt(this.platformId)&&this._autofocus&&setTimeout(()=>{let t=ac.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275dir=Ht({type:i,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[2,"autofocus","autofocus",de],_autofocus:[0,"pAutoFocus","_autofocus"]},features:[Se]})}return i})();var wPe=({dt:i})=>`
.p-badge {
    display: inline-flex;
    border-radius: ${i("badge.border.radius")};
    justify-content: center;
    padding: ${i("badge.padding")};
    background: ${i("badge.primary.background")};
    color: ${i("badge.primary.color")};
    font-size: ${i("badge.font.size")};
    font-weight: ${i("badge.font.weight")};
    min-width: ${i("badge.min.width")};
    height: ${i("badge.height")};
    line-height: ${i("badge.height")};
}

.p-badge-dot {
    width: ${i("badge.dot.size")};
    min-width: ${i("badge.dot.size")};
    height: ${i("badge.dot.size")};
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: ${i("badge.secondary.background")};
    color: ${i("badge.secondary.color")};
}

.p-badge-success {
    background: ${i("badge.success.background")};
    color: ${i("badge.success.color")};
}

.p-badge-info {
    background: ${i("badge.info.background")};
    color: ${i("badge.info.color")};
}

.p-badge-warn {
    background: ${i("badge.warn.background")};
    color: ${i("badge.warn.color")};
}

.p-badge-danger {
    background: ${i("badge.danger.background")};
    color: ${i("badge.danger.color")};
}

.p-badge-contrast {
    background: ${i("badge.contrast.background")};
    color: ${i("badge.contrast.color")};
}

.p-badge-sm {
    font-size: ${i("badge.sm.font.size")};
    min-width: ${i("badge.sm.min.width")};
    height: ${i("badge.sm.height")};
    line-height: ${i("badge.sm.height")};
}

.p-badge-lg {
    font-size: ${i("badge.lg.font.size")};
    min-width: ${i("badge.lg.min.width")};
    height: ${i("badge.lg.height")};
    line-height: ${i("badge.lg.height")};
}

.p-badge-xl {
    font-size: ${i("badge.xl.font.size")};
    min-width: ${i("badge.xl.min.width")};
    height: ${i("badge.xl.height")};
    line-height: ${i("badge.xl.height")};
}

/* For PrimeNG (directive)*/

.p-overlay-badge {
    position: relative;
}

.p-overlay-badge > .p-badge {
    position: absolute;
    top: 0;
    inset-inline-end: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
}
`,SPe={root:({props:i,instance:e})=>["p-badge p-component",{"p-badge-circle":Ki(i.value)&&String(i.value).length===1,"p-badge-dot":Sr(i.value)&&!e.$slots.default,"p-badge-sm":i.size==="small","p-badge-lg":i.size==="large","p-badge-xl":i.size==="xlarge","p-badge-info":i.severity==="info","p-badge-success":i.severity==="success","p-badge-warn":i.severity==="warn","p-badge-danger":i.severity==="danger","p-badge-secondary":i.severity==="secondary","p-badge-contrast":i.severity==="contrast"}]},iz=(()=>{class i extends lt{name="badge";theme=wPe;classes=SPe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var V0=(()=>{class i extends Je{styleClass=$t();style=$t();badgeSize=$t();size=$t();severity=$t();value=$t();badgeDisabled=$t(!1,{transform:de});_componentStyle=se(iz);containerClass=Bo(()=>{let t="p-badge p-component";return Ki(this.value())&&String(this.value()).length===1&&(t+=" p-badge-circle"),this.badgeSize()==="large"?t+=" p-badge-lg":this.badgeSize()==="xlarge"?t+=" p-badge-xl":this.badgeSize()==="small"&&(t+=" p-badge-sm"),Sr(this.value())&&(t+=" p-badge-dot"),this.styleClass()&&(t+=` ${this.styleClass()}`),this.severity()&&(t+=` p-badge-${this.severity()}`),t});static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-badge"]],hostVars:6,hostBindings:function(r,n){r&2&&(pt(n.style()),we(n.containerClass()),pn("display",n.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],style:[1,"style"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[He([iz]),Se],decls:1,vars:1,template:function(r,n){r&1&&J(0),r&2&&Ze(n.value())},dependencies:[tt,yt],encapsulation:2,changeDetection:0})}return i})(),N0=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({imports:[V0,yt,yt]})}return i})();var APe=["*"],RPe=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,kPe=(()=>{class i extends lt{name="baseicon";inlineStyles=RPe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var Mt=(()=>{class i extends Je{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){super.ngOnInit(),this.getAttributes()}getAttributes(){let t=Sr(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["ng-component"]],hostAttrs:[1,"p-component","p-iconwrapper"],inputs:{label:"label",spin:[2,"spin","spin",de],styleClass:"styleClass"},features:[He([kPe]),Se],ngContentSelectors:APe,decls:1,vars:0,template:function(r,n){r&1&&(Wi(),xi(0))},encapsulation:2,changeDetection:0})}return i})();var nz=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["CheckIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var FI=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["ChevronDownIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var Qx=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["ChevronLeftIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var Yx=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["ChevronRightIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var UI=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["ChevronUpIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var oz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["ExclamationTriangleIcon"]],features:[Se],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1)(3,"path",2)(4,"path",3),T(),E(5,"defs")(6,"clipPath",4),N(7,"rect",5),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(5),C("id",n.pathId))},encapsulation:2})}return i})();var sz=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["EyeIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var az=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["InfoCircleIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var lz=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["MinusIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var cz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["PlusIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var uz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["RefreshIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var dz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["SearchMinusIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var pz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["SearchPlusIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var fz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["SpinnerIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var Bs=(()=>{class i extends Mt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["TimesIcon"]],features:[Se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0),N(1,"path",1),T()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return i})();var hz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["TimesCircleIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var mz=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["UndoIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var Mp=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["WindowMaximizeIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var Vp=(()=>{class i extends Mt{pathId;ngOnInit(){this.pathId="url(#"+gt()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["WindowMinimizeIcon"]],features:[Se],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,n){r&1&&(_t(),E(0,"svg",0)(1,"g"),N(2,"path",1),T(),E(3,"defs")(4,"clipPath",2),N(5,"rect",3),T()()()),r&2&&(we(n.getClassNames()),ae("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),v(),ae("clip-path",n.pathId),v(3),C("id",n.pathId))},encapsulation:2})}return i})();var DPe=["content"],IPe=["loading"],PPe=["icon"],LPe=["*"],bz=i=>({class:i});function BPe(i,e){i&1&&Pe(0)}function OPe(i,e){if(i&1&&N(0,"span",8),i&2){let t=_(3);C("ngClass",t.iconClass()),ae("aria-hidden",!0)("data-pc-section","loadingicon")}}function MPe(i,e){if(i&1&&N(0,"SpinnerIcon",9),i&2){let t=_(3);C("styleClass",t.spinnerIconClass())("spin",!0),ae("aria-hidden",!0)("data-pc-section","loadingicon")}}function VPe(i,e){if(i&1&&(It(0),D(1,OPe,1,3,"span",6)(2,MPe,1,4,"SpinnerIcon",7),Pt()),i&2){let t=_(2);v(),C("ngIf",t.loadingIcon),v(),C("ngIf",!t.loadingIcon)}}function NPe(i,e){}function FPe(i,e){if(i&1&&D(0,NPe,0,0,"ng-template",10),i&2){let t=_(2);C("ngIf",t.loadingIconTemplate||t._loadingIconTemplate)}}function UPe(i,e){if(i&1&&(It(0),D(1,VPe,3,2,"ng-container",2)(2,FPe,1,1,null,5),Pt()),i&2){let t=_();v(),C("ngIf",!t.loadingIconTemplate&&!t._loadingIconTemplate),v(),C("ngTemplateOutlet",t.loadingIconTemplate||t._loadingIconTemplate)("ngTemplateOutletContext",Fe(3,bz,t.iconClass()))}}function jPe(i,e){if(i&1&&N(0,"span",8),i&2){let t=_(2);we(t.icon),C("ngClass",t.iconClass()),ae("data-pc-section","icon")}}function qPe(i,e){}function $Pe(i,e){if(i&1&&D(0,qPe,0,0,"ng-template",10),i&2){let t=_(2);C("ngIf",!t.icon&&(t.iconTemplate||t._iconTemplate))}}function zPe(i,e){if(i&1&&(It(0),D(1,jPe,1,4,"span",11)(2,$Pe,1,1,null,5),Pt()),i&2){let t=_();v(),C("ngIf",t.icon&&!t.iconTemplate&&!t._iconTemplate),v(),C("ngTemplateOutlet",t.iconTemplate||t._iconTemplate)("ngTemplateOutletContext",Fe(3,bz,t.iconClass()))}}function KPe(i,e){if(i&1&&(E(0,"span",12),J(1),T()),i&2){let t=_();ae("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),v(),Ze(t.label)}}function HPe(i,e){if(i&1&&N(0,"p-badge",13),i&2){let t=_();C("value",t.badge)("severity",t.badgeSeverity)}}var GPe=({dt:i})=>`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${i("button.primary.color")};
    background: ${i("button.primary.background")};
    border: 1px solid ${i("button.primary.border.color")};
    padding-block: ${i("button.padding.y")};
    padding-inline: ${i("button.padding.x")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${i("button.transition.duration")}, color ${i("button.transition.duration")}, border-color ${i("button.transition.duration")},
            outline-color ${i("button.transition.duration")}, box-shadow ${i("button.transition.duration")};
    border-radius: ${i("button.border.radius")};
    outline-color: transparent;
    gap: ${i("button.gap")};
}

.p-button-icon,
.p-button-icon:before,
.p-button-icon:after {
    line-height: inherit;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: ${i("button.icon.only.width")};
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: ${i("button.icon.only.width")};
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: ${i("button.sm.font.size")};
    padding-block: ${i("button.sm.padding.y")};
    padding-inline: ${i("button.sm.padding.x")};
}

.p-button-sm .p-button-icon {
    font-size: ${i("button.sm.font.size")};
}

.p-button-lg {
    font-size: ${i("button.lg.font.size")};
    padding-block: ${i("button.lg.padding.y")};
    padding-inline: ${i("button.lg.padding.x")};
}

.p-button-lg .p-button-icon {
    font-size: ${i("button.lg.font.size")};
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: ${i("button.label.font.weight")};
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: ${i("button.icon.only.width")};
}

.p-button:not(:disabled):hover {
    background: ${i("button.primary.hover.background")};
    border: 1px solid ${i("button.primary.hover.border.color")};
    color: ${i("button.primary.hover.color")};
}

.p-button:not(:disabled):active {
    background: ${i("button.primary.active.background")};
    border: 1px solid ${i("button.primary.active.border.color")};
    color: ${i("button.primary.active.color")};
}

.p-button:focus-visible {
    box-shadow: ${i("button.primary.focus.ring.shadow")};
    outline: ${i("button.focus.ring.width")} ${i("button.focus.ring.style")} ${i("button.primary.focus.ring.color")};
    outline-offset: ${i("button.focus.ring.offset")};
}

.p-button .p-badge {
    min-width: ${i("button.badge.size")};
    height: ${i("button.badge.size")};
    line-height: ${i("button.badge.size")};
}

.p-button-raised {
    box-shadow: ${i("button.raised.shadow")};
}

.p-button-rounded {
    border-radius: ${i("button.rounded.border.radius")};
}

.p-button-secondary {
    background: ${i("button.secondary.background")};
    border: 1px solid ${i("button.secondary.border.color")};
    color: ${i("button.secondary.color")};
}

.p-button-secondary:not(:disabled):hover {
    background: ${i("button.secondary.hover.background")};
    border: 1px solid ${i("button.secondary.hover.border.color")};
    color: ${i("button.secondary.hover.color")};
}

.p-button-secondary:not(:disabled):active {
    background: ${i("button.secondary.active.background")};
    border: 1px solid ${i("button.secondary.active.border.color")};
    color: ${i("button.secondary.active.color")};
}

.p-button-secondary:focus-visible {
    outline-color: ${i("button.secondary.focus.ring.color")};
    box-shadow: ${i("button.secondary.focus.ring.shadow")};
}

.p-button-success {
    background: ${i("button.success.background")};
    border: 1px solid ${i("button.success.border.color")};
    color: ${i("button.success.color")};
}

.p-button-success:not(:disabled):hover {
    background: ${i("button.success.hover.background")};
    border: 1px solid ${i("button.success.hover.border.color")};
    color: ${i("button.success.hover.color")};
}

.p-button-success:not(:disabled):active {
    background: ${i("button.success.active.background")};
    border: 1px solid ${i("button.success.active.border.color")};
    color: ${i("button.success.active.color")};
}

.p-button-success:focus-visible {
    outline-color: ${i("button.success.focus.ring.color")};
    box-shadow: ${i("button.success.focus.ring.shadow")};
}

.p-button-info {
    background: ${i("button.info.background")};
    border: 1px solid ${i("button.info.border.color")};
    color: ${i("button.info.color")};
}

.p-button-info:not(:disabled):hover {
    background: ${i("button.info.hover.background")};
    border: 1px solid ${i("button.info.hover.border.color")};
    color: ${i("button.info.hover.color")};
}

.p-button-info:not(:disabled):active {
    background: ${i("button.info.active.background")};
    border: 1px solid ${i("button.info.active.border.color")};
    color: ${i("button.info.active.color")};
}

.p-button-info:focus-visible {
    outline-color: ${i("button.info.focus.ring.color")};
    box-shadow: ${i("button.info.focus.ring.shadow")};
}

.p-button-warn {
    background: ${i("button.warn.background")};
    border: 1px solid ${i("button.warn.border.color")};
    color: ${i("button.warn.color")};
}

.p-button-warn:not(:disabled):hover {
    background: ${i("button.warn.hover.background")};
    border: 1px solid ${i("button.warn.hover.border.color")};
    color: ${i("button.warn.hover.color")};
}

.p-button-warn:not(:disabled):active {
    background: ${i("button.warn.active.background")};
    border: 1px solid ${i("button.warn.active.border.color")};
    color: ${i("button.warn.active.color")};
}

.p-button-warn:focus-visible {
    outline-color: ${i("button.warn.focus.ring.color")};
    box-shadow: ${i("button.warn.focus.ring.shadow")};
}

.p-button-help {
    background: ${i("button.help.background")};
    border: 1px solid ${i("button.help.border.color")};
    color: ${i("button.help.color")};
}

.p-button-help:not(:disabled):hover {
    background: ${i("button.help.hover.background")};
    border: 1px solid ${i("button.help.hover.border.color")};
    color: ${i("button.help.hover.color")};
}

.p-button-help:not(:disabled):active {
    background: ${i("button.help.active.background")};
    border: 1px solid ${i("button.help.active.border.color")};
    color: ${i("button.help.active.color")};
}

.p-button-help:focus-visible {
    outline-color: ${i("button.help.focus.ring.color")};
    box-shadow: ${i("button.help.focus.ring.shadow")};
}

.p-button-danger {
    background: ${i("button.danger.background")};
    border: 1px solid ${i("button.danger.border.color")};
    color: ${i("button.danger.color")};
}

.p-button-danger:not(:disabled):hover {
    background: ${i("button.danger.hover.background")};
    border: 1px solid ${i("button.danger.hover.border.color")};
    color: ${i("button.danger.hover.color")};
}

.p-button-danger:not(:disabled):active {
    background: ${i("button.danger.active.background")};
    border: 1px solid ${i("button.danger.active.border.color")};
    color: ${i("button.danger.active.color")};
}

.p-button-danger:focus-visible {
    outline-color: ${i("button.danger.focus.ring.color")};
    box-shadow: ${i("button.danger.focus.ring.shadow")};
}

.p-button-contrast {
    background: ${i("button.contrast.background")};
    border: 1px solid ${i("button.contrast.border.color")};
    color: ${i("button.contrast.color")};
}

.p-button-contrast:not(:disabled):hover {
    background: ${i("button.contrast.hover.background")};
    border: 1px solid ${i("button.contrast.hover.border.color")};
    color: ${i("button.contrast.hover.color")};
}

.p-button-contrast:not(:disabled):active {
    background: ${i("button.contrast.active.background")};
    border: 1px solid ${i("button.contrast.active.border.color")};
    color: ${i("button.contrast.active.color")};
}

.p-button-contrast:focus-visible {
    outline-color: ${i("button.contrast.focus.ring.color")};
    box-shadow: ${i("button.contrast.focus.ring.shadow")};
}

.p-button-outlined {
    background: transparent;
    border-color: ${i("button.outlined.primary.border.color")};
    color: ${i("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):hover {
    background: ${i("button.outlined.primary.hover.background")};
    border-color: ${i("button.outlined.primary.border.color")};
    color: ${i("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):active {
    background: ${i("button.outlined.primary.active.background")};
    border-color: ${i("button.outlined.primary.border.color")};
    color: ${i("button.outlined.primary.color")};
}

.p-button-outlined.p-button-secondary {
    border-color: ${i("button.outlined.secondary.border.color")};
    color: ${i("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: ${i("button.outlined.secondary.hover.background")};
    border-color: ${i("button.outlined.secondary.border.color")};
    color: ${i("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: ${i("button.outlined.secondary.active.background")};
    border-color: ${i("button.outlined.secondary.border.color")};
    color: ${i("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-success {
    border-color: ${i("button.outlined.success.border.color")};
    color: ${i("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: ${i("button.outlined.success.hover.background")};
    border-color: ${i("button.outlined.success.border.color")};
    color: ${i("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: ${i("button.outlined.success.active.background")};
    border-color: ${i("button.outlined.success.border.color")};
    color: ${i("button.outlined.success.color")};
}

.p-button-outlined.p-button-info {
    border-color: ${i("button.outlined.info.border.color")};
    color: ${i("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: ${i("button.outlined.info.hover.background")};
    border-color: ${i("button.outlined.info.border.color")};
    color: ${i("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: ${i("button.outlined.info.active.background")};
    border-color: ${i("button.outlined.info.border.color")};
    color: ${i("button.outlined.info.color")};
}

.p-button-outlined.p-button-warn {
    border-color: ${i("button.outlined.warn.border.color")};
    color: ${i("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: ${i("button.outlined.warn.hover.background")};
    border-color: ${i("button.outlined.warn.border.color")};
    color: ${i("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: ${i("button.outlined.warn.active.background")};
    border-color: ${i("button.outlined.warn.border.color")};
    color: ${i("button.outlined.warn.color")};
}

.p-button-outlined.p-button-help {
    border-color: ${i("button.outlined.help.border.color")};
    color: ${i("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: ${i("button.outlined.help.hover.background")};
    border-color: ${i("button.outlined.help.border.color")};
    color: ${i("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: ${i("button.outlined.help.active.background")};
    border-color: ${i("button.outlined.help.border.color")};
    color: ${i("button.outlined.help.color")};
}

.p-button-outlined.p-button-danger {
    border-color: ${i("button.outlined.danger.border.color")};
    color: ${i("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: ${i("button.outlined.danger.hover.background")};
    border-color: ${i("button.outlined.danger.border.color")};
    color: ${i("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: ${i("button.outlined.danger.active.background")};
    border-color: ${i("button.outlined.danger.border.color")};
    color: ${i("button.outlined.danger.color")};
}

.p-button-outlined.p-button-contrast {
    border-color: ${i("button.outlined.contrast.border.color")};
    color: ${i("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: ${i("button.outlined.contrast.hover.background")};
    border-color: ${i("button.outlined.contrast.border.color")};
    color: ${i("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: ${i("button.outlined.contrast.active.background")};
    border-color: ${i("button.outlined.contrast.border.color")};
    color: ${i("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-plain {
    border-color: ${i("button.outlined.plain.border.color")};
    color: ${i("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: ${i("button.outlined.plain.hover.background")};
    border-color: ${i("button.outlined.plain.border.color")};
    color: ${i("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: ${i("button.outlined.plain.active.background")};
    border-color: ${i("button.outlined.plain.border.color")};
    color: ${i("button.outlined.plain.color")};
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.primary.color")};
}

.p-button-text:not(:disabled):hover {
    background: ${i("button.text.primary.hover.background")};
    border-color: transparent;
    color: ${i("button.text.primary.color")};
}

.p-button-text:not(:disabled):active {
    background: ${i("button.text.primary.active.background")};
    border-color: transparent;
    color: ${i("button.text.primary.color")};
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: ${i("button.text.secondary.hover.background")};
    border-color: transparent;
    color: ${i("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: ${i("button.text.secondary.active.background")};
    border-color: transparent;
    color: ${i("button.text.secondary.color")};
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: ${i("button.text.success.hover.background")};
    border-color: transparent;
    color: ${i("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):active {
    background: ${i("button.text.success.active.background")};
    border-color: transparent;
    color: ${i("button.text.success.color")};
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: ${i("button.text.info.hover.background")};
    border-color: transparent;
    color: ${i("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):active {
    background: ${i("button.text.info.active.background")};
    border-color: transparent;
    color: ${i("button.text.info.color")};
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: ${i("button.text.warn.hover.background")};
    border-color: transparent;
    color: ${i("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: ${i("button.text.warn.active.background")};
    border-color: transparent;
    color: ${i("button.text.warn.color")};
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: ${i("button.text.help.hover.background")};
    border-color: transparent;
    color: ${i("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):active {
    background: ${i("button.text.help.active.background")};
    border-color: transparent;
    color: ${i("button.text.help.color")};
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: ${i("button.text.danger.hover.background")};
    border-color: transparent;
    color: ${i("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: ${i("button.text.danger.active.background")};
    border-color: transparent;
    color: ${i("button.text.danger.color")};
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: ${i("button.text.plain.hover.background")};
    border-color: transparent;
    color: ${i("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: ${i("button.text.plain.active.background")};
    border-color: transparent;
    color: ${i("button.text.plain.color")};
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: ${i("button.text.contrast.hover.background")};
    border-color: transparent;
    color: ${i("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: ${i("button.text.contrast.active.background")};
    border-color: transparent;
    color: ${i("button.text.contrast.color")};
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: ${i("button.link.color")};
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: ${i("button.link.hover.color")};
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: ${i("button.link.active.color")};
}

/* For PrimeNG */
.p-button-icon-right {
    order: 1;
}

p-button[iconpos='right'] spinnericon {
    order: 1;
}
`,WPe={root:({instance:i,props:e})=>["p-button p-component",{"p-button-icon-only":i.hasIcon&&!e.label&&!e.badge,"p-button-vertical":(e.iconPos==="top"||e.iconPos==="bottom")&&e.label,"p-button-loading":e.loading,"p-button-link":e.link,[`p-button-${e.severity}`]:e.severity,"p-button-raised":e.raised,"p-button-rounded":e.rounded,"p-button-text":e.text,"p-button-outlined":e.outlined,"p-button-sm":e.size==="small","p-button-lg":e.size==="large","p-button-plain":e.plain,"p-button-fluid":e.fluid}],loadingIcon:"p-button-loading-icon",icon:({props:i})=>["p-button-icon",{[`p-button-icon-${i.iconPos}`]:i.label}],label:"p-button-label"},cc=(()=>{class i extends lt{name="button";theme=GPe;classes=WPe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var lc={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},gz=(()=>{class i extends Je{_componentStyle=se(cc);static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275dir=Ht({type:i,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(r,n){r&2&&bi("p-button-label",!0)},features:[He([cc]),Se]})}return i})(),yz=(()=>{class i extends Je{_componentStyle=se(cc);static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275dir=Ht({type:i,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(r,n){r&2&&bi("p-button-icon",!0)},features:[He([cc]),Se]})}return i})(),xr=(()=>{class i extends Je{iconPos="left";loadingIcon;set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}_buttonProps;iconSignal=Qw(yz);labelSignal=Qw(gz);isIconOnly=Bo(()=>!!(!this.labelSignal()&&this.iconSignal()));set buttonProps(t){this._buttonProps=t,t&&typeof t=="object"&&Object.entries(t).forEach(([r,n])=>this[`_${r}`]!==n&&(this[`_${r}`]=n))}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;fluid;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(lc);isTextButton=Bo(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}get icon(){return this._icon}get buttonProps(){return this._buttonProps}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;_componentStyle=se(cc);ngAfterViewInit(){super.ngAfterViewInit(),zi(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}ngOnChanges(t){super.ngOnChanges(t);let{buttonProps:r}=t;if(r){let n=r.currentValue;for(let o in n)this[o]=n[o]}}getStyleClass(){let t=[lc.button,lc.component];return this.icon&&!this.label&&Sr(this.htmlElement.textContent)&&t.push(lc.iconOnly),this.loading&&(t.push(lc.disabled,lc.loading),!this.icon&&this.label&&t.push(lc.labelOnly),this.icon&&!this.label&&!Sr(this.htmlElement.textContent)&&t.push(lc.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),this.hasFluid&&t.push("p-button-fluid"),t}get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return Sr(this.fluid)?!!r:this.fluid}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!tr(this.htmlElement,".p-button-label")&&this.label){let r=this.document.createElement("span");this.icon&&!this.label&&r.setAttribute("aria-hidden","true"),r.className="p-button-label",r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!tr(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let r=this.document.createElement("span");r.className="p-button-icon",r.setAttribute("aria-hidden","true");let n=this.label?"p-button-icon-"+this.iconPos:null;n&&zi(r,n);let o=this.getIconClass();o&&zi(r,o),!this.loadingIcon&&this.loading&&(r.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(r,this.htmlElement.firstChild)}}updateLabel(){let t=tr(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=tr(this.htmlElement,".p-button-icon"),r=tr(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&t?t.innerHTML=this.spinnerIcon:t?.innerHTML&&(t.innerHTML=""),t?this.iconPos?t.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1,super.ngOnDestroy()}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275dir=Ht({type:i,selectors:[["","pButton",""]],contentQueries:function(r,n,o){r&1&&(tS(o,n.iconSignal,yz,5),tS(o,n.labelSignal,gz,5)),r&2&&br(2)},hostVars:4,hostBindings:function(r,n){r&2&&bi("p-button-icon-only",n.isIconOnly())("p-button-text",n.isTextButton())},inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",loading:"loading",severity:"severity",raised:[2,"raised","raised",de],rounded:[2,"rounded","rounded",de],text:[2,"text","text",de],outlined:[2,"outlined","outlined",de],size:"size",plain:[2,"plain","plain",de],fluid:[2,"fluid","fluid",de],label:"label",icon:"icon",buttonProps:"buttonProps"},features:[He([cc]),Se,Ji]})}return i})(),Os=(()=>{class i extends Je{type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;fluid;onClick=new Me;onFocus=new Me;onBlur=new Me;contentTemplate;loadingIconTemplate;iconTemplate;_buttonProps;get buttonProps(){return this._buttonProps}set buttonProps(t){this._buttonProps=t,t&&typeof t=="object"&&Object.entries(t).forEach(([r,n])=>this[`_${r}`]!==n&&(this[`_${r}`]=n))}get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return Sr(this.fluid)?!!r:this.fluid}_componentStyle=se(cc);templates;_contentTemplate;_iconTemplate;_loadingIconTemplate;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this._contentTemplate=t.template;break;case"icon":this._iconTemplate=t.template;break;case"loadingicon":this._loadingIconTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}ngOnChanges(t){super.ngOnChanges(t);let{buttonProps:r}=t;if(r){let n=r.currentValue;for(let o in n)this[o]=n[o]}}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){return{[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]:this.loading,"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this._iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text||this.variant=="text","p-button-outlined":this.outlined||this.variant=="outlined","p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,"p-button-fluid":this.hasFluid,[`${this.styleClass}`]:this.styleClass}}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-button"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,DPe,5),Re(o,IPe,5),Re(o,PPe,5),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.contentTemplate=s.first),be(s=_e())&&(n.loadingIconTemplate=s.first),be(s=_e())&&(n.iconTemplate=s.first),be(s=_e())&&(n.templates=s)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",de],loading:[2,"loading","loading",de],loadingIcon:"loadingIcon",raised:[2,"raised","raised",de],rounded:[2,"rounded","rounded",de],text:[2,"text","text",de],plain:[2,"plain","plain",de],severity:"severity",outlined:[2,"outlined","outlined",de],link:[2,"link","link",de],tabindex:[2,"tabindex","tabindex",wt],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",de],fluid:[2,"fluid","fluid",de],buttonProps:"buttonProps"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[He([cc]),Se,Ji],ngContentSelectors:LPe,decls:7,vars:14,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","ngClass","pAutoFocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"value","severity",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"value","severity"]],template:function(r,n){r&1&&(Wi(),E(0,"button",0),V("click",function(s){return n.onClick.emit(s)})("focus",function(s){return n.onFocus.emit(s)})("blur",function(s){return n.onBlur.emit(s)}),xi(1),D(2,BPe,1,0,"ng-container",1)(3,UPe,3,5,"ng-container",2)(4,zPe,3,5,"ng-container",2)(5,KPe,2,3,"span",3)(6,HPe,1,2,"p-badge",4),T()),r&2&&(C("ngStyle",n.style)("disabled",n.disabled||n.loading)("ngClass",n.buttonClass)("pAutoFocus",n.autofocus),ae("type",n.type)("aria-label",n.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",n.tabindex),v(2),C("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),v(),C("ngIf",n.loading),v(),C("ngIf",!n.loading),v(),C("ngIf",!n.contentTemplate&&!n._contentTemplate&&n.label),v(),C("ngIf",!n.contentTemplate&&!n._contentTemplate&&n.badge))},dependencies:[tt,Gt,si,rt,Ii,ii,tz,fz,N0,V0,yt],encapsulation:2,changeDetection:0})}return i})(),_z=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({imports:[tt,Os,yt,yt]})}return i})();var ZPe=["*"],QPe=({dt:i})=>`
.p-divider-horizontal {
    display: flex;
    width: 100%;
    position: relative;
    align-items: center;
    margin: ${i("divider.horizontal.margin")};
    padding: ${i("divider.horizontal.padding")};
}

.p-divider-horizontal:before {
    position: absolute;
    display: block;
    inset-block-start: 50%;
    inset-inline-start: 0;
    width: 100%;
    content: "";
    border-block-start: 1px solid ${i("divider.border.color")};
}

.p-divider-horizontal .p-divider-content {
    padding: ${i("divider.horizontal.content.padding")};
}

.p-divider-vertical {
    min-height: 100%;
    display: flex;
    position: relative;
    justify-content: center;
    margin: ${i("divider.vertical.margin")};
    padding: ${i("divider.vertical.padding")};
}

.p-divider-vertical:before {
    position: absolute;
    display: block;
    inset-block-start: 0;
    inset-inline-start: 50%;
    height: 100%;
    content: "";
    border-inline-start: 1px solid ${i("divider.border.color")};
}

.p-divider.p-divider-vertical .p-divider-content {
    padding: ${i("divider.vertical.content.padding")};
}

.p-divider-content {
    z-index: 1;
    background: ${i("divider.content.background")};
    color: ${i("divider.content.color")};
}

.p-divider-solid.p-divider-horizontal:before {
    border-block-start-style: solid;
}

.p-divider-solid.p-divider-vertical:before {
    border-inline-start-style: solid;
}

.p-divider-dashed.p-divider-horizontal:before {
    border-block-start-style: dashed;
}

.p-divider-dashed.p-divider-vertical:before {
    border-inline-start-style: dashed;
}

.p-divider-dotted.p-divider-horizontal:before {
    border-block-start-style: dotted;
}

.p-divider-dotted.p-divider-vertical:before {
    border-inline-start-style: dotted;
}

.p-divider-left:dir(rtl),
.p-divider-right:dir(rtl) {
    flex-direction: row-reverse;
}
`,YPe={root:({props:i})=>({justifyContent:i.layout==="horizontal"?i.align==="center"||i.align===null?"center":i.align==="left"?"flex-start":i.align==="right"?"flex-end":null:null,alignItems:i.layout==="vertical"?i.align==="center"||i.align===null?"center":i.align==="top"?"flex-start":i.align==="bottom"?"flex-end":null:null})},JPe={root:({props:i})=>["p-divider p-component","p-divider-"+i.layout,"p-divider-"+i.type,{"p-divider-left":i.layout==="horizontal"&&(!i.align||i.align==="left")},{"p-divider-center":i.layout==="horizontal"&&i.align==="center"},{"p-divider-right":i.layout==="horizontal"&&i.align==="right"},{"p-divider-top":i.layout==="vertical"&&i.align==="top"},{"p-divider-center":i.layout==="vertical"&&(!i.align||i.align==="center")},{"p-divider-bottom":i.layout==="vertical"&&i.align==="bottom"}],content:"p-divider-content"},vz=(()=>{class i extends lt{name="divider";theme=QPe;classes=JPe;inlineStyles=YPe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var nn=(()=>{class i extends Je{style;styleClass;layout="horizontal";type="solid";align;_componentStyle=se(vz);get hostClass(){return this.styleClass}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-divider"]],hostVars:33,hostBindings:function(r,n){r&2&&(ae("aria-orientation",n.layout)("data-pc-name","divider")("role","separator"),we(n.hostClass),pn("justify-content",n.layout==="horizontal"?n.align==="center"||n.align===void 0?"center":n.align==="left"?"flex-start":n.align==="right"?"flex-end":null:null)("align-items",n.layout==="vertical"?n.align==="center"||n.align===void 0?"center":n.align==="top"?"flex-start":n.align==="bottom"?"flex-end":null:null),bi("p-divider",!0)("p-component",!0)("p-divider-horizontal",n.layout==="horizontal")("p-divider-vertical",n.layout==="vertical")("p-divider-solid",n.type==="solid")("p-divider-dashed",n.type==="dashed")("p-divider-dotted",n.type==="dotted")("p-divider-left",n.layout==="horizontal"&&(!n.align||n.align==="left"))("p-divider-center",n.layout==="horizontal"&&n.align==="center"||n.layout==="vertical"&&(!n.align||n.align==="center"))("p-divider-right",n.layout==="horizontal"&&n.align==="right")("p-divider-top",n.layout==="vertical"&&n.align==="top")("p-divider-bottom",n.layout==="vertical"&&n.align==="bottom"))},inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},features:[He([vz]),Se],ngContentSelectors:ZPe,decls:2,vars:0,consts:[[1,"p-divider-content"]],template:function(r,n){r&1&&(Wi(),E(0,"div",0),xi(1),T())},dependencies:[tt,yt],encapsulation:2,changeDetection:0})}return i})();function eLe(){let i=[],e=(o,s)=>{let a=i.length>0?i[i.length-1]:{key:o,value:s},l=a.value+(a.key===o?0:s)+2;return i.push({key:o,value:l}),l},t=o=>{i=i.filter(s=>s.value!==o)},r=()=>i.length>0?i[i.length-1].value:0,n=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:n,set:(o,s,a)=>{s&&(s.style.zIndex=String(e(o,a)))},clear:o=>{o&&(t(n(o)),o.style.zIndex="")},getCurrent:()=>r(),generateZIndex:e,revertZIndex:t}}var li=eLe();var tLe=({dt:i})=>`
.p-tooltip {
    position: absolute;
    display: none;
    max-width: ${i("tooltip.max.width")};
}

.p-tooltip-right,
.p-tooltip-left {
    padding: 0 ${i("tooltip.gutter")};
}

.p-tooltip-top,
.p-tooltip-bottom {
    padding: ${i("tooltip.gutter")} 0;
}

.p-tooltip-text {
    white-space: pre-line;
    word-break: break-word;
    background: ${i("tooltip.background")};
    color: ${i("tooltip.color")};
    padding: ${i("tooltip.padding")};
    box-shadow: ${i("tooltip.shadow")};
    border-radius: ${i("tooltip.border.radius")};
}

.p-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    scale: 2;
}

.p-tooltip-right .p-tooltip-arrow {
    top: 50%;
    left: 0;
    margin-top: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} ${i("tooltip.gutter")} ${i("tooltip.gutter")} 0;
    border-right-color: ${i("tooltip.background")};
}

.p-tooltip-left .p-tooltip-arrow {
    top: 50%;
    right: 0;
    margin-top: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} 0 ${i("tooltip.gutter")} ${i("tooltip.gutter")};
    border-left-color: ${i("tooltip.background")};
}

.p-tooltip-top .p-tooltip-arrow {
    bottom: 0;
    left: 50%;
    margin-left: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} ${i("tooltip.gutter")} 0 ${i("tooltip.gutter")};
    border-top-color: ${i("tooltip.background")};
    border-bottom-color: ${i("tooltip.background")};
}

.p-tooltip-bottom .p-tooltip-arrow {
    top: 0;
    left: 50%;
    margin-left: calc(-1 * ${i("tooltip.gutter")});
    border-width: 0 ${i("tooltip.gutter")} ${i("tooltip.gutter")} ${i("tooltip.gutter")};
    border-top-color: ${i("tooltip.background")};
    border-bottom-color: ${i("tooltip.background")};
}
`,iLe={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},xz=(()=>{class i extends lt{name="tooltip";theme=tLe;classes=iLe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var uc=(()=>{class i extends Je{zone;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:gt("pn_id_")+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;documentEscapeListener;scrollHandler;resizeListener;_componentStyle=se(xz);interactionInProgress=!1;constructor(t,r){super(),this.zone=t,this.viewContainer=r}ngAfterViewInit(){super.ngAfterViewInit(),Lt(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let r=this.el.nativeElement.querySelector(".p-component");r||(r=this.getTarget(this.el.nativeElement)),r.addEventListener("focus",this.focusListener),r.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){super.ngOnChanges(t),t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=R(R({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(gn(t.relatedTarget,"p-tooltip")||gn(t.relatedTarget,"p-tooltip-text")||gn(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}activate(){if(!this.interactionInProgress){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.getOption("hideOnEscape")&&(this.documentEscapeListener=this.renderer.listen("document","keydown.escape",()=>{this.deactivate(),this.documentEscapeListener()})),this.interactionInProgress=!0}}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide(),this.documentEscapeListener&&this.documentEscapeListener()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?go(this.container,this.el.nativeElement):go(this.getOption("appendTo"),this.container),this.container.style.display="none",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",r=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&(this.container.style.display="inline-block"),this.container&&this.align()},100):(this.container.style.display="inline-block",this.align()),w$(this.container,250),this.getOption("tooltipZIndex")==="auto"?li.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&li.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof Iy){let r=this.viewContainer.createEmbeddedView(t);r.detectChanges(),r.rootNodes.forEach(n=>this.tooltipText.appendChild(n))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){let t=this.getOption("tooltipPosition"),r={top:[this.alignTop,this.alignBottom,this.alignRight,this.alignLeft],bottom:[this.alignBottom,this.alignTop,this.alignRight,this.alignLeft],left:[this.alignLeft,this.alignRight,this.alignTop,this.alignBottom],right:[this.alignRight,this.alignLeft,this.alignTop,this.alignBottom]};for(let[n,o]of r[t].entries())if(n===0)o.call(this);else if(this.isOutOfBounds())o.call(this);else break}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),r=t.left+wI(),n=t.top+SI();return{left:r,top:n}}else return{left:0,top:0}}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?tr(this.el.nativeElement,".p-component"):this.el.nativeElement}alignRight(){this.preAlign("right");let t=this.activeElement,r=tn(t),n=(Or(t)-Or(this.container))/2;this.alignTooltip(r,n)}alignLeft(){this.preAlign("left");let t=tn(this.container),r=(Or(this.el.nativeElement)-Or(this.container))/2;this.alignTooltip(-t,r)}alignTop(){this.preAlign("top");let t=(tn(this.el.nativeElement)-tn(this.container))/2,r=Or(this.container);this.alignTooltip(t,-r)}alignBottom(){this.preAlign("bottom");let t=(tn(this.el.nativeElement)-tn(this.container))/2,r=Or(this.el.nativeElement);this.alignTooltip(t,r)}alignTooltip(t,r){let n=this.getHostOffset(),o=n.left+t,s=n.top+r;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=R(R({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return gn(t,"p-inputwrapper")?tr(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let r="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?r+" "+this.getOption("tooltipStyleClass"):r}isOutOfBounds(){let t=this.container.getBoundingClientRect(),r=t.top,n=t.left,o=tn(this.container),s=Or(this.container),a=ha();return n+o>a.width||n<0||r<0||r+s>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new sc(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let r=this.el.nativeElement.querySelector(".p-component");r||(r=this.getTarget(this.el.nativeElement)),r.removeEventListener("focus",this.focusListener),r.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):P$(this.getOption("appendTo"),this.container)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),super.ngOnDestroy(),this.container&&li.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.documentEscapeListener&&this.documentEscapeListener()}static \u0275fac=function(r){return new(r||i)(ne(Bi),ne(Dl))};static \u0275dir=Ht({type:i,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",de],showDelay:[2,"showDelay","showDelay",wt],hideDelay:[2,"hideDelay","hideDelay",wt],life:[2,"life","life",wt],positionTop:[2,"positionTop","positionTop",wt],positionLeft:[2,"positionLeft","positionLeft",wt],autoHide:[2,"autoHide","autoHide",de],fitContent:[2,"fitContent","fitContent",de],hideOnEscape:[2,"hideOnEscape","hideOnEscape",de],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[He([xz]),Se,Ji]})}return i})(),jI=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({})}return i})();function nLe(i,e){if(i&1&&(E(0,"span",8),J(1),T()),i&2){let t,r=_();v(),ft(" ","@"+((t=r.authService.loggedUser())==null?null:t.handle)," ")}}var Jx=class i{constructor(e){this.authService=e}onProfile=qt();onSearch=qt();onLists=qt();onFeeds=qt();onSettings=qt();onPost=qt();static \u0275fac=function(t){return new(t||i)(ne(qn))};static \u0275cmp=oe({type:i,selectors:[["sidebar"]],outputs:{onProfile:"onProfile",onSearch:"onSearch",onLists:"onLists",onFeeds:"onFeeds",onSettings:"onSettings",onPost:"onPost"},decls:38,vars:3,consts:[["arrayButtons",""],["bottomButton",""],[1,"flex","flex-col","w-17","h-full","shrink-0","transition-width","ease-out","duration-300","overflow-hidden","justify-around","bg-[var(--p-surface-900)]",2,"border-right","1px solid #3F3F46"],[1,"flex","flex-col","flex-1","select-none","p-2"],["pButton","","text","","pRipple","","pTooltip","Profile","tooltipPosition","right",1,"flex","w-full","min-w-0","overflow-hidden","shrink-0","!p-0","!justify-start","!gap-0",3,"click"],["size","large",1,"flex","shrink-0","overflow-hidden",3,"image"],[1,"flex","flex-col","shrink-0","h-full","justify-center","items-start","px-4","max-w-full","min-w-0","flex-1"],[1,"whitespace-nowrap","overflow-hidden","text-ellipsis"],[1,"msky-text-caption","text-[14px]","!msky-text-darkwhite","whitespace-nowrap","overflow-hidden","text-ellipsis"],[1,"!mt-1","!mb-2"],["pButton","","text","","pRipple","","pTooltip","Search","tooltipPosition","right",1,"flex","w-full","min-w-0","overflow-hidden","shrink-0","!p-0","!justify-start","!gap-0",3,"click"],["icon","pi pi-search","size","large",1,"flex","shrink-0","overflow-hidden","!bg-transparent"],[1,"whitespace-nowrap","overflow-hidden","text-ellipsis","!font-semibold"],["pButton","","text","","pRipple","","pTooltip","Feeds","tooltipPosition","right",1,"flex","w-full","min-w-0","overflow-hidden","shrink-0","!p-0","!justify-start","!gap-0",3,"click"],["icon","pi pi-hashtag","size","large",1,"flex","shrink-0","overflow-hidden","!bg-transparent"],["pButton","","text","","pRipple","","pTooltip","Lists","tooltipPosition","right",1,"flex","w-full","min-w-0","overflow-hidden","shrink-0","!p-0","!justify-start","!gap-0",3,"click"],["icon","pi pi-list","size","large",1,"flex","shrink-0","overflow-hidden","!bg-transparent"],[1,"mt-auto","shrink-0","p-2"],["pButton","","text","","pRipple","","pTooltip","Settings","tooltipPosition","right",1,"flex","w-full","min-w-0","overflow-hidden","shrink-0","!p-0","!justify-start","!gap-0",3,"click"],["icon","pi pi-cog","size","large",1,"flex","shrink-0","overflow-hidden","!bg-transparent"],[1,"!mt-2","!mb-1"],["pButton","","text","","pRipple","","pTooltip","New post","tooltipPosition","right",1,"flex","w-full","min-w-0","overflow-hidden","shrink-0","!p-0","!justify-start","!gap-0",3,"click"],["icon","pi pi-pen-to-square","size","large",1,"flex","shrink-0","overflow-hidden"]],template:function(t,r){if(t&1){let n=W();E(0,"div",2)(1,"div",3,0)(3,"button",4),V("click",function(){return P(n),L(r.onProfile.emit(r.authService.loggedUser().did))}),N(4,"p-avatar",5),E(5,"div",6)(6,"span",7),J(7),T(),D(8,nLe,2,1,"span",8),T()(),N(9,"p-divider",9),E(10,"button",10),V("click",function(){return P(n),L(r.onSearch.emit())}),N(11,"p-avatar",11),E(12,"div",6)(13,"span",12),J(14," Search "),T()()(),E(15,"button",13),V("click",function(){return P(n),L(r.onFeeds.emit())}),N(16,"p-avatar",14),E(17,"div",6)(18,"span",12),J(19," Feeds "),T()()(),E(20,"button",15),V("click",function(){return P(n),L(r.onLists.emit())}),N(21,"p-avatar",16),E(22,"div",6)(23,"span",12),J(24," Lists "),T()()()(),E(25,"div",17,1)(27,"button",18),V("click",function(){return P(n),L(r.onSettings.emit())}),N(28,"p-avatar",19),E(29,"div",6)(30,"span",12),J(31," Settings "),T()()(),N(32,"p-divider",20),E(33,"button",21),V("click",function(){return P(n),L(r.onPost.emit())}),N(34,"p-avatar",22),E(35,"div",6)(36,"span",12),J(37," New post "),T()()()()()}if(t&2){let n,o;v(4),C("image",r.authService.loggedUser().avatar),v(3),ft(" ",(n=(n=r.authService.loggedUser())==null?null:n.displayName)!==null&&n!==void 0?n:"@"+((n=r.authService.loggedUser())==null?null:n.handle)," "),v(),ie((o=r.authService.loggedUser())!=null&&o.displayName?8:-1)}},dependencies:[Zx,ii,rn,xr,nn,uc],encapsulation:2,changeDetection:0})};var oLe=["header"],sLe=["title"],aLe=["subtitle"],lLe=["content"],cLe=["footer"],uLe=["*",[["p-header"]],[["p-footer"]]],dLe=["*","p-header","p-footer"];function pLe(i,e){i&1&&Pe(0)}function fLe(i,e){if(i&1&&(E(0,"div",8),xi(1,1),D(2,pLe,1,0,"ng-container",6),T()),i&2){let t=_();v(2),C("ngTemplateOutlet",t.headerTemplate||t._headerTemplate)}}function hLe(i,e){if(i&1&&(It(0),J(1),Pt()),i&2){let t=_(2);v(),Ze(t.header)}}function mLe(i,e){i&1&&Pe(0)}function gLe(i,e){if(i&1&&(E(0,"div",9),D(1,hLe,2,1,"ng-container",10)(2,mLe,1,0,"ng-container",6),T()),i&2){let t=_();v(),C("ngIf",t.header&&!t._titleTemplate&&!t.titleTemplate),v(),C("ngTemplateOutlet",t.titleTemplate||t._titleTemplate)}}function yLe(i,e){if(i&1&&(It(0),J(1),Pt()),i&2){let t=_(2);v(),Ze(t.subheader)}}function bLe(i,e){i&1&&Pe(0)}function _Le(i,e){if(i&1&&(E(0,"div",11),D(1,yLe,2,1,"ng-container",10)(2,bLe,1,0,"ng-container",6),T()),i&2){let t=_();v(),C("ngIf",t.subheader&&!t._subtitleTemplate&&!t.subtitleTemplate),v(),C("ngTemplateOutlet",t.subtitleTemplate||t._subtitleTemplate)}}function vLe(i,e){i&1&&Pe(0)}function xLe(i,e){i&1&&Pe(0)}function CLe(i,e){if(i&1&&(E(0,"div",12),xi(1,2),D(2,xLe,1,0,"ng-container",6),T()),i&2){let t=_();v(2),C("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var ELe=({dt:i})=>`
.p-card {
    background: ${i("card.background")};
    color: ${i("card.color")};
    box-shadow: ${i("card.shadow")};
    border-radius: ${i("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${i("card.caption.gap")};
}

.p-card-body {
    padding: ${i("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${i("card.body.gap")};
}

.p-card-title {
    font-size: ${i("card.title.font.size")};
    font-weight: ${i("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${i("card.subtitle.color")};
}
`,TLe={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},Cz=(()=>{class i extends lt{name="card";theme=ELe;classes=TLe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var $n=(()=>{class i extends Je{header;subheader;set style(t){nc(this._style(),t)||this._style.set(t)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=mt(null);_componentStyle=se(Cz);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"title":this._titleTemplate=t.template;break;case"subtitle":this._subtitleTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-card"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,U$,5),Re(o,Dp,5),Re(o,oLe,4),Re(o,sLe,4),Re(o,aLe,4),Re(o,lLe,4),Re(o,cLe,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.headerFacet=s.first),be(s=_e())&&(n.footerFacet=s.first),be(s=_e())&&(n.headerTemplate=s.first),be(s=_e())&&(n.titleTemplate=s.first),be(s=_e())&&(n.subtitleTemplate=s.first),be(s=_e())&&(n.contentTemplate=s.first),be(s=_e())&&(n.footerTemplate=s.first),be(s=_e())&&(n.templates=s)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[He([Cz]),Se],ngContentSelectors:dLe,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(r,n){r&1&&(Wi(uLe),E(0,"div",0),D(1,fLe,3,1,"div",1),E(2,"div",2),D(3,gLe,3,2,"div",3)(4,_Le,3,2,"div",4),E(5,"div",5),xi(6),D(7,vLe,1,0,"ng-container",6),T(),D(8,CLe,3,1,"div",7),T()()),r&2&&(we(n.styleClass),C("ngClass","p-card p-component")("ngStyle",n._style()),ae("data-pc-name","card"),v(),C("ngIf",n.headerFacet||n.headerTemplate||n._headerTemplate),v(2),C("ngIf",n.header||n.titleTemplate||n._titleTemplate),v(),C("ngIf",n.subheader||n.subtitleTemplate||n._subtitleTemplate),v(3),C("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),v(),C("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[tt,Gt,si,rt,Ii,yt],encapsulation:2,changeDetection:0})}return i})();var wLe=["pMenuItemContent",""],Tz=i=>({"p-disabled":i}),eC=i=>({$implicit:i}),SLe=()=>({exact:!1});function ALe(i,e){i&1&&Pe(0)}function RLe(i,e){if(i&1&&(E(0,"a",6),D(1,ALe,1,0,"ng-container",7),T()),i&2){let t=_(2),r=Ue(4);C("target",t.item.target)("ngClass",Fe(9,Tz,t.item.disabled)),ae("title",t.item.title)("href",t.item.url||null,dt)("data-automationid",t.item.automationId)("tabindex",-1)("data-pc-section","action"),v(),C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(11,eC,t.item))}}function kLe(i,e){i&1&&Pe(0)}function DLe(i,e){if(i&1&&(E(0,"a",8),D(1,kLe,1,0,"ng-container",7),T()),i&2){let t=_(2),r=Ue(4);C("routerLink",t.item.routerLink)("queryParams",t.item.queryParams)("routerLinkActiveOptions",t.item.routerLinkActiveOptions||$e(17,SLe))("target",t.item.target)("ngClass",Fe(18,Tz,t.item.disabled))("fragment",t.item.fragment)("queryParamsHandling",t.item.queryParamsHandling)("preserveFragment",t.item.preserveFragment)("skipLocationChange",t.item.skipLocationChange)("replaceUrl",t.item.replaceUrl)("state",t.item.state),ae("data-automationid",t.item.automationId)("tabindex",-1)("data-pc-section","action")("title",t.item.title),v(),C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(20,eC,t.item))}}function ILe(i,e){if(i&1&&(It(0),D(1,RLe,2,13,"a",4)(2,DLe,2,22,"a",5),Pt()),i&2){let t=_();v(),C("ngIf",!(t.item!=null&&t.item.routerLink)),v(),C("ngIf",t.item==null?null:t.item.routerLink)}}function PLe(i,e){}function LLe(i,e){i&1&&D(0,PLe,0,0,"ng-template")}function BLe(i,e){if(i&1&&(It(0),D(1,LLe,1,0,null,7),Pt()),i&2){let t=_();v(),C("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",Fe(2,eC,t.item))}}function OLe(i,e){if(i&1&&N(0,"span",12),i&2){let t=_(2);we(t.item.iconClass),C("ngClass",t.item.icon)("ngStyle",t.item.iconStyle)}}function MLe(i,e){if(i&1&&(E(0,"span",13),J(1),T()),i&2){let t=_(2);v(),Ze(t.item.label)}}function VLe(i,e){if(i&1&&(N(0,"span",14),fe(1,"safeHtml")),i&2){let t=_(2);C("innerHTML",xe(1,1,t.item.label),zc)}}function NLe(i,e){if(i&1&&N(0,"p-badge",15),i&2){let t=_(2);C("styleClass",t.item.badgeStyleClass)("value",t.item.badge)}}function FLe(i,e){if(i&1&&D(0,OLe,1,4,"span",9)(1,MLe,2,1,"span",10)(2,VLe,2,3,"ng-template",null,1,Le)(4,NLe,1,2,"p-badge",11),i&2){let t=Ue(3),r=_();C("ngIf",r.item.icon),v(),C("ngIf",r.item.escape!==!1)("ngIfElse",t),v(3),C("ngIf",r.item.badge)}}var ULe=["start"],jLe=["end"],qLe=["header"],$Le=["item"],zLe=["submenuheader"],KLe=["list"],HLe=["container"],GLe=i=>({"p-menu p-component":!0,"p-menu-overlay":i}),WLe=(i,e)=>({showTransitionParams:i,hideTransitionParams:e}),XLe=i=>({value:"visible",params:i}),ZLe=(i,e)=>({"p-hidden":i,flex:e}),wz=(i,e)=>({"p-focus":i,"p-disabled":e});function QLe(i,e){i&1&&Pe(0)}function YLe(i,e){if(i&1&&(E(0,"div",9),D(1,QLe,1,0,"ng-container",10),T()),i&2){let t,r=_(2);ae("data-pc-section","start"),v(),C("ngTemplateOutlet",(t=r.startTemplate)!==null&&t!==void 0?t:r._startTemplate)}}function JLe(i,e){i&1&&N(0,"li",14)}function e3e(i,e){if(i&1&&(E(0,"span"),J(1),T()),i&2){let t=_(3).$implicit;v(),Ze(t.label)}}function t3e(i,e){if(i&1&&(N(0,"span",18),fe(1,"safeHtml")),i&2){let t=_(3).$implicit;C("innerHTML",xe(1,1,t.label),zc)}}function i3e(i,e){if(i&1&&(It(0),D(1,e3e,2,1,"span",17)(2,t3e,2,3,"ng-template",null,2,Le),Pt()),i&2){let t=Ue(3),r=_(2).$implicit;v(),C("ngIf",r.escape!==!1)("ngIfElse",t)}}function r3e(i,e){i&1&&Pe(0)}function n3e(i,e){if(i&1&&(E(0,"li",15),D(1,i3e,4,2,"ng-container",7)(2,r3e,1,0,"ng-container",16),T()),i&2){let t,r=_(),n=r.$implicit,o=r.index,s=_(3);C("ngClass",Rt(7,ZLe,n.visible===!1,n.visible))("tooltipOptions",n.tooltipOptions),ae("data-automationid",n.automationId)("id",s.menuitemId(n,s.id,o)),v(),C("ngIf",!s.submenuHeaderTemplate&&!s._submenuHeaderTemplate),v(),C("ngTemplateOutlet",(t=s.submenuHeaderTemplate)!==null&&t!==void 0?t:s._submenuHeaderTemplate)("ngTemplateOutletContext",Fe(10,eC,n))}}function o3e(i,e){i&1&&N(0,"li",14)}function s3e(i,e){if(i&1){let t=W();E(0,"li",20),V("onMenuItemClick",function(n){P(t);let o=_(),s=o.$implicit,a=o.index,l=_().index,d=_(3);return L(d.itemClick(n,d.menuitemId(s,d.id,l,a)))}),T()}if(i&2){let t,r=_(),n=r.$implicit,o=r.index,s=_().index,a=_(3);we(n.styleClass),C("pMenuItemContent",n)("itemTemplate",(t=a.itemTemplate)!==null&&t!==void 0?t:a._itemTemplate)("ngClass",Rt(13,wz,a.focusedOptionId()&&a.menuitemId(n,a.id,s,o)===a.focusedOptionId(),a.disabled(n.disabled)))("ngStyle",n.style)("tooltipOptions",n.tooltipOptions),ae("data-pc-section","menuitem")("aria-label",a.label(n.label))("data-p-focused",a.isItemFocused(a.menuitemId(n,a.id,s,o)))("data-p-disabled",a.disabled(n.disabled))("aria-disabled",a.disabled(n.disabled))("id",a.menuitemId(n,a.id,s,o))}}function a3e(i,e){if(i&1&&D(0,o3e,1,0,"li",12)(1,s3e,1,16,"li",19),i&2){let t=e.$implicit,r=_().$implicit;C("ngIf",t.separator&&(t.visible!==!1||r.visible!==!1)),v(),C("ngIf",!t.separator&&t.visible!==!1&&(t.visible!==void 0||r.visible!==!1))}}function l3e(i,e){if(i&1&&D(0,JLe,1,0,"li",12)(1,n3e,3,12,"li",13)(2,a3e,2,2,"ng-template",11),i&2){let t=e.$implicit;C("ngIf",t.separator&&t.visible!==!1),v(),C("ngIf",!t.separator),v(),C("ngForOf",t.items)}}function c3e(i,e){if(i&1&&D(0,l3e,3,3,"ng-template",11),i&2){let t=_(2);C("ngForOf",t.model)}}function u3e(i,e){i&1&&N(0,"li",14)}function d3e(i,e){if(i&1){let t=W();E(0,"li",20),V("onMenuItemClick",function(n){P(t);let o=_(),s=o.$implicit,a=o.index,l=_(3);return L(l.itemClick(n,l.menuitemId(s,l.id,a)))}),T()}if(i&2){let t,r=_(),n=r.$implicit,o=r.index,s=_(3);we(n.styleClass),C("pMenuItemContent",n)("itemTemplate",(t=s.itemTemplate)!==null&&t!==void 0?t:s._itemTemplate)("ngClass",Rt(13,wz,s.focusedOptionId()&&s.menuitemId(n,s.id,o)===s.focusedOptionId(),s.disabled(n.disabled)))("ngStyle",n.style)("tooltipOptions",n.tooltipOptions),ae("data-pc-section","menuitem")("aria-label",s.label(n.label))("data-p-focused",s.isItemFocused(s.menuitemId(n,s.id,o)))("data-p-disabled",s.disabled(n.disabled))("aria-disabled",s.disabled(n.disabled))("id",s.menuitemId(n,s.id,o))}}function p3e(i,e){if(i&1&&D(0,u3e,1,0,"li",12)(1,d3e,1,16,"li",19),i&2){let t=e.$implicit;C("ngIf",t.separator&&t.visible!==!1),v(),C("ngIf",!t.separator&&t.visible!==!1)}}function f3e(i,e){if(i&1&&D(0,p3e,2,2,"ng-template",11),i&2){let t=_(2);C("ngForOf",t.model)}}function h3e(i,e){i&1&&Pe(0)}function m3e(i,e){if(i&1&&(E(0,"div",21),D(1,h3e,1,0,"ng-container",10),T()),i&2){let t,r=_(2);ae("data-pc-section","end"),v(),C("ngTemplateOutlet",(t=r.endTemplate)!==null&&t!==void 0?t:r._endTemplate)}}function g3e(i,e){if(i&1){let t=W();E(0,"div",4,0),V("click",function(n){P(t);let o=_();return L(o.onOverlayClick(n))})("@overlayAnimation.start",function(n){P(t);let o=_();return L(o.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){P(t);let o=_();return L(o.onOverlayAnimationEnd(n))}),D(2,YLe,2,2,"div",5),E(3,"ul",6,1),V("focus",function(n){P(t);let o=_();return L(o.onListFocus(n))})("blur",function(n){P(t);let o=_();return L(o.onListBlur(n))})("keydown",function(n){P(t);let o=_();return L(o.onListKeyDown(n))}),D(5,c3e,1,1,null,7)(6,f3e,1,1,null,7),T(),D(7,m3e,2,2,"div",8),T()}if(i&2){let t,r,n=_();we(n.styleClass),C("ngClass",Fe(18,GLe,n.popup))("ngStyle",n.style)("@overlayAnimation",Fe(23,XLe,Rt(20,WLe,n.showTransitionOptions,n.hideTransitionOptions)))("@.disabled",n.popup!==!0),ae("data-pc-name","menu")("id",n.id),v(2),C("ngIf",(t=n.startTemplate)!==null&&t!==void 0?t:n._startTemplate),v(),ae("id",n.id+"_list")("tabindex",n.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",n.activedescendant())("aria-label",n.ariaLabel)("aria-labelledBy",n.ariaLabelledBy),v(2),C("ngIf",n.hasSubMenu()),v(),C("ngIf",!n.hasSubMenu()),v(),C("ngIf",(r=n.endTemplate)!==null&&r!==void 0?r:n._endTemplate)}}var y3e=({dt:i})=>`
.p-menu {
    background: ${i("menu.background")};
    color: ${i("menu.color")};
    border: 1px solid ${i("menu.border.color")};
    border-radius: ${i("menu.border.radius")};
    min-width: 12.5rem;
}

.p-menu-list {
    margin: 0;
    padding: ${i("menu.list.padding")};
    outline: 0 none;
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: ${i("menu.list.gap")};
}

.p-menu-item-content {
    transition: background ${i("menu.transition.duration")}, color ${i("menu.transition.duration")};
    border-radius: ${i("menu.item.border.radius")};
    color: ${i("menu.item.color")};
}

.p-menu-item-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
    color: inherit;
    padding: ${i("menu.item.padding")};
    gap: ${i("menu.item.gap")};
    user-select: none;
    outline: 0 none;
}

.p-menu-item-label {
    line-height: 1;
}

.p-menu-item-icon {
    color: ${i("menu.item.icon.color")};
}

.p-menu-item.p-focus .p-menu-item-content {
    color: ${i("menu.item.focus.color")};
    background: ${i("menu.item.focus.background")};
}

.p-menu-item.p-focus .p-menu-item-icon {
    color: ${i("menu.item.icon.focus.color")};
}

.p-menu-item:not(.p-disabled) .p-menu-item-content:hover {
    color: ${i("menu.item.focus.color")};
    background: ${i("menu.item.focus.background")};
}

.p-menu-item:not(.p-disabled) .p-menu-item-content:hover .p-menu-item-icon {
    color: ${i("menu.item.icon.focus.color")};
}

.p-menu-overlay {
    box-shadow: ${i("menu.shadow")};
}

.p-menu-submenu-label {
    background: ${i("menu.submenu.label.background")};
    padding: ${i("menu.submenu.label.padding")};
    color: ${i("menu.submenu.label.color")};
    font-weight: ${i("menu.submenu.label.font.weight")};
}

.p-menu-separator {
    border-top: 1px solid ${i("menu.separator.border.color")};
}

/* For PrimeNG */
.p-menu-overlay {
    position: absolute;
}
`,b3e={root:({props:i})=>["p-menu p-component",{"p-menu-overlay":i.popup}],start:"p-menu-start",list:"p-menu-list",submenuLabel:"p-menu-submenu-label",separator:"p-menu-separator",end:"p-menu-end",item:({instance:i})=>["p-menu-item",{"p-focus":i.id===i.focusedOptionId,"p-disabled":i.disabled()}],itemContent:"p-menu-item-content",itemLink:"p-menu-item-link",itemIcon:"p-menu-item-icon",itemLabel:"p-menu-item-label"},Ez=(()=>{class i extends lt{name="menu";theme=y3e;classes=b3e;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var Sz=(()=>{class i{platformId;sanitizer;constructor(t,r){this.platformId=t,this.sanitizer=r}transform(t){return!t||!Lt(this.platformId)?t:this.sanitizer.bypassSecurityTrustHtml(t)}static \u0275fac=function(r){return new(r||i)(ne(er,16),ne(Fh,16))};static \u0275pipe=Ne({name:"safeHtml",type:i,pure:!0})}return i})(),_3e=(()=>{class i{item;itemTemplate;onMenuItemClick=new Me;menu;constructor(t){this.menu=t}onItemClick(t,r){this.onMenuItemClick.emit({originalEvent:t,item:r})}static \u0275fac=function(r){return new(r||i)(ne(Fa(()=>F0)))};static \u0275cmp=oe({type:i,selectors:[["","pMenuItemContent",""]],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:wLe,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menu-item-content",3,"click"],[4,"ngIf"],["class","p-menu-item-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menu-item-link-active","class","p-menu-item-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menu-item-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menu-item-link-active","pRipple","",1,"p-menu-item-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menu-item-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menu-item-label",4,"ngIf","ngIfElse"],[3,"styleClass","value",4,"ngIf"],[1,"p-menu-item-icon",3,"ngClass","ngStyle"],[1,"p-menu-item-label"],[1,"p-menu-item-label",3,"innerHTML"],[3,"styleClass","value"]],template:function(r,n){if(r&1){let o=W();E(0,"div",2),V("click",function(a){return P(o),L(n.onItemClick(a,n.item))}),D(1,ILe,3,2,"ng-container",3)(2,BLe,2,4,"ng-container",3)(3,FLe,5,4,"ng-template",null,0,Le),T()}r&2&&(ae("data-pc-section","content"),v(),C("ngIf",!n.itemTemplate),v(),C("ngIf",n.itemTemplate))},dependencies:[tt,Gt,si,rt,Ii,YS,fb,GB,ii,jI,N0,V0,yt,Sz],encapsulation:2})}return i})(),F0=(()=>{class i extends Je{overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new Me;onHide=new Me;onBlur=new Me;onFocus=new Me;listViewChild;containerViewChild;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=Bo(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=mt(-1);selectedOptionIndex=mt(-1);focused=!1;overlayVisible=!1;relativeAlign;_componentStyle=se(Ez);constructor(t){super(),this.overlayService=t,this.id=this.id||gt("pn_id_")}toggle(t){this.visible?this.hide():this.show(t),this.preventDocumentDefault=!0}show(t){this.target=t.currentTarget,this.relativeAlign=t.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.markForCheck()}ngOnInit(){super.ngOnInit(),this.popup||this.bindDocumentClickListener()}startTemplate;_startTemplate;endTemplate;_endTemplate;headerTemplate;_headerTemplate;itemTemplate;_itemTemplate;submenuHeaderTemplate;_submenuHeaderTemplate;templates;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this._startTemplate=t.template;break;case"end":this._endTemplate=t.template;break;case"item":this._itemTemplate=t.template;break;case"submenuheader":this._submenuHeaderTemplate=t.template;break;default:this._itemTemplate=t.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.popup&&(this.container=t.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),yo(this.listViewChild.nativeElement));break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(t){switch(t.toState){case"void":this.autoZIndex&&li.clear(t.element);break}}alignOverlay(){this.relativeAlign?C$(this.container,this.target):Ox(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):go(this.appendTo,this.container))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&li.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!Vx()&&this.hide()}menuitemId(t,r,n,o){return t?.id??`${r}_${n}${o!==void 0?"_"+o:""}`}isItemFocused(t){return this.focusedOptionId()===t}label(t){return typeof t=="function"?t():t}disabled(t){return typeof t=="function"?t():typeof t>"u"?!1:t}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(t){this.focused||(this.focused=!0,this.onFocus.emit(t))}onListBlur(t){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(t))}onListKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":this.onEnterKey(t);break;case"NumpadEnter":this.onEnterKey(t);break;case"Space":this.onSpaceKey(t);break;case"Escape":case"Tab":this.popup&&(yo(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(t){let r=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(r),t.preventDefault()}onArrowUpKey(t){if(t.altKey&&this.popup)yo(this.target),this.hide(),t.preventDefault();else{let r=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(r),t.preventDefault()}}onHomeKey(t){this.changeFocusedOptionIndex(0),t.preventDefault()}onEndKey(t){this.changeFocusedOptionIndex(Wo(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),t.preventDefault()}onEnterKey(t){let r=tr(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),n=r&&tr(r,'a[data-pc-section="action"]');this.popup&&yo(this.target),n?n.click():r&&r.click(),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}findNextOptionIndex(t){let n=[...Wo(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===t);return n>-1?n+1:0}findPrevOptionIndex(t){let n=[...Wo(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===t);return n>-1?n-1:0}changeFocusedOptionIndex(t){let r=Wo(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(r.length>0){let n=t>=r.length?r.length-1:t<0?0:t;n>-1&&this.focusedOptionIndex.set(r[n].getAttribute("id"))}}itemClick(t,r){let{originalEvent:n,item:o}=t;if(this.focused||(this.focused=!0,this.onFocus.emit()),o.disabled){n.preventDefault();return}!o.url&&!o.routerLink&&n.preventDefault(),o.command&&o.command({originalEvent:n,item:o}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==r&&this.focusedOptionIndex.set(r)}onOverlayClick(t){this.popup&&this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&Lt(this.platformId)){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(t,"click",r=>{let n=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(r.target),o=!(this.target&&(this.target===r.target||this.target.contains(r.target)));!this.popup&&n&&o&&this.onListBlur(r),this.preventDocumentDefault&&this.overlayVisible&&n&&o&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&Lt(this.platformId)){let t=this.document.defaultView;this.documentResizeListener=this.renderer.listen(t,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&Lt(this.platformId)&&(this.scrollHandler=new sc(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&li.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener(),super.ngOnDestroy()}hasSubMenu(){return this.model?.some(t=>t.items)??!1}isItemHidden(t){return t.separator?t.visible===!1||t.items&&t.items.some(r=>r.visible!==!1):t.visible===!1}static \u0275fac=function(r){return new(r||i)(ne(qx))};static \u0275cmp=oe({type:i,selectors:[["p-menu"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,ULe,4),Re(o,jLe,4),Re(o,qLe,4),Re(o,$Le,4),Re(o,zLe,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.startTemplate=s.first),be(s=_e())&&(n.endTemplate=s.first),be(s=_e())&&(n.headerTemplate=s.first),be(s=_e())&&(n.itemTemplate=s.first),be(s=_e())&&(n.submenuHeaderTemplate=s.first),be(s=_e())&&(n.templates=s)}},viewQuery:function(r,n){if(r&1&&(Zt(KLe,5),Zt(HLe,5)),r&2){let o;be(o=_e())&&(n.listViewChild=o.first),be(o=_e())&&(n.containerViewChild=o.first)}},inputs:{model:"model",popup:[2,"popup","popup",de],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",de],baseZIndex:[2,"baseZIndex","baseZIndex",wt],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",wt]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[He([Ez]),Se],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",4,"ngIf"],["class","p-menu-submenu-label","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator"],["pTooltip","","role","none",1,"p-menu-submenu-label",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menu-item","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menu-item",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(r,n){r&1&&D(0,g3e,8,25,"div",3),r&2&&C("ngIf",!n.popup||n.visible)},dependencies:[tt,Gt,$a,si,rt,Ii,YS,_3e,jI,uc,N0,yt,Sz],encapsulation:2,data:{animation:[Tr("overlayAnimation",[Ci(":enter",[ti({opacity:0,transform:"scaleY(0.8)"}),Si("{{showTransitionParams}}")]),Ci(":leave",[Si("{{hideTransitionParams}}",ti({opacity:0}))])])]},changeDetection:0})}return i})();var dc=(()=>{class i extends Je{pFocusTrapDisabled=!1;platformId=se(er);document=se(ci);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){super.ngOnInit(),Lt(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){super.ngOnChanges(t),t.pFocusTrapDisabled&&Lt(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){let t="0",r=n=>T$("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:t,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:n?.bind(this)});this.firstHiddenFocusableElement=r(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=r(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.el.nativeElement.prepend(this.firstHiddenFocusableElement),this.el.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){let{currentTarget:r,relatedTarget:n}=t,o=n===this.lastHiddenFocusableElement||!this.el.nativeElement?.contains(n)?R$(r.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;yo(o)}onLastHiddenElementFocus(t){let{currentTarget:r,relatedTarget:n}=t,o=n===this.firstHiddenFocusableElement||!this.el.nativeElement?.contains(n)?k$(r.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;yo(o)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275dir=Ht({type:i,selectors:[["","pFocusTrap",""]],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",de]},features:[Se,Ji]})}return i})();var v3e=["header"],Az=["content"],Rz=["footer"],x3e=["closeicon"],C3e=["maximizeicon"],E3e=["minimizeicon"],T3e=["headless"],w3e=["titlebar"],S3e=["*",[["p-footer"]]],A3e=["*","p-footer"],R3e=(i,e,t)=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex","justify-content":i,"align-items":e,"pointer-events":t}),k3e=i=>({"p-dialog p-component":!0,"p-dialog-maximized":i}),D3e=()=>({display:"flex","flex-direction":"column","pointer-events":"auto"}),I3e=(i,e)=>({transform:i,transition:e}),P3e=i=>({value:"visible",params:i});function L3e(i,e){i&1&&Pe(0)}function B3e(i,e){if(i&1&&(It(0),D(1,L3e,1,0,"ng-container",11),Pt()),i&2){let t=_(3);v(),C("ngTemplateOutlet",t._headlessTemplate||t.headlessTemplate||t.headlessT)}}function O3e(i,e){if(i&1){let t=W();E(0,"div",15),V("mousedown",function(n){P(t);let o=_(4);return L(o.initResize(n))}),T()}if(i&2){let t=_(4);C("ngClass",t.cx("resizeHandle"))}}function M3e(i,e){if(i&1&&(E(0,"span",21),J(1),T()),i&2){let t=_(5);C("id",t.ariaLabelledBy)("ngClass",t.cx("title")),v(),Ze(t.header)}}function V3e(i,e){i&1&&Pe(0)}function N3e(i,e){if(i&1&&N(0,"span",18),i&2){let t=_(6);C("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function F3e(i,e){i&1&&N(0,"WindowMaximizeIcon")}function U3e(i,e){i&1&&N(0,"WindowMinimizeIcon")}function j3e(i,e){if(i&1&&(It(0),D(1,F3e,1,0,"WindowMaximizeIcon",23)(2,U3e,1,0,"WindowMinimizeIcon",23),Pt()),i&2){let t=_(6);v(),C("ngIf",!t.maximized&&!t._maximizeiconTemplate&&!t.maximizeIconTemplate&&!t.maximizeIconT),v(),C("ngIf",t.maximized&&!t._minimizeiconTemplate&&!t.minimizeIconTemplate&&!t.minimizeIconT)}}function q3e(i,e){}function $3e(i,e){i&1&&D(0,q3e,0,0,"ng-template")}function z3e(i,e){if(i&1&&(It(0),D(1,$3e,1,0,null,11),Pt()),i&2){let t=_(6);v(),C("ngTemplateOutlet",t._maximizeiconTemplate||t.maximizeIconTemplate||t.maximizeIconT)}}function K3e(i,e){}function H3e(i,e){i&1&&D(0,K3e,0,0,"ng-template")}function G3e(i,e){if(i&1&&(It(0),D(1,H3e,1,0,null,11),Pt()),i&2){let t=_(6);v(),C("ngTemplateOutlet",t._minimizeiconTemplate||t.minimizeIconTemplate||t.minimizeIconT)}}function W3e(i,e){if(i&1){let t=W();E(0,"p-button",22),V("onClick",function(){P(t);let n=_(5);return L(n.maximize())})("keydown.enter",function(){P(t);let n=_(5);return L(n.maximize())}),D(1,N3e,1,1,"span",14)(2,j3e,3,2,"ng-container",23)(3,z3e,2,1,"ng-container",23)(4,G3e,2,1,"ng-container",23),T()}if(i&2){let t=_(5);C("styleClass",t.cx("pcMaximizeButton"))("tabindex",t.maximizable?"0":"-1")("ariaLabel",t.maximizeLabel)("buttonProps",t.maximizeButtonProps),v(),C("ngIf",t.maximizeIcon&&!t._maximizeiconTemplate&&!t._minimizeiconTemplate),v(),C("ngIf",!t.maximizeIcon&&!(t.maximizeButtonProps!=null&&t.maximizeButtonProps.icon)),v(),C("ngIf",!t.maximized),v(),C("ngIf",t.maximized)}}function X3e(i,e){if(i&1&&N(0,"span",18),i&2){let t=_(8);C("ngClass",t.closeIcon)}}function Z3e(i,e){i&1&&N(0,"TimesIcon")}function Q3e(i,e){if(i&1&&(It(0),D(1,X3e,1,1,"span",14)(2,Z3e,1,0,"TimesIcon",23),Pt()),i&2){let t=_(7);v(),C("ngIf",t.closeIcon),v(),C("ngIf",!t.closeIcon)}}function Y3e(i,e){}function J3e(i,e){i&1&&D(0,Y3e,0,0,"ng-template")}function e4e(i,e){if(i&1&&(E(0,"span"),D(1,J3e,1,0,null,11),T()),i&2){let t=_(7);v(),C("ngTemplateOutlet",t._closeiconTemplate||t.closeIconTemplate||t.closeIconT)}}function t4e(i,e){if(i&1&&D(0,Q3e,3,2,"ng-container",23)(1,e4e,2,1,"span",23),i&2){let t=_(6);C("ngIf",!t._closeiconTemplate&&!t.closeIconTemplate&&!t.closeIconT&&!(t.closeButtonProps!=null&&t.closeButtonProps.icon)),v(),C("ngIf",t._closeiconTemplate||t.closeIconTemplate||t.closeIconT)}}function i4e(i,e){if(i&1){let t=W();E(0,"p-button",24),V("onClick",function(n){P(t);let o=_(5);return L(o.close(n))})("keydown.enter",function(n){P(t);let o=_(5);return L(o.close(n))}),D(1,t4e,2,2,"ng-template",null,4,Le),T()}if(i&2){let t=_(5);C("styleClass",t.cx("pcCloseButton"))("ariaLabel",t.closeAriaLabel)("tabindex",t.closeTabindex)("buttonProps",t.closeButtonProps)}}function r4e(i,e){if(i&1){let t=W();E(0,"div",16,3),V("mousedown",function(n){P(t);let o=_(4);return L(o.initDrag(n))}),D(2,M3e,2,3,"span",17)(3,V3e,1,0,"ng-container",11),E(4,"div",18),D(5,W3e,5,8,"p-button",19)(6,i4e,3,4,"p-button",20),T()()}if(i&2){let t=_(4);C("ngClass",t.cx("header")),v(2),C("ngIf",!t._headerTemplate&&!t.headerTemplate&&!t.headerT),v(),C("ngTemplateOutlet",t._headerTemplate||t.headerTemplate||t.headerT),v(),C("ngClass",t.cx("headerActions")),v(),C("ngIf",t.maximizable),v(),C("ngIf",t.closable)}}function n4e(i,e){i&1&&Pe(0)}function o4e(i,e){i&1&&Pe(0)}function s4e(i,e){if(i&1&&(E(0,"div",18,5),xi(2,1),D(3,o4e,1,0,"ng-container",11),T()),i&2){let t=_(4);C("ngClass",t.cx("footer")),v(3),C("ngTemplateOutlet",t._footerTemplate||t.footerTemplate||t.footerT)}}function a4e(i,e){if(i&1&&(D(0,O3e,1,1,"div",12)(1,r4e,7,6,"div",13),E(2,"div",7,2),xi(4),D(5,n4e,1,0,"ng-container",11),T(),D(6,s4e,4,2,"div",14)),i&2){let t=_(3);C("ngIf",t.resizable),v(),C("ngIf",t.showHeader),v(),we(t.contentStyleClass),C("ngClass",t.cx("content"))("ngStyle",t.contentStyle),ae("data-pc-section","content"),v(3),C("ngTemplateOutlet",t._contentTemplate||t.contentTemplate||t.contentT),v(),C("ngIf",t._footerTemplate||t.footerTemplate||t.footerT)}}function l4e(i,e){if(i&1){let t=W();E(0,"div",9,0),V("@animation.start",function(n){P(t);let o=_(2);return L(o.onAnimationStart(n))})("@animation.done",function(n){P(t);let o=_(2);return L(o.onAnimationEnd(n))}),D(2,B3e,2,1,"ng-container",10)(3,a4e,7,9,"ng-template",null,1,Le),T()}if(i&2){let t=Ue(4),r=_(2);pt(r.style),we(r.styleClass),C("ngClass",Fe(13,k3e,r.maximizable&&r.maximized))("ngStyle",$e(15,D3e))("pFocusTrapDisabled",r.focusTrap===!1)("@animation",Fe(19,P3e,Rt(16,I3e,r.transformOptions,r.transitionOptions))),ae("role",r.role)("aria-labelledby",r.ariaLabelledBy)("aria-modal",!0),v(2),C("ngIf",r._headlessTemplate||r.headlessTemplate||r.headlessT)("ngIfElse",t)}}function c4e(i,e){if(i&1&&(E(0,"div",7),D(1,l4e,5,21,"div",8),T()),i&2){let t=_();pt(t.maskStyle),we(t.maskStyleClass),C("ngClass",t.maskClass)("ngStyle",zs(7,R3e,t.position==="left"||t.position==="topleft"||t.position==="bottomleft"?"flex-start":t.position==="right"||t.position==="topright"||t.position==="bottomright"?"flex-end":"center",t.position==="top"||t.position==="topleft"||t.position==="topright"?"flex-start":t.position==="bottom"||t.position==="bottomleft"||t.position==="bottomright"?"flex-end":"center",t.modal?"auto":"none")),v(),C("ngIf",t.visible)}}var u4e=({dt:i})=>`
.p-dialog {
    max-height: 90%;
    transform: scale(1);
    border-radius: ${i("dialog.border.radius")};
    box-shadow: ${i("dialog.shadow")};
    background: ${i("dialog.background")};
    border: 1px solid ${i("dialog.border.color")};
    color: ${i("dialog.color")};
    display: flex;
    flex-direction: column;
    pointer-events: auto
}

.p-dialog-content {
    overflow-y: auto;
    padding: ${i("dialog.content.padding")};
    flex-grow: 1;
}

.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
    padding: ${i("dialog.header.padding")};
}

.p-dialog-title {
    font-weight: ${i("dialog.title.font.weight")};
    font-size: ${i("dialog.title.font.size")};
}

.p-dialog-footer {
    flex-shrink: 0;
    padding: ${i("dialog.footer.padding")};
    display: flex;
    justify-content: flex-end;
    gap: ${i("dialog.footer.gap")};
}

.p-dialog-header-actions {
    display: flex;
    align-items: center;
    gap: ${i("dialog.header.gap")};
}

.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}

.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}

.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}

.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}

.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}

.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}

.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

.p-dialog-left:dir(rtl) .p-dialog-enter-from,
.p-dialog-left:dir(rtl) .p-dialog-leave-to,
.p-dialog-topleft:dir(rtl) .p-dialog-enter-from,
.p-dialog-topleft:dir(rtl) .p-dialog-leave-to,
.p-dialog-bottomleft:dir(rtl) .p-dialog-enter-from,
.p-dialog-bottomleft:dir(rtl) .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

.p-dialog-right:dir(rtl) .p-dialog-enter-from,
.p-dialog-right:dir(rtl) .p-dialog-leave-to,
.p-dialog-topright:dir(rtl) .p-dialog-enter-from,
.p-dialog-topright:dir(rtl) .p-dialog-leave-to,
.p-dialog-bottomright:dir(rtl) .p-dialog-enter-from,
.p-dialog-bottomright:dir(rtl) .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}

.p-dialog-maximized {
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
    border-radius: 0;
}

.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}

.p-overlay-mask:dir(rtl) {
    flex-direction: row-reverse;
}

/* For PrimeNG */

.p-dialog .p-resizable-handle {
    position: absolute;
    font-size: 0.1px;
    display: block;
    cursor: se-resize;
    width: 12px;
    height: 12px;
    right: 1px;
    bottom: 1px;
}

.p-confirm-dialog .p-dialog-content {
    display: flex;
    align-items: center;
}
`,d4e={mask:({instance:i})=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:i.position==="left"||i.position==="topleft"||i.position==="bottomleft"?"flex-start":i.position==="right"||i.position==="topright"||i.position==="bottomright"?"flex-end":"center",alignItems:i.position==="top"||i.position==="topleft"||i.position==="topright"?"flex-start":i.position==="bottom"||i.position==="bottomleft"||i.position==="bottomright"?"flex-end":"center",pointerEvents:i.modal?"auto":"none"}),root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},p4e={mask:({instance:i})=>{let t=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(r=>r===i.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":i.modal,[`p-dialog-${t}`]:t}},root:({instance:i})=>({"p-dialog p-component":!0,"p-dialog-maximized":i.maximizable&&i.maximized}),header:"p-dialog-header",title:"p-dialog-title",resizeHandle:"p-resizable-handle",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:"p-dialog-content",footer:"p-dialog-footer"},tC=(()=>{class i extends lt{name="dialog";theme=u4e;classes=p4e;inlineStyles=d4e;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var f4e=za([ti({transform:"{{transform}}",opacity:0}),Si("{{transition}}")]),h4e=za([Si("{{transition}}",ti({transform:"{{transform}}",opacity:0}))]),kz=(()=>{class i extends Je{header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;closeButtonProps={severity:"secondary",text:!0,rounded:!0};maximizeButtonProps={severity:"secondary",text:!0,rounded:!0};get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=R({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}role="dialog";onShow=new Me;onHide=new Me;visibleChange=new Me;onResizeInit=new Me;onResizeEnd=new Me;onDragEnd=new Me;onMaximize=new Me;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;closeIconTemplate;maximizeIconTemplate;minimizeIconTemplate;headlessTemplate;_headerTemplate;_contentTemplate;_footerTemplate;_closeiconTemplate;_maximizeiconTemplate;_minimizeiconTemplate;_headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=gt("pn_id_");_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;_componentStyle=se(tC);headerT;contentT;footerT;closeIconT;maximizeIconT;minimizeIconT;headlessT;get maximizeLabel(){return this.config.getTranslation(Ku.ARIA).maximizeLabel}zone=se(Bi);get maskClass(){let r=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(n=>n===this.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":this.modal||this.dismissableMask,[`p-dialog-${r}`]:r}}ngOnInit(){super.ngOnInit(),this.breakpoints&&this.createStyle()}templates;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerT=t.template;break;case"content":this.contentT=t.template;break;case"footer":this.footerT=t.template;break;case"closeicon":this.closeIconT=t.template;break;case"maximizeicon":this.maximizeIconT=t.template;break;case"minimizeicon":this.minimizeIconT=t.template;break;case"headless":this.headlessT=t.template;break;default:this.contentT=t.template;break}})}getAriaLabelledBy(){return this.header!==null?gt("pn_id_")+"_header":null}parseDurationToMilliseconds(t){let r=/([\d\.]+)(ms|s)\b/g,n=0,o;for(;(o=r.exec(t))!==null;){let s=parseFloat(o[1]),a=o[2];a==="ms"?n+=s:a==="s"&&(n+=s*1e3)}if(n!==0)return n}_focus(t){if(t){let r=this.parseDurationToMilliseconds(this.transitionOptions),n=ac.getFocusableElements(t);if(n&&n.length>0)return this.zone.runOutsideAngular(()=>{setTimeout(()=>n[0].focus(),r||5)}),!0}return!1}focus(t){let r=this._focus(t);r||(r=this._focus(this.footerViewChild?.nativeElement),r||(r=this._focus(this.headerViewChild?.nativeElement),r||this._focus(this.contentViewChild?.nativeElement)))}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&Uu()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&t.length==1&&ju(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Uu():ju()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(li.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Lt(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints)t+=`
                        @media screen and (max-width: ${r}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[r]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t),Xo(this.styleElement,"nonce",this.config?.csp()?.nonce)}}initDrag(t){gn(t.target,"p-dialog-maximize-icon")||gn(t.target,"p-dialog-header-close-icon")||gn(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",zi(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){let r=tn(this.container),n=Or(this.container),o=t.pageX-this.lastPageX,s=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),d=parseFloat(l.marginLeft),f=parseFloat(l.marginTop),g=a.left+o-d,w=a.top+s-f,A=ha();this.container.style.position="fixed",this.keepInViewport?(g>=this.minX&&g+r<A.width&&(this._style.left=`${g}px`,this.lastPageX=t.pageX,this.container.style.left=`${g}px`),w>=this.minY&&w+n<A.height&&(this._style.top=`${w}px`,this.lastPageY=t.pageY,this.container.style.top=`${w}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${g}px`,this.lastPageY=t.pageY,this.container.style.top=`${w}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,vr(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,zi(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let r=t.pageX-this.lastPageX,n=t.pageY-this.lastPageY,o=tn(this.container),s=Or(this.container),a=Or(this.contentViewChild?.nativeElement),l=o+r,d=s+n,f=this.container.style.minWidth,g=this.container.style.minHeight,w=this.container.getBoundingClientRect(),A=ha();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=r,d+=n),(!f||l>parseInt(f))&&w.left+l<A.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!g||d>parseInt(g))&&w.top+d<A.height&&(this.contentViewChild.nativeElement.style.height=a+d-s+"px",this._style.height&&(this._style.height=d+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,vr(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",r=>{r.key=="Escape"&&this.close(r)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):go(this.appendTo,this.wrapper))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&zi(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck(),this.maskVisible!==this.visible&&(this.maskVisible=this.visible);break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(this.document.body.style.removeProperty("--scrollbar;-width"),this.maximized=!1),this.modal&&this.disableModality(),gn(this.document.body,"p-overflow-hidden")&&vr(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&li.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?R({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-dialog"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,v3e,4),Re(o,Az,4),Re(o,Rz,4),Re(o,x3e,4),Re(o,C3e,4),Re(o,E3e,4),Re(o,T3e,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n._headerTemplate=s.first),be(s=_e())&&(n._contentTemplate=s.first),be(s=_e())&&(n._footerTemplate=s.first),be(s=_e())&&(n._closeiconTemplate=s.first),be(s=_e())&&(n._maximizeiconTemplate=s.first),be(s=_e())&&(n._minimizeiconTemplate=s.first),be(s=_e())&&(n._headlessTemplate=s.first),be(s=_e())&&(n.templates=s)}},viewQuery:function(r,n){if(r&1&&(Zt(w3e,5),Zt(Az,5),Zt(Rz,5)),r&2){let o;be(o=_e())&&(n.headerViewChild=o.first),be(o=_e())&&(n.contentViewChild=o.first),be(o=_e())&&(n.footerViewChild=o.first)}},inputs:{header:"header",draggable:[2,"draggable","draggable",de],resizable:[2,"resizable","resizable",de],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",de],closeOnEscape:[2,"closeOnEscape","closeOnEscape",de],dismissableMask:[2,"dismissableMask","dismissableMask",de],rtl:[2,"rtl","rtl",de],closable:[2,"closable","closable",de],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",de],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",de],autoZIndex:[2,"autoZIndex","autoZIndex",de],baseZIndex:[2,"baseZIndex","baseZIndex",wt],minX:[2,"minX","minX",wt],minY:[2,"minY","minY",wt],focusOnShow:[2,"focusOnShow","focusOnShow",de],maximizable:[2,"maximizable","maximizable",de],keepInViewport:[2,"keepInViewport","keepInViewport",de],focusTrap:[2,"focusTrap","focusTrap",de],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",closeButtonProps:"closeButtonProps",maximizeButtonProps:"maximizeButtonProps",visible:"visible",style:"style",position:"position",role:"role",headerTemplate:[0,"content","headerTemplate"],contentTemplate:"contentTemplate",footerTemplate:"footerTemplate",closeIconTemplate:"closeIconTemplate",maximizeIconTemplate:"maximizeIconTemplate",minimizeIconTemplate:"minimizeIconTemplate",headlessTemplate:"headlessTemplate"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[He([tC]),Se],ngContentSelectors:A3e,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["icon",""],["footer",""],[3,"ngClass","class","ngStyle","style",4,"ngIf"],[3,"ngClass","ngStyle"],["pFocusTrap","",3,"class","ngClass","ngStyle","style","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["style","z-index: 90;",3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass",4,"ngIf"],[2,"z-index","90",3,"mousedown","ngClass"],[3,"mousedown","ngClass"],[3,"id","ngClass",4,"ngIf"],[3,"ngClass"],[3,"styleClass","tabindex","ariaLabel","buttonProps","onClick","keydown.enter",4,"ngIf"],[3,"styleClass","ariaLabel","tabindex","buttonProps","onClick","keydown.enter",4,"ngIf"],[3,"id","ngClass"],[3,"onClick","keydown.enter","styleClass","tabindex","ariaLabel","buttonProps"],[4,"ngIf"],[3,"onClick","keydown.enter","styleClass","ariaLabel","tabindex","buttonProps"]],template:function(r,n){r&1&&(Wi(S3e),D(0,c4e,2,11,"div",6)),r&2&&C("ngIf",n.maskVisible)},dependencies:[tt,Gt,si,rt,Ii,Os,dc,Bs,Mp,Vp,yt],encapsulation:2,data:{animation:[Tr("animation",[Ci("void => visible",[Ka(f4e)]),Ci("visible => void",[Ka(h4e)])])]},changeDetection:0})}return i})();var m4e=["mask"],g4e=["content"],y4e=["footer"],b4e=["titlebar"],_4e=(i,e,t)=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex","justify-content":i,"align-items":e,"pointer-events":t}),v4e=i=>({"p-dialog p-component":!0,"p-dialog-maximized":i}),x4e=()=>({display:"flex","flex-direction":"column","pointer-events":"auto"}),C4e=(i,e)=>({transform:i,transition:e}),E4e=i=>({value:"visible",params:i});function T4e(i,e){if(i&1){let t=W();E(0,"div",14),V("mousedown",function(n){P(t);let o=_(2);return L(o.initResize(n))}),T()}i&2&&C("ngClass","p-resizable-handle")}function w4e(i,e){i&1&&Pe(0)}function S4e(i,e){i&1&&N(0,"WindowMaximizeIcon")}function A4e(i,e){i&1&&N(0,"WindowMinimizeIcon")}function R4e(i,e){if(i&1&&(It(0),D(1,S4e,1,0,"WindowMaximizeIcon",11)(2,A4e,1,0,"WindowMinimizeIcon",11),Pt()),i&2){let t=_(5);v(),C("ngIf",!t.maximized&&!t.maximizeIconTemplate),v(),C("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function k4e(i,e){}function D4e(i,e){i&1&&D(0,k4e,0,0,"ng-template")}function I4e(i,e){if(i&1&&(It(0),D(1,D4e,1,0,null,21),Pt()),i&2){let t=_(5);v(),C("ngTemplateOutlet",t.maximizeIconTemplate)}}function P4e(i,e){}function L4e(i,e){i&1&&D(0,P4e,0,0,"ng-template")}function B4e(i,e){if(i&1&&(It(0),D(1,L4e,1,0,null,21),Pt()),i&2){let t=_(5);v(),C("ngTemplateOutlet",t.minimizeIconTemplate)}}function O4e(i,e){if(i&1){let t=W();E(0,"p-button",20),V("onClick",function(){P(t);let n=_(4);return L(n.maximize())})("keydown.enter",function(){P(t);let n=_(4);return L(n.maximize())}),D(1,R4e,3,2,"ng-container",11)(2,I4e,2,1,"ng-container",11)(3,B4e,2,1,"ng-container",11),T()}if(i&2){let t=_(4);C("styleClass","p-dialog-maximize-button")("tabindex",t.maximizable?"0":"-1"),v(),C("ngIf",!t.maximizeIcon),v(),C("ngIf",!t.maximized),v(),C("ngIf",t.maximized)}}function M4e(i,e){i&1&&(It(0),N(1,"TimesIcon"),Pt())}function V4e(i,e){}function N4e(i,e){i&1&&D(0,V4e,0,0,"ng-template")}function F4e(i,e){if(i&1&&(E(0,"span"),D(1,N4e,1,0,null,21),T()),i&2){let t=_(5);v(),C("ngTemplateOutlet",t.closeIconTemplate)}}function U4e(i,e){if(i&1){let t=W();E(0,"p-button",22),V("onClick",function(){P(t);let n=_(4);return L(n.hide())})("keydown.enter",function(){P(t);let n=_(4);return L(n.hide())}),D(1,M4e,2,0,"ng-container",11)(2,F4e,2,1,"span",11),T()}if(i&2){let t=_(4);C("styleClass","p-dialog-close-button")("ariaLabel",t.ddconfig.closeAriaLabel||t.defaultCloseAriaLabel),v(),C("ngIf",!t.closeIconTemplate),v(),C("ngIf",t.closeIconTemplate)}}function j4e(i,e){if(i&1&&(It(0),E(1,"span",16),J(2),T(),E(3,"div",17),D(4,O4e,4,5,"p-button",18)(5,U4e,3,4,"p-button",19),T(),Pt()),i&2){let t=_(3);v(),C("ngClass","p-dialog-title")("id",t.ariaLabelledBy),v(),Ze(t.ddconfig.header),v(),C("ngClass","p-dialog-header-actions"),v(),C("ngIf",t.ddconfig.maximizable),v(),C("ngIf",t.closable)}}function q4e(i,e){if(i&1){let t=W();E(0,"div",15,3),V("mousedown",function(n){P(t);let o=_(2);return L(o.initDrag(n))}),D(2,w4e,1,0,"ng-container",12)(3,j4e,6,6,"ng-container",11),T()}if(i&2){let t=_(2);C("ngClass","p-dialog-header"),v(2),C("ngComponentOutlet",t.headerTemplate),v(),C("ngIf",!t.headerTemplate)}}function $4e(i,e){}function z4e(i,e){i&1&&D(0,$4e,0,0,"ng-template",23)}function K4e(i,e){i&1&&Pe(0)}function H4e(i,e){if(i&1&&(It(0),J(1),Pt()),i&2){let t=_(3);v(),ft(" ",t.ddconfig.footer," ")}}function G4e(i,e){i&1&&Pe(0)}function W4e(i,e){if(i&1&&(E(0,"div",17,4),D(2,H4e,2,1,"ng-container",11)(3,G4e,1,0,"ng-container",12),T()),i&2){let t=_(2);C("ngClass","p-dialog-footer"),v(2),C("ngIf",!t.footerTemplate),v(),C("ngComponentOutlet",t.footerTemplate)}}function X4e(i,e){if(i&1){let t=W();E(0,"div",7,1),V("@animation.start",function(n){P(t);let o=_();return L(o.onAnimationStart(n))})("@animation.done",function(n){P(t);let o=_();return L(o.onAnimationEnd(n))}),D(2,T4e,1,1,"div",8)(3,q4e,4,3,"div",9),E(4,"div",10,2),D(6,z4e,1,0,null,11)(7,K4e,1,0,"ng-container",12),T(),D(8,W4e,4,3,"div",13),T()}if(i&2){let t=_();pt(t.ddconfig.style),we(t.ddconfig.styleClass),pn("width",t.ddconfig.width)("height",t.ddconfig.height),C("ngClass",Fe(22,v4e,t.maximizable&&t.maximized))("ngStyle",$e(24,x4e))("@animation",Fe(28,E4e,Rt(25,C4e,t.transformOptions,t.ddconfig.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)")))("pFocusTrapDisabled",t.ddconfig.focusTrap===!1),ae("aria-labelledby",t.ariaLabelledBy)("aria-modal",!0)("id",t.dialogId),v(2),C("ngIf",t.ddconfig.resizable),v(),C("ngIf",t.ddconfig.showHeader!==!1),v(),C("ngClass","p-dialog-content")("ngStyle",t.ddconfig.contentStyle),v(2),C("ngIf",!t.contentTemplate),v(),C("ngComponentOutlet",t.contentTemplate),v(),C("ngIf",t.ddconfig.footer||t.footerTemplate)}}var Dz=(()=>{class i{viewContainerRef;constructor(t){this.viewContainerRef=t}static \u0275fac=function(r){return new(r||i)(ne(Dl))};static \u0275dir=Ht({type:i,selectors:[["","pDynamicDialogContent",""]]})}return i})(),Iz=(()=>{class i extends tC{name="dialog";static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var ga=class{data;inputValues;header;ariaLabelledBy;footer;width;height;closeOnEscape=!1;focusOnShow=!0;focusTrap=!0;baseZIndex;autoZIndex=!1;dismissableMask=!1;rtl=!1;style;contentStyle;styleClass;transitionOptions;closable=!1;showHeader=!1;modal=!1;maskStyleClass;resizable=!1;draggable=!1;keepInViewport=!1;minX;minY;maximizable=!1;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate=!1;breakpoints;templates},vo=class{constructor(){}close(e){this._onClose.next(e),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(e){this._onDragStart.next(e)}dragEnd(e){this._onDragEnd.next(e)}resizeInit(e){this._onResizeInit.next(e)}resizeEnd(e){this._onResizeEnd.next(e)}maximize(e){this._onMaximize.next(e)}_onClose=new oi;onClose=this._onClose.asObservable();_onDestroy=new oi;onDestroy=this._onDestroy.asObservable();_onDragStart=new oi;onDragStart=this._onDragStart.asObservable();_onDragEnd=new oi;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new oi;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new oi;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new oi;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new oi},Z4e=za([ti({transform:"{{transform}}",opacity:0}),Si("{{transition}}",ti({transform:"none",opacity:1}))]),Q4e=za([Si("{{transition}}",ti({transform:"{{transform}}",opacity:0}))]),Y4e=(()=>{class i extends Je{renderer;ddconfig;dialogRef;zone;parentDialog;visible=!0;componentRef;mask;resizing;dragging;maximized;_style={};originalStyle;lastPageX;lastPageY;ariaLabelledBy;id=gt("pn_id_");styleElement;insertionPoint;maskViewChild;contentViewChild;footerViewChild;headerViewChild;childComponentType;inputValues;container;wrapper;documentKeydownListener;documentEscapeListener;maskClickListener;transformOptions="scale(0.7)";documentResizeListener;documentResizeEndListener;documentDragListener;documentDragEndListener;_componentStyle=se(Iz);get minX(){return this.ddconfig.minX?this.ddconfig.minX:0}get minY(){return this.ddconfig.minY?this.ddconfig.minY:0}get keepInViewport(){return this.ddconfig.keepInViewport}get maximizable(){return this.ddconfig.maximizable}get maximizeIcon(){return this.ddconfig.maximizeIcon}get minimizeIcon(){return this.ddconfig.minimizeIcon}get closable(){return this.ddconfig.closable}get style(){return this._style}get position(){return this.ddconfig.position}get defaultCloseAriaLabel(){return this.config.getTranslation(Ku.ARIA).close}set style(t){t&&(this._style=R({},t),this.originalStyle=t)}get parent(){let t=Array.from(this.document.getElementsByClassName("p-dialog"));if(t.length>1)return t.pop()}get parentContent(){let t=Array.from(this.document.getElementsByClassName("p-dialog"));if(t.length>0){let r=t[t.length-1].querySelector(".p-dialog-content");if(r)return Array.isArray(r)?r[0]:r}}get header(){return this.ddconfig.header}get data(){return this.ddconfig.data}get breakpoints(){return this.ddconfig.breakpoints}get footerTemplate(){return this.ddconfig?.templates?.footer}get headerTemplate(){return this.ddconfig?.templates?.header}get contentTemplate(){return this.ddconfig?.templates?.content}get minimizeIconTemplate(){return this.ddconfig?.templates?.minimizeicon}get maximizeIconTemplate(){return this.ddconfig?.templates?.maximizeicon}get closeIconTemplate(){return this.ddconfig?.templates?.closeicon}get maskClass(){let r=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(n=>n===this.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":this.ddconfig.modal||this.ddconfig.dismissableMask,[`p-dialog-${r}`]:r}}get dialogId(){return this.attrSelector}zIndexForLayering;constructor(t,r,n,o,s){super(),this.renderer=t,this.ddconfig=r,this.dialogRef=n,this.zone=o,this.parentDialog=s}ngOnInit(){super.ngOnInit(),this.breakpoints&&this.createStyle()}createStyle(){if(Lt(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints)t+=`
                        @media screen and (max-width: ${r}) {
                            .p-dialog[id=${this.dialogId}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[r]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t),Xo(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngAfterViewInit(){super.ngAfterViewInit(),this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){return this.header!==null?gt("pn_id_")+"_header":null}loadChildComponent(t){let r=this.insertionPoint?.viewContainerRef;r?.clear(),this.componentRef=r?.createComponent(t),this.inputValues&&Object.entries(this.inputValues).forEach(([n,o])=>{this.componentRef.setInput(n,o)}),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}moveOnTop(){this.ddconfig.autoZIndex!==!1?(li.set("modal",this.container,(this.ddconfig.baseZIndex||0)+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1)):this.zIndexForLayering=li.generateZIndex("modal",(this.ddconfig.baseZIndex||0)+this.config.zIndex.modal)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.parent&&this.unbindGlobalListeners(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.ddconfig.modal!==!1&&this.enableModality(),this.ddconfig.focusOnShow!==!1&&this.focus();break;case"void":this.wrapper&&this.ddconfig.modal!==!1&&zi(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(t){t.toState==="void"&&(this.parentContent&&this.focus(this.parentContent),this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&this.ddconfig.autoZIndex!==!1&&li.clear(this.container),this.zIndexForLayering&&li.revertZIndex(this.zIndexForLayering),this.ddconfig.modal!==!1&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){this.ddconfig.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.hide()})),this.ddconfig.modal!==!1&&zi(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.ddconfig.dismissableMask&&this.unbindMaskClickListener(),this.ddconfig.modal!==!1&&vr(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}focus(t=this.contentViewChild.nativeElement){let r=ac.getFocusableElement(t,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),5)});return}let n=ac.getFocusableElement(t);n?this.zone.runOutsideAngular(()=>{setTimeout(()=>n.focus(),5)}):this.footerViewChild?this.focus(this.footerViewChild.nativeElement):!n&&this.headerViewChild&&this.focus(this.headerViewChild.nativeElement)}maximize(){this.maximized=!this.maximized,this.maximized?zi(this.document.body,"p-overflow-hidden"):vr(this.document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(t){this.ddconfig.resizable&&(this.documentResizeListener||this.bindDocumentResizeListeners(),this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,zi(this.document.body,"p-unselectable-text"),this.dialogRef.resizeInit(t))}onResize(t){if(this.resizing){let r=t.pageX-this.lastPageX,n=t.pageY-this.lastPageY,o=tn(this.container),s=Or(this.container),a=Or(this.contentViewChild.nativeElement),l=o+r,d=s+n,f=this.container.style.minWidth,g=this.container.style.minHeight,w=this.container.getBoundingClientRect(),A=ha();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=r,d+=n),(!f||l>parseInt(f))&&w.left+l<A.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!g||d>parseInt(g))&&w.top+d<A.height&&(this.contentViewChild.nativeElement.style.height=a+d-s+"px",this._style.height&&(this._style.height=d+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,vr(this.document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(t))}initDrag(t){gn(t.target,"p-dialog-header-icon")||gn(t.target.parentElement,"p-dialog-header-icon")||this.ddconfig.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",zi(this.document.body,"p-unselectable-text"),this.dialogRef.dragStart(t))}onDrag(t){if(this.dragging){let r=tn(this.container),n=Or(this.container),o=t.pageX-this.lastPageX,s=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=a.left+o,d=a.top+s,f=ha();this.container.style.position="fixed",this.keepInViewport?(l>=this.minX&&l+r<f.width&&(this._style.left=l+"px",this.lastPageX=t.pageX,this.container.style.left=l+"px"),d>=this.minY&&d+n<f.height&&(this._style.top=d+"px",this.lastPageY=t.pageY,this.container.style.top=d+"px")):(this.lastPageX=t.pageX,this.container.style.left=l+"px",this.lastPageY=t.pageY,this.container.style.top=d+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,vr(this.document.body,"p-unselectable-text"),this.dialogRef.dragEnd(t),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){Lt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document,"mousemove",this.onDrag.bind(this))})}bindDocumentDragEndListener(){Lt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentResizeListeners(){Lt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.ddconfig.closeOnEscape!==!1&&this.bindDocumentEscapeListener(),this.ddconfig.resizable&&this.bindDocumentResizeListeners(),this.ddconfig.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentEscapeListener(){let t=this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",r=>{if(r.which==27){let n=li.getCurrent();(parseInt(this.container.style.zIndex)==n||this.zIndexForLayering==n)&&this.hide()}})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy(),this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||i)(ne(Po),ne(ga),ne(vo),ne(Bi),ne(i,12))};static \u0275cmp=oe({type:i,selectors:[["p-dynamicDialog"],["p-dynamicdialog"],["p-dynamic-dialog"]],viewQuery:function(r,n){if(r&1&&(Zt(Dz,5),Zt(m4e,5),Zt(g4e,5),Zt(y4e,5),Zt(b4e,5)),r&2){let o;be(o=_e())&&(n.insertionPoint=o.first),be(o=_e())&&(n.maskViewChild=o.first),be(o=_e())&&(n.contentViewChild=o.first),be(o=_e())&&(n.footerViewChild=o.first),be(o=_e())&&(n.headerViewChild=o.first)}},features:[He([Iz]),Se],decls:3,vars:9,consts:[["mask",""],["container",""],["content",""],["titlebar",""],["footer",""],[3,"ngStyle","ngClass"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","style","class","pFocusTrapDisabled","width","height",4,"ngIf"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],["style","z-index: 90;",3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],[4,"ngIf"],[4,"ngComponentOutlet"],[3,"ngClass",4,"ngIf"],[2,"z-index","90",3,"mousedown","ngClass"],[3,"mousedown","ngClass"],[3,"ngClass","id"],[3,"ngClass"],["rounded","","text","",3,"styleClass","tabindex","onClick","keydown.enter",4,"ngIf"],["rounded","","text","","severity","secondary",3,"styleClass","ariaLabel","onClick","keydown.enter",4,"ngIf"],["rounded","","text","",3,"onClick","keydown.enter","styleClass","tabindex"],[4,"ngTemplateOutlet"],["rounded","","text","","severity","secondary",3,"onClick","keydown.enter","styleClass","ariaLabel"],["pDynamicDialogContent",""]],template:function(r,n){r&1&&(E(0,"div",5,0),D(2,X4e,9,30,"div",6),T()),r&2&&(we(n.ddconfig.maskStyleClass),C("ngStyle",zs(5,_4e,n.position==="left"||n.position==="topleft"||n.position==="bottomleft"?"flex-start":n.position==="right"||n.position==="topright"||n.position==="bottomright"?"flex-end":"center",n.position==="top"||n.position==="topleft"||n.position==="topright"?"flex-start":n.position==="bottom"||n.position==="bottomleft"||n.position==="bottomright"?"flex-end":"center",n.ddconfig.modal?"auto":"none"))("ngClass",n.maskClass),v(2),C("ngIf",n.visible))},dependencies:[tt,Gt,D5,si,rt,Ii,yt,Dz,Mp,Vp,Bs,Os,dc],encapsulation:2,data:{animation:[Tr("animation",[Ci("void => visible",[Ka(Z4e)]),Ci("visible => void",[Ka(Q4e)])])]}})}return i})();var qI=class{_parentInjector;_additionalTokens;constructor(e,t){this._parentInjector=e,this._additionalTokens=t}get(e,t,r){let n=this._additionalTokens.get(e);return n||this._parentInjector.get(e,t)}},pc=(()=>{class i{appRef;injector;document;dialogComponentRefMap=new Map;constructor(t,r,n){this.appRef=t,this.injector=r,this.document=n}open(t,r){if(!this.duplicationPermission(t,r))return null;let n=this.appendDialogComponentToBody(r,t);return this.dialogComponentRefMap.get(n).instance.childComponentType=t,this.dialogComponentRefMap.get(n).instance.inputValues=r.inputValues,n}getInstance(t){return this.dialogComponentRefMap.get(t).instance}appendDialogComponentToBody(t,r){let n=new WeakMap;n.set(ga,t);let o=new vo;n.set(vo,o);let s=o.onClose.subscribe(()=>{this.dialogComponentRefMap.get(o).instance.close()}),a=o.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(o),a.unsubscribe(),s.unsubscribe()}),l=E5(Y4e,{environmentInjector:this.appRef.injector,elementInjector:new qI(this.injector,n)});this.appRef.attachView(l.hostView);let d=l.hostView.rootNodes[0];return!t.appendTo||t.appendTo==="body"?this.document.body.appendChild(d):go(t.appendTo,d),this.dialogComponentRefMap.set(o,l),o}removeDialogComponentFromBody(t){if(!t||!this.dialogComponentRefMap.has(t))return;let r=this.dialogComponentRefMap.get(t);this.appRef.detachView(r.hostView),r.destroy(),r.changeDetectorRef.detectChanges(),this.dialogComponentRefMap.delete(t)}duplicationPermission(t,r){if(r.duplicate)return!0;let n=!0;for(let[o,s]of this.dialogComponentRefMap)if(s.instance.childComponentType===t){n=!1;break}return n}static \u0275fac=function(r){return new(r||i)(Ke(xd),Ke(to),Ke(ci))};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var Pz=Dt(Pi());var Qo=class i{transform(e){return Pz.AppBskyEmbedImages.isView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedImagesView",type:i,pure:!0})};var Lz=Dt(Pi());var iC=class i{transform(e){return Lz.AppBskyFeedDefs.isReasonRepost(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFeedDefsReasonRepost",type:i,pure:!0})};var on=class i{transform(e){return e.displayName?.trim().length?e.displayName:`@${e.handle}`}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"displayName",type:i,pure:!0})};var Bz=Dt(Pi());var rC=class i{transform(e){return Bz.AppBskyFeedDefs.isPostView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFeedDefsPostView",type:i,pure:!0})};var zn=class i{transform(e,t){let r="https://bsky.app/profile/";if(e.includes("at://")&&(e=e.substring(5)),e.includes("/")){let n;t?n=t:n=e.substring(0,e.indexOf("/")),e=e.substring(e.indexOf("/")+1);let o=e.substring(0,e.indexOf("/"));switch(o){case"app.bsky.feed.post":o="post";break;case"app.bsky.feed.generator":o="feed";break;case"app.bsky.graph.list":o="lists";break}let s=e.substring(e.indexOf("/")+1);return r+n+"/"+o+"/"+s}else return r+e}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"linkExtractor",type:i,pure:!0})};var Np=class i{transform(e){return e>=1e5?(e/1e3).toFixed()+"K":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"numberFormatter",type:i,pure:!0})};var J4e=Math.pow(10,8)*24*60*60*1e3,_mt=-J4e;var $I=6e4;var zI=525600,KI=43200,HI=1440;var e5e=3600;var Mz=e5e*24,vmt=Mz*7,t5e=Mz*365.2425,i5e=t5e/12,xmt=i5e*3,GI=Symbol.for("constructDateFrom");function Fp(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&GI in i?i[GI](e):i instanceof Date?new i.constructor(e):new Date(e)}function j0(i,e){return Fp(e||i,i)}var r5e={};function Vz(){return r5e}function WI(i){let e=j0(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function Nz(i,...e){let t=Fp.bind(null,i||e.find(r=>typeof r=="object"));return e.map(t)}function Fz(i,e){let t=+j0(i)-+j0(e);return t<0?-1:t>0?1:t}function Uz(i){return Fp(i,Date.now())}function jz(i){return e=>{let r=(i?Math[i]:Math.trunc)(e);return r===0?0:r}}var n5e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qz=(i,e,t)=>{let r,n=n5e[i];return typeof n=="string"?r=n:e===1?r=n.one:r=n.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function nC(i){return(e={})=>{let t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}var o5e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s5e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a5e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$z={date:nC({formats:o5e,defaultWidth:"full"}),time:nC({formats:s5e,defaultWidth:"full"}),dateTime:nC({formats:a5e,defaultWidth:"full"})};var l5e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zz=(i,e,t,r)=>l5e[i];function Up(i){return(e,t)=>{let r=t?.context?String(t.context):"standalone",n;if(r==="formatting"&&i.formattingValues){let s=i.defaultFormattingWidth||i.defaultWidth,a=t?.width?String(t.width):s;n=i.formattingValues[a]||i.formattingValues[s]}else{let s=i.defaultWidth,a=t?.width?String(t.width):i.defaultWidth;n=i.values[a]||i.values[s]}let o=i.argumentCallback?i.argumentCallback(e):e;return n[o]}}var c5e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u5e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p5e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},f5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},h5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m5e=(i,e)=>{let t=Number(i),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Kz={ordinalNumber:m5e,era:Up({values:c5e,defaultWidth:"wide"}),quarter:Up({values:u5e,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Up({values:d5e,defaultWidth:"wide"}),day:Up({values:p5e,defaultWidth:"wide"}),dayPeriod:Up({values:f5e,defaultWidth:"wide",formattingValues:h5e,defaultFormattingWidth:"wide"})};function jp(i){return(e,t={})=>{let r=t.width,n=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],o=e.match(n);if(!o)return null;let s=o[0],a=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],l=Array.isArray(a)?y5e(a,g=>g.test(s)):g5e(a,g=>g.test(s)),d;d=i.valueCallback?i.valueCallback(l):l,d=t.valueCallback?t.valueCallback(d):d;let f=e.slice(s.length);return{value:d,rest:f}}}function g5e(i,e){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function y5e(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function Hz(i){return(e,t={})=>{let r=e.match(i.matchPattern);if(!r)return null;let n=r[0],o=e.match(i.parsePattern);if(!o)return null;let s=i.valueCallback?i.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;let a=e.slice(n.length);return{value:s,rest:a}}}var b5e=/^(\d+)(th|st|nd|rd)?/i,_5e=/\d+/i,v5e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x5e={any:[/^b/i,/^(a|c)/i]},C5e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E5e={any:[/1/i,/2/i,/3/i,/4/i]},T5e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},w5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},S5e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},A5e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R5e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k5e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gz={ordinalNumber:Hz({matchPattern:b5e,parsePattern:_5e,valueCallback:i=>parseInt(i,10)}),era:jp({matchPatterns:v5e,defaultMatchWidth:"wide",parsePatterns:x5e,defaultParseWidth:"any"}),quarter:jp({matchPatterns:C5e,defaultMatchWidth:"wide",parsePatterns:E5e,defaultParseWidth:"any",valueCallback:i=>i+1}),month:jp({matchPatterns:T5e,defaultMatchWidth:"wide",parsePatterns:w5e,defaultParseWidth:"any"}),day:jp({matchPatterns:S5e,defaultMatchWidth:"wide",parsePatterns:A5e,defaultParseWidth:"any"}),dayPeriod:jp({matchPatterns:R5e,defaultMatchWidth:"any",parsePatterns:k5e,defaultParseWidth:"any"})};var XI={code:"en-US",formatDistance:qz,formatLong:$z,formatRelative:zz,localize:Kz,match:Gz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wz(i,e,t){let r=Vz(),n=t?.locale??r.locale??XI,o=Fz(i,e);if(isNaN(o))throw new RangeError("Invalid time value");let s=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:o}),[a,l]=Nz(t?.in,...o>0?[e,i]:[i,e]),d=jz(t?.roundingMethod??"round"),f=l.getTime()-a.getTime(),g=f/$I,w=WI(l)-WI(a),A=(f-w)/$I,B=t?.unit,S;if(B?S=B:g<1?S="second":g<60?S="minute":g<HI?S="hour":A<KI?S="day":A<zI?S="month":S="year",S==="second"){let U=d(f/1e3);return n.formatDistance("xSeconds",U,s)}else if(S==="minute"){let U=d(g);return n.formatDistance("xMinutes",U,s)}else if(S==="hour"){let U=d(g/60);return n.formatDistance("xHours",U,s)}else if(S==="day"){let U=d(A/HI);return n.formatDistance("xDays",U,s)}else if(S==="month"){let U=d(A/KI);return U===12&&B!=="month"?n.formatDistance("xYears",1,s):n.formatDistance("xMonths",U,s)}else{let U=d(A/zI);return n.formatDistance("xYears",U,s)}}function Xz(i,e){return Wz(i,Uz(i),e)}var oC=class i{transform(e){return Xz(e,{locale:{formatDistance:(t,r)=>{switch(!0){case t==="xSeconds":return`${r}s`;case t==="xMinutes":return`${r}m`;case t==="xHours":return`${r}h`;case t==="xDays":return`${r}d`;case t==="xMonths":return`${r}mon`;case t==="xYears":return`${r}y`}return"%d hours"}}})}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"dateFormatter",type:i,pure:!0})};var Zz=Dt(Pi());var Yo=class i{transform(e){return Zz.AppBskyEmbedVideo.isView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedVideoView",type:i,pure:!0})};var Qz=Dt(Pi());var fc=class i{transform(e){return Qz.AppBskyEmbedRecord.isView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedRecordView",type:i,pure:!0})};var Yz=Dt(Pi());var hc=class i{transform(e){return Yz.AppBskyEmbedRecordWithMedia.isView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedRecordWithMediaView",type:i,pure:!0})};var Jz=Dt(Pi());var ya=class i{transform(e){return Jz.AppBskyEmbedExternal.isView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedExternalView",type:i,pure:!0})};var eK=Dt(Pi());var Jo=class i{transform(e){return eK.AppBskyFeedPost.isRecord(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFeedPostRecord",type:i,pure:!0})};var tK=Dt(Pi());var sC=class i{transform(e){return tK.AppBskyFeedDefs.isReasonPin(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFeedDefsReasonPin",type:i,pure:!0})};var iK=Dt(Pi());var qp=class i{transform(e){return iK.AppBskyFeedDefs.isNotFoundPost(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFeedDefsNotFoundPost",type:i,pure:!0})};var rK=Dt(Pi());var $p=class i{transform(e){return rK.AppBskyFeedDefs.isBlockedPost(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFeedDefsBlockedPost",type:i,pure:!0})};var aC=()=>({blur:!1}),ZI=(i,e)=>e.thumb;function D5e(i,e){if(i&1){let t=W();E(0,"img",4),V("click",function(n){P(t);let o=_();return L(o.imgClick(0,n))}),T()}if(i&2){let t=_();C("ngSrc",t.embed.images[0].thumb)("alt",t.embed.images[0].alt)("placeholderConfig",$e(3,aC))}}function I5e(i,e){if(i&1){let t=W();E(0,"img",6),V("click",function(n){let o=P(t).$index,s=_(2);return L(s.imgClick(o,n))}),T()}if(i&2){let t=e.$index,r=_(2);C("ngSrc",r.embed.images[t].thumb)("alt",r.embed.images[t].alt)("placeholderConfig",$e(3,aC))}}function P5e(i,e){if(i&1&&(E(0,"div",1),_i(1,I5e,1,4,"img",5,ZI),T()),i&2){let t=_();v(),vi(t.embed.images)}}function L5e(i,e){if(i&1){let t=W();E(0,"img",8),V("click",function(n){let o=P(t).$index,s=_(2);return L(s.imgClick(o,n))}),T()}if(i&2){let t=e.$index,r=_(2);C("ngSrc",r.embed.images[t].thumb)("alt",r.embed.images[t].alt)("placeholderConfig",$e(3,aC))}}function B5e(i,e){if(i&1&&(E(0,"div",2),_i(1,L5e,1,4,"img",7,ZI),T()),i&2){let t=_();v(),vi(t.embed.images)}}function O5e(i,e){if(i&1){let t=W();E(0,"img",6),V("click",function(n){let o=P(t).$index,s=_(2);return L(s.imgClick(o,n))}),T()}if(i&2){let t=e.$index,r=_(2);C("ngSrc",r.embed.images[t].thumb)("alt",r.embed.images[t].alt)("placeholderConfig",$e(3,aC))}}function M5e(i,e){if(i&1&&(E(0,"div",3),_i(1,O5e,1,4,"img",5,ZI),T()),i&2){let t=_();v(),vi(t.embed.images)}}var ba=class i{embed;onImgClick=new Me;imgClick(e,t){this.onImgClick.emit(e),t.stopPropagation()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["post-embed-images"]],inputs:{embed:"embed"},outputs:{onImgClick:"onImgClick"},decls:4,vars:1,consts:[["width","1000","height","1000","placeholder","default_image.jpg",1,"min-w-full","min-h-full","max-h-full","w-auto","h-auto","object-cover","pointer","rounded-md","overflow-hidden",3,"ngSrc","alt","placeholderConfig"],[1,"grid","grid-cols-[repeat(2,_1fr)]","grid-rows-[repeat(1,_1fr)]","gap-2","aspect-video","rounded-md","overflow-hidden"],[1,"grid","grid-cols-[repeat(2,_1fr)]","grid-rows-[repeat(2,_1fr)]","gap-2","aspect-video","rounded-md","overflow-hidden"],[1,"grid","grid-cols-[repeat(2,_1fr)]","grid-rows-[repeat(2,_1fr)]","gap-2","aspect-[4/3]","rounded-md","overflow-hidden"],["width","1000","height","1000","placeholder","default_image.jpg",1,"min-w-full","min-h-full","max-h-full","w-auto","h-auto","object-cover","pointer","rounded-md","overflow-hidden",3,"click","ngSrc","alt","placeholderConfig"],["width","1000","height","1000","placeholder","default_image.jpg",1,"min-w-full","min-h-full","max-h-full","w-auto","h-auto","object-cover","pointer",3,"ngSrc","alt","placeholderConfig"],["width","1000","height","1000","placeholder","default_image.jpg",1,"min-w-full","min-h-full","max-h-full","w-auto","h-auto","object-cover","pointer",3,"click","ngSrc","alt","placeholderConfig"],["width","1000","height","1000","placeholder","default_image.jpg",1,"min-w-full","min-h-full","max-h-full","w-auto","h-auto","object-cover","pointer","first:row-span-2","last:col-start-2","overflow-hidden",3,"ngSrc","alt","placeholderConfig"],["width","1000","height","1000","placeholder","default_image.jpg",1,"min-w-full","min-h-full","max-h-full","w-auto","h-auto","object-cover","pointer","first:row-span-2","last:col-start-2","overflow-hidden",3,"click","ngSrc","alt","placeholderConfig"]],template:function(t,r){if(t&1&&D(0,D5e,1,4,"img",0)(1,P5e,3,0,"div",1)(2,B5e,3,0,"div",2)(3,M5e,3,0,"div",3),t&2){let n;ie((n=r.embed.images.length)===1?0:n===2?1:n===3?2:n===4?3:-1)}},dependencies:[Td],encapsulation:2,changeDetection:0})};var H=Dt(_a()),Ae=Dt(sP()),p3=Dt($K()),mL=Dt(rH());function ir(){return ir=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},ir.apply(null,arguments)}var Hp=Dt(_a()),nH="https://example.com",GBe=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=Hp.default.location&&Hp.default.location.href||"");var r=/^\/\//.test(e),n=!Hp.default.location&&!/\/\//i.test(e);e=new Hp.default.URL(e,Hp.default.location||nH);var o=new URL(t,e);return n?o.href.slice(nH.length):r?o.href.slice(o.protocol.length):o.href},Gp=GBe;var dC=function(){function i(){this.listeners={}}var e=i.prototype;return e.on=function(r,n){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(n)},e.off=function(r,n){if(!this.listeners[r])return!1;var o=this.listeners[r].indexOf(n);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(o,1),o>-1},e.trigger=function(r){var n=this.listeners[r];if(n)if(arguments.length===2)for(var o=n.length,s=0;s<o;++s)n[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=n.length,d=0;d<l;++d)n[d].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(n){r.push(n)})},i}();var hP=Dt(_a()),WBe=function(e){return hP.default.atob?hP.default.atob(e):Buffer.from(e,"base64").toString("binary")};function W0(i){for(var e=WBe(i),t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}var yP=class extends dC{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf(`
`);t>-1;t=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}},XBe="	",mP=function(i){let e=/([0-9.]*)?@?([0-9.]*)?/.exec(i||""),t={};return e[1]&&(t.length=parseInt(e[1],10)),e[2]&&(t.offset=parseInt(e[2],10)),t},ZBe=function(){let t="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+t+")")},bn=function(i){let e={};if(!i)return e;let t=i.split(ZBe()),r=t.length,n;for(;r--;)t[r]!==""&&(n=/([^=]*)=(.*)/.exec(t[r]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),e[n[0]]=n[1]);return e},oH=i=>{let e=i.split("x"),t={};return e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),t},bP=class extends dC{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((o,s)=>{let a=s(e);return a===e?o:o.concat([a])},[e]).forEach(o=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,o))return;if(o.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:o.slice(1)});return}if(o=o.replace("\r",""),t=/^#EXTM3U/.exec(o),t){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(o),t){r={type:"tag",tagType:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),this.trigger("data",r);return}if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(o),t){r={type:"tag",tagType:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),this.trigger("data",r);return}if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(o),t){r={type:"tag",tagType:"version"},t[1]&&(r.version=parseInt(t[1],10)),this.trigger("data",r);return}if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(o),t){r={type:"tag",tagType:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),this.trigger("data",r);return}if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(o),t){r={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),this.trigger("data",r);return}if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(o),t){r={type:"tag",tagType:"playlist-type"},t[1]&&(r.playlistType=t[1]),this.trigger("data",r);return}if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(o),t){r=ir(mP(t[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(o),t){r={type:"tag",tagType:"allow-cache"},t[1]&&(r.allowed=!/NO/.test(t[1])),this.trigger("data",r);return}if(t=/^#EXT-X-MAP:(.*)$/.exec(o),t){if(r={type:"tag",tagType:"map"},t[1]){let s=bn(t[1]);s.URI&&(r.uri=s.URI),s.BYTERANGE&&(r.byterange=mP(s.BYTERANGE))}this.trigger("data",r);return}if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(o),t){r={type:"tag",tagType:"stream-inf"},t[1]&&(r.attributes=bn(t[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=oH(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(t=/^#EXT-X-MEDIA:(.*)$/.exec(o),t){r={type:"tag",tagType:"media"},t[1]&&(r.attributes=bn(t[1])),this.trigger("data",r);return}if(t=/^#EXT-X-ENDLIST/.exec(o),t){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(t=/^#EXT-X-DISCONTINUITY/.exec(o),t){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(o),t){r={type:"tag",tagType:"program-date-time"},t[1]&&(r.dateTimeString=t[1],r.dateTimeObject=new Date(t[1])),this.trigger("data",r);return}if(t=/^#EXT-X-KEY:(.*)$/.exec(o),t){r={type:"tag",tagType:"key"},t[1]&&(r.attributes=bn(t[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(t=/^#EXT-X-START:(.*)$/.exec(o),t){r={type:"tag",tagType:"start"},t[1]&&(r.attributes=bn(t[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(o),t){r={type:"tag",tagType:"cue-out-cont"},t[1]?r.data=t[1]:r.data="",this.trigger("data",r);return}if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(o),t){r={type:"tag",tagType:"cue-out"},t[1]?r.data=t[1]:r.data="",this.trigger("data",r);return}if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(o),t){r={type:"tag",tagType:"cue-in"},t[1]?r.data=t[1]:r.data="",this.trigger("data",r);return}if(t=/^#EXT-X-SKIP:(.*)$/.exec(o),t&&t[1]){r={type:"tag",tagType:"skip"},r.attributes=bn(t[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(XBe)),this.trigger("data",r);return}if(t=/^#EXT-X-PART:(.*)$/.exec(o),t&&t[1]){r={type:"tag",tagType:"part"},r.attributes=bn(t[1]),["DURATION"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=mP(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o),t&&t[1]){r={type:"tag",tagType:"server-control"},r.attributes=bn(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),this.trigger("data",r);return}if(t=/^#EXT-X-PART-INF:(.*)$/.exec(o),t&&t[1]){r={type:"tag",tagType:"part-inf"},r.attributes=bn(t[1]),["PART-TARGET"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),this.trigger("data",r);return}if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o),t&&t[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=bn(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(r.attributes.hasOwnProperty(s)){r.attributes[s]=parseInt(r.attributes[s],10);let a=s==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[a]=r.attributes[s],delete r.attributes[s]}}),this.trigger("data",r);return}if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o),t&&t[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=bn(t[1]),["LAST-MSN","LAST-PART"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseInt(r.attributes[s],10))}),this.trigger("data",r);return}if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(o),t&&t[1]){r={type:"tag",tagType:"daterange"},r.attributes=bn(t[1]),["ID","CLASS"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=String(r.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=new Date(r.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/i.test(r.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=r.attributes[a].toString(16))});let s=/^X-([A-Z]+-)+[A-Z]+$/;for(let a in r.attributes){if(!s.test(a))continue;let l=/[0-9A-Fa-f]{6}/g.test(r.attributes[a]),d=/^\d+(\.\d+)?$/.test(r.attributes[a]);r.attributes[a]=l?r.attributes[a].toString(16):d?parseFloat(r.attributes[a]):String(r.attributes[a])}this.trigger("data",r);return}if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(o),t){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(t=/^#EXT-X-I-FRAMES-ONLY/.exec(o),t){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(o),t){r={type:"tag",tagType:"content-steering"},r.attributes=bn(t[1]),this.trigger("data",r);return}if(t=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(o),t){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=bn(t[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=oH(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(t=/^#EXT-X-DEFINE:(.*)$/.exec(o),t){r={type:"tag",tagType:"define"},r.attributes=bn(t[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:o.slice(4)})})}addParser({expression:e,customType:t,dataParser:r,segment:n}){typeof r!="function"&&(r=o=>o),this.customParsers.push(o=>{if(e.exec(o))return this.trigger("data",{type:"custom",data:r(o),customType:t,segment:n}),!0})}addTagMapper({expression:e,map:t}){let r=n=>e.test(n)?t(n):n;this.tagMappers.push(r)}},QBe=i=>i.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),gc=function(i){let e={};return Object.keys(i).forEach(function(t){e[QBe(t)]=i[t]}),e},gP=function(i){let{serverControl:e,targetDuration:t,partTargetDuration:r}=i;if(!e)return;let n="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=t&&t*3,l=r&&r*2;t&&!e.hasOwnProperty(o)&&(e[o]=a,this.trigger("info",{message:`${n} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[o]<a&&(this.trigger("warn",{message:`${n} clamping HOLD-BACK (${e[o]}) to targetDuration * 3 (${a})`}),e[o]=a),r&&!e.hasOwnProperty(s)&&(e[s]=r*3,this.trigger("info",{message:`${n} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[s]}).`})),r&&e[s]<l&&(this.trigger("warn",{message:`${n} clamping PART-HOLD-BACK (${e[s]}) to partTargetDuration * 2 (${l}).`}),e[s]=l)},pC=class extends dC{constructor(e={}){super(),this.lineStream=new yP,this.parseStream=new bP,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;let t=this,r=[],n={},o,s,a=!1,l=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",g=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let w=0,A=0,B={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&o&&(n.map=o),!n.key&&s&&(n.key=s),!n.timeline&&typeof g=="number"&&(n.timeline=g),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(S){let U,q;if(t.manifest.definitions){for(let G in t.manifest.definitions)if(S.uri&&(S.uri=S.uri.replace(`{$${G}}`,t.manifest.definitions[G])),S.attributes)for(let K in S.attributes)typeof S.attributes[K]=="string"&&(S.attributes[K]=S.attributes[K].replace(`{$${G}}`,t.manifest.definitions[G]))}({tag(){({version(){S.version&&(this.manifest.version=S.version)},"allow-cache"(){this.manifest.allowCache=S.allowed,"allowed"in S||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){let G={};"length"in S&&(n.byterange=G,G.length=S.length,"offset"in S||(S.offset=w)),"offset"in S&&(n.byterange=G,G.offset=S.offset),w=G.offset+G.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),S.title&&(n.title=S.title),S.duration>0&&(n.duration=S.duration),S.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!S.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(S.attributes.METHOD==="NONE"){s=null;return}if(!S.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(S.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:S.attributes};return}if(S.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:S.attributes.URI};return}if(S.attributes.KEYFORMAT===f){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(S.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(S.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),S.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(S.attributes.KEYID&&S.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:S.attributes.KEYFORMAT,keyId:S.attributes.KEYID.substring(2)},pssh:W0(S.attributes.URI.split(",")[1])};return}S.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:S.attributes.METHOD||"AES-128",uri:S.attributes.URI},typeof S.attributes.IV<"u"&&(s.iv=S.attributes.IV)},"media-sequence"(){if(!isFinite(S.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+S.number});return}this.manifest.mediaSequence=S.number},"discontinuity-sequence"(){if(!isFinite(S.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+S.number});return}this.manifest.discontinuitySequence=S.number,g=S.number},"playlist-type"(){if(!/VOD|EVENT/.test(S.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+S.playlist});return}this.manifest.playlistType=S.playlistType},map(){o={},S.uri&&(o.uri=S.uri),S.byterange&&(o.byterange=S.byterange),s&&(o.key=s)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||d,!S.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),ir(n.attributes,S.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(S.attributes&&S.attributes.TYPE&&S.attributes["GROUP-ID"]&&S.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}let G=this.manifest.mediaGroups[S.attributes.TYPE];G[S.attributes["GROUP-ID"]]=G[S.attributes["GROUP-ID"]]||{},U=G[S.attributes["GROUP-ID"]],q={default:/yes/i.test(S.attributes.DEFAULT)},q.default?q.autoselect=!0:q.autoselect=/yes/i.test(S.attributes.AUTOSELECT),S.attributes.LANGUAGE&&(q.language=S.attributes.LANGUAGE),S.attributes.URI&&(q.uri=S.attributes.URI),S.attributes["INSTREAM-ID"]&&(q.instreamId=S.attributes["INSTREAM-ID"]),S.attributes.CHARACTERISTICS&&(q.characteristics=S.attributes.CHARACTERISTICS),S.attributes.FORCED&&(q.forced=/yes/i.test(S.attributes.FORCED)),U[S.attributes.NAME]=q},discontinuity(){g+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=S.dateTimeString,this.manifest.dateTimeObject=S.dateTimeObject),n.dateTimeString=S.dateTimeString,n.dateTimeObject=S.dateTimeObject;let{lastProgramDateTime:G}=this;this.lastProgramDateTime=new Date(S.dateTimeString).getTime(),G===null&&this.manifest.segments.reduceRight((K,Z)=>(Z.programDateTime=K-Z.duration*1e3,Z.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(S.duration)||S.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+S.duration});return}this.manifest.targetDuration=S.duration,gP.call(this,this.manifest)},start(){if(!S.attributes||isNaN(S.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:S.attributes["TIME-OFFSET"],precise:S.attributes.PRECISE}},"cue-out"(){n.cueOut=S.data},"cue-out-cont"(){n.cueOutCont=S.data},"cue-in"(){n.cueIn=S.data},skip(){this.manifest.skip=gc(S.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",S.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;let G=this.manifest.segments.length,K=gc(S.attributes);n.parts=n.parts||[],n.parts.push(K),K.byterange&&(K.byterange.hasOwnProperty("offset")||(K.byterange.offset=A),A=K.byterange.offset+K.byterange.length);let Z=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${Z} for segment #${G}`,S.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((re,ge)=>{re.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${ge} lacks required attribute(s): LAST-PART`})})},"server-control"(){let G=this.manifest.serverControl=gc(S.attributes);G.hasOwnProperty("canBlockReload")||(G.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),gP.call(this,this.manifest),G.canSkipDateranges&&!G.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){let G=this.manifest.segments.length,K=gc(S.attributes),Z=K.type&&K.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(K),K.byterange&&(K.byterange.hasOwnProperty("offset")||(K.byterange.offset=Z?A:0,Z&&(A=K.byterange.offset+K.byterange.length)));let re=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${re} for segment #${G}`,S.attributes,["TYPE","URI"]),!!K.type)for(let ge=0;ge<n.preloadHints.length-1;ge++){let ce=n.preloadHints[ge];ce.type&&ce.type===K.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${re} for segment #${G} has the same TYPE ${K.type} as preload hint #${ge}`})}},"rendition-report"(){let G=gc(S.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(G);let K=this.manifest.renditionReports.length-1,Z=["LAST-MSN","URI"];a&&Z.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${K}`,S.attributes,Z)},"part-inf"(){this.manifest.partInf=gc(S.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",S.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),gP.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(gc(S.attributes));let G=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${G}`,S.attributes,["ID","START-DATE"]);let K=this.manifest.dateRanges[G];K.endDate&&K.startDate&&new Date(K.endDate)<new Date(K.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),K.duration&&K.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),K.plannedDuration&&K.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});let Z=!!K.endOnNext;if(Z&&!K.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),Z&&(K.duration||K.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),K.duration&&K.endDate){let ge=K.startDate.getTime()+K.duration*1e3;this.manifest.dateRanges[G].endDate=new Date(ge)}if(!B[K.id])B[K.id]=K;else{for(let ge in B[K.id])if(K[ge]&&JSON.stringify(B[K.id][ge])!==JSON.stringify(K[ge])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}let re=this.manifest.dateRanges.findIndex(ge=>ge.id===K.id);this.manifest.dateRanges[re]=ir(this.manifest.dateRanges[re],K),B[K.id]=ir(B[K.id],K),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=gc(S.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",S.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};let G=(K,Z)=>{if(K in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${K}`});return}this.manifest.definitions[K]=Z};if("QUERYPARAM"in S.attributes){if("NAME"in S.attributes||"IMPORT"in S.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}let K=this.params.get(S.attributes.QUERYPARAM);if(!K){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${S.attributes.QUERYPARAM}`});return}G(S.attributes.QUERYPARAM,decodeURIComponent(K));return}if("NAME"in S.attributes){if("IMPORT"in S.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in S.attributes)||typeof S.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${S.attributes.NAME}`});return}G(S.attributes.NAME,S.attributes.VALUE);return}if("IMPORT"in S.attributes){if(!this.mainDefinitions[S.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${S.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}G(S.attributes.IMPORT,this.mainDefinitions[S.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:S.attributes,uri:S.uri,timeline:g}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",S.attributes,["BANDWIDTH","URI"])}}[S.tagType]||l).call(t)},uri(){n.uri=S.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),s&&(n.key=s),n.timeline=g,o&&(n.map=o),A=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){S.segment?(n.custom=n.custom||{},n.custom[S.customType]=S.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[S.customType]=S.data)}})[S.type].call(t)})}requiredCompatibilityversion(e,t){(e<t||!e)&&this.trigger("warn",{message:`manifest must be at least version ${t}`})}warnOnMissingAttributes_(e,t,r){let n=[];r.forEach(function(o){t.hasOwnProperty(o)||n.push(o)}),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}};var Gu=Dt(_a()),Wu={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},YBe=["video","audio","text"],sH=["Video","Audio","Text"],_P=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(t,r,n){var o=("00"+Number(r).toString(16)).slice(-2),s=("00"+Number(n).toString(16)).slice(-2);return"avc1."+o+"00"+s})};var Ms=function(e){e===void 0&&(e="");var t=e.split(","),r=[];return t.forEach(function(n){n=n.trim();var o;YBe.forEach(function(s){var a=Wu[s].exec(n.toLowerCase());if(!(!a||a.length<=1)){o=s;var l=n.substring(0,a[1].length),d=n.replace(l,"");r.push({type:l,details:d,mediaType:s})}}),o||r.push({type:n,details:"",mediaType:"unknown"})}),r},aH=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var r=e.mediaGroups.AUDIO[t];if(!r)return null;for(var n in r){var o=r[n];if(o.default&&o.playlists)return Ms(o.playlists[0].attributes.CODECS)}return null};var vP=function(e){return e===void 0&&(e=""),Wu.audio.test(e.trim().toLowerCase())},JBe=function(e){return e===void 0&&(e=""),Wu.text.test(e.trim().toLowerCase())},Xu=function(e){if(!(!e||typeof e!="string")){var t=e.toLowerCase().split(",").map(function(o){return _P(o.trim())}),r="video";t.length===1&&vP(t[0])?r="audio":t.length===1&&JBe(t[0])&&(r="application");var n="mp4";return t.every(function(o){return Wu.mp4.test(o)})?n="mp4":t.every(function(o){return Wu.webm.test(o)})?n="webm":t.every(function(o){return Wu.ogg.test(o)})&&(n="ogg"),r+"/"+n+';codecs="'+e+'"'}},Wp=function(e,t){return e===void 0&&(e=""),t===void 0&&(t=!1),Gu.default.MediaSource&&Gu.default.MediaSource.isTypeSupported&&Gu.default.MediaSource.isTypeSupported(Xu(e))||t&&Gu.default.ManagedMediaSource&&Gu.default.ManagedMediaSource.isTypeSupported&&Gu.default.ManagedMediaSource.isTypeSupported(Xu(e))||!1},fC=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(t){t=t.trim();for(var r=0;r<sH.length;r++){var n=sH[r];if(Wu["muxer"+n].test(t))return!0}return!1})},xP="mp4a.40.2",lH="avc1.4d400d";var eOe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,tOe=/^application\/dash\+xml/i,CP=function(e){return eOe.test(e)?"hls":tOe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null};var cH=Dt(_a());var iOe=function(e){return e.toString(2).length},rOe=function(e){return Math.ceil(iOe(e)/8)};var TP=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},nOe=function(e){return TP(e)},Ge=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!nOe(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))};var Wr=cH.default.BigInt||Number,EP=[Wr("0x1"),Wr("0x100"),Wr("0x10000"),Wr("0x1000000"),Wr("0x100000000"),Wr("0x10000000000"),Wr("0x1000000000000"),Wr("0x100000000000000"),Wr("0x10000000000000000")],pgt=function(){var i=new Uint16Array([65484]),e=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"}();var wP=function(e,t){var r=t===void 0?{}:t,n=r.signed,o=n===void 0?!1:n,s=r.le,a=s===void 0?!1:s;e=Ge(e);var l=a?"reduce":"reduceRight",d=e[l]?e[l]:Array.prototype[l],f=d.call(e,function(w,A,B){var S=a?B:Math.abs(B+1-e.length);return w+Wr(A)*EP[S]},Wr(0));if(o){var g=EP[e.length]/Wr(2)-Wr(1);f=Wr(f),f>g&&(f-=g,f-=g,f-=Wr(2))}return Number(f)},uH=function(e,t){var r=t===void 0?{}:t,n=r.le,o=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Wr(e);for(var s=rOe(e),a=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var d=o?l:Math.abs(l+1-a.length);a[d]=Number(e/EP[l]&Wr(255)),e<0&&(a[d]=Math.abs(~a[d]),a[d]-=l===0?1:2)}return a},SP=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,Ge(e));try{return decodeURIComponent(escape(t))}catch{}return t},hC=function(e,t){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},dH=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t=t.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),t.length<=1)return Ge(t[0]);var n=t.reduce(function(a,l,d){return a+(l.byteLength||l.length)},0),o=new Uint8Array(n),s=0;return t.forEach(function(a){a=Ge(a),o.set(a,s),s+=a.byteLength}),o},Ei=function(e,t,r){var n=r===void 0?{}:r,o=n.offset,s=o===void 0?0:o,a=n.mask,l=a===void 0?[]:a;e=Ge(e),t=Ge(t);var d=t.every?t.every:Array.prototype.every;return t.length&&e.length-s>=t.length&&d.call(t,function(f,g){var w=l[g]?l[g]&e[s+g]:e[s+g];return f===w})};var _n=Dt(_a());var pH=function(e,t,r){t.forEach(function(n){for(var o in e.mediaGroups[n])for(var s in e.mediaGroups[n][o]){var a=e.mediaGroups[n][o][s];r(a,n,o,s)}})};var hG=Dt(sG());var aG=i=>!!i&&typeof i=="object",Vr=(...i)=>i.reduce((e,t)=>(typeof t!="object"||Object.keys(t).forEach(r=>{Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=e[r].concat(t[r]):aG(e[r])&&aG(t[r])?e[r]=Vr(e[r],t[r]):e[r]=t[r]}),e),{}),mG=i=>Object.keys(i).map(e=>i[e]),LOe=(i,e)=>{let t=[];for(let r=i;r<e;r++)t.push(r);return t},sf=i=>i.reduce((e,t)=>e.concat(t),[]),gG=i=>{if(!i.length)return[];let e=[];for(let t=0;t<i.length;t++)e.push(i[t]);return e},BOe=(i,e)=>i.reduce((t,r,n)=>(r[e]&&t.push(n),t),[]),OOe=(i,e)=>mG(i.reduce((t,r)=>(r.forEach(n=>{t[e(n)]=n}),t),{})),af={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},ag=({baseUrl:i="",source:e="",range:t="",indexRange:r=""})=>{let n={uri:e,resolvedUri:Gp(i||"",e)};if(t||r){let s=(t||r).split("-"),a=_n.default.BigInt?_n.default.BigInt(s[0]):parseInt(s[0],10),l=_n.default.BigInt?_n.default.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let d;typeof l=="bigint"||typeof a=="bigint"?d=_n.default.BigInt(l)-_n.default.BigInt(a)+_n.default.BigInt(1):d=l-a+1,typeof d=="bigint"&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),n.byterange={length:d,offset:a}}return n},MOe=i=>{let e;return typeof i.offset=="bigint"||typeof i.length=="bigint"?e=_n.default.BigInt(i.offset)+_n.default.BigInt(i.length)-_n.default.BigInt(1):e=i.offset+i.length-1,`${i.offset}-${e}`},lG=i=>(i&&typeof i!="number"&&(i=parseInt(i,10)),isNaN(i)?null:i),VOe={static(i){let{duration:e,timescale:t=1,sourceDuration:r,periodDuration:n}=i,o=lG(i.endNumber),s=e/t;return typeof o=="number"?{start:0,end:o}:typeof n=="number"?{start:0,end:n/s}:{start:0,end:r/s}},dynamic(i){let{NOW:e,clientOffset:t,availabilityStartTime:r,timescale:n=1,duration:o,periodStart:s=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=i,d=lG(i.endNumber),f=(e+t)/1e3,g=r+s,A=f+a-g,B=Math.ceil(A*n/o),S=Math.floor((f-g-l)*n/o),U=Math.floor((f-g)*n/o);return{start:Math.max(0,S),end:typeof d=="number"?d:Math.min(B,U)}}},NOe=i=>e=>{let{duration:t,timescale:r=1,periodStart:n,startNumber:o=1}=i;return{number:o+e,duration:t/r,timeline:n,time:e*t}},$P=i=>{let{type:e,duration:t,timescale:r=1,periodDuration:n,sourceDuration:o}=i,{start:s,end:a}=VOe[e](i),l=LOe(s,a).map(NOe(i));if(e==="static"){let d=l.length-1,f=typeof n=="number"?n:o;l[d].duration=f-t/r*d}return l},yG=i=>{let{baseUrl:e,initialization:t={},sourceDuration:r,indexRange:n="",periodStart:o,presentationTime:s,number:a=0,duration:l}=i;if(!e)throw new Error(af.NO_BASE_URL);let d=ag({baseUrl:e,source:t.sourceURL,range:t.range}),f=ag({baseUrl:e,source:e,indexRange:n});if(f.map=d,l){let g=$P(i);g.length&&(f.duration=g[0].duration,f.timeline=g[0].timeline)}else r&&(f.duration=r,f.timeline=o);return f.presentationTime=s||o,f.number=a,[f]},wC=(i,e,t)=>{let r=i.sidx.map?i.sidx.map:null,n=i.sidx.duration,o=i.timeline||0,s=i.sidx.byterange,a=s.offset+s.length,l=e.timescale,d=e.references.filter(U=>U.referenceType!==1),f=[],g=i.endList?"static":"dynamic",w=i.sidx.timeline,A=w,B=i.mediaSequence||0,S;typeof e.firstOffset=="bigint"?S=_n.default.BigInt(a)+e.firstOffset:S=a+e.firstOffset;for(let U=0;U<d.length;U++){let q=e.references[U],G=q.referencedSize,K=q.subsegmentDuration,Z;typeof S=="bigint"?Z=S+_n.default.BigInt(G)-_n.default.BigInt(1):Z=S+G-1;let re=`${S}-${Z}`,ce=yG({baseUrl:t,timescale:l,timeline:o,periodStart:w,presentationTime:A,number:B,duration:K,sourceDuration:n,indexRange:re,type:g})[0];r&&(ce.map=r),f.push(ce),typeof S=="bigint"?S+=_n.default.BigInt(G):S+=G,A+=K/l,B++}return i.segments=f,i},FOe=["AUDIO","SUBTITLES"],UOe=1/60,bG=i=>OOe(i,({timeline:e})=>e).sort((e,t)=>e.timeline>t.timeline?1:-1),jOe=(i,e)=>{for(let t=0;t<i.length;t++)if(i[t].attributes.NAME===e)return i[t];return null},cG=i=>{let e=[];return pH(i,FOe,(t,r,n,o)=>{e=e.concat(t.playlists||[])}),e},uG=({playlist:i,mediaSequence:e})=>{i.mediaSequence=e,i.segments.forEach((t,r)=>{t.number=i.mediaSequence+r})},qOe=({oldPlaylists:i,newPlaylists:e,timelineStarts:t})=>{e.forEach(r=>{r.discontinuitySequence=t.findIndex(function({timeline:l}){return l===r.timeline});let n=jOe(i,r.attributes.NAME);if(!n||r.sidx)return;let o=r.segments[0],s=n.segments.findIndex(function(l){return Math.abs(l.presentationTime-o.presentationTime)<UOe});if(s===-1){uG({playlist:r,mediaSequence:n.mediaSequence+n.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!n.segments.length&&r.timeline>n.timeline||n.segments.length&&r.timeline>n.segments[n.segments.length-1].timeline)&&r.discontinuitySequence--;return}n.segments[s].discontinuity&&!o.discontinuity&&(o.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),uG({playlist:r,mediaSequence:n.segments[s].number})})},$Oe=({oldManifest:i,newManifest:e})=>{let t=i.playlists.concat(cG(i)),r=e.playlists.concat(cG(e));return e.timelineStarts=bG([i.timelineStarts,e.timelineStarts]),qOe({oldPlaylists:t,newPlaylists:r,timelineStarts:e.timelineStarts}),e},lg=i=>i&&i.uri+"-"+MOe(i.byterange),qP=i=>{let e=i.reduce(function(r,n){return r[n.attributes.baseUrl]||(r[n.attributes.baseUrl]=[]),r[n.attributes.baseUrl].push(n),r},{}),t=[];return Object.values(e).forEach(r=>{let n=mG(r.reduce((o,s)=>{let a=s.attributes.id+(s.attributes.lang||"");return o[a]?(s.segments&&(s.segments[0]&&(s.segments[0].discontinuity=!0),o[a].segments.push(...s.segments)),s.attributes.contentProtection&&(o[a].attributes.contentProtection=s.attributes.contentProtection)):(o[a]=s,o[a].attributes.timelineStarts=[]),o[a].attributes.timelineStarts.push({start:s.attributes.periodStart,timeline:s.attributes.periodStart}),o},{}));t=t.concat(n)}),t.map(r=>(r.discontinuityStarts=BOe(r.segments||[],"discontinuity"),r))},zP=(i,e)=>{let t=lg(i.sidx),r=t&&e[t]&&e[t].sidx;return r&&wC(i,r,i.sidx.resolvedUri),i},zOe=(i,e={})=>{if(!Object.keys(e).length)return i;for(let t in i)i[t]=zP(i[t],e);return i},KOe=({attributes:i,segments:e,sidx:t,mediaSequence:r,discontinuitySequence:n,discontinuityStarts:o},s)=>{let a={attributes:{NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs,"PROGRAM-ID":1},uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,discontinuitySequence:n,discontinuityStarts:o,timelineStarts:i.timelineStarts,mediaSequence:r,segments:e};return i.contentProtection&&(a.contentProtection=i.contentProtection),i.serviceLocation&&(a.attributes.serviceLocation=i.serviceLocation),t&&(a.sidx=t),s&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},HOe=({attributes:i,segments:e,mediaSequence:t,discontinuityStarts:r,discontinuitySequence:n})=>{typeof e>"u"&&(e=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);let o={NAME:i.id,BANDWIDTH:i.bandwidth,"PROGRAM-ID":1};i.codecs&&(o.CODECS=i.codecs);let s={attributes:o,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:r,discontinuitySequence:n,mediaSequence:t,segments:e};return i.serviceLocation&&(s.attributes.serviceLocation=i.serviceLocation),s},GOe=(i,e={},t=!1)=>{let r,n=i.reduce((o,s)=>{let a=s.attributes.role&&s.attributes.role.value||"",l=s.attributes.lang||"",d=s.attributes.label||"main";if(l&&!s.attributes.label){let g=a?` (${a})`:"";d=`${s.attributes.lang}${g}`}o[d]||(o[d]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});let f=zP(KOe(s,t),e);return o[d].playlists.push(f),typeof r>"u"&&a==="main"&&(r=s,r.default=!0),o},{});if(!r){let o=Object.keys(n)[0];n[o].default=!0}return n},WOe=(i,e={})=>i.reduce((t,r)=>{let n=r.attributes.label||r.attributes.lang||"text",o=r.attributes.lang||"und";return t[n]||(t[n]={language:o,default:!1,autoselect:!1,playlists:[],uri:""}),t[n].playlists.push(zP(HOe(r),e)),t},{}),XOe=i=>i.reduce((e,t)=>(t&&t.forEach(r=>{let{channel:n,language:o}=r;e[o]={autoselect:!1,default:!1,instreamId:n,language:o},r.hasOwnProperty("aspectRatio")&&(e[o].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[o].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[o]["3D"]=r["3D"])}),e),{}),ZOe=({attributes:i,segments:e,sidx:t,discontinuityStarts:r})=>{let n={attributes:{NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth,"PROGRAM-ID":1},uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,discontinuityStarts:r,timelineStarts:i.timelineStarts,segments:e};return i.frameRate&&(n.attributes["FRAME-RATE"]=i.frameRate),i.contentProtection&&(n.contentProtection=i.contentProtection),i.serviceLocation&&(n.attributes.serviceLocation=i.serviceLocation),t&&(n.sidx=t),n},QOe=({attributes:i})=>i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video",YOe=({attributes:i})=>i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio",JOe=({attributes:i})=>i.mimeType==="text/vtt"||i.contentType==="text",eMe=(i,e)=>{i.forEach(t=>{t.mediaSequence=0,t.discontinuitySequence=e.findIndex(function({timeline:r}){return r===t.timeline}),t.segments&&t.segments.forEach((r,n)=>{r.number=n})})},dG=i=>i?Object.keys(i).reduce((e,t)=>{let r=i[t];return e.concat(r.playlists)},[]):[],tMe=({dashPlaylists:i,locations:e,contentSteering:t,sidxMapping:r={},previousManifest:n,eventStream:o})=>{if(!i.length)return{};let{sourceDuration:s,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:d}=i[0].attributes,f=qP(i.filter(QOe)).map(ZOe),g=qP(i.filter(YOe)),w=qP(i.filter(JOe)),A=i.map(Z=>Z.attributes.captionServices).filter(Boolean),B={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:zOe(f,r)};d>=0&&(B.minimumUpdatePeriod=d*1e3),e&&(B.locations=e),t&&(B.contentSteering=t),a==="dynamic"&&(B.suggestedPresentationDelay=l),o&&o.length>0&&(B.eventStream=o);let S=B.playlists.length===0,U=g.length?GOe(g,r,S):null,q=w.length?WOe(w,r):null,G=f.concat(dG(U),dG(q)),K=G.map(({timelineStarts:Z})=>Z);return B.timelineStarts=bG(K),eMe(G,B.timelineStarts),U&&(B.mediaGroups.AUDIO.audio=U),q&&(B.mediaGroups.SUBTITLES.subs=q),A.length&&(B.mediaGroups["CLOSED-CAPTIONS"].cc=XOe(A)),n?$Oe({oldManifest:n,newManifest:B}):B},iMe=(i,e,t)=>{let{NOW:r,clientOffset:n,availabilityStartTime:o,timescale:s=1,periodStart:a=0,minimumUpdatePeriod:l=0}=i,d=(r+n)/1e3,f=o+a,w=d+l-f;return Math.ceil((w*s-e)/t)},_G=(i,e)=>{let{type:t,minimumUpdatePeriod:r=0,media:n="",sourceDuration:o,timescale:s=1,startNumber:a=1,periodStart:l}=i,d=[],f=-1;for(let g=0;g<e.length;g++){let w=e[g],A=w.d,B=w.r||0,S=w.t||0;f<0&&(f=S),S&&S>f&&(f=S);let U;if(B<0){let K=g+1;K===e.length?t==="dynamic"&&r>0&&n.indexOf("$Number$")>0?U=iMe(i,f,A):U=(o*s-f)/A:U=(e[K].t-f)/A}else U=B+1;let q=a+d.length+U,G=a+d.length;for(;G<q;)d.push({number:G,duration:A/s,time:f,timeline:l}),f+=A,G++}return d},rMe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,nMe=i=>(e,t,r,n)=>{if(e==="$$")return"$";if(typeof i[t]>"u")return e;let o=""+i[t];return t==="RepresentationID"||(r?n=parseInt(n,10):n=1,o.length>=n)?o:`${new Array(n-o.length+1).join("0")}${o}`},pG=(i,e)=>i.replace(rMe,nMe(e)),oMe=(i,e)=>!i.duration&&!e?[{number:i.startNumber||1,duration:i.sourceDuration,time:0,timeline:i.periodStart}]:i.duration?$P(i):_G(i,e),sMe=(i,e)=>{let t={RepresentationID:i.id,Bandwidth:i.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=i,n=ag({baseUrl:i.baseUrl,source:pG(r.sourceURL,t),range:r.range});return oMe(i,e).map(s=>{t.Number=s.number,t.Time=s.time;let a=pG(i.media||"",t),l=i.timescale||1,d=i.presentationTimeOffset||0,f=i.periodStart+(s.time-d)/l;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:Gp(i.baseUrl||"",a),map:n,number:s.number,presentationTime:f}})},aMe=(i,e)=>{let{baseUrl:t,initialization:r={}}=i,n=ag({baseUrl:t,source:r.sourceURL,range:r.range}),o=ag({baseUrl:t,source:e.media,range:e.mediaRange});return o.map=n,o},lMe=(i,e)=>{let{duration:t,segmentUrls:r=[],periodStart:n}=i;if(!t&&!e||t&&e)throw new Error(af.SEGMENT_TIME_UNSPECIFIED);let o=r.map(l=>aMe(i,l)),s;return t&&(s=$P(i)),e&&(s=_G(i,e)),s.map((l,d)=>{if(o[d]){let f=o[d],g=i.timescale||1,w=i.presentationTimeOffset||0;return f.timeline=l.timeline,f.duration=l.duration,f.number=l.number,f.presentationTime=n+(l.time-w)/g,f}}).filter(l=>l)},cMe=({attributes:i,segmentInfo:e})=>{let t,r;e.template?(r=sMe,t=Vr(i,e.template)):e.base?(r=yG,t=Vr(i,e.base)):e.list&&(r=lMe,t=Vr(i,e.list));let n={attributes:i};if(!r)return n;let o=r(t,e.segmentTimeline);if(t.duration){let{duration:s,timescale:a=1}=t;t.duration=s/a}else o.length?t.duration=o.reduce((s,a)=>Math.max(s,Math.ceil(a.duration)),0):t.duration=0;return n.attributes=t,n.segments=o,e.base&&t.indexRange&&(n.sidx=o[0],n.segments=[]),n},uMe=i=>i.map(cMe),Yi=(i,e)=>gG(i.childNodes).filter(({tagName:t})=>t===e),cg=i=>i.textContent.trim(),dMe=i=>parseFloat(i.split("/").reduce((e,t)=>e/t)),of=i=>{let a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(i);if(!a)return 0;let[l,d,f,g,w,A]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(d||0)*2592e3+parseFloat(f||0)*86400+parseFloat(g||0)*3600+parseFloat(w||0)*60+parseFloat(A||0)},pMe=i=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(i)&&(i+="Z"),Date.parse(i)),fG={mediaPresentationDuration(i){return of(i)},availabilityStartTime(i){return pMe(i)/1e3},minimumUpdatePeriod(i){return of(i)},suggestedPresentationDelay(i){return of(i)},type(i){return i},timeShiftBufferDepth(i){return of(i)},start(i){return of(i)},width(i){return parseInt(i,10)},height(i){return parseInt(i,10)},bandwidth(i){return parseInt(i,10)},frameRate(i){return dMe(i)},startNumber(i){return parseInt(i,10)},timescale(i){return parseInt(i,10)},presentationTimeOffset(i){return parseInt(i,10)},duration(i){let e=parseInt(i,10);return isNaN(e)?of(i):e},d(i){return parseInt(i,10)},t(i){return parseInt(i,10)},r(i){return parseInt(i,10)},presentationTime(i){return parseInt(i,10)},DEFAULT(i){return i}},Cr=i=>i&&i.attributes?gG(i.attributes).reduce((e,t)=>{let r=fG[t.name]||fG.DEFAULT;return e[t.name]=r(t.value),e},{}):{},fMe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},SC=(i,e)=>e.length?sf(i.map(function(t){return e.map(function(r){let n=cg(r),o=Gp(t.baseUrl,n),s=Vr(Cr(r),{baseUrl:o});return o!==n&&!s.serviceLocation&&t.serviceLocation&&(s.serviceLocation=t.serviceLocation),s})})):i,KP=i=>{let e=Yi(i,"SegmentTemplate")[0],t=Yi(i,"SegmentList")[0],r=t&&Yi(t,"SegmentURL").map(g=>Vr({tag:"SegmentURL"},Cr(g))),n=Yi(i,"SegmentBase")[0],o=t||e,s=o&&Yi(o,"SegmentTimeline")[0],a=t||n||e,l=a&&Yi(a,"Initialization")[0],d=e&&Cr(e);d&&l?d.initialization=l&&Cr(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});let f={template:d,segmentTimeline:s&&Yi(s,"S").map(g=>Cr(g)),list:t&&Vr(Cr(t),{segmentUrls:r,initialization:Cr(l)}),base:n&&Vr(Cr(n),{initialization:Cr(l)})};return Object.keys(f).forEach(g=>{f[g]||delete f[g]}),f},hMe=(i,e,t)=>r=>{let n=Yi(r,"BaseURL"),o=SC(e,n),s=Vr(i,Cr(r)),a=KP(r);return o.map(l=>({segmentInfo:Vr(t,a),attributes:Vr(s,l)}))},mMe=i=>i.reduce((e,t)=>{let r=Cr(t);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());let n=fMe[r.schemeIdUri];if(n){e[n]={attributes:r};let o=Yi(t,"cenc:pssh")[0];if(o){let s=cg(o);e[n].pssh=s&&W0(s)}}return e},{}),gMe=i=>{if(i.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof i.value!="string"?[]:i.value.split(";")).map(t=>{let r,n;return n=t,/^CC\d=/.test(t)?[r,n]=t.split("="):/^CC\d$/.test(t)&&(r=t),{channel:r,language:n}});if(i.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof i.value!="string"?[]:i.value.split(";")).map(t=>{let r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){let[n,o=""]=t.split("=");r.channel=n,r.language=t,o.split(",").forEach(s=>{let[a,l]=s.split(":");a==="lang"?r.language=l:a==="er"?r.easyReader=Number(l):a==="war"?r.aspectRatio=Number(l):a==="3D"&&(r["3D"]=Number(l))})}else r.language=t;return r.channel&&(r.channel="SERVICE"+r.channel),r})},yMe=i=>sf(Yi(i.node,"EventStream").map(e=>{let t=Cr(e),r=t.schemeIdUri;return Yi(e,"Event").map(n=>{let o=Cr(n),s=o.presentationTime||0,a=t.timescale||1,l=o.duration||0,d=s/a+i.attributes.start;return{schemeIdUri:r,value:t.value,id:o.id,start:d,end:d+l/a,messageData:cg(n)||o.messageData,contentEncoding:t.contentEncoding,presentationTimeOffset:t.presentationTimeOffset||0}})})),bMe=(i,e,t)=>r=>{let n=Cr(r),o=SC(e,Yi(r,"BaseURL")),s=Yi(r,"Role")[0],a={role:Cr(s)},l=Vr(i,n,a),d=Yi(r,"Accessibility")[0],f=gMe(Cr(d));f&&(l=Vr(l,{captionServices:f}));let g=Yi(r,"Label")[0];if(g&&g.childNodes.length){let U=g.childNodes[0].nodeValue.trim();l=Vr(l,{label:U})}let w=mMe(Yi(r,"ContentProtection"));Object.keys(w).length&&(l=Vr(l,{contentProtection:w}));let A=KP(r),B=Yi(r,"Representation"),S=Vr(t,A);return sf(B.map(hMe(l,o,S)))},_Me=(i,e)=>(t,r)=>{let n=SC(e,Yi(t.node,"BaseURL")),o=Vr(i,{periodStart:t.attributes.start});typeof t.attributes.duration=="number"&&(o.periodDuration=t.attributes.duration);let s=Yi(t.node,"AdaptationSet"),a=KP(t.node);return sf(s.map(bMe(o,n,a)))},vMe=(i,e)=>{if(i.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!i.length)return null;let t=Vr({serverURL:cg(i[0])},Cr(i[0]));return t.queryBeforeStart=t.queryBeforeStart==="true",t},xMe=({attributes:i,priorPeriodAttributes:e,mpdType:t})=>typeof i.start=="number"?i.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&t==="static"?0:null,CMe=(i,e={})=>{let{manifestUri:t="",NOW:r=Date.now(),clientOffset:n=0,eventHandler:o=function(){}}=e,s=Yi(i,"Period");if(!s.length)throw new Error(af.INVALID_NUMBER_OF_PERIOD);let a=Yi(i,"Location"),l=Cr(i),d=SC([{baseUrl:t}],Yi(i,"BaseURL")),f=Yi(i,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=n,a.length&&(l.locations=a.map(cg));let g=[];return s.forEach((w,A)=>{let B=Cr(w),S=g[A-1];B.start=xMe({attributes:B,priorPeriodAttributes:S?S.attributes:null,mpdType:l.type}),g.push({node:w,attributes:B})}),{locations:l.locations,contentSteeringInfo:vMe(f,o),representationInfo:sf(g.map(_Me(l,d))),eventStream:sf(g.map(yMe))}},vG=i=>{if(i==="")throw new Error(af.DASH_EMPTY_MANIFEST);let e=new hG.DOMParser,t,r;try{t=e.parseFromString(i,"application/xml"),r=t&&t.documentElement.tagName==="MPD"?t.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(af.DASH_INVALID_XML);return r},EMe=i=>{let e=Yi(i,"UTCTiming")[0];if(!e)return null;let t=Cr(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(af.UNSUPPORTED_UTC_TIMING_SCHEME)}return t};var xG=(i,e={})=>{let t=CMe(vG(i),e),r=uMe(t.representationInfo);return tMe({dashPlaylists:r,locations:t.locations,contentSteering:t.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:t.eventStream})},CG=i=>EMe(vG(i));var LW=Dt(RG());var SMe=Ge([73,68,51]),AMe=function(e,t){t===void 0&&(t=0),e=Ge(e);var r=e[t+5],n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],o=(r&16)>>4;return o?n+20:n+10},Qu=function i(e,t){return t===void 0&&(t=0),e=Ge(e),e.length-t<10||!Ei(e,SMe,{offset:t})?t:(t+=AMe(e,t),i(e,t))};var zgt=new Uint8Array([79,112,117,115,72,101,97,100]);var DG=function(e){return typeof e=="string"?hC(e):e},PMe=function(e){return Array.isArray(e)?e.map(function(t){return DG(t)}):[DG(e)]},HP,IG=function(e){e=Ge(e);for(var t=[],r=0;e.length>r;){var n=e[r],o=0,s=0;s++;var a=e[s];for(s++;a&128;)o=(a&127)<<7,a=e[s],s++;o+=a&127;for(var l=0;l<HP.length;l++){var d=HP[l],f=d.id,g=d.parser;if(n===f){t.push(g(e.subarray(s,s+o)));break}}r+=o+s}return t};HP=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(t.flags&128&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.flags&64){var r=e[t.size];t.url=SP(e.subarray(t.size+1,t.size+1+r)),t.size+=r}return t.flags&32&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=IG(e.subarray(t.size))||[],t}},{id:4,parser:function(e){var t={tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:IG(e.subarray(13))};return t}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var PG=function i(e,t,r){r===void 0&&(r=!1),t=PMe(t),e=Ge(e);var n=[];if(!t.length)return n;for(var o=0;o<e.length;){var s=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,a=e.subarray(o+4,o+8);if(s===0)break;var l=o+s;if(l>e.length){if(r)break;l=e.length}var d=e.subarray(o+8,l);Ei(a,t[0])&&(t.length===1?n.push(d):n.push.apply(n,i(d,t.slice(1),r))),o=l}return n};var ug={EBML:Ge([26,69,223,163]),DocType:Ge([66,130]),Segment:Ge([24,83,128,103]),SegmentInfo:Ge([21,73,169,102]),Tracks:Ge([22,84,174,107]),Track:Ge([174]),TrackNumber:Ge([215]),DefaultDuration:Ge([35,227,131]),TrackEntry:Ge([174]),TrackType:Ge([131]),FlagDefault:Ge([136]),CodecID:Ge([134]),CodecPrivate:Ge([99,162]),VideoTrack:Ge([224]),AudioTrack:Ge([225]),Cluster:Ge([31,67,182,117]),Timestamp:Ge([231]),TimestampScale:Ge([42,215,177]),BlockGroup:Ge([160]),BlockDuration:Ge([155]),Block:Ge([161]),SimpleBlock:Ge([163])},GP=[128,64,32,16,8,4,2,1],LMe=function(e){for(var t=1,r=0;r<GP.length&&!(e&GP[r]);r++)t++;return t},AC=function(e,t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1);var o=LMe(e[t]),s=e.subarray(t,t+o);return r&&(s=Array.prototype.slice.call(e,t,t+o),s[0]^=GP[o-1]),{length:o,value:wP(s,{signed:n}),bytes:s}},LG=function i(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(t){return i(t)}):typeof e=="number"?uH(e):e},BMe=function(e){return Array.isArray(e)?e.map(function(t){return LG(t)}):[LG(e)]},OMe=function i(e,t,r){if(r>=t.length)return t.length;var n=AC(t,r,!1);if(Ei(e.bytes,n.bytes))return r;var o=AC(t,r+n.length);return i(e,t,r+o.length+o.value+n.length)},WP=function i(e,t){t=BMe(t),e=Ge(e);var r=[];if(!t.length)return r;for(var n=0;n<e.length;){var o=AC(e,n,!1),s=AC(e,n+o.length),a=n+o.length+s.length;s.value===127&&(s.value=OMe(o,e,a),s.value!==e.length&&(s.value-=a));var l=a+s.value>e.length?e.length:a+s.value,d=e.subarray(a,l);Ei(t[0],o.bytes)&&(t.length===1?r.push(d):r=r.concat(i(d,t.slice(1))));var f=o.length+s.length+d.length;n+=f}return r};var MMe=Ge([0,0,0,1]),VMe=Ge([0,0,1]),NMe=Ge([0,0,3]),FMe=function(e){for(var t=[],r=1;r<e.length-2;)Ei(e.subarray(r,r+3),NMe)&&(t.push(r+2),r++),r++;if(t.length===0)return e;var n=e.length-t.length,o=new Uint8Array(n),s=0;for(r=0;r<n;s++,r++)s===t[0]&&(s++,t.shift()),o[r]=e[s];return o},BG=function(e,t,r,n){n===void 0&&(n=1/0),e=Ge(e),r=[].concat(r);for(var o=0,s,a=0;o<e.length&&(a<n||s);){var l=void 0;if(Ei(e.subarray(o),MMe)?l=4:Ei(e.subarray(o),VMe)&&(l=3),!l){o++;continue}if(a++,s)return FMe(e.subarray(s,o));var d=void 0;t==="h264"?d=e[o+l]&31:t==="h265"&&(d=e[o+l]>>1&63),r.indexOf(d)!==-1&&(s=o+l),o+=l+(t==="h264"?1:2)}return e.subarray(0,0)},OG=function(e,t,r){return BG(e,"h264",t,r)},MG=function(e,t,r){return BG(e,"h265",t,r)};var vn={webm:Ge([119,101,98,109]),matroska:Ge([109,97,116,114,111,115,107,97]),flac:Ge([102,76,97,67]),ogg:Ge([79,103,103,83]),ac3:Ge([11,119]),riff:Ge([82,73,70,70]),avi:Ge([65,86,73]),wav:Ge([87,65,86,69]),"3gp":Ge([102,116,121,112,51,103]),mp4:Ge([102,116,121,112]),fmp4:Ge([115,116,121,112]),mov:Ge([102,116,121,112,113,116]),moov:Ge([109,111,111,118]),moof:Ge([109,111,111,102])},lf={aac:function(e){var t=Qu(e);return Ei(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Qu(e);return Ei(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=WP(e,[ug.EBML,ug.DocType])[0];return Ei(t,vn.webm)},mkv:function(e){var t=WP(e,[ug.EBML,ug.DocType])[0];return Ei(t,vn.matroska)},mp4:function(e){if(lf["3gp"](e)||lf.mov(e))return!1;if(Ei(e,vn.mp4,{offset:4})||Ei(e,vn.fmp4,{offset:4})||Ei(e,vn.moof,{offset:4})||Ei(e,vn.moov,{offset:4}))return!0},mov:function(e){return Ei(e,vn.mov,{offset:4})},"3gp":function(e){return Ei(e,vn["3gp"],{offset:4})},ac3:function(e){var t=Qu(e);return Ei(e,vn.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var t=0;t+188<e.length&&t<188;){if(e[t]===71&&e[t+188]===71)return!0;t+=1}return!1},flac:function(e){var t=Qu(e);return Ei(e,vn.flac,{offset:t})},ogg:function(e){return Ei(e,vn.ogg)},avi:function(e){return Ei(e,vn.riff)&&Ei(e,vn.avi,{offset:8})},wav:function(e){return Ei(e,vn.riff)&&Ei(e,vn.wav,{offset:8})},h264:function(e){return OG(e,7,3).length},h265:function(e){return MG(e,[32,33],3).length}},XP=Object.keys(lf).filter(function(i){return i!=="ts"&&i!=="h264"&&i!=="h265"}).concat(["ts","h264","h265"]);XP.forEach(function(i){var e=lf[i];lf[i]=function(t){return e(Ge(t))}});var UMe=lf,RC=function(e){e=Ge(e);for(var t=0;t<XP.length;t++){var r=XP[t];if(UMe[r](e))return r}return""},VG=function(e){return PG(e,["moof"]).length>0};var Tc=Dt(qG());var gL="8.22.0",yl={},Sc=function(i,e){return yl[i]=yl[i]||[],e&&(yl[i]=yl[i].concat(e)),yl[i]},jMe=function(i,e){Sc(i,e)},BW=function(i,e){let t=Sc(i).indexOf(e);return t<=-1?!1:(yl[i]=yl[i].slice(),yl[i].splice(t,1),!0)},qMe=function(i,e){Sc(i,[].concat(e).map(t=>{let r=(...n)=>(BW(i,r),t(...n));return r}))},NC={prefixed:!0},OC=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],$G=OC[0],hg;for(let i=0;i<OC.length;i++)if(OC[i][1]in Ae.default){hg=OC[i];break}if(hg){for(let i=0;i<hg.length;i++)NC[$G[i]]=hg[i];NC.prefixed=hg[0]!==$G[0]}var Wn=[],$Me=(i,e,t)=>(r,n,o)=>{let s=e.levels[n],a=new RegExp(`^(${s})$`),l=i;if(r!=="log"&&o.unshift(r.toUpperCase()+":"),t&&(l=`%c${i}`,o.unshift(t)),o.unshift(l+":"),Wn){Wn.push([].concat(o));let f=Wn.length-1e3;Wn.splice(0,f>0?f:0)}if(!H.default.console)return;let d=H.default.console[r];!d&&r==="debug"&&(d=H.default.console.info||H.default.console.log),!(!d||!s||!a.test(r))&&d[Array.isArray(o)?"apply":"call"](H.default.console,o)};function yL(i,e=":",t=""){let r="info",n;function o(...s){n("log",r,s)}return n=$Me(i,o,t),o.createLogger=(s,a,l)=>{let d=a!==void 0?a:e,f=l!==void 0?l:t,g=`${i} ${d} ${s}`;return yL(g,d,f)},o.createNewLogger=(s,a,l)=>yL(s,a,l),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},o.level=s=>{if(typeof s=="string"){if(!o.levels.hasOwnProperty(s))throw new Error(`"${s}" in not a valid log level`);r=s}return r},o.history=()=>Wn?[].concat(Wn):[],o.history.filter=s=>(Wn||[]).filter(a=>new RegExp(`.*${s}.*`).test(a[0])),o.history.clear=()=>{Wn&&(Wn.length=0)},o.history.disable=()=>{Wn!==null&&(Wn.length=0,Wn=null)},o.history.enable=()=>{Wn===null&&(Wn=[])},o.error=(...s)=>n("error",r,s),o.warn=(...s)=>n("warn",r,s),o.debug=(...s)=>n("debug",r,s),o}var kt=yL("VIDEOJS"),OW=kt.createLogger,zMe=Object.prototype.toString,MW=function(i){return ka(i)?Object.keys(i):[]};function ff(i,e){MW(i).forEach(t=>e(i[t],t))}function VW(i,e,t=0){return MW(i).reduce((r,n)=>e(r,i[n],n),t)}function ka(i){return!!i&&typeof i=="object"}function Cf(i){return ka(i)&&zMe.call(i)==="[object Object]"&&i.constructor===Object}function ki(...i){let e={};return i.forEach(t=>{t&&ff(t,(r,n)=>{if(!Cf(r)){e[n]=r;return}Cf(e[n])||(e[n]={}),e[n]=ki(e[n],r)})}),e}function NW(i={}){let e=[];for(let t in i)if(i.hasOwnProperty(t)){let r=i[t];e.push(r)}return e}function FE(i,e,t,r=!0){let n=s=>Object.defineProperty(i,e,{value:s,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){let s=t();return n(s),s}};return r&&(o.set=n),Object.defineProperty(i,e,o)}var KMe=Object.freeze({__proto__:null,each:ff,reduce:VW,isObject:ka,isPlain:Cf,merge:ki,values:NW,defineLazyProperty:FE}),f3=!1,FW=null,Fs=!1,UW,jW=!1,hf=!1,mf=!1,Da=!1,h3=null,UE=null,HMe=!!(H.default.cast&&H.default.cast.framework&&H.default.cast.framework.CastReceiverContext),qW=null,FC=!1,jE=!1,UC=!1,qE=!1,jC=!1,qC=!1,$C=!1,xg=!!(Df()&&("ontouchstart"in H.default||H.default.navigator.maxTouchPoints||H.default.DocumentTouch&&H.default.document instanceof H.default.DocumentTouch)),_c=H.default.navigator&&H.default.navigator.userAgentData;_c&&_c.platform&&_c.brands&&(Fs=_c.platform==="Android",hf=!!_c.brands.find(i=>i.brand==="Microsoft Edge"),mf=!!_c.brands.find(i=>i.brand==="Chromium"),Da=!hf&&mf,h3=UE=(_c.brands.find(i=>i.brand==="Chromium")||{}).version||null,jE=_c.platform==="Windows");if(!mf){let i=H.default.navigator&&H.default.navigator.userAgent||"";f3=/iPod/i.test(i),FW=function(){let e=i.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Fs=/Android/i.test(i),UW=function(){let e=i.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;let t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),jW=/Firefox/i.test(i),hf=/Edg/i.test(i),mf=/Chrome/i.test(i)||/CriOS/i.test(i),Da=!hf&&mf,h3=UE=function(){let e=i.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),qW=function(){let e=/MSIE\s(\d+)\.\d/.exec(i),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(i)&&/rv:11.0/.test(i)&&(t=11),t}(),jC=/Tizen/i.test(i),qC=/Web0S/i.test(i),$C=jC||qC,FC=/Safari/i.test(i)&&!Da&&!Fs&&!hf&&!$C,jE=/Windows/i.test(i),UC=/iPad/i.test(i)||FC&&xg&&!/iPhone/i.test(i),qE=/iPhone/i.test(i)&&!UC}var an=qE||UC||f3,$E=(FC||an)&&!Da,$W=Object.freeze({__proto__:null,get IS_IPOD(){return f3},get IOS_VERSION(){return FW},get IS_ANDROID(){return Fs},get ANDROID_VERSION(){return UW},get IS_FIREFOX(){return jW},get IS_EDGE(){return hf},get IS_CHROMIUM(){return mf},get IS_CHROME(){return Da},get CHROMIUM_VERSION(){return h3},get CHROME_VERSION(){return UE},IS_CHROMECAST_RECEIVER:HMe,get IE_VERSION(){return qW},get IS_SAFARI(){return FC},get IS_WINDOWS(){return jE},get IS_IPAD(){return UC},get IS_IPHONE(){return qE},get IS_TIZEN(){return jC},get IS_WEBOS(){return qC},get IS_SMART_TV(){return $C},TOUCH_ENABLED:xg,IS_IOS:an,IS_ANY_SAFARI:$E});function zG(i){return typeof i=="string"&&!!i.trim()}function GMe(i){if(i.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Df(){return Ae.default===H.default.document}function If(i){return ka(i)&&i.nodeType===1}function zW(){try{return H.default.parent!==H.default.self}catch{return!0}}function KW(i){return function(e,t){if(!zG(e))return Ae.default[i](null);zG(t)&&(t=Ae.default.querySelector(t));let r=If(t)?t:Ae.default;return r[i]&&r[i](e)}}function ct(i="div",e={},t={},r){let n=Ae.default.createElement(i);return Object.getOwnPropertyNames(e).forEach(function(o){let s=e[o];o==="textContent"?Bc(n,s):(n[o]!==s||o==="tabIndex")&&(n[o]=s)}),Object.getOwnPropertyNames(t).forEach(function(o){n.setAttribute(o,t[o])}),r&&m3(n,r),n}function Bc(i,e){return typeof i.textContent>"u"?i.innerText=e:i.textContent=e,i}function bL(i,e){e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}function gg(i,e){return GMe(e),i.classList.contains(e)}function id(i,...e){return i.classList.add(...e.reduce((t,r)=>t.concat(r.split(/\s+/)),[])),i}function zE(i,...e){return i?(i.classList.remove(...e.reduce((t,r)=>t.concat(r.split(/\s+/)),[])),i):(kt.warn("removeClass was called with an element that doesn't exist"),null)}function HW(i,e,t){return typeof t=="function"&&(t=t(i,e)),typeof t!="boolean"&&(t=void 0),e.split(/\s+/).forEach(r=>i.classList.toggle(r,t)),i}function GW(i,e){Object.getOwnPropertyNames(e).forEach(function(t){let r=e[t];r===null||typeof r>"u"||r===!1?i.removeAttribute(t):i.setAttribute(t,r===!0?"":r)})}function Cc(i){let e={},t=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(i&&i.attributes&&i.attributes.length>0){let r=i.attributes;for(let n=r.length-1;n>=0;n--){let o=r[n].name,s=r[n].value;t.includes(o)&&(s=s!==null),e[o]=s}}return e}function WW(i,e){return i.getAttribute(e)}function Ef(i,e,t){i.setAttribute(e,t)}function KE(i,e){i.removeAttribute(e)}function XW(){Ae.default.body.focus(),Ae.default.onselectstart=function(){return!1}}function ZW(){Ae.default.onselectstart=function(){return!0}}function Tf(i){if(i&&i.getBoundingClientRect&&i.parentNode){let e=i.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(t[r]=e[r])}),t.height||(t.height=parseFloat(wf(i,"height"))),t.width||(t.width=parseFloat(wf(i,"width"))),t}}function Cg(i){if(!i||i&&!i.offsetParent)return{left:0,top:0,width:0,height:0};let e=i.offsetWidth,t=i.offsetHeight,r=0,n=0;for(;i.offsetParent&&i!==Ae.default[NC.fullscreenElement];)r+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{left:r,top:n,width:e,height:t}}function HE(i,e){let t={x:0,y:0};if(an){let f=i;for(;f&&f.nodeName.toLowerCase()!=="html";){let g=wf(f,"transform");if(/^matrix/.test(g)){let w=g.slice(7,-1).split(/,\s/).map(Number);t.x+=w[4],t.y+=w[5]}else if(/^matrix3d/.test(g)){let w=g.slice(9,-1).split(/,\s/).map(Number);t.x+=w[12],t.y+=w[13]}if(f.assignedSlot&&f.assignedSlot.parentElement&&H.default.WebKitCSSMatrix){let w=H.default.getComputedStyle(f.assignedSlot.parentElement).transform,A=new H.default.WebKitCSSMatrix(w);t.x+=A.m41,t.y+=A.m42}f=f.parentNode||f.host}}let r={},n=Cg(e.target),o=Cg(i),s=o.width,a=o.height,l=e.offsetY-(o.top-n.top),d=e.offsetX-(o.left-n.left);return e.changedTouches&&(d=e.changedTouches[0].pageX-o.left,l=e.changedTouches[0].pageY+o.top,an&&(d-=t.x,l-=t.y)),r.y=1-Math.max(0,Math.min(1,l/a)),r.x=Math.max(0,Math.min(1,d/s)),r}function QW(i){return ka(i)&&i.nodeType===3}function GE(i){for(;i.firstChild;)i.removeChild(i.firstChild);return i}function YW(i){return typeof i=="function"&&(i=i()),(Array.isArray(i)?i:[i]).map(e=>{if(typeof e=="function"&&(e=e()),If(e)||QW(e))return e;if(typeof e=="string"&&/\S/.test(e))return Ae.default.createTextNode(e)}).filter(e=>e)}function m3(i,e){return YW(e).forEach(t=>i.appendChild(t)),i}function JW(i,e){return m3(GE(i),e)}function Eg(i){return i.button===void 0&&i.buttons===void 0||i.button===0&&i.buttons===void 0||i.type==="mouseup"&&i.button===0&&i.buttons===0||i.type==="mousedown"&&i.button===0&&i.buttons===0?!0:!(i.button!==0||i.buttons!==1)}var Ac=KW("querySelector"),eX=KW("querySelectorAll");function wf(i,e){if(!i||!e)return"";if(typeof H.default.getComputedStyle=="function"){let t;try{t=H.default.getComputedStyle(i)}catch{return""}return t?t.getPropertyValue(e)||t[e]:""}return""}function tX(i){[...Ae.default.styleSheets].forEach(e=>{try{let t=[...e.cssRules].map(n=>n.cssText).join(""),r=Ae.default.createElement("style");r.textContent=t,i.document.head.appendChild(r)}catch{let r=Ae.default.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,i.document.head.appendChild(r)}})}var iX=Object.freeze({__proto__:null,isReal:Df,isEl:If,isInFrame:zW,createEl:ct,textContent:Bc,prependTo:bL,hasClass:gg,addClass:id,removeClass:zE,toggleClass:HW,setAttributes:GW,getAttributes:Cc,getAttribute:WW,setAttribute:Ef,removeAttribute:KE,blockTextSelection:XW,unblockTextSelection:ZW,getBoundingClientRect:Tf,findPosition:Cg,getPointerPosition:HE,isTextNode:QW,emptyEl:GE,normalizeContent:YW,appendContent:m3,insertContent:JW,isSingleLeftClick:Eg,$:Ac,$$:eX,computedStyle:wf,copyStyleSheetsToWindow:tX}),rX=!1,_L,WMe=function(){if(_L.options.autoSetup===!1)return;let i=Array.prototype.slice.call(Ae.default.getElementsByTagName("video")),e=Array.prototype.slice.call(Ae.default.getElementsByTagName("audio")),t=Array.prototype.slice.call(Ae.default.getElementsByTagName("video-js")),r=i.concat(e,t);if(r&&r.length>0)for(let n=0,o=r.length;n<o;n++){let s=r[n];if(s&&s.getAttribute)s.player===void 0&&s.getAttribute("data-setup")!==null&&_L(s);else{vL(1);break}}else rX||vL(1)};function vL(i,e){Df()&&(e&&(_L=e),H.default.setTimeout(WMe,i))}function xL(){rX=!0,H.default.removeEventListener("load",xL)}Df()&&(Ae.default.readyState==="complete"?xL():H.default.addEventListener("load",xL));var nX=function(i){let e=Ae.default.createElement("style");return e.className=i,e},oX=function(i,e){i.styleSheet?i.styleSheet.cssText=e:i.textContent=e},Cn=new WeakMap,XMe=3,ZMe=XMe;function is(){return ZMe++}function KG(i,e){if(!Cn.has(i))return;let t=Cn.get(i);t.handlers[e].length===0&&(delete t.handlers[e],i.removeEventListener?i.removeEventListener(e,t.dispatcher,!1):i.detachEvent&&i.detachEvent("on"+e,t.dispatcher)),Object.getOwnPropertyNames(t.handlers).length<=0&&(delete t.handlers,delete t.dispatcher,delete t.disabled),Object.getOwnPropertyNames(t).length===0&&Cn.delete(i)}function g3(i,e,t,r){t.forEach(function(n){i(e,n,r)})}function WE(i){if(i.fixed_)return i;function e(){return!0}function t(){return!1}if(!i||!i.isPropagationStopped||!i.isImmediatePropagationStopped){let r=i||H.default.event;i={};let n=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(let o in r)n.includes(o)||o==="returnValue"&&r.preventDefault||(i[o]=r[o]);if(i.target||(i.target=i.srcElement||Ae.default),i.relatedTarget||(i.relatedTarget=i.fromElement===i.target?i.toElement:i.fromElement),i.preventDefault=function(){r.preventDefault&&r.preventDefault(),i.returnValue=!1,r.returnValue=!1,i.defaultPrevented=!0},i.defaultPrevented=!1,i.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),i.cancelBubble=!0,r.cancelBubble=!0,i.isPropagationStopped=e},i.isPropagationStopped=t,i.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),i.isImmediatePropagationStopped=e,i.stopPropagation()},i.isImmediatePropagationStopped=t,i.clientX!==null&&i.clientX!==void 0){let o=Ae.default.documentElement,s=Ae.default.body;i.pageX=i.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),i.pageY=i.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}i.which=i.charCode||i.keyCode,i.button!==null&&i.button!==void 0&&(i.button=i.button&1?0:i.button&4?1:i.button&2?2:0)}return i.fixed_=!0,i}var DC,QMe=function(){if(typeof DC!="boolean"){DC=!1;try{let i=Object.defineProperty({},"passive",{get(){DC=!0}});H.default.addEventListener("test",null,i),H.default.removeEventListener("test",null,i)}catch{}}return DC},YMe=["touchstart","touchmove"];function wo(i,e,t){if(Array.isArray(e))return g3(wo,i,e,t);Cn.has(i)||Cn.set(i,{});let r=Cn.get(i);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),t.guid||(t.guid=is()),r.handlers[e].push(t),r.dispatcher||(r.disabled=!1,r.dispatcher=function(n,o){if(r.disabled)return;n=WE(n);let s=r.handlers[n.type];if(s){let a=s.slice(0);for(let l=0,d=a.length;l<d&&!n.isImmediatePropagationStopped();l++)try{a[l].call(i,n,o)}catch(f){kt.error(f)}}}),r.handlers[e].length===1)if(i.addEventListener){let n=!1;QMe()&&YMe.indexOf(e)>-1&&(n={passive:!0}),i.addEventListener(e,r.dispatcher,n)}else i.attachEvent&&i.attachEvent("on"+e,r.dispatcher)}function ln(i,e,t){if(!Cn.has(i))return;let r=Cn.get(i);if(!r.handlers)return;if(Array.isArray(e))return g3(ln,i,e,t);let n=function(s,a){r.handlers[a]=[],KG(s,a)};if(e===void 0){for(let s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&n(i,s);return}let o=r.handlers[e];if(o){if(!t){n(i,e);return}if(t.guid)for(let s=0;s<o.length;s++)o[s].guid===t.guid&&o.splice(s--,1);KG(i,e)}}function Pf(i,e,t){let r=Cn.has(i)?Cn.get(i):{},n=i.parentNode||i.ownerDocument;if(typeof e=="string"?e={type:e,target:i}:e.target||(e.target=i),e=WE(e),r.dispatcher&&r.dispatcher.call(i,e,t),n&&!e.isPropagationStopped()&&e.bubbles===!0)Pf.call(null,n,e,t);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){Cn.has(e.target)||Cn.set(e.target,{});let o=Cn.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function XE(i,e,t){if(Array.isArray(e))return g3(XE,i,e,t);let r=function(){ln(i,e,r),t.apply(this,arguments)};r.guid=t.guid=t.guid||is(),wo(i,e,r)}function y3(i,e,t){let r=function(){ln(i,e,r),t.apply(this,arguments)};r.guid=t.guid=t.guid||is(),wo(i,e,r)}var JMe=Object.freeze({__proto__:null,fixEvent:WE,on:wo,off:ln,trigger:Pf,one:XE,any:y3}),rs=30,Ni=function(i,e,t){e.guid||(e.guid=is());let r=e.bind(i);return r.guid=t?t+"_"+e.guid:e.guid,r},Ia=function(i,e){let t=H.default.performance.now();return function(...n){let o=H.default.performance.now();o-t>=e&&(i(...n),t=o)}},sX=function(i,e,t,r=H.default){let n,o=()=>{r.clearTimeout(n),n=null},s=function(){let a=this,l=arguments,d=function(){n=null,d=null,t||i.apply(a,l)};!n&&t&&i.apply(a,l),r.clearTimeout(n),n=r.setTimeout(d,e)};return s.cancel=o,s},e8e=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:rs,bind_:Ni,throttle:Ia,debounce:sX}),dg,En=class{on(e,t){let r=this.addEventListener;this.addEventListener=()=>{},wo(this,e,t),this.addEventListener=r}off(e,t){ln(this,e,t)}one(e,t){let r=this.addEventListener;this.addEventListener=()=>{},XE(this,e,t),this.addEventListener=r}any(e,t){let r=this.addEventListener;this.addEventListener=()=>{},y3(this,e,t),this.addEventListener=r}trigger(e){let t=e.type||e;typeof e=="string"&&(e={type:t}),e=WE(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Pf(this,e)}queueTrigger(e){dg||(dg=new Map);let t=e.type||e,r=dg.get(this);r||(r=new Map,dg.set(this,r));let n=r.get(t);r.delete(t),H.default.clearTimeout(n);let o=H.default.setTimeout(()=>{r.delete(t),r.size===0&&(r=null,dg.delete(this)),this.trigger(e)},0);r.set(t,o)}};En.prototype.allowedEvents_={};En.prototype.addEventListener=En.prototype.on;En.prototype.removeEventListener=En.prototype.off;En.prototype.dispatchEvent=En.prototype.trigger;var ZE=i=>typeof i.name=="function"?i.name():typeof i.name=="string"?i.name:i.name_?i.name_:i.constructor&&i.constructor.name?i.constructor.name:typeof i,_l=i=>i instanceof En||!!i.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof i[e]=="function"),t8e=(i,e)=>{_l(i)?e():(i.eventedCallbacks||(i.eventedCallbacks=[]),i.eventedCallbacks.push(e))},CL=i=>typeof i=="string"&&/\S/.test(i)||Array.isArray(i)&&!!i.length,zC=(i,e,t)=>{if(!i||!i.nodeName&&!_l(i))throw new Error(`Invalid target for ${ZE(e)}#${t}; must be a DOM node or evented object.`)},aX=(i,e,t)=>{if(!CL(i))throw new Error(`Invalid event type for ${ZE(e)}#${t}; must be a non-empty string or array.`)},lX=(i,e,t)=>{if(typeof i!="function")throw new Error(`Invalid listener for ${ZE(e)}#${t}; must be a function.`)},eL=(i,e,t)=>{let r=e.length<3||e[0]===i||e[0]===i.eventBusEl_,n,o,s;return r?(n=i.eventBusEl_,e.length>=3&&e.shift(),[o,s]=e):(n=e[0],o=e[1],s=e[2]),zC(n,i,t),aX(o,i,t),lX(s,i,t),s=Ni(i,s),{isTargetingSelf:r,target:n,type:o,listener:s}},Yu=(i,e,t,r)=>{zC(i,i,e),i.nodeName?JMe[e](i,t,r):i[e](t,r)},i8e={on(...i){let{isTargetingSelf:e,target:t,type:r,listener:n}=eL(this,i,"on");if(Yu(t,"on",r,n),!e){let o=()=>this.off(t,r,n);o.guid=n.guid;let s=()=>this.off("dispose",o);s.guid=n.guid,Yu(this,"on","dispose",o),Yu(t,"on","dispose",s)}},one(...i){let{isTargetingSelf:e,target:t,type:r,listener:n}=eL(this,i,"one");if(e)Yu(t,"one",r,n);else{let o=(...s)=>{this.off(t,r,o),n.apply(null,s)};o.guid=n.guid,Yu(t,"one",r,o)}},any(...i){let{isTargetingSelf:e,target:t,type:r,listener:n}=eL(this,i,"any");if(e)Yu(t,"any",r,n);else{let o=(...s)=>{this.off(t,r,o),n.apply(null,s)};o.guid=n.guid,Yu(t,"any",r,o)}},off(i,e,t){if(!i||CL(i))ln(this.eventBusEl_,i,e);else{let r=i,n=e;zC(r,this,"off"),aX(n,this,"off"),lX(t,this,"off"),t=Ni(this,t),this.off("dispose",t),r.nodeName?(ln(r,n,t),ln(r,"dispose",t)):_l(r)&&(r.off(n,t),r.off("dispose",t))}},trigger(i,e){zC(this.eventBusEl_,this,"trigger");let t=i&&typeof i!="string"?i.type:i;if(!CL(t))throw new Error(`Invalid event type for ${ZE(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Pf(this.eventBusEl_,i,e)}};function b3(i,e={}){let{eventBusKey:t}=e;if(t){if(!i[t].nodeName)throw new Error(`The eventBusKey "${t}" does not refer to an element.`);i.eventBusEl_=i[t]}else i.eventBusEl_=ct("span",{className:"vjs-event-bus"});return Object.assign(i,i8e),i.eventedCallbacks&&i.eventedCallbacks.forEach(r=>{r()}),i.on("dispose",()=>{i.off(),[i,i.el_,i.eventBusEl_].forEach(function(r){r&&Cn.has(r)&&Cn.delete(r)}),H.default.setTimeout(()=>{i.eventBusEl_=null},0)}),i}var r8e={state:{},setState(i){typeof i=="function"&&(i=i());let e;return ff(i,(t,r)=>{this.state[r]!==t&&(e=e||{},e[r]={from:this.state[r],to:t}),this.state[r]=t}),e&&_l(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function cX(i,e){return Object.assign(i,r8e),i.state=Object.assign({},i.state,e),typeof i.handleStateChanged=="function"&&_l(i)&&i.on("statechanged",i.handleStateChanged),i}var yg=function(i){return typeof i!="string"?i:i.replace(/./,e=>e.toLowerCase())},ur=function(i){return typeof i!="string"?i:i.replace(/./,e=>e.toUpperCase())},uX=function(i,e){return ur(i)===ur(e)},n8e=Object.freeze({__proto__:null,toLowerCase:yg,toTitleCase:ur,titleCaseEquals:uX}),ye=class i{constructor(e,t,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ki({},this.options_),t=this.options_=ki(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){let n=e&&e.id&&e.id()||"no_player";this.id_=`${n}_component_${is()}`}this.name_=t.name||null,t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(n=>this.addClass(n)),["on","off","one","any","trigger"].forEach(n=>{this[n]=void 0}),t.evented!==!1&&(b3(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),cX(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,t.initChildren!==!1&&this.initChildren(),this.ready(r),t.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=ki(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,r){return ct(e,t,r)}localize(e,t,r=e){let n=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),s=o&&o[n],a=n&&n.split("-")[0],l=o&&o[a],d=r;return s&&s[e]?d=s[e]:l&&l[e]&&(d=l[e]),t&&(d=d.replace(/\{(\d+)\}/g,function(f,g){let w=t[g-1],A=w;return typeof w>"u"&&(A=f),A})),d}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,n)=>r.concat(n),[]);let t=this;for(let r=0;r<e.length;r++)if(t=t.getChild(e[r]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;let r="http://www.w3.org/2000/svg",n=ct("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),o=Ae.default.createElementNS(r,"svg");o.setAttributeNS(null,"viewBox","0 0 512 512");let s=Ae.default.createElementNS(r,"use");return o.appendChild(s),s.setAttributeNS(null,"href",`#vjs-icon-${e}`),n.appendChild(o),this.iconIsSet_?t.replaceChild(n,t.querySelector(".vjs-icon-placeholder")):t.appendChild(n),this.iconIsSet_=!0,n}addChild(e,t={},r=this.children_.length){let n,o;if(typeof e=="string"){o=ur(e);let s=t.componentClass||o;t.name=o;let a=i.getComponent(s);if(!a)throw new Error(`Component ${s} does not exist`);if(typeof a!="function")return null;n=new a(this.player_||this,t)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(r,0,n),n.parentComponent_=this,typeof n.id=="function"&&(this.childIndex_[n.id()]=n),o=o||n.name&&ur(n.name()),o&&(this.childNameIndex_[o]=n,this.childNameIndex_[yg(o)]=n),typeof n.el=="function"&&n.el()){let s=null;this.children_[r+1]&&(this.children_[r+1].el_?s=this.children_[r+1].el_:If(this.children_[r+1])&&(s=this.children_[r+1])),this.contentEl().insertBefore(n.el(),s)}return n}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[ur(e.name())]=null,this.childNameIndex_[yg(e.name())]=null;let r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){let e=this.options_.children;if(e){let t=this.options_,r=s=>{let a=s.name,l=s.opts;if(t[a]!==void 0&&(l=t[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;let d=this.addChild(a,l);d&&(this[a]=d)},n,o=i.getComponent("Tech");Array.isArray(e)?n=e:n=Object.keys(e),n.concat(Object.keys(this.options_).filter(function(s){return!n.some(function(a){return typeof a=="string"?s===a:s===a.name})})).map(s=>{let a,l;return typeof s=="string"?(a=s,l=e[a]||this.options_[a]||{}):(a=s.name,l=s),{name:a,opts:l}}).filter(s=>{let a=i.getComponent(s.opts.componentClass||ur(s.name));return a&&!o.isTech(a)}).forEach(r)}}buildCSSClass(){return""}ready(e,t=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}t?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){let e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)}$(e,t){return Ac(e,t||this.contentEl())}$$(e,t){return eX(e,t||this.contentEl())}hasClass(e){return gg(this.el_,e)}addClass(...e){id(this.el_,...e)}removeClass(...e){zE(this.el_,...e)}toggleClass(e,t){HW(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return WW(this.el_,e)}setAttribute(e,t){Ef(this.el_,e,t)}removeAttribute(e){KE(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,r){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:t==="auto"?this.el_.style[e]="":this.el_.style[e]=t+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;let n=this.el_.style[e],o=n.indexOf("px");return parseInt(o!==-1?n.slice(0,o):this.el_["offset"+ur(e)],10)}currentDimension(e){let t=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(t=wf(this.el_,e),t=parseFloat(t),t===0||isNaN(t)){let r=`offset${ur(e)}`;t=this.el_[r]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){let e=this.el_.getBoundingClientRect(),t={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:t,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,t=null,r=10,n=200,o;this.on("touchstart",function(a){a.touches.length===1&&(t={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=H.default.performance.now(),o=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)o=!1;else if(t){let l=a.touches[0].pageX-t.pageX,d=a.touches[0].pageY-t.pageY;Math.sqrt(l*l+d*d)>r&&(o=!1)}});let s=function(){o=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(a){t=null,o===!0&&H.default.performance.now()-e<n&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;let e=Ni(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});let r=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,t){var r;return e=Ni(this,e),this.clearTimersOnDispose_(),r=H.default.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},t),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),H.default.clearTimeout(e)),e}setInterval(e,t){e=Ni(this,e),this.clearTimersOnDispose_();let r=H.default.setInterval(e,t);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),H.default.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var t;return e=Ni(this,e),t=H.default.requestAnimationFrame(()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()}),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),t=Ni(this,t);let r=this.requestAnimationFrame(()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),H.default.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,t])=>{this[e].forEach((r,n)=>this[t](n))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function t(o){let s=H.default.getComputedStyle(o,null),a=s.getPropertyValue("visibility");return s.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(a)}function r(o){return!(!t(o.parentElement)||!t(o)||o.style.opacity==="0"||H.default.getComputedStyle(o).height==="0px"||H.default.getComputedStyle(o).width==="0px")}function n(o){if(o.offsetWidth+o.offsetHeight+o.getBoundingClientRect().height+o.getBoundingClientRect().width===0)return!1;let s={x:o.getBoundingClientRect().left+o.offsetWidth/2,y:o.getBoundingClientRect().top+o.offsetHeight/2};if(s.x<0||s.x>(Ae.default.documentElement.clientWidth||H.default.innerWidth)||s.y<0||s.y>(Ae.default.documentElement.clientHeight||H.default.innerHeight))return!1;let a=Ae.default.elementFromPoint(s.x,s.y);for(;a;){if(a===o)return!0;if(a.parentNode)a=a.parentNode;else return!1}}return e||(e=this.el()),!!(n(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,t){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);let r=i.getComponent("Tech"),n=r&&r.isTech(t),o=i===t||i.prototype.isPrototypeOf(t.prototype);if(n||!o){let a;throw n?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=ur(e),i.components_||(i.components_={});let s=i.getComponent("Player");if(e==="Player"&&s&&s.players){let a=s.players,l=Object.keys(a);if(a&&l.length>0){for(let d=0;d<l.length;d++)if(a[l[d]]!==null)throw new Error("Can not register Player component after player has been created.")}}return i.components_[e]=t,i.components_[yg(e)]=t,t}static getComponent(e){if(!(!e||!i.components_))return i.components_[e]}};ye.registerComponent("Component",ye);function o8e(i,e,t){if(typeof e!="number"||e<0||e>t)throw new Error(`Failed to execute '${i}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${t}).`)}function HG(i,e,t,r){return o8e(i,r,t.length-1),t[r][e]}function tL(i){let e;return i===void 0||i.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:i.length,start:HG.bind(null,"start",0,i),end:HG.bind(null,"end",1,i)},H.default.Symbol&&H.default.Symbol.iterator&&(e[H.default.Symbol.iterator]=()=>(i||[]).values()),e}function Ns(i,e){return Array.isArray(i)?tL(i):i===void 0||e===void 0?tL():tL([[i,e]])}var dX=function(i,e){i=i<0?0:i;let t=Math.floor(i%60),r=Math.floor(i/60%60),n=Math.floor(i/3600),o=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(i)||i===1/0)&&(n=r=t="-"),n=n>0||s>0?n+":":"",r=((n||o>=10)&&r<10?"0"+r:r)+":",t=t<10?"0"+t:t,n+r+t},_3=dX;function pX(i){_3=i}function fX(){_3=dX}function od(i,e=i){return _3(i,e)}var s8e=Object.freeze({__proto__:null,createTimeRanges:Ns,createTimeRange:Ns,setFormatTime:pX,resetFormatTime:fX,formatTime:od});function hX(i,e){let t=0,r,n;if(!e)return 0;(!i||!i.length)&&(i=Ns(0,0));for(let o=0;o<i.length;o++)r=i.start(o),n=i.end(o),n>e&&(n=e),t+=n-r;return t/e}function nr(i){if(i instanceof nr)return i;typeof i=="number"?this.code=i:typeof i=="string"?this.message=i:ka(i)&&(typeof i.code=="number"&&(this.code=i.code),Object.assign(this,i)),this.message||(this.message=nr.defaultMessages[this.code]||"")}nr.prototype.code=0;nr.prototype.message="";nr.prototype.status=null;nr.prototype.metadata=null;nr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];nr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};nr.MEDIA_ERR_CUSTOM=0;nr.prototype.MEDIA_ERR_CUSTOM=0;nr.MEDIA_ERR_ABORTED=1;nr.prototype.MEDIA_ERR_ABORTED=1;nr.MEDIA_ERR_NETWORK=2;nr.prototype.MEDIA_ERR_NETWORK=2;nr.MEDIA_ERR_DECODE=3;nr.prototype.MEDIA_ERR_DECODE=3;nr.MEDIA_ERR_SRC_NOT_SUPPORTED=4;nr.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;nr.MEDIA_ERR_ENCRYPTED=5;nr.prototype.MEDIA_ERR_ENCRYPTED=5;function bg(i){return i!=null&&typeof i.then=="function"}function wa(i){bg(i)&&i.then(null,e=>{})}var EL=function(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((t,r,n)=>(i[r]&&(t[r]=i[r]),t),{cues:i.cues&&Array.prototype.map.call(i.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},a8e=function(i){let e=i.$$("track"),t=Array.prototype.map.call(e,n=>n.track);return Array.prototype.map.call(e,function(n){let o=EL(n.track);return n.src&&(o.src=n.src),o}).concat(Array.prototype.filter.call(i.textTracks(),function(n){return t.indexOf(n)===-1}).map(EL))},l8e=function(i,e){return i.forEach(function(t){let r=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(n=>r.addCue(n))}),e.textTracks()},GG={textTracksToJson:a8e,jsonToTextTracks:l8e,trackToJson_:EL},iL="vjs-modal-dialog",Rc=class extends ye{constructor(e,t){super(e,t),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=ct("div",{className:`${iL}-content`},{role:"document"}),this.descEl_=ct("p",{className:`${iL}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Bc(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${iL} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}let e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;let e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){let t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){let n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close_)}!t&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){let t=this.contentEl(),r=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),JW(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t);let o=this.getChild("closeButton");o&&r.appendChild(o.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),GE(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){let e=Ae.default.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;let t=this.focusableEls_(),r=this.el_.querySelector(":focus"),n;for(let o=0;o<t.length;o++)if(r===t[o]){n=o;break}Ae.default.activeElement===this.el_&&(n=0),e.shiftKey&&n===0?(t[t.length-1].focus(),e.preventDefault()):!e.shiftKey&&n===t.length-1&&(t[0].focus(),e.preventDefault())}focusableEls_(){let e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,t=>(t instanceof H.default.HTMLAnchorElement||t instanceof H.default.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof H.default.HTMLInputElement||t instanceof H.default.HTMLSelectElement||t instanceof H.default.HTMLTextAreaElement||t instanceof H.default.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof H.default.HTMLIFrameElement||t instanceof H.default.HTMLObjectElement||t instanceof H.default.HTMLEmbedElement||t.hasAttribute("tabindex")&&t.getAttribute("tabindex")!==-1||t.hasAttribute("contenteditable"))}};Rc.prototype.options_={pauseOnOpen:!0,temporary:!0};ye.registerComponent("ModalDialog",Rc);var kc=class extends En{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){let t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},_l(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let r=0,n=this.length;r<n;r++)if(this[r]===e){t=this[r],t.off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let r=0,n=this.length;r<n;r++){let o=this[r];if(o.id===e){t=o;break}}return t}};kc.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(let i in kc.prototype.allowedEvents_)kc.prototype["on"+i]=null;var rL=function(i,e){for(let t=0;t<i.length;t++)!Object.keys(i[t]).length||e.id===i[t].id||(i[t].enabled=!1)},TL=class extends kc{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){rL(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&rL(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,rL(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}},nL=function(i,e){for(let t=0;t<i.length;t++)!Object.keys(i[t]).length||e.id===i[t].id||(i[t].selected=!1)},wL=class extends kc{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){nL(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set(){}})}addTrack(e){e.selected&&nL(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,nL(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},KC=class extends kc{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}},SL=class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,r=e.length;t<r;t++)this.addTrackElement_(e[t])}addTrackElement_(e){let t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t}removeTrackElement_(e){for(let t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},HC=class i{constructor(e){i.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){let t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;let o=function(s){""+s in this||Object.defineProperty(this,""+s,{get(){return this.cues_[s]}})};if(t<n)for(r=t;r<n;r++)o.call(this,r)}getCueById(e){let t=null;for(let r=0,n=this.length;r<n;r++){let o=this[r];if(o.id===e){t=o;break}}return t}},c8e={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},u8e={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},d8e={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},WG={disabled:"disabled",hidden:"hidden",showing:"showing"},Tg=class extends En{constructor(e={}){super();let t={id:e.id||"vjs_track_"+is(),kind:e.kind||"",language:e.language||""},r=e.label||"";for(let n in t)Object.defineProperty(this,n,{get(){return t[n]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(n){n!==r&&(r=n,this.trigger("labelchange"))}})}},v3=function(i){return new URL(i,Ae.default.baseURI)},mX=function(i){return new URL(i,Ae.default.baseURI).href},x3=function(i){if(typeof i=="string"){let t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(i);if(t)return t.pop().toLowerCase()}return""},QE=function(i,e=H.default.location){return v3(i).origin!==e.origin},p8e=Object.freeze({__proto__:null,parseUrl:v3,getAbsoluteURL:mX,getFileExtension:x3,isCrossOrigin:QE}),XG=function(i,e){let t=new H.default.WebVTT.Parser(H.default,H.default.vttjs,H.default.WebVTT.StringDecoder()),r=[];t.oncue=function(n){e.addCue(n)},t.onparsingerror=function(n){r.push(n)},t.onflush=function(){e.trigger({type:"loadeddata",target:e})},t.parse(i),r.length>0&&(H.default.console&&H.default.console.groupCollapsed&&H.default.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(n=>kt.error(n)),H.default.console&&H.default.console.groupEnd&&H.default.console.groupEnd()),t.flush()},ZG=function(i,e){let t={uri:i},r=QE(i);r&&(t.cors=r);let n=e.tech_.crossOrigin()==="use-credentials";n&&(t.withCredentials=n),(0,p3.default)(t,Ni(this,function(o,s,a){if(o)return kt.error(o,s);e.loaded_=!0,typeof H.default.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){kt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return XG(a,e)}):XG(a,e)}))},sd=class extends Tg{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");let t=ki(e,{kind:d8e[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=WG[t.mode]||"disabled",n=t.default;(t.kind==="metadata"||t.kind==="chapters")&&(r="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;let o=new HC(this.cues_),s=new HC(this.activeCues_),a=!1;this.timeupdateHandler=Ni(this,function(d={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});let l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return n},set(){}},mode:{get(){return r},set(d){WG[d]&&r!==d&&(r=d,!this.preload_&&r!=="disabled"&&this.cues.length===0&&ZG(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?o:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return s;let d=this.tech_.currentTime(),f=[];for(let g=0,w=this.cues.length;g<w;g++){let A=this.cues[g];A.startTime<=d&&A.endTime>=d&&f.push(A)}if(a=!1,f.length!==this.activeCues_.length)a=!0;else for(let g=0;g<f.length;g++)this.activeCues_.indexOf(f[g])===-1&&(a=!0);return this.activeCues_=f,s.setCues_(this.activeCues_),s},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||t.kind!=="subtitles"&&t.kind!=="captions")&&ZG(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){t=new H.default.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(let n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}let r=this.tech_.textTracks();for(let n=0;n<r.length;n++)r[n]!==this&&r[n].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){let r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}};sd.prototype.allowedEvents_={cuechange:"cuechange"};var GC=class extends Tg{constructor(e={}){let t=ki(e,{kind:u8e[e.kind]||""});super(t);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(n){typeof n!="boolean"||n===r||(r=n,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}},WC=class extends Tg{constructor(e={}){let t=ki(e,{kind:c8e[e.kind]||""});super(t);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(n){typeof n!="boolean"||n===r||(r=n,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}},Dc=class i extends En{constructor(e={}){super();let t,r=new sd(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return t}},track:{get(){return r}}}),t=i.NONE,r.addEventListener("loadeddata",()=>{t=i.LOADED,this.trigger({type:"load",target:this})})}};Dc.prototype.allowedEvents_={load:"load"};Dc.NONE=0;Dc.LOADING=1;Dc.LOADED=2;Dc.ERROR=3;var ts={audio:{ListClass:TL,TrackClass:GC,capitalName:"Audio"},video:{ListClass:wL,TrackClass:WC,capitalName:"Video"},text:{ListClass:KC,TrackClass:sd,capitalName:"Text"}};Object.keys(ts).forEach(function(i){ts[i].getterName=`${i}Tracks`,ts[i].privateName=`${i}Tracks_`});var Sf={remoteText:{ListClass:KC,TrackClass:sd,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:SL,TrackClass:Dc,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},xn=Object.assign({},ts,Sf);Sf.names=Object.keys(Sf);ts.names=Object.keys(ts);xn.names=[].concat(Sf.names).concat(ts.names);function f8e(i,e,t,r,n={}){let o=i.textTracks();n.kind=e,t&&(n.label=t),r&&(n.language=r),n.tech=i;let s=new xn.text.TrackClass(n);return o.addTrack(s),s}var wi=class i extends ye{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),xn.names.forEach(r=>{let n=xn[r];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new xn.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ni(this,function(){let t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,t===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Ns(0,0)}bufferedPercent(){return hX(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(ts.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(t=>{let r=this[`${t}Tracks`]()||[],n=r.length;for(;n--;){let o=r[n];t==="text"&&this.removeRemoteTextTrack(o),r.removeTrack(o)}})}cleanupAutoTextTracks(){let e=this.autoRemoteTextTracks_||[],t=e.length;for(;t--;){let r=e[t];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new nr(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Ns(0,0):Ns()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){ts.names.forEach(e=>{let t=ts[e],r=()=>{this.trigger(`${e}trackchange`)},n=this[t.getterName]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),this.on("dispose",()=>{n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!H.default.WebVTT)if(Ae.default.body.contains(this.el())){if(!this.options_["vtt.js"]&&Cf(mL.default)&&Object.keys(mL.default).length>0){this.trigger("vttjsloaded");return}let e=Ae.default.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),H.default.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){let e=this.textTracks(),t=this.remoteTextTracks(),r=a=>e.addTrack(a.track),n=a=>e.removeTrack(a.track);t.on("addtrack",r),t.on("removetrack",n),this.addWebVttScript_();let o=()=>this.trigger("texttrackchange"),s=()=>{o();for(let a=0;a<e.length;a++){let l=e[a];l.removeEventListener("cuechange",o),l.mode==="showing"&&l.addEventListener("cuechange",o)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){t.off("addtrack",r),t.off("removetrack",n),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",o)})}addTextTrack(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return f8e(this,e,t,r)}createRemoteTextTrack(e){let t=ki(e,{tech:this});return new Sf.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){let r=this.createRemoteTextTrack(e);return typeof t!="boolean"&&(t=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),t===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){let t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){let t=is();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())})):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return i.canPlayType(e.type)}static isTech(e){return e.prototype instanceof i||e instanceof i||e===i}static registerTech(e,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ur(e),i.techs_[e]=t,i.techs_[yg(e)]=t,e!=="Tech"&&i.defaultTechOrder_.push(e),t}static getTech(e){if(e){if(i.techs_&&i.techs_[e])return i.techs_[e];if(e=ur(e),H.default&&H.default.videojs&&H.default.videojs[e])return kt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),H.default.videojs[e]}}};xn.names.forEach(function(i){let e=xn[i];wi.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});wi.prototype.featuresVolumeControl=!0;wi.prototype.featuresMuteControl=!0;wi.prototype.featuresFullscreenResize=!1;wi.prototype.featuresPlaybackRate=!1;wi.prototype.featuresProgressEvents=!1;wi.prototype.featuresSourceset=!1;wi.prototype.featuresTimeupdateEvents=!1;wi.prototype.featuresNativeTextTracks=!1;wi.prototype.featuresVideoFrameCallback=!1;wi.withSourceHandlers=function(i){i.registerSourceHandler=function(t,r){let n=i.sourceHandlers;n||(n=i.sourceHandlers=[]),r===void 0&&(r=n.length),n.splice(r,0,t)},i.canPlayType=function(t){let r=i.sourceHandlers||[],n;for(let o=0;o<r.length;o++)if(n=r[o].canPlayType(t),n)return n;return""},i.selectSourceHandler=function(t,r){let n=i.sourceHandlers||[],o;for(let s=0;s<n.length;s++)if(o=n[s].canHandleSource(t,r),o)return n[s];return null},i.canPlaySource=function(t,r){let n=i.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""},["seekable","seeking","duration"].forEach(function(t){let r=this[t];typeof r=="function"&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},i.prototype),i.prototype.setSource=function(t){let r=i.selectSourceHandler(t,this.options_);r||(i.nativeSourceHandler?r=i.nativeSourceHandler:kt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==i.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=r.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},i.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ye.registerComponent("Tech",wi);wi.registerTech("Tech",wi);wi.defaultTechOrder_=[];var rd={},XC={},ZC={};function h8e(i,e){rd[i]=rd[i]||[],rd[i].push(e)}function m8e(i,e,t){i.setTimeout(()=>Ju(e,rd[e.type],t,i),1)}function g8e(i,e){i.forEach(t=>t.setTech&&t.setTech(e))}function y8e(i,e,t){return i.reduceRight(C3(t),e[t]())}function b8e(i,e,t,r){return e[t](i.reduce(C3(t),r))}function QG(i,e,t,r=null){let n="call"+ur(t),o=i.reduce(C3(n),r),s=o===ZC,a=s?null:e[t](o);return x8e(i,t,a,s),a}var _8e={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},v8e={setCurrentTime:1,setMuted:1,setVolume:1},YG={play:1,pause:1};function C3(i){return(e,t)=>e===ZC?ZC:t[i]?t[i](e):e}function x8e(i,e,t,r){for(let n=i.length-1;n>=0;n--){let o=i[n];o[e]&&o[e](r,t)}}function C8e(i){XC.hasOwnProperty(i.id())&&delete XC[i.id()]}function E8e(i,e){let t=XC[i.id()],r=null;if(t==null)return r=e(i),XC[i.id()]=[[e,r]],r;for(let n=0;n<t.length;n++){let[o,s]=t[n];o===e&&(r=s)}return r===null&&(r=e(i),t.push([e,r])),r}function Ju(i={},e=[],t,r,n=[],o=!1){let[s,...a]=e;if(typeof s=="string")Ju(i,rd[s],t,r,n,o);else if(s){let l=E8e(r,s);if(!l.setSource)return n.push(l),Ju(i,a,t,r,n,o);l.setSource(Object.assign({},i),function(d,f){if(d)return Ju(i,a,t,r,n,o);n.push(l),Ju(f,i.type===f.type?a:rd[f.type],t,r,n,o)})}else a.length?Ju(i,a,t,r,n,o):o?t(i,n):Ju(i,rd["*"],t,r,n,!0)}var T8e={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},QC=function(i=""){let e=x3(i);return T8e[e.toLowerCase()]||""},w8e=(i,e)=>{if(!e)return"";if(i.cache_.source.src===e&&i.cache_.source.type)return i.cache_.source.type;let t=i.cache_.sources.filter(n=>n.src===e);if(t.length)return t[0].type;let r=i.$$("source");for(let n=0;n<r.length;n++){let o=r[n];if(o.type&&o.src&&o.src===e)return o.type}return QC(e)},gX=function(i){if(Array.isArray(i)){let e=[];i.forEach(function(t){t=gX(t),Array.isArray(t)?e=e.concat(t):ka(t)&&e.push(t)}),i=e}else typeof i=="string"&&i.trim()?i=[JG({src:i})]:ka(i)&&typeof i.src=="string"&&i.src&&i.src.trim()?i=[JG(i)]:i=[];return i};function JG(i){if(!i.type){let e=QC(i.src);e&&(i.type=e)}return i}var S8e=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`,eW=jC?10009:qC?461:8,cf={codes:{play:415,pause:19,ff:417,rw:412,back:eW},names:{415:"play",19:"pause",417:"ff",412:"rw",[eW]:"back"},isEventKey(i,e){return e=e.toLowerCase(),!!(this.names[i.keyCode]&&this.names[i.keyCode]===e)},getEventName(i){if(this.names[i.keyCode])return this.names[i.keyCode];if(this.codes[i.code]){let e=this.codes[i.code];return this.names[e]}return null}},tW=5,AL=class extends En{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){let t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();let r=t.key.substring(5).toLowerCase();this.move(r)}else if(cf.isEventKey(t,"play")||cf.isEventKey(t,"pause")||cf.isEventKey(t,"ff")||cf.isEventKey(t,"rw")){t.preventDefault();let r=cf.getEventName(t);this.performMediaAction_(r)}else cf.isEventKey(t,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+tW);break;case"rw":this.userSeek_(this.player_.currentTime()-tW);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){let t=e.relatedTarget,r=null,n=this.getCurrentComponent(e.target);t&&(r=!!t.closest(".video-js"),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!t)&&(n&&n.name()==="CloseButton"?this.refocusComponent():(this.pause(),n&&n.el()&&(this.lastFocusedComponent_=n)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){let e=this.player_,t=[];function r(n){for(let o of n)o.hasOwnProperty("el_")&&o.getIsFocusable()&&o.getIsAvailableToBeFocused(o.el())&&t.push(o),o.hasOwnProperty("children_")&&o.children_.length>0&&r(o.children_)}return e.children_.forEach(n=>{if(n.hasOwnProperty("el_"))if(n.getIsFocusable&&n.getIsAvailableToBeFocused&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())){t.push(n);return}else n.hasOwnProperty("children_")&&n.children_.length>0?r(n.children_):n.hasOwnProperty("items")&&n.items.length>0?r(n.items):this.findSuitableDOMChild(n)&&t.push(n);if(n.name_==="ErrorDisplay"&&n.opened_){let o=n.el_.querySelector(".vjs-errors-ok-button-container");o&&o.querySelectorAll("button").forEach((a,l)=>{t.push({name:()=>"ModalButton"+(l+1),el:()=>a,getPositions:()=>{let d=a.getBoundingClientRect(),f={x:d.x,y:d.y,width:d.width,height:d.height,top:d.top,right:d.right,bottom:d.bottom,left:d.left},g={x:d.left+d.width/2,y:d.top+d.height/2,width:0,height:0,top:d.top+d.height/2,right:d.left+d.width/2,bottom:d.top+d.height/2,left:d.left+d.width/2};return{boundingClientRect:f,center:g}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:d=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){function t(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let n=0;n<r.children.length;n++){let o=r.children[n],s=t(o);if(s)return s}return null}return e.el()?t(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();let t=e||document.activeElement;if(this.focusableComponents.length){for(let r of this.focusableComponents)if(r.el()===t)return r}}add(e){let t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name()){this.focusableComponents.splice(t,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){let t=this.getCurrentComponent();if(!t)return;let r=t.getPositions(),n=this.focusableComponents.filter(s=>s!==t&&this.isInDirection_(r.boundingClientRect,s.getPositions().boundingClientRect,e)),o=this.findBestCandidate_(r.center,n,e);o?this.focus(o):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,r){let n=1/0,o=null;for(let s of t){let a=s.getPositions().center,l=this.calculateDistance_(e,a,r);l<n&&(n=l,o=s)}return o}isInDirection_(e,t,r){switch(r){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,t,r){let n=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),s;switch(r){case"right":case"left":s=n+o*100;break;case"up":s=o*2+n*.5;break;case"down":s=o*5+n;break;default:s=n+o}return s}searchForTrackSelect_(){let e=this;for(let t of e.updateFocusableComponents())if(t.constructor.name==="TextTrackSelect"){e.focus(t);break}}},RL=class extends ye{constructor(e,t,r){let n=ki({createEl:!1},t);if(super(e,n,r),!t.playerOptions.sources||t.playerOptions.sources.length===0)for(let o=0,s=t.playerOptions.techOrder;o<s.length;o++){let a=ur(s[o]),l=wi.getTech(a);if(a||(l=ye.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(t.playerOptions.sources)}};ye.registerComponent("MediaLoader",RL);var Af=class extends ye{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",t={},r={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),e==="button"&&kt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=t.tabIndex;let n=ct(e,t,r);return this.player_.options_.experimentalSvgIcons||n.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=ct("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(e===void 0)return this.controlText_||"Need Text";let r=this.localize(e);this.controlText_=e,Bc(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&t.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}};ye.registerComponent("ClickableComponent",Af);var wg=class extends Af{constructor(e,t){super(e,t),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return ct("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){let t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(ct("picture",{className:"vjs-poster",tabIndex:-1},{},ct("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?wa(this.player_.play()):this.player_.pause())}};wg.prototype.crossorigin=wg.prototype.crossOrigin;ye.registerComponent("PosterImage",wg);var es="#222",iW="#ccc",A8e={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function oL(i,e){let t;if(i.length===4)t=i[1]+i[1]+i[2]+i[2]+i[3]+i[3];else if(i.length===7)t=i.slice(1);else throw new Error("Invalid color code provided, "+i+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(t.slice(0,2),16)+","+parseInt(t.slice(2,4),16)+","+parseInt(t.slice(4,6),16)+","+e+")"}function Ea(i,e,t){try{i.style[e]=t}catch{return}}function rW(i){return i?`${i}px`:""}var kL=class extends ye{constructor(e,t,r){super(e,t,r);let n=s=>this.updateDisplay(s),o=s=>{this.updateDisplayOverlay(),this.updateDisplay(s)};e.on("loadstart",s=>this.toggleDisplay(s)),e.on("texttrackchange",n),e.on("loadedmetadata",s=>{this.updateDisplayOverlay(),this.preselectTrack(s)}),e.ready(Ni(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",o),e.on("playerresize",o);let s=H.default.screen.orientation||H.default,a=H.default.screen.orientation?"change":"orientationchange";s.addEventListener(a,o),e.on("dispose",()=>s.removeEventListener(a,o));let l=this.options_.playerOptions.tracks||[];for(let d=0;d<l.length;d++)this.player_.addRemoteTextTrack(l[d],!0);this.preselectTrack()}))}preselectTrack(){let e={captions:1,subtitles:1},t=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,n,o,s;for(let a=0;a<t.length;a++){let l=t[a];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in e?l.kind===r.kind?s=l:s||(s=l):r&&!r.enabled?(s=null,n=null,o=null):l.default&&(l.kind==="descriptions"&&!n?n=l:l.kind in e&&!o&&(o=l))}s?s.mode="showing":o?o.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof H.default.WebVTT=="function"&&H.default.WebVTT.processCues(H.default,[],this.el_)}updateDisplay(){let e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){let s=[];for(let a=0;a<e.length;++a){let l=e[a];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}let r=null,n=null,o=e.length;for(;o--;){let s=e[o];s.mode==="showing"&&(s.kind==="descriptions"?r=s:n=s)}if(n?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!H.default.CSS.supports("inset","10px")){let s=this.el_,a=s.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,d=this.player_.el_.getBoundingClientRect().height;s.style="",Ea(s,"position","relative"),Ea(s,"height",d-l+"px"),Ea(s,"top","unset"),$C?Ea(s,"bottom",d+"px"):Ea(s,"bottom","0px"),a.length>0&&a.forEach(f=>{if(f.style.inset){let g=f.style.inset.split(" ");g.length===3&&Object.assign(f.style,{top:g[0],right:g[1],bottom:g[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!H.default.CSS.supports("inset-inline: 10px"))return;let e=this.player_.currentWidth(),t=this.player_.currentHeight(),r=e/t,n=this.player_.videoWidth()/this.player_.videoHeight(),o=0,s=0;Math.abs(r-n)>.1&&(r>n?o=Math.round((e-t*n)/2):s=Math.round((t-e/n)/2)),Ea(this.el_,"insetInline",rW(o)),Ea(this.el_,"insetBlock",rW(s))}updateDisplayState(e){let t=this.player_.textTrackSettings.getValues(),r=e.activeCues,n=r.length;for(;n--;){let o=r[n];if(!o)continue;let s=o.displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&Ea(s.firstChild,"color",oL(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Ea(s.firstChild,"backgroundColor",oL(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Ea(s,"backgroundColor",oL(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&(t.edgeStyle==="dropshadow"?s.firstChild.style.textShadow=`2px 2px 3px ${es}, 2px 2px 4px ${es}, 2px 2px 5px ${es}`:t.edgeStyle==="raised"?s.firstChild.style.textShadow=`1px 1px ${es}, 2px 2px ${es}, 3px 3px ${es}`:t.edgeStyle==="depressed"?s.firstChild.style.textShadow=`1px 1px ${iW}, 0 1px ${iW}, -1px -1px ${es}, 0 -1px ${es}`:t.edgeStyle==="uniform"&&(s.firstChild.style.textShadow=`0 0 4px ${es}, 0 0 4px ${es}, 0 0 4px ${es}, 0 0 4px ${es}`)),t.fontPercent&&t.fontPercent!==1){let a=H.default.parseFloat(s.style.fontSize);s.style.fontSize=a*t.fontPercent+"px",s.style.height="auto",s.style.top="auto"}t.fontFamily&&t.fontFamily!=="default"&&(t.fontFamily==="small-caps"?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=A8e[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof H.default.WebVTT!="function"||e.every(r=>!r.activeCues))return;let t=[];for(let r=0;r<e.length;++r){let n=e[r];for(let o=0;o<n.activeCues.length;++o)t.push(n.activeCues[o])}H.default.WebVTT.processCues(H.default,t,this.el_);for(let r=0;r<e.length;++r){let n=e[r];for(let o=0;o<n.activeCues.length;++o){let s=n.activeCues[o].displayState;id(s,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:r)),n.language&&Ef(s,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}};ye.registerComponent("TextTrackDisplay",kL);var DL=class extends ye{createEl(){let e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),r=ct("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(r),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}};ye.registerComponent("LoadingSpinner",DL);var Ur=class extends Af{createEl(e,t={},r={}){e="button",t=Object.assign({className:this.buildCSSClass()},t),r=Object.assign({type:"button"},r);let n=ct(e,t,r);return this.player_.options_.experimentalSvgIcons||n.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,t={}){let r=this.constructor.name;return kt.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),ye.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}};ye.registerComponent("Button",Ur);var YC=class extends Ur{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){let t=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){wa(t),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}let r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(!n){this.player_.tech(!0).focus();return}let o=()=>n.focus();bg(t)?t.then(o,()=>{}):this.setTimeout(o,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}};YC.prototype.controlText_="Play Video";ye.registerComponent("BigPlayButton",YC);var IL=class extends Ur{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}};ye.registerComponent("CloseButton",IL);var JC=class extends Ur{constructor(e,t={}){super(e,t),t.replay=t.replay===void 0||t.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),t.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?wa(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",t=>this.handleSeeked(t))}};JC.prototype.controlText_="Play";ye.registerComponent("PlayToggle",JC);var Ic=class extends ye{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){let e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=ct("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}\xA0`},{role:"presentation"});return t.appendChild(r),this.contentEl_=ct("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=od(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let t=this.textNode_;t&&this.contentEl_.firstChild!==t&&(t=null,kt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Ae.default.createTextNode(this.formattedTime_),this.textNode_&&(t?this.contentEl_.replaceChild(this.textNode_,t):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}};Ic.prototype.labelText_="Time";Ic.prototype.controlText_="Time";ye.registerComponent("TimeDisplay",Ic);var Sg=class extends Ic{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;this.player_.ended()?t=this.player_.duration():t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}};Sg.prototype.labelText_="Current Time";Sg.prototype.controlText_="Current Time";ye.registerComponent("CurrentTimeDisplay",Sg);var Ag=class extends Ic{constructor(e,t){super(e,t);let r=n=>this.updateContent(n);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){let t=this.player_.duration();this.updateTextNode_(t)}};Ag.prototype.labelText_="Duration";Ag.prototype.controlText_="Duration";ye.registerComponent("DurationDisplay",Ag);var PL=class extends ye{createEl(){let e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return t.appendChild(r),e.appendChild(t),e}};ye.registerComponent("TimeDivider",PL);var Rg=class extends Ic{constructor(e,t){super(e,t),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){let e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(ct("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let t;this.player_.ended()?t=0:this.player_.remainingTimeDisplay?t=this.player_.remainingTimeDisplay():t=this.player_.remainingTime(),this.updateTextNode_(t)}};Rg.prototype.labelText_="Remaining Time";Rg.prototype.controlText_="Remaining Time";ye.registerComponent("RemainingTimeDisplay",Rg);var LL=class extends ye{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){let e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ct("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ct("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}\xA0`})),this.contentEl_.appendChild(Ae.default.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}};ye.registerComponent("LiveDisplay",LL);var eE=class extends Ur{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){let e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=ct("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}};eE.prototype.controlText_="Seek to live, currently playing live";ye.registerComponent("SeekToLive",eE);function $g(i,e,t){return i=Number(i),Math.min(t,Math.max(e,isNaN(i)?e:i))}var R8e=Object.freeze({__proto__:null,clamp:$g}),kg=class extends ye{constructor(e,t){super(e,t),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;let e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},r={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,t,r)}handleMouseDown(e){let t=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Da&&e.preventDefault(),XW(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){let t=this.bar.el_.ownerDocument;ZW(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;let e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{let t=this.vertical()?"height":"width";this.bar.el().style[t]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number($g(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){let t=HE(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){let t=this.options_.playerOptions.spatialNavigation,r=t&&t.enabled,n=t&&t.horizontalSeek;r?n&&e.key==="ArrowLeft"||!n&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):n&&e.key==="ArrowRight"||!n&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}};ye.registerComponent("Slider",kg);var sL=(i,e)=>$g(i/e*100,0,100).toFixed(2)+"%",BL=class extends ye{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){let e=super.createEl("div",{className:"vjs-load-progress"}),t=ct("span",{className:"vjs-control-text"}),r=ct("span",{textContent:this.localize("Loaded")}),n=Ae.default.createTextNode(": ");return this.percentageEl_=ct("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(r),t.appendChild(n),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{let t=this.player_.liveTracker,r=this.player_.buffered(),n=t&&t.isLive()?t.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),s=this.partEls_,a=sL(o,n);this.percent_!==a&&(this.el_.style.width=a,Bc(this.percentageEl_,a),this.percent_=a);for(let l=0;l<r.length;l++){let d=r.start(l),f=r.end(l),g=s[l];g||(g=this.el_.appendChild(ct()),s[l]=g),!(g.dataset.start===d&&g.dataset.end===f)&&(g.dataset.start=d,g.dataset.end=f,g.style.left=sL(d,o),g.style.width=sL(f-d,o))}for(let l=s.length;l>r.length;l--)this.el_.removeChild(s[l-1]);s.length=r.length})}};ye.registerComponent("LoadProgressBar",BL);var OL=class extends ye{constructor(e,t){super(e,t),this.update=Ia(Ni(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,r){let n=Cg(this.el_),o=Tf(this.player_.el()),s=e.width*t;if(!o||!n)return;let a=e.left-o.left+s,l=e.width-s+(o.right-e.right);l||(l=e.width-s,a=s);let d=n.width/2;a<d?d+=d-a:l<d&&(d=l),d<0?d=0:d>n.width&&(d=n.width),d=Math.round(d),this.el_.style.right=`-${d}px`,this.write(r)}write(e){Bc(this.el_,e)}updateTime(e,t,r,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let o,s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){let a=this.player_.liveTracker.liveWindow(),l=a-t*a;o=(l<1?"":"-")+od(l,a)}else o=od(r,s);this.update(e,t,o),n&&n()})}};ye.registerComponent("TimeTooltip",OL);var Dg=class extends ye{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=Ia(Ni(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){let r=this.getChild("timeTooltip");if(!r)return;let n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,t,n)}};Dg.prototype.options_={children:[]};!an&&!Fs&&Dg.prototype.options_.children.push("timeTooltip");ye.registerComponent("PlayProgressBar",Dg);var tE=class extends ye{constructor(e,t){super(e,t),this.update=Ia(Ni(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){let r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,()=>{this.el_.style.left=`${e.width*t}px`})}};tE.prototype.options_={children:["timeTooltip"]};ye.registerComponent("MouseTimeDisplay",tE);var iE=class i extends kg{constructor(e,t){t=ki(i.prototype.options_,t),t.children=[...t.children];let r=e.options_.disableSeekWhileScrubbingOnMobile&&(an||Fs);(!an&&!Fs||r)&&t.children.splice(1,0,"mouseTimeDisplay"),super(e,t),this.shouldDisableSeekWhileScrubbingOnMobile_=r,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=Ni(this,this.update),this.update=Ia(this.update_,rs),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ae.default&&"visibilityState"in Ae.default&&this.on(Ae.default,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Ae.default.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,rs))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Ae.default.visibilityState==="hidden")return;let t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{let r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker,o=this.player_.duration();n&&n.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(t*100).toFixed(2)),this.percent_=t),(this.currentTime_!==r||this.duration_!==o)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[od(r,o),od(o,o)],"{1} of {2}")),this.currentTime_=r,this.duration_=o),this.bar&&this.bar.update(Tf(this.el()),this.getProgress())}),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();let e=this.getCurrentTime_(),t,r=this.player_.liveTracker;return r&&r.isLive()?(t=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){Eg(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!Eg(e)||isNaN(this.player_.duration()))return;!t&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r,n=this.calculateDistance(e),o=this.player_.liveTracker;if(!o||!o.isLive())r=n*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(n>=.99){o.seekToLiveEdge();return}let s=o.seekableStart(),a=o.liveCurrentTime();if(r=s+n*o.liveWindow(),r>=a&&(r=a),r<=s&&(r=s+.1),r===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=r:this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();let e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();let e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?wa(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){let t=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();let r=parseInt(e.key,10)*.1;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ae.default&&"visibilityState"in Ae.default&&this.off(Ae.default,"visibilitychange",this.toggleVisibility_),super.dispose()}};iE.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};ye.registerComponent("SeekBar",iE);var rE=class extends ye{constructor(e,t){super(e,t),this.handleMouseMove=Ia(Ni(this,this.handleMouseMove),rs),this.throttledHandleMouseSeek=Ia(Ni(this,this.handleMouseSeek),rs),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){let t=this.getChild("seekBar");if(!t)return;let r=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(!r&&!n)return;let o=t.el(),s=Cg(o),a=HE(o,e).x;a=$g(a,0,1),n&&n.update(s,a),r&&r.update(s,t.getProgress())}handleMouseSeek(e){let t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){let e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&wa(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){let e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){let t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){let t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}};rE.prototype.options_={children:["seekBar"]};ye.registerComponent("ProgressControl",rE);var nE=class extends Ur{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Ae.default.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in H.default?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Ae.default.exitPictureInPicture=="function"&&super.show()}};nE.prototype.controlText_="Picture-in-Picture";ye.registerComponent("PictureInPictureToggle",nE);var oE=class extends Ur{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),Ae.default[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}};oE.prototype.controlText_="Fullscreen";ye.registerComponent("FullscreenToggle",oE);var k8e=function(i,e){e.tech_&&!e.tech_.featuresVolumeControl&&i.addClass("vjs-hidden"),i.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")})},ML=class extends ye{createEl(){let e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}};ye.registerComponent("VolumeLevel",ML);var VL=class extends ye{constructor(e,t){super(e,t),this.update=Ia(Ni(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,r,n){if(!r){let o=Tf(this.el_),s=Tf(this.player_.el()),a=e.width*t;if(!s||!o)return;let l=e.left-s.left+a,d=e.width-a+(s.right-e.right),f=o.width/2;l<f?f+=f-l:d<f&&(f=d),f<0?f=0:f>o.width&&(f=o.width),this.el_.style.right=`-${f}px`}this.write(`${n}%`)}write(e){Bc(this.el_,e)}updateVolume(e,t,r,n,o){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,t,r,n.toFixed(0)),o&&o()})}};ye.registerComponent("VolumeLevelTooltip",VL);var sE=class extends ye{constructor(e,t){super(e,t),this.update=Ia(Ni(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,r){let n=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,r,n,()=>{r?this.el_.style.bottom=`${e.height*t}px`:this.el_.style.left=`${e.width*t}px`})}};sE.prototype.options_={children:["volumeLevelTooltip"]};ye.registerComponent("MouseVolumeLevelDisplay",sE);var Rf=class extends kg{constructor(e,t){super(e,t),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Eg(e)&&super.handleMouseDown(e)}handleMouseMove(e){let t=this.getChild("mouseVolumeLevelDisplay");if(t){let r=this.el(),n=Tf(r),o=this.vertical(),s=HE(r,e);s=o?s.y:s.x,s=$g(s,0,1),t.update(n,s,o)}Eg(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){let t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){let e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}};Rf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!an&&!Fs&&Rf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Rf.prototype.playerEvent="volumechange";ye.registerComponent("VolumeBar",Rf);var aE=class extends ye{constructor(e,t={}){t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||Cf(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),k8e(this,e),this.throttledHandleMouseMove=Ia(Ni(this,this.handleMouseMove),rs),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){let t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){let t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}};aE.prototype.options_={children:["volumeBar"]};ye.registerComponent("VolumeControl",aE);var D8e=function(i,e){e.tech_&&!e.tech_.featuresMuteControl&&i.addClass("vjs-hidden"),i.on(e,"loadstart",function(){e.tech_.featuresMuteControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")})},lE=class extends Ur{constructor(e,t){super(e,t),D8e(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){let t=this.player_.volume(),r=this.player_.lastVolume_();if(t===0){let n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){let e=this.player_.volume(),t=3;this.setIcon("volume-high"),an&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),zE(this.el_,[0,1,2,3].reduce((r,n)=>r+`${n?" ":""}vjs-vol-${n}`,"")),id(this.el_,`vjs-vol-${t}`)}updateControlText_(){let t=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)}};lE.prototype.controlText_="Mute";ye.registerComponent("MuteToggle",lE);var cE=class extends ye{constructor(e,t={}){typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||Cf(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),wo(Ae.default,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),ln(Ae.default,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}};cE.prototype.options_={children:["muteToggle","volumeControl"]};ye.registerComponent("VolumePanel",cE);var uE=class extends Ur{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){let e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;let t=this.player_.currentTime(),r=this.player_.liveTracker,n=r&&r.isLive()?r.seekableEnd():this.player_.duration(),o;t+this.skipTime<=n?o=t+this.skipTime:o=n,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}};uE.prototype.controlText_="Skip Forward";ye.registerComponent("SkipForward",uE);var dE=class extends Ur{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){let e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){let t=this.player_.currentTime(),r=this.player_.liveTracker,n=r&&r.isLive()&&r.seekableStart(),o;n&&t-this.skipTime<=n?o=n:t>=this.skipTime?o=t-this.skipTime:o=0,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}};dE.prototype.controlText_="Skip Backward";ye.registerComponent("SkipBackward",dE);var pE=class extends ye{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof ye&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof ye&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){let t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){let e=this.options_.contentElType||"ul";this.contentEl_=ct(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");let t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),wo(t,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){let t=e.relatedTarget||Ae.default.activeElement;if(!this.children().some(r=>r.el()===t)){let r=this.menuButton_;r&&r.buttonPressed_&&t!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();let t=this.children();if(!Array.isArray(t))return;let r=t.filter(n=>n.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){let t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}};ye.registerComponent("Menu",pE);var Ig=class extends ye{constructor(e,t={}){super(e,t),this.menuButton_=new Ur(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");let r=Ur.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;let n=o=>this.handleClick(o);this.handleMenuKeyUp_=o=>this.handleMenuKeyUp(o),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",o=>this.handleKeyDown(o)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),wo(Ae.default,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",o=>this.handleMouseLeave(o)),this.on("keydown",o=>this.handleSubmenuKeyDown(o))}update(){let e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){let e=new pE(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){let t=ct("li",{className:"vjs-menu-title",textContent:ur(this.options_.title),tabIndex:-1}),r=new ye(this.player_,{el:t});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";let t=Ur.prototype.buildCSSClass();return`vjs-menu-button ${e} ${t} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),ln(Ae.default,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),an&&zW())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}};ye.registerComponent("MenuButton",Ig);var Pg=class extends Ig{constructor(e,t){let r=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!r)return;let n=Ni(this,this.update);r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),r.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n),r.removeEventListener("labelchange",n)})}};ye.registerComponent("TrackButton",Pg);var ad=class extends Af{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,r){this.nonIconControl=!0;let n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),r),o=ct("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(o):n.replaceChild(o,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}};ye.registerComponent("MenuItem",ad);var ld=class extends ad{constructor(e,t){let r=t.track,n=e.textTracks();t.label=r.label||r.language||"Unknown",t.selected=r.mode==="showing",super(e,t),this.track=r,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);let o=(...a)=>{this.handleTracksChange.apply(this,a)},s=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],o),n.addEventListener("change",o),n.addEventListener("selectedlanguagechange",s),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],o),n.removeEventListener("change",o),n.removeEventListener("selectedlanguagechange",s)}),n.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof H.default.Event!="object")try{a=new H.default.Event("change")}catch{}a||(a=Ae.default.createEvent("Event"),a.initEvent("change",!0,!0)),n.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){let t=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let n=0;n<r.length;n++){let o=r[n];this.kinds.indexOf(o.kind)!==-1&&(o===t?o.mode!=="showing"&&(o.mode="showing"):o.mode!=="disabled"&&(o.mode="disabled"))}}handleTracksChange(e){let t=this.track.mode==="showing";t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){let t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}};ye.registerComponent("TextTrackMenuItem",ld);var fE=class extends ld{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){let t=this.player().textTracks(),r=!0;for(let n=0,o=t.length;n<o;n++){let s=t[n];if(this.options_.kinds.indexOf(s.kind)>-1&&s.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){let t=this.player().textTracks(),r=!0;for(let n=0,o=t.length;n<o;n++){let s=t[n];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&s.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}};ye.registerComponent("OffTextTrackMenuItem",fE);var Pc=class extends Pg{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=ld){let r;this.label_&&(r=`${this.label_} off`),e.push(new fE(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;let n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let o=0;o<n.length;o++){let s=n[o];if(this.kinds_.indexOf(s.kind)>-1){let a=new t(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${s.kind}-menu-item`),e.push(a)}}return e}};ye.registerComponent("TextTrackButton",Pc);var hE=class extends ad{constructor(e,t){let r=t.track,n=t.cue,o=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=n.text,t.selected=n.startTime<=o&&o<n.endTime,super(e,t),this.track=r,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}};ye.registerComponent("ChaptersTrackMenuItem",hE);var Lg=class extends Pc{constructor(e,t,r){super(e,t,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(n=>{n.selected(this.track_.activeCues[0]===n.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;let t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){let t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";let t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){let e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){let r=e[t];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(ur(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){let e=[];if(!this.track_)return e;let t=this.track_.cues;if(!t)return e;for(let r=0,n=t.length;r<n;r++){let o=t[r],s=new hE(this.player_,{track:this.track_,cue:o});e.push(s)}return e}};Lg.prototype.kind_="chapters";Lg.prototype.controlText_="Chapters";ye.registerComponent("ChaptersButton",Lg);var Bg=class extends Pc{constructor(e,t,r){super(e,t,r),this.setIcon("audio-description");let n=e.textTracks(),o=Ni(this,this.handleTracksChange);n.addEventListener("change",o),this.on("dispose",function(){n.removeEventListener("change",o)})}handleTracksChange(e){let t=this.player().textTracks(),r=!1;for(let n=0,o=t.length;n<o;n++){let s=t[n];if(s.kind!==this.kind_&&s.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}};Bg.prototype.kind_="descriptions";Bg.prototype.controlText_="Descriptions";ye.registerComponent("DescriptionsButton",Bg);var Og=class extends Pc{constructor(e,t,r){super(e,t,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}};Og.prototype.kind_="subtitles";Og.prototype.controlText_="Subtitles";ye.registerComponent("SubtitlesButton",Og);var Mg=class extends ld{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}};ye.registerComponent("CaptionSettingsMenuItem",Mg);var Vg=class extends Pc{constructor(e,t,r){super(e,t,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Mg(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}};Vg.prototype.kind_="captions";Vg.prototype.controlText_="Captions";ye.registerComponent("CaptionsButton",Vg);var mE=class extends ld{createEl(e,t,r){let n=super.createEl(e,t,r),o=n.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):o.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(ct("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),n}};ye.registerComponent("SubsCapsMenuItem",mE);var Ng=class extends Pc{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(ur(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Mg(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,mE),e}};Ng.prototype.kinds_=["captions","subtitles"];Ng.prototype.controlText_="Subtitles";ye.registerComponent("SubsCapsButton",Ng);var gE=class extends ad{constructor(e,t){let r=t.track,n=e.audioTracks();t.label=r.label||r.language||"Unknown",t.selected=r.enabled,super(e,t),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);let o=(...s)=>{this.handleTracksChange.apply(this,s)};n.addEventListener("change",o),this.on("dispose",()=>{n.removeEventListener("change",o)})}createEl(e,t,r){let n=super.createEl(e,t,r),o=n.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(o.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(ct("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){let t=this.player_.audioTracks();for(let r=0;r<t.length;r++){let n=t[r];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}};ye.registerComponent("AudioTrackMenuItem",gE);var yE=class extends Pg{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;let t=this.player_.audioTracks();for(let r=0;r<t.length;r++){let n=t[r];e.push(new gE(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}};yE.prototype.controlText_="Audio Track";ye.registerComponent("AudioTrackButton",yE);var Fg=class extends ad{constructor(e,t){let r=t.rate,n=parseFloat(r,10);t.label=r,t.selected=n===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=r,this.rate=n,this.on(e,"ratechange",o=>this.update(o))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}};Fg.prototype.contentElType="button";ye.registerComponent("PlaybackRateMenuItem",Fg);var bE=class extends Ig{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){let e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ct("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){let e=this.playbackRates(),t=[];for(let r=e.length-1;r>=0;r--)t.push(new Fg(this.player(),{rate:e[r]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){let e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}};bE.prototype.controlText_="Playback Rate";ye.registerComponent("PlaybackRateMenuButton",bE);var _E=class extends ye{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},r={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,r)}};ye.registerComponent("Spacer",_E);var NL=class extends _E{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:"\xA0"})}};ye.registerComponent("CustomControlSpacer",NL);var vE=class extends ye{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}};vE.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};ye.registerComponent("ControlBar",vE);var xE=class extends Rc{constructor(e,t){super(e,t),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){let e=this.player().error();return e?this.localize(e.message):""}};xE.prototype.options_=Object.assign({},Rc.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ye.registerComponent("ErrorDisplay",xE);var CE=class extends ye{constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),ct("select",{id:this.options_.id},{},this.options_.SelectOptions.map(t=>{let r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${is()}`)+"-"+t[1].replace(/\W+/g,""),n=ct("option",{id:r,value:this.localize(t[0]),textContent:this.localize(t[1])});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),n}))}};ye.registerComponent("TextTrackSelect",CE);var vl=class extends ye{constructor(e,t={}){super(e,t);let r=ct("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);let n=this.options_.selects;for(let o of n){let s=this.options_.selectConfigs[o],a=s.className,l=s.id.replace("%s",this.options_.id_),d=null,f=`vjs_select_${is()}`;if(this.options_.type==="colors"){d=ct("span",{className:a});let w=ct("label",{id:l,className:"vjs-label",textContent:this.localize(s.label)});w.setAttribute("for",f),d.appendChild(w)}let g=new CE(e,{SelectOptions:s.options,legendId:this.options_.legendId,id:f,labelId:l});this.addChild(g),this.options_.type==="colors"&&(d.appendChild(g.el()),this.el().appendChild(d))}}createEl(){return ct("fieldset",{className:this.options_.className})}};ye.registerComponent("TextTrackFieldset",vl);var EE=class extends ye{constructor(e,t={}){super(e,t);let r=this.options_.textTrackComponentid,n=new vl(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);let o=new vl(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o);let s=new vl(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s)}createEl(){return ct("div",{className:"vjs-track-settings-colors"})}};ye.registerComponent("TextTrackSettingsColors",EE);var TE=class extends ye{constructor(e,t={}){super(e,t);let r=this.options_.textTrackComponentid,n=new vl(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);let o=new vl(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o);let s=new vl(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s)}createEl(){return ct("div",{className:"vjs-track-settings-font"})}};ye.registerComponent("TextTrackSettingsFont",TE);var wE=class extends ye{constructor(e,t={}){super(e,t);let r=this.localize("restore all settings to the default values"),n=new Ur(e,{controlText:r,className:"vjs-default-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Reset"),this.addChild(n);let o=new Ur(e,{controlText:r,className:"vjs-done-button"});o.el().classList.remove("vjs-control","vjs-button"),o.el().textContent=this.localize("Done"),this.addChild(o)}createEl(){return ct("div",{className:"vjs-track-settings-controls"})}};ye.registerComponent("TrackSettingsControls",wE);var aL="vjs-text-track-settings",nW=["#000","Black"],oW=["#00F","Blue"],sW=["#0FF","Cyan"],aW=["#0F0","Green"],lW=["#F0F","Magenta"],cW=["#F00","Red"],uW=["#FFF","White"],dW=["#FF0","Yellow"],lL=["1","Opaque"],cL=["0.5","Semi-Transparent"],pW=["0","Transparent"],Ec={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[nW,uW,cW,aW,oW,dW,lW,sW],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[lL,cL,pW],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[uW,nW,cW,aW,oW,dW,lW,sW],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:i=>i==="1.00"?null:Number(i)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[lL,cL],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[pW,cL,lL],className:"vjs-window-opacity vjs-opacity"}};Ec.windowColor.options=Ec.backgroundColor.options;function yX(i,e){if(e&&(i=e(i)),i&&i!=="none")return i}function I8e(i,e){let t=i.options[i.options.selectedIndex].value;return yX(t,e)}function P8e(i,e,t){if(e){for(let r=0;r<i.options.length;r++)if(yX(i.options[r].value,t)===e){i.selectedIndex=r;break}}}var FL=class extends Rc{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=ct("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),t.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){let t=new EE(e,{textTrackComponentid:this.id_,selectConfigs:Ec,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);let r=new TE(e,{textTrackComponentid:this.id_,selectConfigs:Ec,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);let n=new wE(e);this.addChild(n)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),ff(Ec,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return VW(Ec,(e,t,r)=>{let n=I8e(this.$(t.selector),t.parser);return n!==void 0&&(e[r]=n),e},{})}setValues(e){ff(Ec,(t,r)=>{P8e(this.$(t.selector),e[r],t.parser)})}setDefaults(){ff(Ec,e=>{let t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t})}restoreSettings(){let e;try{e=JSON.parse(H.default.localStorage.getItem(aL))}catch(t){kt.warn(t)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;let e=this.getValues();try{Object.keys(e).length?H.default.localStorage.setItem(aL,JSON.stringify(e)):H.default.localStorage.removeItem(aL)}catch(t){kt.warn(t)}}updateDisplay(){let e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}};ye.registerComponent("TextTrackSettings",FL);var UL=class extends ye{constructor(e,t){let r=t.ResizeObserver||H.default.ResizeObserver;t.ResizeObserver===null&&(r=!1);let n=ki({createEl:!r,reportTouchActivity:!1},t);super(e,n),this.ResizeObserver=t.ResizeObserver||H.default.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=sX(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;let o=this.debouncedHandler_,s=this.unloadListener_=function(){ln(this,"resize",o),ln(this,"unload",s),s=null};wo(this.el_.contentWindow,"unload",s),wo(this.el_.contentWindow,"resize",o)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}};ye.registerComponent("ResizeManager",UL);var L8e={trackingThreshold:20,liveTolerance:15},jL=class extends ye{constructor(e,t){let r=ki(L8e,t,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=n=>this.handlePlay(n),this.handleFirstTimeupdate_=n=>this.handleFirstTimeupdate(n),this.handleSeeked_=n=>this.handleSeeked(n),this.seekToLiveEdge_=n=>this.seekToLiveEdge(n),this.reset_(),this.on(this.player_,"durationchange",n=>this.handleDurationchange(n)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){let e=this.player_.seekable();if(!e||!e.length)return;let t=Number(H.default.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+r;let n=this.liveCurrentTime(),o=this.player_.currentTime(),s=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-o)>this.options_.liveTolerance;(!this.timeupdateSeen_||n===1/0)&&(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,rs),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){let e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){let e=this.player_.seekable(),t=[],r=e?e.length:0;for(;r--;)t.push(e.end(r));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){let e=this.player_.seekable(),t=[],r=e?e.length:0;for(;r--;)t.push(e.start(r));return t.length?t.sort()[0]:0}liveWindow(){let e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){let e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}};ye.registerComponent("LiveTracker",jL);var qL=class extends ye{constructor(e,t){super(e,t),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:ct("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${is()}`}),description:ct("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${is()}`})},ct("div",{className:"vjs-title-bar"},{},NW(this.els))}updateDom_(){let e=this.player_.tech_,t=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(n=>{let o=this.state[n],s=this.els[n],a=r[n];GE(s),o&&Bc(s,o),t&&(t.removeAttribute(a),o&&t.setAttribute(a,s.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){let e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}};ye.registerComponent("TitleBar",qL);var B8e={initialDisplay:4e3,position:[],takeFocus:!1},$L=class extends Ur{constructor(e,t){t=ki(B8e,t),super(e,t),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){let e=ct("button",{},{type:"button",class:this.buildCSSClass()},ct("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}};ye.registerComponent("TransientButton",$L);var zL=i=>{let e=i.el();if(e.hasAttribute("src"))return i.triggerSourceset(e.src),!0;let t=i.$$("source"),r=[],n="";if(!t.length)return!1;for(let o=0;o<t.length;o++){let s=t[o].src;s&&r.indexOf(s)===-1&&r.push(s)}return r.length?(r.length===1&&(n=r[0]),i.triggerSourceset(n),!0):!1},O8e=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(i){let e=Ae.default.createElement(this.nodeName.toLowerCase());e.innerHTML=i;let t=Ae.default.createDocumentFragment();for(;e.childNodes.length;)t.appendChild(e.childNodes[0]);return this.innerText="",H.default.Element.prototype.appendChild.call(this,t),this.innerHTML}}),bX=(i,e)=>{let t={};for(let r=0;r<i.length&&(t=Object.getOwnPropertyDescriptor(i[r],e),!(t&&t.set&&t.get));r++);return t.enumerable=!0,t.configurable=!0,t},M8e=i=>bX([i.el(),H.default.HTMLMediaElement.prototype,H.default.Element.prototype,O8e],"innerHTML"),fW=function(i){let e=i.el();if(e.resetSourceWatch_)return;let t={},r=M8e(i),n=o=>(...s)=>{let a=o.apply(e,s);return zL(i),a};["append","appendChild","insertAdjacentHTML"].forEach(o=>{e[o]&&(t[o]=e[o],e[o]=n(t[o]))}),Object.defineProperty(e,"innerHTML",ki(r,{set:n(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(t).forEach(o=>{e[o]=t[o]}),Object.defineProperty(e,"innerHTML",r)},i.one("sourceset",e.resetSourceWatch_)},V8e=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?mX(H.default.Element.prototype.getAttribute.call(this,"src")):""},set(i){return H.default.Element.prototype.setAttribute.call(this,"src",i),i}}),N8e=i=>bX([i.el(),H.default.HTMLMediaElement.prototype,V8e],"src"),F8e=function(i){if(!i.featuresSourceset)return;let e=i.el();if(e.resetSourceset_)return;let t=N8e(i),r=e.setAttribute,n=e.load;Object.defineProperty(e,"src",ki(t,{set:o=>{let s=t.set.call(e,o);return i.triggerSourceset(e.src),s}})),e.setAttribute=(o,s)=>{let a=r.call(e,o,s);return/src/i.test(o)&&i.triggerSourceset(e.src),a},e.load=()=>{let o=n.call(e);return zL(i)||(i.triggerSourceset(""),fW(i)),o},e.currentSrc?i.triggerSourceset(e.currentSrc):zL(i)||fW(i),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=n,e.setAttribute=r,Object.defineProperty(e,"src",t),e.resetSourceWatch_&&e.resetSourceWatch_()}},je=class i extends wi{constructor(e,t){super(e,t);let r=e.source,n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){let o=this.el_.childNodes,s=o.length,a=[];for(;s--;){let l=o[s];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!n&&!this.el_.hasAttribute("crossorigin")&&QE(l.src)&&(n=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&kt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(xg||qE)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){F8e(this)}restoreMetadataTracksInIOSNativePlayer_(){let e=this.textTracks(),t,r=()=>{t=[];for(let o=0;o<e.length;o++){let s=e[o];s.kind==="metadata"&&t.push({track:s,storedMode:s.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));let n=()=>{for(let o=0;o<t.length;o++){let s=t[o];s.track.mode==="disabled"&&s.track.mode!==s.storedMode&&(s.track.mode=s.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",n)})}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;let r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(n=>{this.el()[`${r}Tracks`].removeEventListener(n,this[`${r}TracksListeners_`][n])}),this[`featuresNative${e}Tracks`]=!t,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){let t=ts[e],r=this.el()[t.getterName],n=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!r||!r.addEventListener)return;let o={change:a=>{let l={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(l),e==="text"&&this[Sf.remoteText.getterName]().trigger(l)},addtrack(a){n.addTrack(a.track)},removetrack(a){n.removeTrack(a.track)}},s=function(){let a=[];for(let l=0;l<n.length;l++){let d=!1;for(let f=0;f<r.length;f++)if(r[f]===n[l]){d=!0;break}d||a.push(n[l])}for(;a.length;)n.removeTrack(a.shift())};this[t.getterName+"Listeners_"]=o,Object.keys(o).forEach(a=>{let l=o[a];r.addEventListener(a,l),this.on("dispose",d=>r.removeEventListener(a,l))}),this.on("loadstart",s),this.on("dispose",a=>this.off("loadstart",s))}proxyNativeTracks_(){ts.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){let r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),i.disposeMediaElement(e),e=r}else{e=Ae.default.createElement("video");let r=this.options_.tag&&Cc(this.options_.tag),n=ki({},r);(!xg||this.options_.nativeControlsForTouch!==!0)&&delete n.controls,GW(e,Object.assign(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Ef(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);let t=["loop","muted","playsinline","autoplay"];for(let r=0;r<t.length;r++){let n=t[r],o=this.options_[n];typeof o<"u"&&(o?Ef(e,n,n):KE(e,n),e[n]=o)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1,n=function(){r=!0};this.on("loadstart",n);let o=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",o),r||this.trigger("loadstart")});return}let t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready(function(){t.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&$E?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){kt(t,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Fs&&Da&&this.el_.currentTime===0){let e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;let e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){let e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)wa(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,t){if(!e)return kt.error("Invalid source URL."),!1;let r={src:e};t&&(r.type=t);let n=ct("source",{},r);return this.el_.appendChild(n),!0}removeSourceElement(e){if(!e)return kt.error("Source URL is required to remove the source element."),!1;let t=this.el_.querySelectorAll("source");for(let r of t)if(r.src===e)return this.el_.removeChild(r),!0;return kt.warn(`No matching source element found with src: ${e}`),!1}reset(){i.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,r):super.addTextTrack(e,t,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);let t=Ae.default.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){let r=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){let t=this.$$("track"),r=t.length;for(;r--;)(e===t[r]||e===t[r].track)&&this.el().removeChild(t[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();let e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),H.default.performance&&(e.creationTime=H.default.performance.now()),e}};FE(je,"TEST_VID",function(){if(!Df())return;let i=Ae.default.createElement("video"),e=Ae.default.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",i.appendChild(e),i});je.isSupported=function(){try{je.TEST_VID.volume=.5}catch{return!1}return!!(je.TEST_VID&&je.TEST_VID.canPlayType)};je.canPlayType=function(i){return je.TEST_VID.canPlayType(i)};je.canPlaySource=function(i,e){return je.canPlayType(i.type)};je.canControlVolume=function(){try{let i=je.TEST_VID.volume;je.TEST_VID.volume=i/2+.1;let e=i!==je.TEST_VID.volume;return e&&an?(H.default.setTimeout(()=>{je&&je.prototype&&(je.prototype.featuresVolumeControl=i!==je.TEST_VID.volume)}),!1):e}catch{return!1}};je.canMuteVolume=function(){try{let i=je.TEST_VID.muted;return je.TEST_VID.muted=!i,je.TEST_VID.muted?Ef(je.TEST_VID,"muted","muted"):KE(je.TEST_VID,"muted","muted"),i!==je.TEST_VID.muted}catch{return!1}};je.canControlPlaybackRate=function(){if(Fs&&Da&&UE<58)return!1;try{let i=je.TEST_VID.playbackRate;return je.TEST_VID.playbackRate=i/2+.1,i!==je.TEST_VID.playbackRate}catch{return!1}};je.canOverrideAttributes=function(){try{let i=()=>{};Object.defineProperty(Ae.default.createElement("video"),"src",{get:i,set:i}),Object.defineProperty(Ae.default.createElement("audio"),"src",{get:i,set:i}),Object.defineProperty(Ae.default.createElement("video"),"innerHTML",{get:i,set:i}),Object.defineProperty(Ae.default.createElement("audio"),"innerHTML",{get:i,set:i})}catch{return!1}return!0};je.supportsNativeTextTracks=function(){return $E||an&&Da};je.supportsNativeVideoTracks=function(){return!!(je.TEST_VID&&je.TEST_VID.videoTracks)};je.supportsNativeAudioTracks=function(){return!!(je.TEST_VID&&je.TEST_VID.audioTracks)};je.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([i,e]){FE(je.prototype,i,()=>je[e](),!0)});je.prototype.featuresVolumeControl=je.canControlVolume();je.prototype.movingMediaElementInDOM=!an;je.prototype.featuresFullscreenResize=!0;je.prototype.featuresProgressEvents=!0;je.prototype.featuresTimeupdateEvents=!0;je.prototype.featuresVideoFrameCallback=!!(je.TEST_VID&&je.TEST_VID.requestVideoFrameCallback);je.disposeMediaElement=function(i){if(i){for(i.parentNode&&i.parentNode.removeChild(i);i.hasChildNodes();)i.removeChild(i.firstChild);i.removeAttribute("src"),typeof i.load=="function"&&function(){try{i.load()}catch{}}()}};je.resetMediaElement=function(i){if(!i)return;let e=i.querySelectorAll("source"),t=e.length;for(;t--;)i.removeChild(e[t]);i.removeAttribute("src"),typeof i.load=="function"&&function(){try{i.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(i){je.prototype[i]=function(){return this.el_[i]||this.el_.hasAttribute(i)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(i){je.prototype["set"+ur(i)]=function(e){this.el_[i]=e,e?this.el_.setAttribute(i,i):this.el_.removeAttribute(i)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(i){je.prototype[i]=function(){return this.el_[i]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(i){je.prototype["set"+ur(i)]=function(e){this.el_[i]=e}});["pause","load","play"].forEach(function(i){je.prototype[i]=function(){return this.el_[i]()}});wi.withSourceHandlers(je);je.nativeSourceHandler={};je.nativeSourceHandler.canPlayType=function(i){try{return je.TEST_VID.canPlayType(i)}catch{return""}};je.nativeSourceHandler.canHandleSource=function(i,e){if(i.type)return je.nativeSourceHandler.canPlayType(i.type);if(i.src){let t=x3(i.src);return je.nativeSourceHandler.canPlayType(`video/${t}`)}return""};je.nativeSourceHandler.handleSource=function(i,e,t){e.setSrc(i.src)};je.nativeSourceHandler.dispose=function(){};je.registerSourceHandler(je.nativeSourceHandler);wi.registerTech("Html5",je);var _X=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],uL={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},KL=["tiny","xsmall","small","medium","large","xlarge","huge"],MC={};KL.forEach(i=>{let e=i.charAt(0)==="x"?`x-${i.substring(1)}`:i;MC[i]=`vjs-layout-${e}`});var U8e={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},mr=class i extends ye{constructor(e,t,r){if(e.id=e.id||t.id||`vjs_video_${is()}`,t=Object.assign(i.getTagSettings(e),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){let s=e.closest("[lang]");s&&(t.language=s.getAttribute("lang"))}if(super(null,t,r),this.boundDocumentFullscreenChange_=s=>this.documentFullscreenChange_(s),this.boundFullWindowOnEscKey_=s=>this.fullWindowOnEscKey(s),this.boundUpdateStyleEl_=s=>this.updateStyleEl_(s),this.boundApplyInitTime_=s=>this.applyInitTime_(s),this.boundUpdateCurrentBreakpoint_=s=>this.updateCurrentBreakpoint_(s),this.boundHandleTechClick_=s=>this.handleTechClick_(s),this.boundHandleTechDoubleClick_=s=>this.handleTechDoubleClick_(s),this.boundHandleTechTouchStart_=s=>this.handleTechTouchStart_(s),this.boundHandleTechTouchMove_=s=>this.handleTechTouchMove_(s),this.boundHandleTechTouchEnd_=s=>this.handleTechTouchEnd_(s),this.boundHandleTechTap_=s=>this.handleTechTap_(s),this.boundUpdatePlayerHeightOnAudioOnlyMode_=s=>this.updatePlayerHeightOnAudioOnlyMode_(s),this.isFullscreen_=!1,this.log=OW(this.id_),this.fsApi_=NC,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Cc(e),this.language(this.options_.language),t.languages){let s={};Object.getOwnPropertyNames(t.languages).forEach(function(a){s[a.toLowerCase()]=t.languages[a]}),this.languages_=s}else this.languages_=i.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(s=>{if(typeof this[s]!="function")throw new Error(`plugin "${s}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),b3(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(wo(Ae.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);let n=ki(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach(s=>{this[s](t.plugins[s])}),t.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){let a=new H.default.DOMParser().parseFromString(S8e,"image/svg+xml");if(a.querySelector("parsererror"))kt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{let d=a.documentElement;d.style.display="none",this.el_.appendChild(d),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new AL(this),this.addClass("vjs-spatial-navigation-enabled")),xg&&this.addClass("vjs-touch-enabled"),an||this.addClass("vjs-workinghover"),i.players[this.id_]=this;let o=gL.split(".")[0];this.addClass(`vjs-v${o}`),this.userActive(!0),this.reportUserActivity(),this.one("play",s=>this.listenForUserActivity_(s)),this.on("keydown",s=>this.handleKeyDown(s)),this.on("languagechange",s=>this.handleLanguagechange(s)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),ln(Ae.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ln(Ae.default,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),C8e(this),xn.names.forEach(e=>{let t=xn[e],r=this[t.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,t,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),n=this.tag.tagName.toLowerCase()==="video-js";r?t=this.el_=e.parentNode:n||(t=this.el_=super.createEl("div"));let o=Cc(e);if(n){for(t=this.el_=e,e=this.tag=Ae.default.createElement("video");t.children.length;)e.appendChild(t.firstChild);gg(t,"video-js")||id(t,"video-js"),t.appendChild(e),r=this.playerElIngest_=t,Object.keys(t).forEach(l=>{try{e[l]=t[l]}catch{}})}e.setAttribute("tabindex","-1"),o.tabindex="-1",Da&&jE&&(e.setAttribute("role","application"),o.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(l){n&&l==="class"||t.setAttribute(l,o[l]),n&&e.setAttribute(l,o[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused");let s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>$W[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...s),H.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=nX("vjs-styles-dimensions");let l=Ac(".vjs-styles-defaults"),d=Ac("head");d.insertBefore(this.styleEl_,l?l.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);let a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){let d=a.item(l);id(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(t,e),bL(e,t),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){kt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){let r=e+"_";if(t===void 0)return this[r]||0;if(t===""||t==="auto"){this[r]=void 0,this.updateStyleEl_();return}let n=parseFloat(t);if(isNaN(n)){kt.error(`Improper value "${t}" supplied for for ${e}`);return}this[r]=n,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,_l(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),t8e(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(H.default.VIDEOJS_NO_DYNAMIC_STYLE===!0){let a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(a>=0&&(d.width=a),l>=0&&(d.height=l));return}let e,t,r,n;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";let o=r.split(":"),s=o[1]/o[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/s:e=this.videoWidth()||300,this.height_!==void 0?t=this.height_:t=e*s,/^[^a-zA-Z]/.test(this.id())?n="dimensions-"+this.id():n=this.id()+"-dimensions",this.addClass(n),oX(this.styleEl_,`
      .${n} {
        width: ${e}px;
        height: ${t}px;
      }

      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${s*100}%;
      }
    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();let r=ur(e),n=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(wi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let o=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(o=!1);let s={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};xn.names.forEach(l=>{let d=xn[l];s[d.getterName]=this[d.privateName]}),Object.assign(s,this.options_[r]),Object.assign(s,this.options_[n]),Object.assign(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);let a=wi.getTech(e);if(!a)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new a(s),this.tech_.ready(Ni(this,this.handleTechReady_),!0),GG.jsonToTextTracks(this.textTracksJson_||[],this.tech_),_X.forEach(l=>{this.on(this.tech_,l,d=>this[`handleTech${ur(l)}_`](d))}),Object.keys(uL).forEach(l=>{this.on(this.tech_,l,d=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${uL[l]}_`].bind(this),event:d});return}this[`handleTech${uL[l]}_`](d)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,d)=>this.handleTechFullscreenChange_(l,d)),this.on(this.tech_,"fullscreenerror",(l,d)=>this.handleTechFullscreenError_(l,d)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&bL(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){xn.names.forEach(e=>{let t=xn[e];this[t.privateName]=this[t.getterName]()}),this.textTracksJson_=GG.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&kt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":gL}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;let t=()=>{let n=this.muted();this.muted(!0);let o=()=>{this.muted(n)};this.playTerminatedQueue_.push(o);let s=this.play();if(bg(s))return s.catch(a=>{throw o(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})},r;if(e==="any"&&!this.muted()?(r=this.play(),bg(r)&&(r=r.catch(t))):e==="muted"&&!this.muted()?r=t():r=this.play(),!!bg(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let t=e,r="";typeof t!="string"&&(t=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!r&&(r=w8e(this,t)),this.cache_.source=ki({},e,{src:t,type:r});let n=this.cache_.sources.filter(l=>l.src&&l.src===t),o=[],s=this.$$("source"),a=[];for(let l=0;l<s.length;l++){let d=Cc(s[l]);o.push(d),d.src&&d.src===t&&a.push(d.src)}a.length&&!n.length?this.cache_.sources=o:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=o=>this.updateSourceCaches_(o),r=this.currentSource().src,n=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==r)&&(t=()=>{}),t(n),e.src||this.tech_.any(["sourceset","loadstart"],o=>{if(o.type==="sourceset")return;let s=this.techGet_("currentSrc");this.lastSource_.tech=s,this.updateSourceCaches_(s)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");let e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?wa(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Ae.default.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){let t=e.target.player;if(t&&t!==this)return;let r=this.el(),n=Ae.default[this.fsApi_.fullscreenElement]===r;!n&&r.matches&&(n=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){let e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready(function(){if(e in v8e)return b8e(this.middleware_,this.tech_,e,t);if(e in YG)return QG(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(r){throw kt(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in _8e)return y8e(this.middleware_,this.tech_,e);if(e in YG)return QG(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===void 0?(kt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,t),t):t.name==="TypeError"?(kt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,t),this.tech_.isReady_=!1,t):(kt(t),t)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=wa){this.playCallbacks_.push(e);let t=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!($E||an);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!t&&r&&this.load();return}let n=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),n===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){let e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(t){t()})}runPlayCallbacks_(e){let t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Ns(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Ns(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Ns(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return hX(this.buffered(),this.duration())}bufferedEnd(){let e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r}volume(e){let t;if(e!==void 0){t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),t>0&&this.lastVolume_(t);return}return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){let t=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();let t=this;return new Promise((r,n)=>{function o(){t.off("fullscreenerror",a),t.off("fullscreenchange",s)}function s(){o(),r()}function a(d,f){o(),n(f)}t.one("fullscreenchange",s),t.one("fullscreenerror",a);let l=t.requestFullscreenHelper_(e);l&&(l.then(o,o),l.then(r,n))})}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(t=e)),this.fsApi_.requestFullscreen){let r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){let e=this;return new Promise((t,r)=>{function n(){e.off("fullscreenerror",s),e.off("fullscreenchange",o)}function o(){n(),t()}function s(l,d){n(),r(d)}e.one("fullscreenchange",o),e.one("fullscreenerror",s);let a=e.exitFullscreenHelper_();a&&(a.then(n,n),a.then(t,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){let e=Ae.default[this.fsApi_.exitFullscreen]();return e&&wa(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ae.default.documentElement.style.overflow,wo(Ae.default,"keydown",this.boundFullWindowOnEscKey_),Ae.default.documentElement.style.overflow="hidden",id(Ae.default.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,ln(Ae.default,"keydown",this.boundFullWindowOnEscKey_),Ae.default.documentElement.style.overflow=this.docOrigOverflow,zE(Ae.default.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&H.default.documentPictureInPicture){let e=Ae.default.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(ct("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),H.default.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(t=>(tX(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",r=>{let n=r.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),t))}return"pictureInPictureEnabled"in Ae.default&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(H.default.documentPictureInPicture&&H.default.documentPictureInPicture.window)return H.default.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Ae.default)return Ae.default.exitPictureInPicture()}handleKeyDown(e){let{userActions:t}=this.options_;!t||!t.hotkeys||(n=>{let o=n.tagName.toLowerCase();if(n.isContentEditable)return!0;let s=["button","checkbox","hidden","radio","reset","submit"];return o==="input"?s.indexOf(n.type)===-1:["textarea"].indexOf(o)!==-1})(this.el_.ownerDocument.activeElement)||(typeof t.hotkeys=="function"?t.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){let t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=s=>e.key.toLowerCase()==="f",muteKey:n=s=>e.key.toLowerCase()==="m",playPauseKey:o=s=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=t;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();let s=ye.getComponent("FullscreenToggle");Ae.default[this.fsApi_.fullscreenEnabled]!==!1&&s.prototype.handleClick.call(this,e)}else n.call(this,e)?(e.preventDefault(),e.stopPropagation(),ye.getComponent("MuteToggle").prototype.handleClick.call(this,e)):o.call(this,e)&&(e.preventDefault(),e.stopPropagation(),ye.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let t;for(let r=0,n=this.options_.techOrder;r<n.length;r++){let o=n[r],s=wi.getTech(o);if(s||(s=ye.getComponent(o)),!s){kt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`);continue}if(s.isSupported()&&(t=s.canPlayType(e),t))return t}return""}selectSource(e){let t=this.options_.techOrder.map(a=>[a,wi.getTech(a)]).filter(([a,l])=>l?l.isSupported():(kt.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(a,l,d){let f;return a.some(g=>l.some(w=>{if(f=d(g,w),f)return!0})),f},n,o=a=>(l,d)=>a(d,l),s=([a,l],d)=>{if(l.canPlaySource(d,this.options_[a.toLowerCase()]))return{source:d,tech:a}};return this.options_.sourceOrder?n=r(e,t,o(s)):n=r(t,e,s),n||!1}handleSrc_(e,t){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();let r=gX(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,t||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),m8e(this,r[0],(n,o)=>{if(this.middleware_=o,t||(this.cache_.sources=r),this.updateSourceCaches_(n),this.src_(n)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}g8e(o,this.tech_)}),r.length>1){let n=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},o=()=>{this.off("error",n)};this.one("error",n),this.one("playing",o),this.resetRetryOnError_=()=>{this.off("error",n),this.off("playing",o)}}}src(e){return this.handleSrc_(e,!1)}src_(e){let t=this.selectSource([e]);return t?uX(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,t){return this.tech_?this.tech_.addSourceElement(e,t):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{let e=this.play();wa(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),_l(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);let{currentTimeDisplay:e,durationDisplay:t,progressControl:r,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:o}=r||{};e&&e.updateContent(),t&&t.updateContent(),n&&n.updateContent(),o&&(o.update(),o.loadProgressBar&&o.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){let e=this.currentSource(),t=[];return Object.keys(e).length!==0&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let t;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),t=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,t=typeof t>"u"?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){let e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Sc("beforeerror").forEach(t=>{let r=t(this,e);if(!(ka(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){let t=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),this.one("loadstart",function(){this.off(["click","touchstart"],t)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new nr(e),this.addClass("vjs-error"),kt.error(`(CODE:${this.error_.code} ${nr.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Sc("error").forEach(t=>t(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,r,n=Ni(this,this.reportUserActivity),o=function(g){(g.screenX!==t||g.screenY!==r)&&(t=g.screenX,r=g.screenY,n())},s=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},a=function(g){n(),this.clearInterval(e)};this.on("mousedown",s),this.on("mousemove",o),this.on("mouseup",a),this.on("mouseleave",a);let l=this.getChild("controlBar");l&&!an&&!Fs&&(l.on("mouseenter",function(g){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(g){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n);let d,f=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);let g=this.options_.inactivityTimeout;g<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},g))};this.setInterval(f,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){let e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");let e=this.children(),t=this.getChild("ControlBar"),r=t&&t.currentHeight();e.forEach(n=>{n!==t&&n.el_&&!n.hasClass("vjs-hidden")&&(n.hide(),this.audioOnlyCache_.hiddenChildren.push(n))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){let t=[];return this.isInPictureInPicture()&&t.push(this.exitPictureInPicture()),this.isFullscreen()&&t.push(this.exitFullscreen()),this.audioPosterMode()&&t.push(this.audioPosterMode(!1)),Promise.all(t).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),_l(this)&&this.trigger("languagechange"))}languages(){return ki(i.prototype.options_.languages,this.languages_)}toJSON(){let e=ki(this.options_),t=e.tracks;e.tracks=[];for(let r=0;r<t.length;r++){let n=t[r];n=ki(n),n.player=void 0,e.tracks[r]=n}return e}createModal(e,t){t=t||{},t.content=e||"";let r=new Rc(this,t);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;let e=this.currentBreakpoint(),t=this.currentWidth();for(let r=0;r<KL.length;r++){let n=KL[r],o=this.breakpoints_[n];if(t<=o){if(e===n)return;e&&this.removeClass(MC[e]),this.addClass(MC[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){let e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},U8e,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;let t=this.responsive_;if(e!==t)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return MC[this.breakpoint_]||""}loadMedia(e,t){if(!e||typeof e!="object")return;let r=this.crossOrigin();this.reset(),this.cache_.media=ki(e);let{artist:n,artwork:o,description:s,poster:a,src:l,textTracks:d,title:f}=this.cache_.media;!o&&a&&(this.cache_.media.artwork=[{src:a,type:QC(a)}]),r&&this.crossOrigin(r),l&&this.src(l),a&&this.poster(a),Array.isArray(d)&&d.forEach(g=>this.addRemoteTextTrack(g,!1)),this.titleBar&&this.titleBar.update({title:f,description:s||n||""}),this.ready(t)}getMedia(){if(!this.cache_.media){let e=this.poster(),t=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),o=>({kind:o.kind,label:o.label,language:o.language,src:o.src})),n={src:t,textTracks:r};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:QC(n.poster)}]),n}return ki(this.cache_.media)}static getTagSettings(e){let t={sources:[],tracks:[]},r=Cc(e),n=r["data-setup"];if(gg(e,"vjs-fill")&&(r.fill=!0),gg(e,"vjs-fluid")&&(r.fluid=!0),n!==null)try{Object.assign(r,JSON.parse(n||"{}"))}catch(o){kt.error("data-setup",o)}if(Object.assign(t,r),e.hasChildNodes()){let o=e.childNodes;for(let s=0,a=o.length;s<a;s++){let l=o[s],d=l.nodeName.toLowerCase();d==="source"?t.sources.push(Cc(l)):d==="track"&&t.tracks.push(Cc(l))}}return t}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(t=>typeof t=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}};xn.names.forEach(function(i){let e=xn[i];mr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});mr.prototype.crossorigin=mr.prototype.crossOrigin;mr.players={};var pg=H.default.navigator;mr.prototype.options_={techOrder:wi.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:pg&&(pg.languages&&pg.languages[0]||pg.userLanguage||pg.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};_X.forEach(function(i){mr.prototype[`handleTech${ur(i)}_`]=function(){return this.trigger(i)}});ye.registerComponent("Player",mr);var VC="plugin",gf="activePlugins_",df={},SE=i=>df.hasOwnProperty(i),IC=i=>SE(i)?df[i]:void 0,vX=(i,e)=>{i[gf]=i[gf]||{},i[gf][e]=!0},AE=(i,e,t)=>{let r=(t?"before":"")+"pluginsetup";i.trigger(r,e),i.trigger(r+":"+e.name,e)},j8e=function(i,e){let t=function(){AE(this,{name:i,plugin:e,instance:null},!0);let r=e.apply(this,arguments);return vX(this,i),AE(this,{name:i,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},hW=(i,e)=>(e.prototype.name=i,function(...t){AE(this,{name:i,plugin:e,instance:null},!0);let r=new e(this,...t);return this[i]=()=>r,AE(this,r.getEventHash()),r}),Lc=(()=>{class i{constructor(t){if(this.constructor===i)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),b3(this),delete this.trigger,cX(this,this.constructor.defaultState),vX(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(t={}){return t.name=this.name,t.plugin=this.constructor,t.instance=this,t}trigger(t,r={}){return Pf(this.eventBusEl_,t,this.getEventHash(r))}handleStateChanged(t){}dispose(){let{name:t,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[gf][t]=!1,this.player=this.state=null,r[t]=hW(t,df[t])}static isBasic(t){let r=typeof t=="string"?IC(t):t;return typeof r=="function"&&!i.prototype.isPrototypeOf(r.prototype)}static registerPlugin(t,r){if(typeof t!="string")throw new Error(`Illegal plugin name, "${t}", must be a string, was ${typeof t}.`);if(SE(t))kt.warn(`A plugin named "${t}" already exists. You may want to avoid re-registering plugins!`);else if(mr.prototype.hasOwnProperty(t))throw new Error(`Illegal plugin name, "${t}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${t}", must be a function, was ${typeof r}.`);return df[t]=r,t!==VC&&(i.isBasic(r)?mr.prototype[t]=j8e(t,r):mr.prototype[t]=hW(t,r)),r}static deregisterPlugin(t){if(t===VC)throw new Error("Cannot de-register base plugin.");SE(t)&&(delete df[t],delete mr.prototype[t])}static getPlugins(t=Object.keys(df)){let r;return t.forEach(n=>{let o=IC(n);o&&(r=r||{},r[n]=o)}),r}static getPluginVersion(t){let r=IC(t);return r&&r.VERSION||""}}return i.getPlugin=IC,i.BASE_PLUGIN_NAME=VC,i})();Lc.registerPlugin(VC,Lc);mr.prototype.usingPlugin=function(i){return!!this[gf]&&this[gf][i]===!0};mr.prototype.hasPlugin=function(i){return!!SE(i)};function q8e(i,e){let t=!1;return function(...r){return t||kt.warn(i),t=!0,e.apply(this,r)}}function Us(i,e,t,r){return q8e(`${e} is deprecated and will be removed in ${i}.0; please use ${t} instead.`,r)}var $8e={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"},xX=i=>i.indexOf("#")===0?i.slice(1):i;function te(i,e,t){let r=te.getPlayer(i);if(r)return e&&kt.warn(`Player "${i}" is already initialised. Options will not be applied.`),t&&r.ready(t),r;let n=typeof i=="string"?Ac("#"+xX(i)):i;if(!If(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");let s=("getRootNode"in n?n.getRootNode()instanceof H.default.ShadowRoot:!1)?n.getRootNode():n.ownerDocument.body;(!n.ownerDocument.defaultView||!s.contains(n))&&kt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),Sc("beforesetup").forEach(l=>{let d=l(n,ki(e));if(!ka(d)||Array.isArray(d)){kt.error("please return an object in beforesetup hooks");return}e=ki(e,d)});let a=ye.getComponent("Player");return r=new a(n,e,t),Sc("setup").forEach(l=>l(r)),r}te.hooks_=yl;te.hooks=Sc;te.hook=jMe;te.hookOnce=qMe;te.removeHook=BW;if(H.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Df()){let i=Ac(".vjs-styles-defaults");if(!i){i=nX("vjs-styles-defaults");let e=Ac("head");e&&e.insertBefore(i,e.firstChild),oX(i,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}vL(1,te);te.VERSION=gL;te.options=mr.prototype.options_;te.getPlayers=()=>mr.players;te.getPlayer=i=>{let e=mr.players,t;if(typeof i=="string"){let r=xX(i),n=e[r];if(n)return n;t=Ac("#"+r)}else t=i;if(If(t)){let{player:r,playerId:n}=t;if(r||e[n])return r||e[n]}};te.getAllPlayers=()=>Object.keys(mr.players).map(i=>mr.players[i]).filter(Boolean);te.players=mr.players;te.getComponent=ye.getComponent;te.registerComponent=(i,e)=>(wi.isTech(e)&&kt.warn(`The ${i} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),ye.registerComponent.call(ye,i,e));te.getTech=wi.getTech;te.registerTech=wi.registerTech;te.use=h8e;Object.defineProperty(te,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(te.middleware,"TERMINATOR",{value:ZC,writeable:!1,enumerable:!0});te.browser=$W;te.obj=KMe;te.mergeOptions=Us(9,"videojs.mergeOptions","videojs.obj.merge",ki);te.defineLazyProperty=Us(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",FE);te.bind=Us(9,"videojs.bind","native Function.prototype.bind",Ni);te.registerPlugin=Lc.registerPlugin;te.deregisterPlugin=Lc.deregisterPlugin;te.plugin=(i,e)=>(kt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Lc.registerPlugin(i,e));te.getPlugins=Lc.getPlugins;te.getPlugin=Lc.getPlugin;te.getPluginVersion=Lc.getPluginVersion;te.addLanguage=function(i,e){return i=(""+i).toLowerCase(),te.options.languages=ki(te.options.languages,{[i]:e}),te.options.languages[i]};te.log=kt;te.createLogger=OW;te.time=s8e;te.createTimeRange=Us(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Ns);te.createTimeRanges=Us(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Ns);te.formatTime=Us(9,"videojs.formatTime","videojs.time.formatTime",od);te.setFormatTime=Us(9,"videojs.setFormatTime","videojs.time.setFormatTime",pX);te.resetFormatTime=Us(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",fX);te.parseUrl=Us(9,"videojs.parseUrl","videojs.url.parseUrl",v3);te.isCrossOrigin=Us(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",QE);te.EventTarget=En;te.any=y3;te.on=wo;te.one=XE;te.off=ln;te.trigger=Pf;te.xhr=p3.default;te.TextTrack=sd;te.AudioTrack=GC;te.VideoTrack=WC;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(i=>{te[i]=function(){return kt.warn(`videojs.${i}() is deprecated; use videojs.dom.${i}() instead`),iX[i].apply(null,arguments)}});te.computedStyle=Us(9,"videojs.computedStyle","videojs.dom.computedStyle",wf);te.dom=iX;te.fn=e8e;te.num=R8e;te.str=n8e;te.url=p8e;te.Error=$8e;var HL=class{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get(){return t.enabled_()},set(r){t.enabled_(r)}}),t}},kf=class extends te.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;let r=this.levels_.length;return t=new HL(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let r=0,n=this.length;r<n;r++)if(this[r]===e){t=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,r=this.length;t<r;t++){let n=this[t];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}};kf.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(let i in kf.prototype.allowedEvents_)kf.prototype["on"+i]=null;var CX="4.1.0",z8e=function(i,e){let t=i.qualityLevels,r=new kf,n=function(){r.dispose(),i.qualityLevels=t,i.off("dispose",n)};return i.on("dispose",n),i.qualityLevels=()=>r,i.qualityLevels.VERSION=CX,r},EX=function(i){return z8e(this,te.obj.merge({},i))};te.registerPlugin("qualityLevels",EX);EX.VERSION=CX;var Xn=Gp,RE=(i,e)=>e&&e.responseURL&&i!==e.responseURL?e.responseURL:i,ns=i=>te.log.debug?te.log.debug.bind(te,"VHS:",`${i} >`):function(){};function gi(...i){let e=te.obj||te;return(e.merge||e.mergeOptions).apply(e,i)}function Fr(...i){let e=te.time||te;return(e.createTimeRanges||e.createTimeRanges).apply(e,i)}function K8e(i){if(i.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let t=0;t<i.length;t++){let r=i.start(t),n=i.end(t);e+=`${r} --> ${n}. Duration (${n-r})
`}return e}var Sa=1/30,Aa=Sa*3,TX=function(i,e){let t=[],r;if(i&&i.length)for(r=0;r<i.length;r++)e(i.start(r),i.end(r))&&t.push([i.start(r),i.end(r)]);return Fr(t)},pf=function(i,e){return TX(i,function(t,r){return t-Aa<=e&&r+Aa>=e})},PC=function(i,e){return TX(i,function(t){return t-Sa>=e})},H8e=function(i){if(i.length<2)return Fr();let e=[];for(let t=1;t<i.length;t++){let r=i.end(t-1),n=i.start(t);e.push([r,n])}return Fr(e)},G8e=function(i,e){let t=null,r=null,n=0,o=[],s=[];if(!i||!i.length||!e||!e.length)return Fr();let a=i.length;for(;a--;)o.push({time:i.start(a),type:"start"}),o.push({time:i.end(a),type:"end"});for(a=e.length;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(o.sort(function(l,d){return l.time-d.time}),a=0;a<o.length;a++)o[a].type==="start"?(n++,n===2&&(t=o[a].time)):o[a].type==="end"&&(n--,n===1&&(r=o[a].time)),t!==null&&r!==null&&(s.push([t,r]),t=null,r=null);return Fr(s)},wX=i=>{let e=[];if(!i||!i.length)return"";for(let t=0;t<i.length;t++)e.push(i.start(t)+" => "+i.end(t));return e.join(", ")},W8e=function(i,e,t=1){return((i.length?i.end(i.length-1):0)-e)/t},td=i=>{let e=[];for(let t=0;t<i.length;t++)e.push({start:i.start(t),end:i.end(t)});return e},X8e=function(i,e){if(i===e)return!1;if(!i&&e||!e&&i||i.length!==e.length)return!0;for(let t=0;t<i.length;t++)if(i.start(t)!==e.start(t)||i.end(t)!==e.end(t))return!0;return!1},dL=function(i){if(!(!i||!i.length||!i.end))return i.end(i.length-1)},E3=function(i,e){let t=0;if(!i||!i.length)return t;for(let r=0;r<i.length;r++){let n=i.start(r),o=i.end(r);if(!(e>o)){if(e>n&&e<=o){t+=o-e;continue}t+=o-n}}return t},T3=(i,e)=>{if(!e.preload)return e.duration;let t=0;return(e.parts||[]).forEach(function(r){t+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(t+=i.partTargetDuration)}),t},GL=i=>(i.segments||[]).reduce((e,t,r)=>(t.parts?t.parts.forEach(function(n,o){e.push({duration:n.duration,segmentIndex:r,partIndex:o,part:n,segment:t})}):e.push({duration:t.duration,segmentIndex:r,partIndex:null,segment:t,part:null}),e),[]),SX=i=>{let e=i.segments&&i.segments.length&&i.segments[i.segments.length-1];return e&&e.parts||[]},AX=({preloadSegment:i})=>{if(!i)return;let{parts:e,preloadHints:t}=i,r=(t||[]).reduce((n,o)=>n+(o.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},RX=(i,e)=>{if(e.endList)return 0;if(i&&i.suggestedPresentationDelay)return i.suggestedPresentationDelay;let t=SX(e).length>0;return t&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:t&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},Z8e=function(i,e){let t=0,r=e-i.mediaSequence,n=i.segments[r];if(n){if(typeof n.start<"u")return{result:n.start,precise:!0};if(typeof n.end<"u")return{result:n.end-n.duration,precise:!0}}for(;r--;){if(n=i.segments[r],typeof n.end<"u")return{result:t+n.end,precise:!0};if(t+=T3(i,n),typeof n.start<"u")return{result:t+n.start,precise:!0}}return{result:t,precise:!1}},Q8e=function(i,e){let t=0,r,n=e-i.mediaSequence;for(;n<i.segments.length;n++){if(r=i.segments[n],typeof r.start<"u")return{result:r.start-t,precise:!0};if(t+=T3(i,r),typeof r.end<"u")return{result:r.end-t,precise:!0}}return{result:-1,precise:!1}},kX=function(i,e,t){if(typeof e>"u"&&(e=i.mediaSequence+i.segments.length),e<i.mediaSequence)return 0;let r=Z8e(i,e);if(r.precise)return r.result;let n=Q8e(i,e);return n.precise?n.result:r.result+t},DX=function(i,e,t){if(!i)return 0;if(typeof t!="number"&&(t=0),typeof e>"u"){if(i.totalDuration)return i.totalDuration;if(!i.endList)return H.default.Infinity}return kX(i,e,t)},_g=function({defaultDuration:i,durationList:e,startIndex:t,endIndex:r}){let n=0;if(t>r&&([t,r]=[r,t]),t<0){for(let o=t;o<Math.min(0,r);o++)n+=i;t=0}for(let o=t;o<r;o++)n+=e[o].duration;return n},IX=function(i,e,t,r){if(!i||!i.segments)return null;if(i.endList)return DX(i);if(e===null)return null;e=e||0;let n=kX(i,i.mediaSequence+i.segments.length,e);return t&&(r=typeof r=="number"?r:RX(null,i),n-=r),Math.max(0,n)},Y8e=function(i,e,t){let n=e||0,o=IX(i,e,!0,t);return o===null?Fr():(o<n&&(o=n),Fr(n,o))},J8e=function({playlist:i,currentTime:e,startingSegmentIndex:t,startingPartIndex:r,startTime:n,exactManifestTimings:o}){let s=e-n,a=GL(i),l=0;for(let d=0;d<a.length;d++){let f=a[d];if(t===f.segmentIndex&&!(typeof r=="number"&&typeof f.partIndex=="number"&&r!==f.partIndex)){l=d;break}}if(s<0){if(l>0)for(let d=l-1;d>=0;d--){let f=a[d];if(s+=f.duration,o){if(s<0)continue}else if(s+Sa<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:n-_g({defaultDuration:i.targetDuration,durationList:a,startIndex:l,endIndex:d})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let d=l;d<0;d++)if(s-=i.targetDuration,s<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let d=l;d<a.length;d++){let f=a[d];s-=f.duration;let g=f.duration>Sa,w=s===0,A=g&&s+Sa>=0;if(!((w||A)&&d!==a.length-1)){if(o){if(s>0)continue}else if(s-Sa>=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:n+_g({defaultDuration:i.targetDuration,durationList:a,startIndex:l,endIndex:d})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},PX=function(i){return i.excludeUntil&&i.excludeUntil>Date.now()},w3=function(i){return i.excludeUntil&&i.excludeUntil===1/0},YE=function(i){let e=PX(i);return!i.disabled&&!e},e6e=function(i){return i.disabled},t6e=function(i){for(let e=0;e<i.segments.length;e++)if(i.segments[e].key)return!0;return!1},LX=function(i,e){return e.attributes&&e.attributes[i]},i6e=function(i,e,t,r=0){return LX("BANDWIDTH",t)?(i*t.attributes.BANDWIDTH-r*8)/e:NaN},WL=(i,e)=>{if(i.playlists.length===1)return!0;let t=e.attributes.BANDWIDTH||Number.MAX_VALUE;return i.playlists.filter(r=>YE(r)?(r.attributes.BANDWIDTH||0)<t:!1).length===0},S3=(i,e)=>!i&&!e||!i&&e||i&&!e?!1:!!(i===e||i.id&&e.id&&i.id===e.id||i.resolvedUri&&e.resolvedUri&&i.resolvedUri===e.resolvedUri||i.uri&&e.uri&&i.uri===e.uri),mW=function(i,e){let t=i&&i.mediaGroups&&i.mediaGroups.AUDIO||{},r=!1;for(let n in t){for(let o in t[n])if(r=e(t[n][o]),r)break;if(r)break}return!!r},zg=i=>{if(!i||!i.playlists||!i.playlists.length)return mW(i,t=>t.playlists&&t.playlists.length||t.uri);for(let e=0;e<i.playlists.length;e++){let t=i.playlists[e],r=t.attributes&&t.attributes.CODECS;if(!(r&&r.split(",").every(o=>vP(o))||mW(i,o=>S3(t,o))))return!1}return!0},Zn={liveEdgeDelay:RX,duration:DX,seekable:Y8e,getMediaInfoForTime:J8e,isEnabled:YE,isDisabled:e6e,isExcluded:PX,isIncompatible:w3,playlistEnd:IX,isAes:t6e,hasAttribute:LX,estimateSegmentRequestTime:i6e,isLowestEnabledRendition:WL,isAudioOnly:zg,playlistMatch:S3,segmentDurationWithParts:T3},{log:BX}=te,yf=(i,e)=>`${i}-${e}`,OX=(i,e,t)=>`placeholder-uri-${i}-${e}-${t}`,r6e=({onwarn:i,oninfo:e,manifestString:t,customTagParsers:r=[],customTagMappers:n=[],llhls:o})=>{let s=new pC;i&&s.on("warn",i),e&&s.on("info",e),r.forEach(d=>s.addParser(d)),n.forEach(d=>s.addTagMapper(d)),s.push(t),s.end();let a=s.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(d){a.hasOwnProperty(d)&&delete a[d]}),a.segments&&a.segments.forEach(function(d){["parts","preloadHints"].forEach(function(f){d.hasOwnProperty(f)&&delete d[f]})})),!a.targetDuration){let d=10;a.segments&&a.segments.length&&(d=a.segments.reduce((f,g)=>Math.max(f,g.duration),0)),i&&i({message:`manifest has no targetDuration defaulting to ${d}`}),a.targetDuration=d}let l=SX(a);if(l.length&&!a.partTargetDuration){let d=l.reduce((f,g)=>Math.max(f,g.duration),0);i&&(i({message:`manifest has no partTargetDuration defaulting to ${d}`}),BX.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=d}return a},Lf=(i,e)=>{i.mediaGroups&&["AUDIO","SUBTITLES"].forEach(t=>{if(i.mediaGroups[t])for(let r in i.mediaGroups[t])for(let n in i.mediaGroups[t][r]){let o=i.mediaGroups[t][r][n];e(o,t,r,n)}})},MX=({playlist:i,uri:e,id:t})=>{i.id=t,i.playlistErrors_=0,e&&(i.uri=e),i.attributes=i.attributes||{}},n6e=i=>{let e=i.playlists.length;for(;e--;){let t=i.playlists[e];MX({playlist:t,id:yf(e,t.uri)}),t.resolvedUri=Xn(i.uri,t.uri),i.playlists[t.id]=t,i.playlists[t.uri]=t,t.attributes.BANDWIDTH||BX.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},o6e=i=>{Lf(i,e=>{e.uri&&(e.resolvedUri=Xn(i.uri,e.uri))})},s6e=(i,e)=>{let t=yf(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:H.default.location.href,resolvedUri:H.default.location.href,playlists:[{uri:e,id:t,resolvedUri:e,attributes:{}}]};return r.playlists[t]=r.playlists[0],r.playlists[e]=r.playlists[0],r},VX=(i,e,t=OX)=>{i.uri=e;for(let n=0;n<i.playlists.length;n++)if(!i.playlists[n].uri){let o=`placeholder-uri-${n}`;i.playlists[n].uri=o}let r=zg(i);Lf(i,(n,o,s,a)=>{if(!n.playlists||!n.playlists.length){if(r&&o==="AUDIO"&&!n.uri)for(let l=0;l<i.playlists.length;l++){let d=i.playlists[l];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===s)return}n.playlists=[ir({},n)]}n.playlists.forEach(function(l,d){let f=t(o,s,a,l),g=yf(d,f);l.uri?l.resolvedUri=l.resolvedUri||Xn(i.uri,l.uri):(l.uri=d===0?f:g,l.resolvedUri=l.uri),l.id=l.id||g,l.attributes=l.attributes||{},i.playlists[l.id]=l,i.playlists[l.uri]=l})}),n6e(i),o6e(i)},kE=class{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;let[t]=e;t.programDateTime!==void 0&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;let[t]=e,r=t.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((n,o)=>(n.set(o.id,o),n),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];let e={},t=[];this.pendingDateRanges_.forEach((r,n)=>{if(!this.processedDateRanges_.has(n)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),t.push(r),!!r.class))if(e[r.class]){let o=e[r.class].push(r);r.classListIndex=o-1}else e[r.class]=[r],r.classListIndex=0});for(let r of t){let n=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&n[r.classListIndex+1]?r.endTime=n[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,n)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(n)})}},NX=22,nd=({requestType:i,request:e,error:t,parseFailure:r})=>{let n=e.status<200||e.status>299,o=e.status>=400&&e.status<=499,s={uri:e.uri,requestType:i},a=n&&!o||r;if(t&&o)s.error=ir({},t),s.errorType=te.Error.NetworkRequestFailed;else if(e.aborted)s.errorType=te.Error.NetworkRequestAborted;else if(e.timedout)s.erroType=te.Error.NetworkRequestTimeout;else if(a){let l=r?te.Error.NetworkBodyParserFailed:te.Error.NetworkBadStatus;s.errorType=l,s.status=e.status,s.headers=e.headers}return s},a6e=ns("CodecUtils"),FX=function(i){let e=i.attributes||{};if(e.CODECS)return Ms(e.CODECS)},UX=(i,e)=>{let t=e.attributes||{};return i&&i.mediaGroups&&i.mediaGroups.AUDIO&&t.AUDIO&&i.mediaGroups.AUDIO[t.AUDIO]},l6e=(i,e)=>{if(!UX(i,e))return!0;let t=e.attributes||{},r=i.mediaGroups.AUDIO[t.AUDIO];for(let n in r)if(!r[n].uri&&!r[n].playlists)return!0;return!1},Ug=function(i){let e={};return i.forEach(({mediaType:t,type:r,details:n})=>{e[t]=e[t]||[],e[t].push(_P(`${r}${n}`))}),Object.keys(e).forEach(function(t){if(e[t].length>1){a6e(`multiple ${t} codecs found as attributes: ${e[t].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[t]=null;return}e[t]=e[t][0]}),e},gW=function(i){let e=0;return i.audio&&e++,i.video&&e++,e},vg=function(i,e){let t=e.attributes||{},r=Ug(FX(e)||[]);if(UX(i,e)&&!r.audio&&!l6e(i,e)){let n=Ug(aH(i,t.AUDIO)||[]);n.audio&&(r.audio=n.audio)}return r},{EventTarget:c6e}=te,u6e=(i,e)=>{if(e.endList||!e.serverControl)return i;let t={};if(e.serverControl.canBlockReload){let{preloadSegment:r}=e,n=e.mediaSequence+e.segments.length;if(r){let o=r.parts||[],s=AX(e)-1;s>-1&&s!==o.length-1&&(t._HLS_part=s),(s>-1||o.length)&&n--}t._HLS_msn=n}if(e.serverControl&&e.serverControl.canSkipUntil&&(t._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(t).length){let r=new H.default.URL(i);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(n){t.hasOwnProperty(n)&&r.searchParams.set(n,t[n])}),i=r.toString()}return i},d6e=(i,e)=>{if(!i)return e;let t=gi(i,e);if(i.preloadHints&&!e.preloadHints&&delete t.preloadHints,i.parts&&!e.parts)delete t.parts;else if(i.parts&&e.parts)for(let r=0;r<e.parts.length;r++)i.parts&&i.parts[r]&&(t.parts[r]=gi(i.parts[r],e.parts[r]));return!i.skipped&&e.skipped&&(t.skipped=!1),i.preload&&!e.preload&&(t.preload=!1),t},p6e=(i,e,t)=>{let r=i.slice(),n=e.slice();t=t||0;let o=[],s;for(let a=0;a<n.length;a++){let l=r[a+t],d=n[a];l?(s=l.map||s,o.push(d6e(l,d))):(s&&!d.map&&(d.map=s),o.push(d))}return o},jX=(i,e)=>{!i.resolvedUri&&i.uri&&(i.resolvedUri=Xn(e,i.uri)),i.key&&!i.key.resolvedUri&&(i.key.resolvedUri=Xn(e,i.key.uri)),i.map&&!i.map.resolvedUri&&(i.map.resolvedUri=Xn(e,i.map.uri)),i.map&&i.map.key&&!i.map.key.resolvedUri&&(i.map.key.resolvedUri=Xn(e,i.map.key.uri)),i.parts&&i.parts.length&&i.parts.forEach(t=>{t.resolvedUri||(t.resolvedUri=Xn(e,t.uri))}),i.preloadHints&&i.preloadHints.length&&i.preloadHints.forEach(t=>{t.resolvedUri||(t.resolvedUri=Xn(e,t.uri))})},qX=function(i){let e=i.segments||[],t=i.preloadSegment;if(t&&t.parts&&t.parts.length){if(t.preloadHints){for(let r=0;r<t.preloadHints.length;r++)if(t.preloadHints[r].type==="MAP")return e}t.duration=i.targetDuration,t.preload=!0,e.push(t)}return e},$X=(i,e)=>i===e||i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence&&i.preloadSegment===e.preloadSegment,XL=(i,e,t=$X)=>{let r=gi(i,{}),n=r.playlists[e.id];if(!n||t(n,e))return null;e.segments=qX(e);let o=gi(n,e);if(o.preloadSegment&&!e.preloadSegment&&delete o.preloadSegment,n.segments){if(e.skip){e.segments=e.segments||[];for(let s=0;s<e.skip.skippedSegments;s++)e.segments.unshift({skipped:!0})}o.segments=p6e(n.segments,e.segments,e.mediaSequence-n.mediaSequence)}o.segments.forEach(s=>{jX(s,o.resolvedUri)});for(let s=0;s<r.playlists.length;s++)r.playlists[s].id===e.id&&(r.playlists[s]=o);return r.playlists[e.id]=o,r.playlists[e.uri]=o,Lf(i,(s,a,l,d)=>{if(s.playlists)for(let f=0;f<s.playlists.length;f++)e.id===s.playlists[f].id&&(s.playlists[f]=o)}),r},ZL=(i,e)=>{let t=i.segments||[],r=t[t.length-1],n=r&&r.parts&&r.parts[r.parts.length-1],o=n&&n.duration||r&&r.duration;return e&&o?o*1e3:(i.partTargetDuration||i.targetDuration||10)*500},yW=(i,e,t)=>{if(!i)return;let r=[];return i.forEach(n=>{if(!n.attributes)return;let{BANDWIDTH:o,RESOLUTION:s,CODECS:a}=n.attributes;r.push({id:n.id,bandwidth:o,resolution:s,codecs:a})}),{type:e,isLive:t,renditions:r}},wc=class extends c6e{constructor(e,t,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ns("PlaylistLoader");let{withCredentials:n=!1}=r;this.src=e,this.vhs_=t,this.withCredentials=n,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;let o=t.options_;this.customTagParsers=o&&o.customTagParsers||[],this.customTagMappers=o&&o.customTagMappers||[],this.llhls=o&&o.llhls,this.dateRangesStorage_=new kE,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){let e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);let t=this.dateRangesStorage_.getDateRangesToProcess();!t.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;let e=this.media(),t=Xn(this.main.uri,e.uri);this.llhls&&(t=u6e(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,n)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,t,r){let{uri:n,id:o}=t;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[o],status:e.status,message:`HLS playlist request error at URL: ${n}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:nd({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{let r=r6e({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!r.playlists||!r.playlists.length||this.excludeAudioOnlyVariants(r.playlists),r}catch(r){this.error=r,this.error.metadata={errorType:te.Error.StreamingHlsPlaylistParserError,error:r}}}excludeAudioOnlyVariants(e){let t=r=>{let n=r.attributes||{},{width:o,height:s}=n.RESOLUTION||{};if(o&&s)return!0;let a=FX(r)||[];return!!Ug(a).video};e.some(t)&&e.forEach(r=>{t(r)||(r.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:t,url:r,id:n}){this.request=null,this.state="HAVE_METADATA";let o={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:o});let s=t||this.parseManifest_({url:r,manifestString:e});s.lastRequest=Date.now(),MX({playlist:s,uri:r,id:n});let a=XL(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(ZL(this.media(),!!a)),o.parsedPlaylist=yW(this.main.playlists,o.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:o}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),H.default.clearTimeout(this.mediaUpdateTimeout),H.default.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new kE,this.off()}stopRequest(){if(this.request){let e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(H.default.clearTimeout(this.finalRenditionTimeout),t){let a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=H.default.setTimeout(this.media.bind(this,e,!1),a);return}let r=this.state,n=!this.media_||e.id!==this.media_.id,o=this.main.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(ZL(e,!0)),!n)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;let s={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:s}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=RE(e.resolvedUri,l),a)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:s}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(H.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(H.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);let t=this.media();if(e){let r=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=H.default.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(H.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=H.default.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=H.default.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}let e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,r)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:nd({requestType:r.requestType,request:r,error:t})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=RE(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});let n=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=yW(n.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,VX(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=qX(r),r.segments.forEach(n=>{jX(n,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}let t=this.srcUri()||H.default.location.href;this.main=s6e(e,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){let r=this.main,n=e.ID,o=r.playlists.length;for(;o--;){let s=r.playlists[o];if(s.attributes["PATHWAY-ID"]===n){let a=s.resolvedUri,l=s.id;if(t){let d=this.createCloneURI_(s.resolvedUri,e),f=yf(n,d),g=this.createCloneAttributes_(n,s.attributes),w=this.createClonePlaylist_(s,f,e,g);r.playlists[o]=w,r.playlists[f]=w,r.playlists[d]=w}else r.playlists.splice(o,1);delete r.playlists[l],delete r.playlists[a]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){let r=this.main,n=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!r.mediaGroups[o]||!r.mediaGroups[o][n])){for(let s in r.mediaGroups[o])if(s===n){for(let a in r.mediaGroups[o][s])r.mediaGroups[o][s][a].playlists.forEach((d,f)=>{let g=r.playlists[d.id],w=g.id,A=g.resolvedUri;delete r.playlists[w],delete r.playlists[A]});delete r.mediaGroups[o][s]}}}),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){let r=this.main,n=r.playlists.length,o=this.createCloneURI_(t.resolvedUri,e),s=yf(e.ID,o),a=this.createCloneAttributes_(e.ID,t.attributes),l=this.createClonePlaylist_(t,s,e,a);r.playlists[n]=l,r.playlists[s]=l,r.playlists[o]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){let t=e.ID,r=e["BASE-ID"],n=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!n.mediaGroups[o]||n.mediaGroups[o][t]))for(let s in n.mediaGroups[o]){if(s===r)n.mediaGroups[o][t]={};else continue;for(let a in n.mediaGroups[o][s]){let l=n.mediaGroups[o][s][a];n.mediaGroups[o][t][a]=ir({},l);let d=n.mediaGroups[o][t][a],f=this.createCloneURI_(l.resolvedUri,e);d.resolvedUri=f,d.uri=f,d.playlists=[],l.playlists.forEach((g,w)=>{let A=n.playlists[g.id],B=OX(o,t,a),S=yf(t,B);if(A&&!n.playlists[S]){let U=this.createClonePlaylist_(A,S,e),q=U.resolvedUri;n.playlists[S]=U,n.playlists[q]=U}d.playlists[w]=this.createClonePlaylist_(g,S,e)})}}})}createClonePlaylist_(e,t,r,n){let o=this.createCloneURI_(e.resolvedUri,r),s={resolvedUri:o,uri:o,id:t};return e.segments&&(s.segments=[]),n&&(s.attributes=n),gi(e,s)}createCloneURI_(e,t){let r=new URL(e);r.hostname=t["URI-REPLACEMENT"].HOST;let n=t["URI-REPLACEMENT"].PARAMS;for(let o of Object.keys(n))r.searchParams.set(o,n[o]);return r.href}createCloneAttributes_(e,t){let r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{t[n]&&(r[n]=e)}),r}getKeyIdSet(e){if(e.contentProtection){let t=new Set;for(let r in e.contentProtection){let n=e.contentProtection[r].attributes.keyId;n&&t.add(n.toLowerCase())}return t}}},QL=function(i,e,t,r){let n=i.responseType==="arraybuffer"?i.response:i.responseText;!e&&n&&(i.responseTime=Date.now(),i.roundTripTime=i.responseTime-i.requestTime,i.bytesReceived=n.byteLength||n.length,i.bandwidth||(i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3))),t.headers&&(i.responseHeaders=t.headers),e&&e.code==="ETIMEDOUT"&&(i.timedout=!0),!e&&!i.aborted&&t.statusCode!==200&&t.statusCode!==206&&t.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(i&&(n||i.responseText)))),r(e,i)},f6e=(i,e)=>{if(!i||!i.size)return;let t=e;return i.forEach(r=>{t=r(t)}),t},h6e=(i,e,t,r)=>{!i||!i.size||i.forEach(n=>{n(e,t,r)})},zX=function(){let i=function e(t,r){t=gi({timeout:45e3},t);let n=e.beforeRequest||te.Vhs.xhr.beforeRequest,o=e._requestCallbackSet||te.Vhs.xhr._requestCallbackSet||new Set,s=e._responseCallbackSet||te.Vhs.xhr._responseCallbackSet;n&&typeof n=="function"&&(te.log.warn("beforeRequest is deprecated, use onRequest instead."),o.add(n));let a=te.Vhs.xhr.original===!0?te.xhr:te.Vhs.xhr,l=f6e(o,t);o.delete(n);let d=a(l||t,function(g,w){return h6e(s,d,g,w),QL(d,g,w,r)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=t.uri,d.requestType=t.requestType,d.requestTime=Date.now(),d};return i.original=!0,i},m6e=function(i){let e,t=i.offset;return typeof i.offset=="bigint"||typeof i.length=="bigint"?e=H.default.BigInt(i.offset)+H.default.BigInt(i.length)-H.default.BigInt(1):e=i.offset+i.length-1,"bytes="+t+"-"+e},YL=function(i){let e={};return i.byterange&&(e.Range=m6e(i.byterange)),e},g6e=function(i,e){return i.start(e)+"-"+i.end(e)},y6e=function(i,e){let t=i.toString(16);return"00".substring(0,2-t.length)+t+(e%2?" ":"")},b6e=function(i){return i>=32&&i<126?String.fromCharCode(i):"."},KX=function(i){let e={};return Object.keys(i).forEach(t=>{let r=i[t];TP(r)?e[t]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[t]=r}),e},DE=function(i){let e=i.byterange||{length:1/0,offset:0};return[e.length,e.offset,i.resolvedUri].join(",")},HX=function(i){return i.resolvedUri},GX=i=>{let e=Array.prototype.slice.call(i),t=16,r="",n,o;for(let s=0;s<e.length/t;s++)n=e.slice(s*t,s*t+t).map(y6e).join(""),o=e.slice(s*t,s*t+t).map(b6e).join(""),r+=n+" "+o+`
`;return r},_6e=({bytes:i})=>GX(i),v6e=i=>{let e="",t;for(t=0;t<i.length;t++)e+=g6e(i,t)+" ";return e},x6e=Object.freeze({__proto__:null,createTransferableMessage:KX,initSegmentId:DE,segmentKeyId:HX,hexDump:GX,tagDump:_6e,textRanges:v6e}),WX=.25,C6e=(i,e)=>{if(!e.dateTimeObject)return null;let t=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart+t,o=i-n;return new Date(e.dateTimeObject.getTime()+o*1e3)},E6e=i=>i.transmuxedPresentationEnd-i.transmuxedPresentationStart-i.transmuxerPrependedSeconds,T6e=(i,e)=>{let t;try{t=new Date(i)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(t<new Date(r.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){r=e.segments[l];let d=new Date(e.segments[l+1].dateTimeObject);if(t<d)break}let n=e.segments[e.segments.length-1],o=n.dateTimeObject,s=n.videoTimingInfo?E6e(n.videoTimingInfo):n.duration+n.duration*WX,a=new Date(o.getTime()+s*1e3);return t>a?null:(t>new Date(o)&&(r=n),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Zn.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},w6e=(i,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let t=0,r;for(let o=0;o<e.segments.length&&(r=e.segments[o],t=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:t+r.duration,!(i<=t));o++);let n=e.segments[e.segments.length-1];if(n.videoTimingInfo&&n.videoTimingInfo.transmuxedPresentationEnd<i)return null;if(i>t){if(i>t+n.duration*WX)return null;r=n}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:t-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},S6e=(i,e)=>{let t,r;try{t=new Date(i),r=new Date(e)}catch{}let n=t.getTime();return(r.getTime()-n)/1e3},A6e=i=>{if(!i.segments||i.segments.length===0)return!1;for(let e=0;e<i.segments.length;e++)if(!i.segments[e].dateTimeObject)return!1;return!0},R6e=({playlist:i,time:e=void 0,callback:t})=>{if(!t)throw new Error("getProgramTime: callback must be provided");if(!i||e===void 0)return t({message:"getProgramTime: playlist and time must be provided"});let r=w6e(e,i);if(!r)return t({message:"valid programTime was not found"});if(r.type==="estimate")return t({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});let n={mediaSeconds:e},o=C6e(e,r.segment);return o&&(n.programDateTime=o.toISOString()),t(null,n)},XX=({programTime:i,playlist:e,retryCount:t=2,seekTo:r,pauseAfterSeek:n=!0,tech:o,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(typeof i>"u"||!e||!r)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!o.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!A6e(e))return s({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});let a=T6e(i,e);if(!a)return s({message:`${i} was not found in the stream`});let l=a.segment,d=S6e(l.dateTimeObject,i);if(a.type==="estimate"){if(t===0)return s({message:`${i} is not buffered yet. Try again`});r(a.estimatedStart+d),o.one("seeked",()=>{XX({programTime:i,playlist:e,retryCount:t-1,seekTo:r,pauseAfterSeek:n,tech:o,callback:s})});return}let f=l.start+d,g=()=>s(null,o.currentTime());o.one("seeked",g),n&&o.pause(),r(f)},pL=(i,e)=>{if(i.readyState===4)return e()},k6e=(i,e,t,r)=>{let n=[],o,s=!1,a=function(g,w,A,B){return w.abort(),s=!0,t(g,w,A,B)},l=function(g,w){if(s)return;if(g)return g.metadata=nd({requestType:r,request:w,error:g}),a(g,w,"",n);let A=w.responseText.substring(n&&n.byteLength||0,w.responseText.length);if(n=dH(n,hC(A,!0)),o=o||Qu(n),n.length<10||o&&n.length<o+2)return pL(w,()=>a(g,w,"",n));let B=RC(n);return B==="ts"&&n.length<188?pL(w,()=>a(g,w,"",n)):!B&&n.length<376?pL(w,()=>a(g,w,"",n)):a(null,w,B,n)},f=e({uri:i,beforeSend(g){g.overrideMimeType("text/plain; charset=x-user-defined"),g.addEventListener("progress",function({total:w,loaded:A}){return QL(g,null,{statusCode:g.status},l)})}},function(g,w){return QL(f,g,w,l)});return f},{EventTarget:D6e}=te,bW=function(i,e){if(!$X(i,e)||i.sidx&&e.sidx&&(i.sidx.offset!==e.sidx.offset||i.sidx.length!==e.sidx.length))return!1;if(!i.sidx&&e.sidx||i.sidx&&!e.sidx||i.segments&&!e.segments||!i.segments&&e.segments)return!1;if(!i.segments&&!e.segments)return!0;for(let t=0;t<i.segments.length;t++){let r=i.segments[t],n=e.segments[t];if(r.uri!==n.uri)return!1;if(!r.byterange&&!n.byterange)continue;let o=r.byterange,s=n.byterange;if(o&&!s||!o&&s||o.offset!==s.offset||o.length!==s.length)return!1}return!0},I6e=(i,e,t,r)=>{let n=r.attributes.NAME||t;return`placeholder-uri-${i}-${e}-${n}`},P6e=({mainXml:i,srcUrl:e,clientOffset:t,sidxMapping:r,previousManifest:n})=>{let o=xG(i,{manifestUri:e,clientOffset:t,sidxMapping:r,previousManifest:n});return VX(o,e,I6e),o},L6e=(i,e)=>{Lf(i,(t,r,n,o)=>{(!e.mediaGroups[r][n]||!(o in e.mediaGroups[r][n]))&&delete i.mediaGroups[r][n][o]})},B6e=(i,e,t)=>{let r=!0,n=gi(i,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let o=0;o<e.playlists.length;o++){let s=e.playlists[o];if(s.sidx){let l=lg(s.sidx);t&&t[l]&&t[l].sidx&&wC(s,t[l].sidx,s.sidx.resolvedUri)}let a=XL(n,s,bW);a&&(n=a,r=!1)}return Lf(e,(o,s,a,l)=>{if(o.playlists&&o.playlists.length){let d=o.playlists[0].id,f=XL(n,o.playlists[0],bW);f&&(n=f,l in n.mediaGroups[s][a]||(n.mediaGroups[s][a][l]=o),n.mediaGroups[s][a][l].playlists[0]=n.playlists[d],r=!1)}}),L6e(n,e),e.minimumUpdatePeriod!==i.minimumUpdatePeriod&&(r=!1),r?null:n},O6e=(i,e)=>(!i.map&&!e.map||!!(i.map&&e.map&&i.map.byterange.offset===e.map.byterange.offset&&i.map.byterange.length===e.map.byterange.length))&&i.uri===e.uri&&i.byterange.offset===e.byterange.offset&&i.byterange.length===e.byterange.length,_W=(i,e)=>{let t={};for(let r in i){let o=i[r].sidx;if(o){let s=lg(o);if(!e[s])break;let a=e[s].sidxInfo;O6e(a,o)&&(t[s]=e[s])}}return t},M6e=(i,e)=>{let r=_W(i.playlists,e);return Lf(i,(n,o,s,a)=>{if(n.playlists&&n.playlists.length){let l=n.playlists;r=gi(r,_W(l,e))}}),r},jg=class extends D6e{constructor(e,t,r={},n){super(),this.isPaused_=!0,this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);let{withCredentials:o=!1}=r;if(this.vhs_=t,this.withCredentials=o,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ns("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,t,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,t,r){let n=e.sidx&&lg(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n]){H.default.clearTimeout(this.mediaRequest_),this.mediaRequest_=H.default.setTimeout(()=>r(!1),0);return}let o=RE(e.sidx.resolvedUri),s=(l,d)=>{if(this.requestErrored_(l,d,t))return;let f=this.mainPlaylistLoader_.sidxMapping_,{requestType:g}=d,w;try{w=(0,LW.default)(Ge(d.response).subarray(8))}catch(A){A.metadata=nd({requestType:g,request:d,parseFailure:!0}),this.requestErrored_(A,d,t);return}return f[n]={sidxInfo:e.sidx,sidx:w},wC(e,w,e.sidx.resolvedUri),r(!0)},a="dash-sidx";this.request=k6e(o,this.vhs_.xhr,(l,d,f,g)=>{if(l)return s(l,d);if(!f||f!=="mp4"){let B=f||"unknown";return s({status:d.status,message:`Unsupported ${B} container type for sidx segment at URL: ${o}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},d)}let{offset:w,length:A}=e.sidx.byterange;if(g.length>=A+w)return s(l,{response:g.subarray(w,w+A),status:d.status,uri:d.uri});this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",requestType:"dash-sidx",headers:YL({byterange:e.sidx.byterange})},s)},a)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},H.default.clearTimeout(this.minimumUpdatePeriodTimeout_),H.default.clearTimeout(this.mediaRequest_),H.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){let e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);let t=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}let r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,n=>{this.haveMetadata({startingState:t,playlist:e})}))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,H.default.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(t.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),H.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(H.default.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,H.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;let t=this.media();if(e){let r=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=H.default.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){H.default.clearTimeout(this.mediaRequest_),this.mediaRequest_=H.default.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,t)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){let t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,n)=>{if(r){let{requestType:s}=n;r.metadata=nd({requestType:s,request:n,error:r})}if(this.requestErrored_(r,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:t});let o=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=RE(this.mainPlaylistLoader_.srcUrl,n),o){this.handleMain_(),this.syncClientServerClock_(()=>e(n,o));return}return e(n,o)})}syncClientServerClock_(e){let t=CG(this.mainPlaylistLoader_.mainXml_);if(t===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(t.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Xn(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,n)=>{if(!this.request)return;if(r){let{requestType:s}=n;return this.error.metadata=nd({requestType:s,request:n,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let o;t.method==="HEAD"?!n.responseHeaders||!n.responseHeaders.date?o=this.mainLoaded_:o=Date.parse(n.responseHeaders.date):o=Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=o-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){H.default.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;let e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:t});let r;try{r=P6e({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(o){this.error=o,this.error.metadata={errorType:te.Error.StreamingDashManifestParserError,error:o},this.trigger("error")}e&&(r=B6e(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;let n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){let{duration:o,endList:s}=r,a=[];r.playlists.forEach(d=>{a.push({id:d.id,bandwidth:d.attributes.BANDWIDTH,resolution:d.attributes.RESOLUTION,codecs:d.attributes.CODECS})});let l={duration:o,isLive:!s,renditions:a};t.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:t})}return!!r}updateMinimumUpdatePeriodTimeout_(){let e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(H.default.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;if(t===0&&(e.media()?t=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof t!="number"||t<=0){t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`);return}this.createMUPTimeout_(t)}createMUPTimeout_(e){let t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=H.default.setTimeout(()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=M6e(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();let t=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==t[e];if(r?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){let n=()=>{this.media().endList||(this.mediaUpdateTimeout=H.default.setTimeout(()=>{this.trigger("mediaupdatetimeout"),n()},ZL(this.media(),!!r)))};n()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){let t=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",t,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){let t=new Set;for(let r in e.contentProtection){let n=e.contentProtection[r].attributes["cenc:default_KID"];n&&t.add(n.replace(/-/g,"").toLowerCase())}return t}}},Nr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},V6e=i=>{let e=new Uint8Array(new ArrayBuffer(i.length));for(let t=0;t<i.length;t++)e[t]=i.charCodeAt(t);return e.buffer},ZX=function(i){return i.on=i.addEventListener,i.off=i.removeEventListener,i},N6e=function(i){try{return URL.createObjectURL(new Blob([i],{type:"application/javascript"}))}catch{let t=new BlobBuilder;return t.append(i),URL.createObjectURL(t.getBlob())}},QX=function(i){return function(){let e=N6e(i),t=ZX(new Worker(e));t.objURL=e;let r=t.terminate;return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},t}},YX=function(i){return`var browserWorkerPolyFill = ${ZX.toString()};
browserWorkerPolyFill(self);
`+i},JX=function(i){return i.toString().replace(/^function.+?{/,"").slice(0,-1)},F6e=YX(JX(function(){var i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var u={};this.on=function(p,h){u[p]||(u[p]=[]),u[p]=u[p].concat(h)},this.off=function(p,h){var m;return u[p]?(m=u[p].indexOf(h),u[p]=u[p].slice(),u[p].splice(m,1),m>-1):!1},this.trigger=function(p){var h,m,y,x;if(h=u[p],!!h)if(arguments.length===2)for(y=h.length,m=0;m<y;++m)h[m].call(this,arguments[1]);else{for(x=[],m=arguments.length,m=1;m<arguments.length;++m)x.push(arguments[m]);for(y=h.length,m=0;m<y;++m)h[m].apply(this,x)}},this.dispose=function(){u={}}}};e.prototype.pipe=function(u){return this.on("data",function(p){u.push(p)}),this.on("done",function(p){u.flush(p)}),this.on("partialdone",function(p){u.partialFlush(p)}),this.on("endedtimeline",function(p){u.endTimeline(p)}),this.on("reset",function(p){u.reset(p)}),u},e.prototype.push=function(u){this.trigger("data",u)},e.prototype.flush=function(u){this.trigger("done",u)},e.prototype.partialFlush=function(u){this.trigger("partialdone",u)},e.prototype.endTimeline=function(u){this.trigger("endedtimeline",u)},e.prototype.reset=function(u){this.trigger("reset",u)};var t=e,r=Math.pow(2,32),n=function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h;return p.getBigUint64?(h=p.getBigUint64(0),h<Number.MAX_SAFE_INTEGER?Number(h):h):p.getUint32(0)*r+p.getUint32(4)},o={getUint64:n,MAX_UINT32:r},s=o.MAX_UINT32,a,l,d,f,g,w,A,B,S,U,q,G,K,Z,re,ge,ce,Ee,We,Xt,St,Yt,ze,At,gr,Ft,Li,Sn,So,Ao,Ro,ko,Nc,Jf,eh,th;(function(){var u;if(ze={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(u in ze)ze.hasOwnProperty(u)&&(ze[u]=[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]);At=new Uint8Array([105,115,111,109]),Ft=new Uint8Array([97,118,99,49]),gr=new Uint8Array([0,0,0,1]),Li=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Sn=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),So={video:Li,audio:Sn},ko=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ro=new Uint8Array([0,0,0,0,0,0,0,0]),Nc=new Uint8Array([0,0,0,0,0,0,0,0]),Jf=Nc,eh=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),th=Nc,Ao=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(u){var p=[],h=0,m,y,x;for(m=1;m<arguments.length;m++)p.push(arguments[m]);for(m=p.length;m--;)h+=p[m].byteLength;for(y=new Uint8Array(h+8),x=new DataView(y.buffer,y.byteOffset,y.byteLength),x.setUint32(0,y.byteLength),y.set(u,4),m=0,h=8;m<p.length;m++)y.set(p[m],h),h+=p[m].byteLength;return y},l=function(){return a(ze.dinf,a(ze.dref,ko))},d=function(u){return a(ze.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,u.audioobjecttype<<3|u.samplingfrequencyindex>>>1,u.samplingfrequencyindex<<7|u.channelcount<<3,6,1,2]))},f=function(){return a(ze.ftyp,At,gr,At,Ft)},ge=function(u){return a(ze.hdlr,So[u])},g=function(u){return a(ze.mdat,u)},re=function(u){var p=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,u.duration>>>24&255,u.duration>>>16&255,u.duration>>>8&255,u.duration&255,85,196,0,0]);return u.samplerate&&(p[12]=u.samplerate>>>24&255,p[13]=u.samplerate>>>16&255,p[14]=u.samplerate>>>8&255,p[15]=u.samplerate&255),a(ze.mdhd,p)},Z=function(u){return a(ze.mdia,re(u),ge(u.type),A(u))},w=function(u){return a(ze.mfhd,new Uint8Array([0,0,0,0,(u&4278190080)>>24,(u&16711680)>>16,(u&65280)>>8,u&255]))},A=function(u){return a(ze.minf,u.type==="video"?a(ze.vmhd,Ao):a(ze.smhd,Ro),l(),Ee(u))},B=function(u,p){for(var h=[],m=p.length;m--;)h[m]=Xt(p[m]);return a.apply(null,[ze.moof,w(u)].concat(h))},S=function(u){for(var p=u.length,h=[];p--;)h[p]=G(u[p]);return a.apply(null,[ze.moov,q(4294967295)].concat(h).concat(U(u)))},U=function(u){for(var p=u.length,h=[];p--;)h[p]=St(u[p]);return a.apply(null,[ze.mvex].concat(h))},q=function(u){var p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(u&4278190080)>>24,(u&16711680)>>16,(u&65280)>>8,u&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(ze.mvhd,p)},ce=function(u){var p=u.samples||[],h=new Uint8Array(4+p.length),m,y;for(y=0;y<p.length;y++)m=p[y].flags,h[y+4]=m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy;return a(ze.sdtp,h)},Ee=function(u){return a(ze.stbl,We(u),a(ze.stts,th),a(ze.stsc,Jf),a(ze.stsz,eh),a(ze.stco,Nc))},function(){var u,p;We=function(h){return a(ze.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),h.type==="video"?u(h):p(h))},u=function(h){var m=h.sps||[],y=h.pps||[],x=[],I=[],O,F;for(O=0;O<m.length;O++)x.push((m[O].byteLength&65280)>>>8),x.push(m[O].byteLength&255),x=x.concat(Array.prototype.slice.call(m[O]));for(O=0;O<y.length;O++)I.push((y[O].byteLength&65280)>>>8),I.push(y[O].byteLength&255),I=I.concat(Array.prototype.slice.call(y[O]));if(F=[ze.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(h.width&65280)>>8,h.width&255,(h.height&65280)>>8,h.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(ze.avcC,new Uint8Array([1,h.profileIdc,h.profileCompatibility,h.levelIdc,255].concat([m.length],x,[y.length],I))),a(ze.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],h.sarRatio){var j=h.sarRatio[0],X=h.sarRatio[1];F.push(a(ze.pasp,new Uint8Array([(j&4278190080)>>24,(j&16711680)>>16,(j&65280)>>8,j&255,(X&4278190080)>>24,(X&16711680)>>16,(X&65280)>>8,X&255])))}return a.apply(null,F)},p=function(h){return a(ze.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(h.channelcount&65280)>>8,h.channelcount&255,(h.samplesize&65280)>>8,h.samplesize&255,0,0,0,0,(h.samplerate&65280)>>8,h.samplerate&255,0,0]),d(h))}}(),K=function(u){var p=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(u.id&4278190080)>>24,(u.id&16711680)>>16,(u.id&65280)>>8,u.id&255,0,0,0,0,(u.duration&4278190080)>>24,(u.duration&16711680)>>16,(u.duration&65280)>>8,u.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(u.width&65280)>>8,u.width&255,0,0,(u.height&65280)>>8,u.height&255,0,0]);return a(ze.tkhd,p)},Xt=function(u){var p,h,m,y,x,I,O;return p=a(ze.tfhd,new Uint8Array([0,0,0,58,(u.id&4278190080)>>24,(u.id&16711680)>>16,(u.id&65280)>>8,u.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),I=Math.floor(u.baseMediaDecodeTime/s),O=Math.floor(u.baseMediaDecodeTime%s),h=a(ze.tfdt,new Uint8Array([1,0,0,0,I>>>24&255,I>>>16&255,I>>>8&255,I&255,O>>>24&255,O>>>16&255,O>>>8&255,O&255])),x=92,u.type==="audio"?(m=Yt(u,x),a(ze.traf,p,h,m)):(y=ce(u),m=Yt(u,y.length+x),a(ze.traf,p,h,m,y))},G=function(u){return u.duration=u.duration||4294967295,a(ze.trak,K(u),Z(u))},St=function(u){var p=new Uint8Array([0,0,0,0,(u.id&4278190080)>>24,(u.id&16711680)>>16,(u.id&65280)>>8,u.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.type!=="video"&&(p[p.length-1]=0),a(ze.trex,p)},function(){var u,p,h;h=function(m,y){var x=0,I=0,O=0,F=0;return m.length&&(m[0].duration!==void 0&&(x=1),m[0].size!==void 0&&(I=2),m[0].flags!==void 0&&(O=4),m[0].compositionTimeOffset!==void 0&&(F=8)),[0,0,x|I|O|F,1,(m.length&4278190080)>>>24,(m.length&16711680)>>>16,(m.length&65280)>>>8,m.length&255,(y&4278190080)>>>24,(y&16711680)>>>16,(y&65280)>>>8,y&255]},p=function(m,y){var x,I,O,F,j,X;for(F=m.samples||[],y+=20+16*F.length,O=h(F,y),I=new Uint8Array(O.length+F.length*16),I.set(O),x=O.length,X=0;X<F.length;X++)j=F[X],I[x++]=(j.duration&4278190080)>>>24,I[x++]=(j.duration&16711680)>>>16,I[x++]=(j.duration&65280)>>>8,I[x++]=j.duration&255,I[x++]=(j.size&4278190080)>>>24,I[x++]=(j.size&16711680)>>>16,I[x++]=(j.size&65280)>>>8,I[x++]=j.size&255,I[x++]=j.flags.isLeading<<2|j.flags.dependsOn,I[x++]=j.flags.isDependedOn<<6|j.flags.hasRedundancy<<4|j.flags.paddingValue<<1|j.flags.isNonSyncSample,I[x++]=j.flags.degradationPriority&61440,I[x++]=j.flags.degradationPriority&15,I[x++]=(j.compositionTimeOffset&4278190080)>>>24,I[x++]=(j.compositionTimeOffset&16711680)>>>16,I[x++]=(j.compositionTimeOffset&65280)>>>8,I[x++]=j.compositionTimeOffset&255;return a(ze.trun,I)},u=function(m,y){var x,I,O,F,j,X;for(F=m.samples||[],y+=20+8*F.length,O=h(F,y),x=new Uint8Array(O.length+F.length*8),x.set(O),I=O.length,X=0;X<F.length;X++)j=F[X],x[I++]=(j.duration&4278190080)>>>24,x[I++]=(j.duration&16711680)>>>16,x[I++]=(j.duration&65280)>>>8,x[I++]=j.duration&255,x[I++]=(j.size&4278190080)>>>24,x[I++]=(j.size&16711680)>>>16,x[I++]=(j.size&65280)>>>8,x[I++]=j.size&255;return a(ze.trun,x)},Yt=function(m,y){return m.type==="audio"?u(m,y):p(m,y)}}();var sw={ftyp:f,mdat:g,moof:B,moov:S,initSegment:function(u){var p=f(),h=S(u),m;return m=new Uint8Array(p.byteLength+h.byteLength),m.set(p),m.set(h,p.byteLength),m}},aw=function(u){var p,h,m=[],y=[];for(y.byteLength=0,y.nalCount=0,y.duration=0,m.byteLength=0,p=0;p<u.length;p++)h=u[p],h.nalUnitType==="access_unit_delimiter_rbsp"?(m.length&&(m.duration=h.dts-m.dts,y.byteLength+=m.byteLength,y.nalCount+=m.length,y.duration+=m.duration,y.push(m)),m=[h],m.byteLength=h.data.byteLength,m.pts=h.pts,m.dts=h.dts):(h.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(m.keyFrame=!0),m.duration=h.dts-m.dts,m.byteLength+=h.data.byteLength,m.push(h));return y.length&&(!m.duration||m.duration<=0)&&(m.duration=y[y.length-1].duration),y.byteLength+=m.byteLength,y.nalCount+=m.length,y.duration+=m.duration,y.push(m),y},lw=function(u){var p,h,m=[],y=[];for(m.byteLength=0,m.nalCount=0,m.duration=0,m.pts=u[0].pts,m.dts=u[0].dts,y.byteLength=0,y.nalCount=0,y.duration=0,y.pts=u[0].pts,y.dts=u[0].dts,p=0;p<u.length;p++)h=u[p],h.keyFrame?(m.length&&(y.push(m),y.byteLength+=m.byteLength,y.nalCount+=m.nalCount,y.duration+=m.duration),m=[h],m.nalCount=h.length,m.byteLength=h.byteLength,m.pts=h.pts,m.dts=h.dts,m.duration=h.duration):(m.duration+=h.duration,m.nalCount+=h.length,m.byteLength+=h.byteLength,m.push(h));return y.length&&m.duration<=0&&(m.duration=y[y.length-1].duration),y.byteLength+=m.byteLength,y.nalCount+=m.nalCount,y.duration+=m.duration,y.push(m),y},cw=function(u){var p;return!u[0][0].keyFrame&&u.length>1&&(p=u.shift(),u.byteLength-=p.byteLength,u.nalCount-=p.nalCount,u[0][0].dts=p.dts,u[0][0].pts=p.pts,u[0][0].duration+=p.duration),u},uw=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Jg=function(u,p){var h=uw();return h.dataOffset=p,h.compositionTimeOffset=u.pts-u.dts,h.duration=u.duration,h.size=4*u.length,h.size+=u.byteLength,u.keyFrame&&(h.flags.dependsOn=2,h.flags.isNonSyncSample=0),h},dw=function(u,p){var h,m,y,x,I,O=p||0,F=[];for(h=0;h<u.length;h++)for(x=u[h],m=0;m<x.length;m++)I=x[m],y=Jg(I,O),O+=y.size,F.push(y);return F},pw=function(u){var p,h,m,y,x,I,O=0,F=u.byteLength,j=u.nalCount,X=F+4*j,le=new Uint8Array(X),Oe=new DataView(le.buffer);for(p=0;p<u.length;p++)for(y=u[p],h=0;h<y.length;h++)for(x=y[h],m=0;m<x.length;m++)I=x[m],Oe.setUint32(O,I.data.byteLength),O+=4,le.set(I.data,O),O+=I.data.byteLength;return le},fw=function(u,p){var h,m=p||0,y=[];return h=Jg(u,m),y.push(h),y},hw=function(u){var p,h,m=0,y=u.byteLength,x=u.length,I=y+4*x,O=new Uint8Array(I),F=new DataView(O.buffer);for(p=0;p<u.length;p++)h=u[p],F.setUint32(m,h.data.byteLength),m+=4,O.set(h.data,m),m+=h.data.byteLength;return O},mw={groupNalsIntoFrames:aw,groupFramesIntoGops:lw,extendFirstKeyFrame:cw,generateSampleTable:dw,concatenateNalData:pw,generateSampleTableForFrame:fw,concatenateNalDataForFrame:hw},js=[33,16,5,32,164,27],ih=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ni=function(u){for(var p=[];u--;)p.push(0);return p},gw=function(u){return Object.keys(u).reduce(function(p,h){return p[h]=new Uint8Array(u[h].reduce(function(m,y){return m.concat(y)},[])),p},{})},rh,yw=function(){if(!rh){var u={96e3:[js,[227,64],ni(154),[56]],88200:[js,[231],ni(170),[56]],64e3:[js,[248,192],ni(240),[56]],48e3:[js,[255,192],ni(268),[55,148,128],ni(54),[112]],44100:[js,[255,192],ni(268),[55,163,128],ni(84),[112]],32e3:[js,[255,192],ni(268),[55,234],ni(226),[112]],24e3:[js,[255,192],ni(268),[55,255,128],ni(268),[111,112],ni(126),[224]],16e3:[js,[255,192],ni(268),[55,255,128],ni(268),[111,255],ni(269),[223,108],ni(195),[1,192]],12e3:[ih,ni(268),[3,127,248],ni(268),[6,255,240],ni(268),[13,255,224],ni(268),[27,253,128],ni(259),[56]],11025:[ih,ni(268),[3,127,248],ni(268),[6,255,240],ni(268),[13,255,224],ni(268),[27,255,192],ni(268),[55,175,128],ni(108),[112]],8e3:[ih,ni(268),[3,121,16],ni(47),[7]]};rh=gw(u)}return rh},nh=9e4,bw,_w,ey,vw,z3,K3,H3;bw=function(u){return u*nh},_w=function(u,p){return u*p},ey=function(u){return u/nh},vw=function(u,p){return u/p},z3=function(u,p){return bw(vw(u,p))},K3=function(u,p){return _w(ey(u),p)},H3=function(u,p,h){return ey(h?u:u-p)};var Fi={ONE_SECOND_IN_TS:nh,secondsToVideoTs:bw,secondsToAudioTs:_w,videoTsToSeconds:ey,audioTsToSeconds:vw,audioTsToVideoTs:z3,videoTsToAudioTs:K3,metadataTsToSeconds:H3},_J=yw,ty=Fi,vJ=function(u){var p,h,m=0;for(p=0;p<u.length;p++)h=u[p],m+=h.data.byteLength;return m},xJ=function(u,p,h,m){var y,x=0,I=0,O=0,F=0,j,X,le;if(p.length&&(y=ty.audioTsToVideoTs(u.baseMediaDecodeTime,u.samplerate),x=Math.ceil(ty.ONE_SECOND_IN_TS/(u.samplerate/1024)),h&&m&&(I=y-Math.max(h,m),O=Math.floor(I/x),F=O*x),!(O<1||F>ty.ONE_SECOND_IN_TS/2))){for(j=_J()[u.samplerate],j||(j=p[0].data),X=0;X<O;X++)le=p[0],p.splice(0,0,{data:j,dts:le.dts-x,pts:le.pts-x});return u.baseMediaDecodeTime-=Math.floor(ty.videoTsToAudioTs(F,u.samplerate)),F}},CJ=function(u,p,h){return p.minSegmentDts>=h?u:(p.minSegmentDts=1/0,u.filter(function(m){return m.dts>=h?(p.minSegmentDts=Math.min(p.minSegmentDts,m.dts),p.minSegmentPts=p.minSegmentDts,!0):!1}))},EJ=function(u){var p,h,m=[];for(p=0;p<u.length;p++)h=u[p],m.push({size:h.data.byteLength,duration:1024});return m},TJ=function(u){var p,h,m=0,y=new Uint8Array(vJ(u));for(p=0;p<u.length;p++)h=u[p],y.set(h.data,m),m+=h.data.byteLength;return y},wJ={prefixWithSilence:xJ,trimAdtsFramesByEarliestDts:CJ,generateSampleTable:EJ,concatenateFrameData:TJ},SJ=Fi.ONE_SECOND_IN_TS,AJ=function(u,p){typeof p.pts=="number"&&(u.timelineStartInfo.pts===void 0&&(u.timelineStartInfo.pts=p.pts),u.minSegmentPts===void 0?u.minSegmentPts=p.pts:u.minSegmentPts=Math.min(u.minSegmentPts,p.pts),u.maxSegmentPts===void 0?u.maxSegmentPts=p.pts:u.maxSegmentPts=Math.max(u.maxSegmentPts,p.pts)),typeof p.dts=="number"&&(u.timelineStartInfo.dts===void 0&&(u.timelineStartInfo.dts=p.dts),u.minSegmentDts===void 0?u.minSegmentDts=p.dts:u.minSegmentDts=Math.min(u.minSegmentDts,p.dts),u.maxSegmentDts===void 0?u.maxSegmentDts=p.dts:u.maxSegmentDts=Math.max(u.maxSegmentDts,p.dts))},RJ=function(u){delete u.minSegmentDts,delete u.maxSegmentDts,delete u.minSegmentPts,delete u.maxSegmentPts},kJ=function(u,p){var h,m,y=u.minSegmentDts;return p||(y-=u.timelineStartInfo.dts),h=u.timelineStartInfo.baseMediaDecodeTime,h+=y,h=Math.max(0,h),u.type==="audio"&&(m=u.samplerate/SJ,h*=m,h=Math.floor(h)),h},DJ={clearDtsInfo:RJ,calculateTrackBaseMediaDecodeTime:kJ,collectDtsInfo:AJ},G3=4,IJ=128,PJ=function(u){for(var p=0,h={payloadType:-1,payloadSize:0},m=0,y=0;p<u.byteLength&&u[p]!==IJ;){for(;u[p]===255;)m+=255,p++;for(m+=u[p++];u[p]===255;)y+=255,p++;if(y+=u[p++],!h.payload&&m===G3){var x=String.fromCharCode(u[p+3],u[p+4],u[p+5],u[p+6]);if(x==="GA94"){h.payloadType=m,h.payloadSize=y,h.payload=u.subarray(p,p+y);break}else h.payload=void 0}p+=y,m=0,y=0}return h},LJ=function(u){return u.payload[0]!==181||(u.payload[1]<<8|u.payload[2])!==49||String.fromCharCode(u.payload[3],u.payload[4],u.payload[5],u.payload[6])!=="GA94"||u.payload[7]!==3?null:u.payload.subarray(8,u.payload.length-1)},BJ=function(u,p){var h=[],m,y,x,I;if(!(p[0]&64))return h;for(y=p[0]&31,m=0;m<y;m++)x=m*3,I={type:p[x+2]&3,pts:u},p[x+2]&4&&(I.ccData=p[x+3]<<8|p[x+4],h.push(I));return h},OJ=function(u){for(var p=u.byteLength,h=[],m=1,y,x;m<p-2;)u[m]===0&&u[m+1]===0&&u[m+2]===3?(h.push(m+2),m+=2):m++;if(h.length===0)return u;y=p-h.length,x=new Uint8Array(y);var I=0;for(m=0;m<y;I++,m++)I===h[0]&&(I++,h.shift()),x[m]=u[I];return x},W3={parseSei:PJ,parseUserData:LJ,parseCaptionPackets:BJ,discardEmulationPreventionBytes:OJ,USER_DATA_REGISTERED_ITU_T_T35:G3},xw=t,iy=W3,An=function(u){u=u||{},An.prototype.init.call(this),this.parse708captions_=typeof u.parse708captions=="boolean"?u.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Gi(0,0),new Gi(0,1),new Gi(1,0),new Gi(1,1)],this.parse708captions_&&(this.cc708Stream_=new Di({captionServices:u.captionServices})),this.reset(),this.ccStreams_.forEach(function(p){p.on("data",this.trigger.bind(this,"data")),p.on("partialdone",this.trigger.bind(this,"partialdone")),p.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};An.prototype=new xw,An.prototype.push=function(u){var p,h,m;if(u.nalUnitType==="sei_rbsp"&&(p=iy.parseSei(u.escapedRBSP),!!p.payload&&p.payloadType===iy.USER_DATA_REGISTERED_ITU_T_T35&&(h=iy.parseUserData(p),!!h))){if(u.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(u.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}m=iy.parseCaptionPackets(u.pts,h),this.captionPackets_=this.captionPackets_.concat(m),this.latestDts_!==u.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=u.dts}},An.prototype.flushCCStreams=function(u){this.ccStreams_.forEach(function(p){return u==="flush"?p.flush():p.partialFlush()},this)},An.prototype.flushStream=function(u){if(!this.captionPackets_.length){this.flushCCStreams(u);return}this.captionPackets_.forEach(function(p,h){p.presortIndex=h}),this.captionPackets_.sort(function(p,h){return p.pts===h.pts?p.presortIndex-h.presortIndex:p.pts-h.pts}),this.captionPackets_.forEach(function(p){p.type<2?this.dispatchCea608Packet(p):this.dispatchCea708Packet(p)},this),this.captionPackets_.length=0,this.flushCCStreams(u)},An.prototype.flush=function(){return this.flushStream("flush")},An.prototype.partialFlush=function(){return this.flushStream("partialFlush")},An.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(u){u.reset()})},An.prototype.dispatchCea608Packet=function(u){this.setsTextOrXDSActive(u)?this.activeCea608Channel_[u.type]=null:this.setsChannel1Active(u)?this.activeCea608Channel_[u.type]=0:this.setsChannel2Active(u)&&(this.activeCea608Channel_[u.type]=1),this.activeCea608Channel_[u.type]!==null&&this.ccStreams_[(u.type<<1)+this.activeCea608Channel_[u.type]].push(u)},An.prototype.setsChannel1Active=function(u){return(u.ccData&30720)===4096},An.prototype.setsChannel2Active=function(u){return(u.ccData&30720)===6144},An.prototype.setsTextOrXDSActive=function(u){return(u.ccData&28928)===256||(u.ccData&30974)===4138||(u.ccData&30974)===6186},An.prototype.dispatchCea708Packet=function(u){this.parse708captions_&&this.cc708Stream_.push(u)};var MJ={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},VJ=function(u){var p=MJ[u]||u;return u&4096&&u===p?"":String.fromCharCode(p)},ry=function(u){return 32<=u&&u<=127||160<=u&&u<=255},Oa=function(u){this.windowNum=u,this.reset()};Oa.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Oa.prototype.getText=function(){return this.rows.join(`
`)},Oa.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Oa.prototype.newLine=function(u){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(u),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Oa.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Oa.prototype.addText=function(u){this.rows[this.rowIdx]+=u},Oa.prototype.backspace=function(){if(!this.isEmpty()){var u=this.rows[this.rowIdx];this.rows[this.rowIdx]=u.substr(0,u.length-1)}};var ny=function(u,p,h){this.serviceNum=u,this.text="",this.currentWindow=new Oa(-1),this.windows=[],this.stream=h,typeof p=="string"&&this.createTextDecoder(p)};ny.prototype.init=function(u,p){this.startPts=u;for(var h=0;h<8;h++)this.windows[h]=new Oa(h),typeof p=="function"&&(this.windows[h].beforeRowOverflow=p)},ny.prototype.setCurrentWindow=function(u){this.currentWindow=this.windows[u]},ny.prototype.createTextDecoder=function(u){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(u)}catch(p){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+u+" encoding. "+p})}};var Di=function(u){u=u||{},Di.prototype.init.call(this);var p=this,h=u.captionServices||{},m={},y;Object.keys(h).forEach(x=>{y=h[x],/^SERVICE/.test(x)&&(m[x]=y.encoding)}),this.serviceEncodings=m,this.current708Packet=null,this.services={},this.push=function(x){x.type===3?(p.new708Packet(),p.add708Bytes(x)):(p.current708Packet===null&&p.new708Packet(),p.add708Bytes(x))}};Di.prototype=new xw,Di.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Di.prototype.add708Bytes=function(u){var p=u.ccData,h=p>>>8,m=p&255;this.current708Packet.ptsVals.push(u.pts),this.current708Packet.data.push(h),this.current708Packet.data.push(m)},Di.prototype.push708Packet=function(){var u=this.current708Packet,p=u.data,h=null,m=null,y=0,x=p[y++];for(u.seq=x>>6,u.sizeCode=x&63;y<p.length;y++)x=p[y++],h=x>>5,m=x&31,h===7&&m>0&&(x=p[y++],h=x),this.pushServiceBlock(h,y,m),m>0&&(y+=m-1)},Di.prototype.pushServiceBlock=function(u,p,h){var m,y=p,x=this.current708Packet.data,I=this.services[u];for(I||(I=this.initService(u,y));y<p+h&&y<x.length;y++)m=x[y],ry(m)?y=this.handleText(y,I):m===24?y=this.multiByteCharacter(y,I):m===16?y=this.extendedCommands(y,I):128<=m&&m<=135?y=this.setCurrentWindow(y,I):152<=m&&m<=159?y=this.defineWindow(y,I):m===136?y=this.clearWindows(y,I):m===140?y=this.deleteWindows(y,I):m===137?y=this.displayWindows(y,I):m===138?y=this.hideWindows(y,I):m===139?y=this.toggleWindows(y,I):m===151?y=this.setWindowAttributes(y,I):m===144?y=this.setPenAttributes(y,I):m===145?y=this.setPenColor(y,I):m===146?y=this.setPenLocation(y,I):m===143?I=this.reset(y,I):m===8?I.currentWindow.backspace():m===12?I.currentWindow.clearText():m===13?I.currentWindow.pendingNewLine=!0:m===14?I.currentWindow.clearText():m===141&&y++},Di.prototype.extendedCommands=function(u,p){var h=this.current708Packet.data,m=h[++u];return ry(m)&&(u=this.handleText(u,p,{isExtended:!0})),u},Di.prototype.getPts=function(u){return this.current708Packet.ptsVals[Math.floor(u/2)]},Di.prototype.initService=function(u,p){var m="SERVICE"+u,h=this,m,y;return m in this.serviceEncodings&&(y=this.serviceEncodings[m]),this.services[u]=new ny(u,y,h),this.services[u].init(this.getPts(p),function(x){h.flushDisplayed(x,h.services[u])}),this.services[u]},Di.prototype.handleText=function(u,p,h){var m=h&&h.isExtended,y=h&&h.isMultiByte,x=this.current708Packet.data,I=m?4096:0,O=x[u],F=x[u+1],j=p.currentWindow,X,le;function Oe(me){return me.map(Ye=>("0"+(Ye&255).toString(16)).slice(-2)).join("")}if(y?(le=[O,F],u++):le=[O],p.textDecoder_&&!m)X=p.textDecoder_.decode(new Uint8Array(le));else if(y){let me=Oe(le);X=String.fromCharCode(parseInt(me,16))}else X=VJ(I|O);return j.pendingNewLine&&!j.isEmpty()&&j.newLine(this.getPts(u)),j.pendingNewLine=!1,j.addText(X),u},Di.prototype.multiByteCharacter=function(u,p){var h=this.current708Packet.data,m=h[u+1],y=h[u+2];return ry(m)&&ry(y)&&(u=this.handleText(++u,p,{isMultiByte:!0})),u},Di.prototype.setCurrentWindow=function(u,p){var h=this.current708Packet.data,m=h[u],y=m&7;return p.setCurrentWindow(y),u},Di.prototype.defineWindow=function(u,p){var h=this.current708Packet.data,m=h[u],y=m&7;p.setCurrentWindow(y);var x=p.currentWindow;return m=h[++u],x.visible=(m&32)>>5,x.rowLock=(m&16)>>4,x.columnLock=(m&8)>>3,x.priority=m&7,m=h[++u],x.relativePositioning=(m&128)>>7,x.anchorVertical=m&127,m=h[++u],x.anchorHorizontal=m,m=h[++u],x.anchorPoint=(m&240)>>4,x.rowCount=m&15,m=h[++u],x.columnCount=m&63,m=h[++u],x.windowStyle=(m&56)>>3,x.penStyle=m&7,x.virtualRowCount=x.rowCount+1,u},Di.prototype.setWindowAttributes=function(u,p){var h=this.current708Packet.data,m=h[u],y=p.currentWindow.winAttr;return m=h[++u],y.fillOpacity=(m&192)>>6,y.fillRed=(m&48)>>4,y.fillGreen=(m&12)>>2,y.fillBlue=m&3,m=h[++u],y.borderType=(m&192)>>6,y.borderRed=(m&48)>>4,y.borderGreen=(m&12)>>2,y.borderBlue=m&3,m=h[++u],y.borderType+=(m&128)>>5,y.wordWrap=(m&64)>>6,y.printDirection=(m&48)>>4,y.scrollDirection=(m&12)>>2,y.justify=m&3,m=h[++u],y.effectSpeed=(m&240)>>4,y.effectDirection=(m&12)>>2,y.displayEffect=m&3,u},Di.prototype.flushDisplayed=function(u,p){for(var h=[],m=0;m<8;m++)p.windows[m].visible&&!p.windows[m].isEmpty()&&h.push(p.windows[m].getText());p.endPts=u,p.text=h.join(`

`),this.pushCaption(p),p.startPts=u},Di.prototype.pushCaption=function(u){u.text!==""&&(this.trigger("data",{startPts:u.startPts,endPts:u.endPts,text:u.text,stream:"cc708_"+u.serviceNum}),u.text="",u.startPts=u.endPts)},Di.prototype.displayWindows=function(u,p){var h=this.current708Packet.data,m=h[++u],y=this.getPts(u);this.flushDisplayed(y,p);for(var x=0;x<8;x++)m&1<<x&&(p.windows[x].visible=1);return u},Di.prototype.hideWindows=function(u,p){var h=this.current708Packet.data,m=h[++u],y=this.getPts(u);this.flushDisplayed(y,p);for(var x=0;x<8;x++)m&1<<x&&(p.windows[x].visible=0);return u},Di.prototype.toggleWindows=function(u,p){var h=this.current708Packet.data,m=h[++u],y=this.getPts(u);this.flushDisplayed(y,p);for(var x=0;x<8;x++)m&1<<x&&(p.windows[x].visible^=1);return u},Di.prototype.clearWindows=function(u,p){var h=this.current708Packet.data,m=h[++u],y=this.getPts(u);this.flushDisplayed(y,p);for(var x=0;x<8;x++)m&1<<x&&p.windows[x].clearText();return u},Di.prototype.deleteWindows=function(u,p){var h=this.current708Packet.data,m=h[++u],y=this.getPts(u);this.flushDisplayed(y,p);for(var x=0;x<8;x++)m&1<<x&&p.windows[x].reset();return u},Di.prototype.setPenAttributes=function(u,p){var h=this.current708Packet.data,m=h[u],y=p.currentWindow.penAttr;return m=h[++u],y.textTag=(m&240)>>4,y.offset=(m&12)>>2,y.penSize=m&3,m=h[++u],y.italics=(m&128)>>7,y.underline=(m&64)>>6,y.edgeType=(m&56)>>3,y.fontStyle=m&7,u},Di.prototype.setPenColor=function(u,p){var h=this.current708Packet.data,m=h[u],y=p.currentWindow.penColor;return m=h[++u],y.fgOpacity=(m&192)>>6,y.fgRed=(m&48)>>4,y.fgGreen=(m&12)>>2,y.fgBlue=m&3,m=h[++u],y.bgOpacity=(m&192)>>6,y.bgRed=(m&48)>>4,y.bgGreen=(m&12)>>2,y.bgBlue=m&3,m=h[++u],y.edgeRed=(m&48)>>4,y.edgeGreen=(m&12)>>2,y.edgeBlue=m&3,u},Di.prototype.setPenLocation=function(u,p){var h=this.current708Packet.data,m=h[u],y=p.currentWindow.penLoc;return p.currentWindow.pendingNewLine=!0,m=h[++u],y.row=m&15,m=h[++u],y.column=m&63,u},Di.prototype.reset=function(u,p){var h=this.getPts(u);return this.flushDisplayed(h,p),this.initService(p.serviceNum,u)};var NJ={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},oy=function(u){return u===null?"":(u=NJ[u]||u,String.fromCharCode(u))},sy=14,FJ=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Fc=function(){for(var u=[],p=sy+1;p--;)u.push({text:"",indent:0,offset:0});return u},Gi=function(u,p){Gi.prototype.init.call(this),this.field_=u||0,this.dataChannel_=p||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(h){var m,y,x,I,O;if(m=h.ccData&32639,m===this.lastControlCode_){this.lastControlCode_=null;return}if((m&61440)===4096?this.lastControlCode_=m:m!==this.PADDING_&&(this.lastControlCode_=null),x=m>>>8,I=m&255,m!==this.PADDING_)if(m===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(m===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(h.pts),this.flushDisplayed(h.pts),y=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=y,this.startPts_=h.pts;else if(m===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(h.pts);else if(m===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(h.pts);else if(m===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(h.pts);else if(m===this.CARRIAGE_RETURN_)this.clearFormatting(h.pts),this.flushDisplayed(h.pts),this.shiftRowsUp_(),this.startPts_=h.pts;else if(m===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(m===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(h.pts),this.displayed_=Fc();else if(m===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Fc();else if(m===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(h.pts),this.displayed_=Fc()),this.mode_="paintOn",this.startPts_=h.pts;else if(this.isSpecialCharacter(x,I))x=(x&3)<<8,O=oy(x|I),this[this.mode_](h.pts,O),this.column_++;else if(this.isExtCharacter(x,I))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),x=(x&3)<<8,O=oy(x|I),this[this.mode_](h.pts,O),this.column_++;else if(this.isMidRowCode(x,I))this.clearFormatting(h.pts),this[this.mode_](h.pts," "),this.column_++,(I&14)===14&&this.addFormatting(h.pts,["i"]),(I&1)===1&&this.addFormatting(h.pts,["u"]);else if(this.isOffsetControlCode(x,I)){let j=I&3;this.nonDisplayed_[this.row_].offset=j,this.column_+=j}else if(this.isPAC(x,I)){var F=FJ.indexOf(m&7968);if(this.mode_==="rollUp"&&(F-this.rollUpRows_+1<0&&(F=this.rollUpRows_-1),this.setRollUp(h.pts,F)),F!==this.row_&&F>=0&&F<=14&&(this.clearFormatting(h.pts),this.row_=F),I&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(h.pts,["u"]),(m&16)===16){let j=(m&14)>>1;this.column_=j*4,this.nonDisplayed_[this.row_].indent+=j}this.isColorPAC(I)&&(I&14)===14&&this.addFormatting(h.pts,["i"])}else this.isNormalChar(x)&&(I===0&&(I=null),O=oy(x),O+=oy(I),this[this.mode_](h.pts,O),this.column_+=O.length)}};Gi.prototype=new xw,Gi.prototype.flushDisplayed=function(u){let p=m=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+m+"."})},h=[];this.displayed_.forEach((m,y)=>{if(m&&m.text&&m.text.length){try{m.text=m.text.trim()}catch{p(y)}m.text.length&&h.push({text:m.text,line:y+1,position:10+Math.min(70,m.indent*10)+m.offset*2.5})}else m==null&&p(y)}),h.length&&this.trigger("data",{startPts:this.startPts_,endPts:u,content:h,stream:this.name_})},Gi.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Fc(),this.nonDisplayed_=Fc(),this.lastControlCode_=null,this.column_=0,this.row_=sy,this.rollUpRows_=2,this.formatting_=[]},Gi.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Gi.prototype.isSpecialCharacter=function(u,p){return u===this.EXT_&&p>=48&&p<=63},Gi.prototype.isExtCharacter=function(u,p){return(u===this.EXT_+1||u===this.EXT_+2)&&p>=32&&p<=63},Gi.prototype.isMidRowCode=function(u,p){return u===this.EXT_&&p>=32&&p<=47},Gi.prototype.isOffsetControlCode=function(u,p){return u===this.OFFSET_&&p>=33&&p<=35},Gi.prototype.isPAC=function(u,p){return u>=this.BASE_&&u<this.BASE_+8&&p>=64&&p<=127},Gi.prototype.isColorPAC=function(u){return u>=64&&u<=79||u>=96&&u<=127},Gi.prototype.isNormalChar=function(u){return u>=32&&u<=127},Gi.prototype.setRollUp=function(u,p){if(this.mode_!=="rollUp"&&(this.row_=sy,this.mode_="rollUp",this.flushDisplayed(u),this.nonDisplayed_=Fc(),this.displayed_=Fc()),p!==void 0&&p!==this.row_)for(var h=0;h<this.rollUpRows_;h++)this.displayed_[p-h]=this.displayed_[this.row_-h],this.displayed_[this.row_-h]={text:"",indent:0,offset:0};p===void 0&&(p=this.row_),this.topRow_=p-this.rollUpRows_+1},Gi.prototype.addFormatting=function(u,p){this.formatting_=this.formatting_.concat(p);var h=p.reduce(function(m,y){return m+"<"+y+">"},"");this[this.mode_](u,h)},Gi.prototype.clearFormatting=function(u){if(this.formatting_.length){var p=this.formatting_.reverse().reduce(function(h,m){return h+"</"+m+">"},"");this.formatting_=[],this[this.mode_](u,p)}},Gi.prototype.popOn=function(u,p){var h=this.nonDisplayed_[this.row_].text;h+=p,this.nonDisplayed_[this.row_].text=h},Gi.prototype.rollUp=function(u,p){var h=this.displayed_[this.row_].text;h+=p,this.displayed_[this.row_].text=h},Gi.prototype.shiftRowsUp_=function(){var u;for(u=0;u<this.topRow_;u++)this.displayed_[u]={text:"",indent:0,offset:0};for(u=this.row_+1;u<sy+1;u++)this.displayed_[u]={text:"",indent:0,offset:0};for(u=this.topRow_;u<this.row_;u++)this.displayed_[u]=this.displayed_[u+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Gi.prototype.paintOn=function(u,p){var h=this.displayed_[this.row_].text;h+=p,this.displayed_[this.row_].text=h};var X3={CaptionStream:An,Cea608Stream:Gi,Cea708Stream:Di},ay={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},UJ=t,jJ=8589934592,qJ=4294967296,Z3="shared",Cw=function(u,p){var h=1;for(u>p&&(h=-1);Math.abs(p-u)>qJ;)u+=h*jJ;return u},Ew=function(u){var p,h;Ew.prototype.init.call(this),this.type_=u||Z3,this.push=function(m){if(m.type==="metadata"){this.trigger("data",m);return}this.type_!==Z3&&m.type!==this.type_||(h===void 0&&(h=m.dts),m.dts=Cw(m.dts,h),m.pts=Cw(m.pts,h),p=m.dts,this.trigger("data",m))},this.flush=function(){h=p,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){h=void 0,p=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ew.prototype=new UJ;var Q3={TimestampRolloverStream:Ew,handleRollover:Cw},$J=(u,p,h)=>{if(!u)return-1;for(var m=h;m<u.length;m++)if(u[m]===p)return m;return-1},zJ={typedArrayIndexOf:$J},ly=zJ.typedArrayIndexOf,cy={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Y3=function(u,p,h){var m,y="";for(m=p;m<h;m++)y+="%"+("00"+u[m].toString(16)).slice(-2);return y},oh=function(u,p,h){return decodeURIComponent(Y3(u,p,h))},sh=function(u,p,h){return unescape(Y3(u,p,h))},ah=function(u){return u[0]<<21|u[1]<<14|u[2]<<7|u[3]},lh={APIC:function(u){var p=1,h,m,y="-->";u.data[0]===cy.Utf8&&(h=ly(u.data,0,p),!(h<0)&&(u.mimeType=sh(u.data,p,h),p=h+1,u.pictureType=u.data[p],p++,m=ly(u.data,0,p),!(m<0)&&(u.description=oh(u.data,p,m),p=m+1,u.mimeType===y?u.url=sh(u.data,p,u.data.length):u.pictureData=u.data.subarray(p,u.data.length))))},"T*":function(u){u.data[0]===cy.Utf8&&(u.value=oh(u.data,1,u.data.length).replace(/\0*$/,""),u.values=u.value.split("\0"))},TXXX:function(u){var p;u.data[0]===cy.Utf8&&(p=ly(u.data,0,1),p!==-1&&(u.description=oh(u.data,1,p),u.value=oh(u.data,p+1,u.data.length).replace(/\0*$/,""),u.data=u.value))},"W*":function(u){u.url=sh(u.data,0,u.data.length).replace(/\0.*$/,"")},WXXX:function(u){var p;u.data[0]===cy.Utf8&&(p=ly(u.data,0,1),p!==-1&&(u.description=oh(u.data,1,p),u.url=sh(u.data,p+1,u.data.length).replace(/\0.*$/,"")))},PRIV:function(u){var p;for(p=0;p<u.data.length;p++)if(u.data[p]===0){u.owner=sh(u.data,0,p);break}u.privateData=u.data.subarray(p+1),u.data=u.privateData}},KJ=function(u){var p,h,m=10,y=0,x=[];if(!(u.length<10||u[0]!==73||u[1]!==68||u[2]!==51)){y=ah(u.subarray(6,10)),y+=10;var I=u[5]&64;I&&(m+=4,m+=ah(u.subarray(10,14)),y-=ah(u.subarray(16,20)));do{if(p=ah(u.subarray(m+4,m+8)),p<1)break;h=String.fromCharCode(u[m],u[m+1],u[m+2],u[m+3]);var O={id:h,data:u.subarray(m+10,m+p+10)};O.key=O.id,lh[O.id]?lh[O.id](O):O.id[0]==="T"?lh["T*"](O):O.id[0]==="W"&&lh["W*"](O),x.push(O),m+=10,m+=p}while(m<y);return x}},J3={parseId3Frames:KJ,parseSyncSafeInteger:ah,frameParsers:lh},HJ=t,GJ=ay,El=J3,uy;uy=function(u){var p={descriptor:u&&u.descriptor},h=0,m=[],y=0,x;if(uy.prototype.init.call(this),this.dispatchType=GJ.METADATA_STREAM_TYPE.toString(16),p.descriptor)for(x=0;x<p.descriptor.length;x++)this.dispatchType+=("00"+p.descriptor[x].toString(16)).slice(-2);this.push=function(I){var O,F,j,X,le,Oe;if(I.type==="timed-metadata"){if(I.dataAlignmentIndicator&&(y=0,m.length=0),m.length===0&&(I.data.length<10||I.data[0]!==73||I.data[1]!==68||I.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(m.push(I),y+=I.data.byteLength,m.length===1&&(h=El.parseSyncSafeInteger(I.data.subarray(6,10)),h+=10),!(y<h)){for(O={data:new Uint8Array(h),frames:[],pts:m[0].pts,dts:m[0].dts},le=0;le<h;)O.data.set(m[0].data.subarray(0,h-le),le),le+=m[0].data.byteLength,y-=m[0].data.byteLength,m.shift();F=10,O.data[5]&64&&(F+=4,F+=El.parseSyncSafeInteger(O.data.subarray(10,14)),h-=El.parseSyncSafeInteger(O.data.subarray(16,20)));do{if(j=El.parseSyncSafeInteger(O.data.subarray(F+4,F+8)),j<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Oe=String.fromCharCode(O.data[F],O.data[F+1],O.data[F+2],O.data[F+3]),X={id:Oe,data:O.data.subarray(F+10,F+j+10)},X.key=X.id,El.frameParsers[X.id]?El.frameParsers[X.id](X):X.id[0]==="T"?El.frameParsers["T*"](X):X.id[0]==="W"&&El.frameParsers["W*"](X),X.owner==="com.apple.streaming.transportStreamTimestamp"){var me=X.data,Ye=(me[3]&1)<<30|me[4]<<22|me[5]<<14|me[6]<<6|me[7]>>>2;Ye*=4,Ye+=me[7]&3,X.timeStamp=Ye,O.pts===void 0&&O.dts===void 0&&(O.pts=X.timeStamp,O.dts=X.timeStamp),this.trigger("timestamp",X)}O.frames.push(X),F+=10,F+=j}while(F<h);this.trigger("data",O)}}}},uy.prototype=new HJ;var WJ=uy,Tw=t,ww=X3,cs=ay,XJ=Q3.TimestampRolloverStream,dy,ch,py,ud=188,Sw=71;dy=function(){var u=new Uint8Array(ud),p=0;dy.prototype.init.call(this),this.push=function(h){var m=0,y=ud,x;for(p?(x=new Uint8Array(h.byteLength+p),x.set(u.subarray(0,p)),x.set(h,p),p=0):x=h;y<x.byteLength;){if(x[m]===Sw&&x[y]===Sw){this.trigger("data",x.subarray(m,y)),m+=ud,y+=ud;continue}m++,y++}m<x.byteLength&&(u.set(x.subarray(m),0),p=x.byteLength-m)},this.flush=function(){p===ud&&u[0]===Sw&&(this.trigger("data",u),p=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){p=0,this.trigger("reset")}},dy.prototype=new Tw,ch=function(){var u,p,h,m;ch.prototype.init.call(this),m=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,u=function(y,x){var I=0;x.payloadUnitStartIndicator&&(I+=y[I]+1),x.type==="pat"?p(y.subarray(I),x):h(y.subarray(I),x)},p=function(y,x){x.section_number=y[7],x.last_section_number=y[8],m.pmtPid=(y[10]&31)<<8|y[11],x.pmtPid=m.pmtPid},h=function(y,x){var I,O,F,j;if(y[5]&1){for(m.programMapTable={video:null,audio:null,"timed-metadata":{}},I=(y[1]&15)<<8|y[2],O=3+I-4,F=(y[10]&15)<<8|y[11],j=12+F;j<O;){var X=y[j],le=(y[j+1]&31)<<8|y[j+2];X===cs.H264_STREAM_TYPE&&m.programMapTable.video===null?m.programMapTable.video=le:X===cs.ADTS_STREAM_TYPE&&m.programMapTable.audio===null?m.programMapTable.audio=le:X===cs.METADATA_STREAM_TYPE&&(m.programMapTable["timed-metadata"][le]=X),j+=((y[j+3]&15)<<8|y[j+4])+5}x.programMapTable=m.programMapTable}},this.push=function(y){var x={},I=4;if(x.payloadUnitStartIndicator=!!(y[1]&64),x.pid=y[1]&31,x.pid<<=8,x.pid|=y[2],(y[3]&48)>>>4>1&&(I+=y[I]+1),x.pid===0)x.type="pat",u(y.subarray(I),x),this.trigger("data",x);else if(x.pid===this.pmtPid)for(x.type="pmt",u(y.subarray(I),x),this.trigger("data",x);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([y,I,x]):this.processPes_(y,I,x)},this.processPes_=function(y,x,I){I.pid===this.programMapTable.video?I.streamType=cs.H264_STREAM_TYPE:I.pid===this.programMapTable.audio?I.streamType=cs.ADTS_STREAM_TYPE:I.streamType=this.programMapTable["timed-metadata"][I.pid],I.type="pes",I.data=y.subarray(x),this.trigger("data",I)}},ch.prototype=new Tw,ch.STREAM_TYPES={h264:27,adts:15},py=function(){var u=this,p=!1,h={data:[],size:0},m={data:[],size:0},y={data:[],size:0},x,I=function(F,j){var X;let le=F[0]<<16|F[1]<<8|F[2];j.data=new Uint8Array,le===1&&(j.packetLength=6+(F[4]<<8|F[5]),j.dataAlignmentIndicator=(F[6]&4)!==0,X=F[7],X&192&&(j.pts=(F[9]&14)<<27|(F[10]&255)<<20|(F[11]&254)<<12|(F[12]&255)<<5|(F[13]&254)>>>3,j.pts*=4,j.pts+=(F[13]&6)>>>1,j.dts=j.pts,X&64&&(j.dts=(F[14]&14)<<27|(F[15]&255)<<20|(F[16]&254)<<12|(F[17]&255)<<5|(F[18]&254)>>>3,j.dts*=4,j.dts+=(F[18]&6)>>>1)),j.data=F.subarray(9+F[8]))},O=function(F,j,X){var le=new Uint8Array(F.size),Oe={type:j},me=0,Ye=0,ht=!1,Ar;if(!(!F.data.length||F.size<9)){for(Oe.trackId=F.data[0].pid,me=0;me<F.data.length;me++)Ar=F.data[me],le.set(Ar.data,Ye),Ye+=Ar.data.byteLength;I(le,Oe),ht=j==="video"||Oe.packetLength<=F.size,(X||ht)&&(F.size=0,F.data.length=0),ht&&u.trigger("data",Oe)}};py.prototype.init.call(this),this.push=function(F){({pat:function(){},pes:function(){var j,X;switch(F.streamType){case cs.H264_STREAM_TYPE:j=h,X="video";break;case cs.ADTS_STREAM_TYPE:j=m,X="audio";break;case cs.METADATA_STREAM_TYPE:j=y,X="timed-metadata";break;default:return}F.payloadUnitStartIndicator&&O(j,X,!0),j.data.push(F),j.size+=F.data.byteLength},pmt:function(){var j={type:"metadata",tracks:[]};x=F.programMapTable,x.video!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+x.video,codec:"avc",type:"video"}),x.audio!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+x.audio,codec:"adts",type:"audio"}),p=!0,u.trigger("data",j)}})[F.type]()},this.reset=function(){h.size=0,h.data.length=0,m.size=0,m.data.length=0,this.trigger("reset")},this.flushStreams_=function(){O(h,"video"),O(m,"audio"),O(y,"timed-metadata")},this.flush=function(){if(!p&&x){var F={type:"metadata",tracks:[]};x.video!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+x.video,codec:"avc",type:"video"}),x.audio!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+x.audio,codec:"adts",type:"audio"}),u.trigger("data",F)}p=!1,this.flushStreams_(),this.trigger("done")}},py.prototype=new Tw;var e4={PAT_PID:0,MP2T_PACKET_LENGTH:ud,TransportPacketStream:dy,TransportParseStream:ch,ElementaryStream:py,TimestampRolloverStream:XJ,CaptionStream:ww.CaptionStream,Cea608Stream:ww.Cea608Stream,Cea708Stream:ww.Cea708Stream,MetadataStream:WJ};for(var Aw in cs)cs.hasOwnProperty(Aw)&&(e4[Aw]=cs[Aw]);var ZJ=e4,QJ=t,YJ=Fi.ONE_SECOND_IN_TS,fy,t4=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];fy=function(u){var p,h=0;fy.prototype.init.call(this),this.skipWarn_=function(m,y){this.trigger("log",{level:"warn",message:`adts skiping bytes ${m} to ${y} in frame ${h} outside syncword`})},this.push=function(m){var y=0,x,I,O,F,j;if(u||(h=0),m.type==="audio"){p&&p.length?(O=p,p=new Uint8Array(O.byteLength+m.data.byteLength),p.set(O),p.set(m.data,O.byteLength)):p=m.data;for(var X;y+7<p.length;){if(p[y]!==255||(p[y+1]&246)!==240){typeof X!="number"&&(X=y),y++;continue}if(typeof X=="number"&&(this.skipWarn_(X,y),X=null),I=(~p[y+1]&1)*2,x=(p[y+3]&3)<<11|p[y+4]<<3|(p[y+5]&224)>>5,F=((p[y+6]&3)+1)*1024,j=F*YJ/t4[(p[y+2]&60)>>>2],p.byteLength-y<x)break;this.trigger("data",{pts:m.pts+h*j,dts:m.dts+h*j,sampleCount:F,audioobjecttype:(p[y+2]>>>6&3)+1,channelcount:(p[y+2]&1)<<2|(p[y+3]&192)>>>6,samplerate:t4[(p[y+2]&60)>>>2],samplingfrequencyindex:(p[y+2]&60)>>>2,samplesize:16,data:p.subarray(y+7+I,y+x)}),h++,y+=x}typeof X=="number"&&(this.skipWarn_(X,y),X=null),p=p.subarray(y)}},this.flush=function(){h=0,this.trigger("done")},this.reset=function(){p=void 0,this.trigger("reset")},this.endTimeline=function(){p=void 0,this.trigger("endedtimeline")}},fy.prototype=new QJ;var JJ=fy,i4;i4=function(u){var p=u.byteLength,h=0,m=0;this.length=function(){return 8*p},this.bitsAvailable=function(){return 8*p+m},this.loadWord=function(){var y=u.byteLength-p,x=new Uint8Array(4),I=Math.min(4,p);if(I===0)throw new Error("no bytes available");x.set(u.subarray(y,y+I)),h=new DataView(x.buffer).getUint32(0),m=I*8,p-=I},this.skipBits=function(y){var x;m>y?(h<<=y,m-=y):(y-=m,x=Math.floor(y/8),y-=x*8,p-=x,this.loadWord(),h<<=y,m-=y)},this.readBits=function(y){var x=Math.min(m,y),I=h>>>32-x;return m-=x,m>0?h<<=x:p>0&&this.loadWord(),x=y-x,x>0?I<<x|this.readBits(x):I},this.skipLeadingZeros=function(){var y;for(y=0;y<m;++y)if((h&2147483648>>>y)!==0)return h<<=y,m-=y,y;return this.loadWord(),y+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var y=this.skipLeadingZeros();return this.readBits(y+1)-1},this.readExpGolomb=function(){var y=this.readUnsignedExpGolomb();return 1&y?1+y>>>1:-1*(y>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var eee=i4,r4=t,tee=eee,hy,uh,n4;uh=function(){var u=0,p,h;uh.prototype.init.call(this),this.push=function(m){var y;h?(y=new Uint8Array(h.byteLength+m.data.byteLength),y.set(h),y.set(m.data,h.byteLength),h=y):h=m.data;for(var x=h.byteLength;u<x-3;u++)if(h[u+2]===1){p=u+5;break}for(;p<x;)switch(h[p]){case 0:if(h[p-1]!==0){p+=2;break}else if(h[p-2]!==0){p++;break}u+3!==p-2&&this.trigger("data",h.subarray(u+3,p-2));do p++;while(h[p]!==1&&p<x);u=p-2,p+=3;break;case 1:if(h[p-1]!==0||h[p-2]!==0){p+=3;break}this.trigger("data",h.subarray(u+3,p-2)),u=p-2,p+=3;break;default:p+=3;break}h=h.subarray(u),p-=u,u=0},this.reset=function(){h=null,u=0,this.trigger("reset")},this.flush=function(){h&&h.byteLength>3&&this.trigger("data",h.subarray(u+3)),h=null,u=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},uh.prototype=new r4,n4={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},hy=function(){var u=new uh,p,h,m,y,x,I,O;hy.prototype.init.call(this),p=this,this.push=function(F){F.type==="video"&&(h=F.trackId,m=F.pts,y=F.dts,u.push(F))},u.on("data",function(F){var j={trackId:h,pts:m,dts:y,data:F,nalUnitTypeCode:F[0]&31};switch(j.nalUnitTypeCode){case 5:j.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:j.nalUnitType="sei_rbsp",j.escapedRBSP=x(F.subarray(1));break;case 7:j.nalUnitType="seq_parameter_set_rbsp",j.escapedRBSP=x(F.subarray(1)),j.config=I(j.escapedRBSP);break;case 8:j.nalUnitType="pic_parameter_set_rbsp";break;case 9:j.nalUnitType="access_unit_delimiter_rbsp";break}p.trigger("data",j)}),u.on("done",function(){p.trigger("done")}),u.on("partialdone",function(){p.trigger("partialdone")}),u.on("reset",function(){p.trigger("reset")}),u.on("endedtimeline",function(){p.trigger("endedtimeline")}),this.flush=function(){u.flush()},this.partialFlush=function(){u.partialFlush()},this.reset=function(){u.reset()},this.endTimeline=function(){u.endTimeline()},O=function(F,j){var X=8,le=8,Oe,me;for(Oe=0;Oe<F;Oe++)le!==0&&(me=j.readExpGolomb(),le=(X+me+256)%256),X=le===0?X:le},x=function(F){for(var j=F.byteLength,X=[],le=1,Oe,me;le<j-2;)F[le]===0&&F[le+1]===0&&F[le+2]===3?(X.push(le+2),le+=2):le++;if(X.length===0)return F;Oe=j-X.length,me=new Uint8Array(Oe);var Ye=0;for(le=0;le<Oe;Ye++,le++)Ye===X[0]&&(Ye++,X.shift()),me[le]=F[Ye];return me},I=function(F){var j=0,X=0,le=0,Oe=0,me,Ye,ht,Ar,Jn,Sl,bh,_h,vh,xh,Sy,Ui=[1,1],Ch,ds;if(me=new tee(F),Ye=me.readUnsignedByte(),Ar=me.readUnsignedByte(),ht=me.readUnsignedByte(),me.skipUnsignedExpGolomb(),n4[Ye]&&(Jn=me.readUnsignedExpGolomb(),Jn===3&&me.skipBits(1),me.skipUnsignedExpGolomb(),me.skipUnsignedExpGolomb(),me.skipBits(1),me.readBoolean()))for(Sy=Jn!==3?8:12,ds=0;ds<Sy;ds++)me.readBoolean()&&(ds<6?O(16,me):O(64,me));if(me.skipUnsignedExpGolomb(),Sl=me.readUnsignedExpGolomb(),Sl===0)me.readUnsignedExpGolomb();else if(Sl===1)for(me.skipBits(1),me.skipExpGolomb(),me.skipExpGolomb(),bh=me.readUnsignedExpGolomb(),ds=0;ds<bh;ds++)me.skipExpGolomb();if(me.skipUnsignedExpGolomb(),me.skipBits(1),_h=me.readUnsignedExpGolomb(),vh=me.readUnsignedExpGolomb(),xh=me.readBits(1),xh===0&&me.skipBits(1),me.skipBits(1),me.readBoolean()&&(j=me.readUnsignedExpGolomb(),X=me.readUnsignedExpGolomb(),le=me.readUnsignedExpGolomb(),Oe=me.readUnsignedExpGolomb()),me.readBoolean()&&me.readBoolean()){switch(Ch=me.readUnsignedByte(),Ch){case 1:Ui=[1,1];break;case 2:Ui=[12,11];break;case 3:Ui=[10,11];break;case 4:Ui=[16,11];break;case 5:Ui=[40,33];break;case 6:Ui=[24,11];break;case 7:Ui=[20,11];break;case 8:Ui=[32,11];break;case 9:Ui=[80,33];break;case 10:Ui=[18,11];break;case 11:Ui=[15,11];break;case 12:Ui=[64,33];break;case 13:Ui=[160,99];break;case 14:Ui=[4,3];break;case 15:Ui=[3,2];break;case 16:Ui=[2,1];break;case 255:{Ui=[me.readUnsignedByte()<<8|me.readUnsignedByte(),me.readUnsignedByte()<<8|me.readUnsignedByte()];break}}Ui&&Ui[0]/Ui[1]}return{profileIdc:Ye,levelIdc:ht,profileCompatibility:Ar,width:(_h+1)*16-j*2-X*2,height:(2-xh)*(vh+1)*16-le*2-Oe*2,sarRatio:Ui}}},hy.prototype=new r4;var iee={H264Stream:hy,NalByteStream:uh},ree=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o4=function(u,p){var h=u[p+6]<<21|u[p+7]<<14|u[p+8]<<7|u[p+9],m=u[p+5],y=(m&16)>>4;return h=h>=0?h:0,y?h+20:h+10},s4=function(u,p){return u.length-p<10||u[p]!==73||u[p+1]!==68||u[p+2]!==51?p:(p+=o4(u,p),s4(u,p))},nee=function(u){var p=s4(u,0);return u.length>=p+2&&(u[p]&255)===255&&(u[p+1]&240)===240&&(u[p+1]&22)===16},a4=function(u){return u[0]<<21|u[1]<<14|u[2]<<7|u[3]},oee=function(u,p,h){var m,y="";for(m=p;m<h;m++)y+="%"+("00"+u[m].toString(16)).slice(-2);return y},see=function(u,p,h){return unescape(oee(u,p,h))},aee=function(u,p){var h=(u[p+5]&224)>>5,m=u[p+4]<<3,y=u[p+3]&6144;return y|m|h},lee=function(u,p){return u[p]===73&&u[p+1]===68&&u[p+2]===51?"timed-metadata":u[p]&!0&&(u[p+1]&240)===240?"audio":null},cee=function(u){for(var p=0;p+5<u.length;){if(u[p]!==255||(u[p+1]&246)!==240){p++;continue}return ree[(u[p+2]&60)>>>2]}return null},uee=function(u){var p,h,m,y;p=10,u[5]&64&&(p+=4,p+=a4(u.subarray(10,14)));do{if(h=a4(u.subarray(p+4,p+8)),h<1)return null;if(y=String.fromCharCode(u[p],u[p+1],u[p+2],u[p+3]),y==="PRIV"){m=u.subarray(p+10,p+h+10);for(var x=0;x<m.byteLength;x++)if(m[x]===0){var I=see(m,0,x);if(I==="com.apple.streaming.transportStreamTimestamp"){var O=m.subarray(x+1),F=(O[3]&1)<<30|O[4]<<22|O[5]<<14|O[6]<<6|O[7]>>>2;return F*=4,F+=O[7]&3,F}break}}p+=10,p+=h}while(p<u.byteLength);return null},Rw={isLikelyAacData:nee,parseId3TagSize:o4,parseAdtsSize:aee,parseType:lee,parseSampleRate:cee,parseAacTimestamp:uee},dee=t,l4=Rw,my;my=function(){var u=new Uint8Array,p=0;my.prototype.init.call(this),this.setTimestamp=function(h){p=h},this.push=function(h){var m=0,y=0,x,I,O,F;for(u.length?(F=u.length,u=new Uint8Array(h.byteLength+F),u.set(u.subarray(0,F)),u.set(h,F)):u=h;u.length-y>=3;){if(u[y]===73&&u[y+1]===68&&u[y+2]===51){if(u.length-y<10||(m=l4.parseId3TagSize(u,y),y+m>u.length))break;I={type:"timed-metadata",data:u.subarray(y,y+m)},this.trigger("data",I),y+=m;continue}else if((u[y]&255)===255&&(u[y+1]&240)===240){if(u.length-y<7||(m=l4.parseAdtsSize(u,y),y+m>u.length))break;O={type:"audio",data:u.subarray(y,y+m),pts:p,dts:p},this.trigger("data",O),y+=m;continue}y++}x=u.length-y,x>0?u=u.subarray(y):u=new Uint8Array},this.reset=function(){u=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){u=new Uint8Array,this.trigger("endedtimeline")}},my.prototype=new dee;var pee=my,fee=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],hee=fee,mee=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],gee=mee,gy=t,dh=sw,ph=mw,yy=wJ,us=DJ,Ma=ZJ,by=Fi,c4=JJ,yee=iee.H264Stream,bee=pee,_ee=Rw.isLikelyAacData,vee=Fi.ONE_SECOND_IN_TS,kw=hee,Dw=gee,fh,dd,_y,Uc,xee=function(u,p){p.stream=u,this.trigger("log",p)},u4=function(u,p){for(var h=Object.keys(p),m=0;m<h.length;m++){var y=h[m];y==="headOfPipeline"||!p[y].on||p[y].on("log",xee.bind(u,y))}},d4=function(u,p){var h;if(u.length!==p.length)return!1;for(h=0;h<u.length;h++)if(u[h]!==p[h])return!1;return!0},Iw=function(u,p,h,m,y,x){var I=h-p,O=m-p,F=y-h;return{start:{dts:u,pts:u+I},end:{dts:u+O,pts:u+F},prependedContentDuration:x,baseMediaDecodeTime:u}};dd=function(u,p){var h=[],m,y=0,x=0,I=1/0;p=p||{},m=p.firstSequenceNumber||0,dd.prototype.init.call(this),this.push=function(O){us.collectDtsInfo(u,O),u&&kw.forEach(function(F){u[F]=O[F]}),h.push(O)},this.setEarliestDts=function(O){y=O},this.setVideoBaseMediaDecodeTime=function(O){I=O},this.setAudioAppendStart=function(O){x=O},this.flush=function(){var O,F,j,X,le,Oe,me;if(h.length===0){this.trigger("done","AudioSegmentStream");return}O=yy.trimAdtsFramesByEarliestDts(h,u,y),u.baseMediaDecodeTime=us.calculateTrackBaseMediaDecodeTime(u,p.keepOriginalTimestamps),me=yy.prefixWithSilence(u,O,x,I),u.samples=yy.generateSampleTable(O),j=dh.mdat(yy.concatenateFrameData(O)),h=[],F=dh.moof(m,[u]),X=new Uint8Array(F.byteLength+j.byteLength),m++,X.set(F),X.set(j,F.byteLength),us.clearDtsInfo(u),le=Math.ceil(vee*1024/u.samplerate),O.length&&(Oe=O.length*le,this.trigger("segmentTimingInfo",Iw(by.audioTsToVideoTs(u.baseMediaDecodeTime,u.samplerate),O[0].dts,O[0].pts,O[0].dts+Oe,O[0].pts+Oe,me||0)),this.trigger("timingInfo",{start:O[0].pts,end:O[0].pts+Oe})),this.trigger("data",{track:u,boxes:X}),this.trigger("done","AudioSegmentStream")},this.reset=function(){us.clearDtsInfo(u),h=[],this.trigger("reset")}},dd.prototype=new gy,fh=function(u,p){var h,m=[],y=[],x,I;p=p||{},h=p.firstSequenceNumber||0,fh.prototype.init.call(this),delete u.minPTS,this.gopCache_=[],this.push=function(O){us.collectDtsInfo(u,O),O.nalUnitType==="seq_parameter_set_rbsp"&&!x&&(x=O.config,u.sps=[O.data],Dw.forEach(function(F){u[F]=x[F]},this)),O.nalUnitType==="pic_parameter_set_rbsp"&&!I&&(I=O.data,u.pps=[O.data]),m.push(O)},this.flush=function(){for(var O,F,j,X,le,Oe,me=0,Ye,ht;m.length&&m[0].nalUnitType!=="access_unit_delimiter_rbsp";)m.shift();if(m.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(O=ph.groupNalsIntoFrames(m),j=ph.groupFramesIntoGops(O),j[0][0].keyFrame||(F=this.getGopForFusion_(m[0],u),F?(me=F.duration,j.unshift(F),j.byteLength+=F.byteLength,j.nalCount+=F.nalCount,j.pts=F.pts,j.dts=F.dts,j.duration+=F.duration):j=ph.extendFirstKeyFrame(j)),y.length){var Ar;if(p.alignGopsAtEnd?Ar=this.alignGopsAtEnd_(j):Ar=this.alignGopsAtStart_(j),!Ar){this.gopCache_.unshift({gop:j.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),m=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}us.clearDtsInfo(u),j=Ar}us.collectDtsInfo(u,j),u.samples=ph.generateSampleTable(j),le=dh.mdat(ph.concatenateNalData(j)),u.baseMediaDecodeTime=us.calculateTrackBaseMediaDecodeTime(u,p.keepOriginalTimestamps),this.trigger("processedGopsInfo",j.map(function(Jn){return{pts:Jn.pts,dts:Jn.dts,byteLength:Jn.byteLength}})),Ye=j[0],ht=j[j.length-1],this.trigger("segmentTimingInfo",Iw(u.baseMediaDecodeTime,Ye.dts,Ye.pts,ht.dts+ht.duration,ht.pts+ht.duration,me)),this.trigger("timingInfo",{start:j[0].pts,end:j[j.length-1].pts+j[j.length-1].duration}),this.gopCache_.unshift({gop:j.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),m=[],this.trigger("baseMediaDecodeTime",u.baseMediaDecodeTime),this.trigger("timelineStartInfo",u.timelineStartInfo),X=dh.moof(h,[u]),Oe=new Uint8Array(X.byteLength+le.byteLength),h++,Oe.set(X),Oe.set(le,X.byteLength),this.trigger("data",{track:u,boxes:Oe}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),m=[],this.gopCache_.length=0,y.length=0,this.trigger("reset")},this.resetStream_=function(){us.clearDtsInfo(u),x=void 0,I=void 0},this.getGopForFusion_=function(O){var F=45e3,j=1e4,X=1/0,le,Oe,me,Ye,ht;for(ht=0;ht<this.gopCache_.length;ht++)Ye=this.gopCache_[ht],me=Ye.gop,!(!(u.pps&&d4(u.pps[0],Ye.pps[0]))||!(u.sps&&d4(u.sps[0],Ye.sps[0])))&&(me.dts<u.timelineStartInfo.dts||(le=O.dts-me.dts-me.duration,le>=-j&&le<=F&&(!Oe||X>le)&&(Oe=Ye,X=le)));return Oe?Oe.gop:null},this.alignGopsAtStart_=function(O){var F,j,X,le,Oe,me,Ye,ht;for(Oe=O.byteLength,me=O.nalCount,Ye=O.duration,F=j=0;F<y.length&&j<O.length&&(X=y[F],le=O[j],X.pts!==le.pts);){if(le.pts>X.pts){F++;continue}j++,Oe-=le.byteLength,me-=le.nalCount,Ye-=le.duration}return j===0?O:j===O.length?null:(ht=O.slice(j),ht.byteLength=Oe,ht.duration=Ye,ht.nalCount=me,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht)},this.alignGopsAtEnd_=function(O){var F,j,X,le,Oe,me;for(F=y.length-1,j=O.length-1,Oe=null,me=!1;F>=0&&j>=0;){if(X=y[F],le=O[j],X.pts===le.pts){me=!0;break}if(X.pts>le.pts){F--;continue}F===y.length-1&&(Oe=j),j--}if(!me&&Oe===null)return null;var Ye;if(me?Ye=j:Ye=Oe,Ye===0)return O;var ht=O.slice(Ye),Ar=ht.reduce(function(Jn,Sl){return Jn.byteLength+=Sl.byteLength,Jn.duration+=Sl.duration,Jn.nalCount+=Sl.nalCount,Jn},{byteLength:0,duration:0,nalCount:0});return ht.byteLength=Ar.byteLength,ht.duration=Ar.duration,ht.nalCount=Ar.nalCount,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht},this.alignGopsWith=function(O){y=O}},fh.prototype=new gy,Uc=function(u,p){this.numberOfTracks=0,this.metadataStream=p,u=u||{},typeof u.remux<"u"?this.remuxTracks=!!u.remux:this.remuxTracks=!0,typeof u.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=u.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Uc.prototype.init.call(this),this.push=function(h){if(h.content||h.text)return this.pendingCaptions.push(h);if(h.frames)return this.pendingMetadata.push(h);this.pendingTracks.push(h.track),this.pendingBytes+=h.boxes.byteLength,h.track.type==="video"&&(this.videoTrack=h.track,this.pendingBoxes.push(h.boxes)),h.track.type==="audio"&&(this.audioTrack=h.track,this.pendingBoxes.unshift(h.boxes))}},Uc.prototype=new gy,Uc.prototype.flush=function(u){var p=0,h={captions:[],captionStreams:{},metadata:[],info:{}},m,y,x,I=0,O;if(this.pendingTracks.length<this.numberOfTracks){if(u!=="VideoSegmentStream"&&u!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(I=this.videoTrack.timelineStartInfo.pts,Dw.forEach(function(F){h.info[F]=this.videoTrack[F]},this)):this.audioTrack&&(I=this.audioTrack.timelineStartInfo.pts,kw.forEach(function(F){h.info[F]=this.audioTrack[F]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?h.type=this.pendingTracks[0].type:h.type="combined",this.emittedTracks+=this.pendingTracks.length,x=dh.initSegment(this.pendingTracks),h.initSegment=new Uint8Array(x.byteLength),h.initSegment.set(x),h.data=new Uint8Array(this.pendingBytes),O=0;O<this.pendingBoxes.length;O++)h.data.set(this.pendingBoxes[O],p),p+=this.pendingBoxes[O].byteLength;for(O=0;O<this.pendingCaptions.length;O++)m=this.pendingCaptions[O],m.startTime=by.metadataTsToSeconds(m.startPts,I,this.keepOriginalTimestamps),m.endTime=by.metadataTsToSeconds(m.endPts,I,this.keepOriginalTimestamps),h.captionStreams[m.stream]=!0,h.captions.push(m);for(O=0;O<this.pendingMetadata.length;O++)y=this.pendingMetadata[O],y.cueTime=by.metadataTsToSeconds(y.pts,I,this.keepOriginalTimestamps),h.metadata.push(y);for(h.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",h),O=0;O<h.captions.length;O++)m=h.captions[O],this.trigger("caption",m);for(O=0;O<h.metadata.length;O++)y=h.metadata[O],this.trigger("id3Frame",y)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Uc.prototype.setRemux=function(u){this.remuxTracks=u},_y=function(u){var p=this,h=!0,m,y;_y.prototype.init.call(this),u=u||{},this.baseMediaDecodeTime=u.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var x={};this.transmuxPipeline_=x,x.type="aac",x.metadataStream=new Ma.MetadataStream,x.aacStream=new bee,x.audioTimestampRolloverStream=new Ma.TimestampRolloverStream("audio"),x.timedMetadataTimestampRolloverStream=new Ma.TimestampRolloverStream("timed-metadata"),x.adtsStream=new c4,x.coalesceStream=new Uc(u,x.metadataStream),x.headOfPipeline=x.aacStream,x.aacStream.pipe(x.audioTimestampRolloverStream).pipe(x.adtsStream),x.aacStream.pipe(x.timedMetadataTimestampRolloverStream).pipe(x.metadataStream).pipe(x.coalesceStream),x.metadataStream.on("timestamp",function(I){x.aacStream.setTimestamp(I.timeStamp)}),x.aacStream.on("data",function(I){I.type!=="timed-metadata"&&I.type!=="audio"||x.audioSegmentStream||(y=y||{timelineStartInfo:{baseMediaDecodeTime:p.baseMediaDecodeTime},codec:"adts",type:"audio"},x.coalesceStream.numberOfTracks++,x.audioSegmentStream=new dd(y,u),x.audioSegmentStream.on("log",p.getLogTrigger_("audioSegmentStream")),x.audioSegmentStream.on("timingInfo",p.trigger.bind(p,"audioTimingInfo")),x.adtsStream.pipe(x.audioSegmentStream).pipe(x.coalesceStream),p.trigger("trackinfo",{hasAudio:!!y,hasVideo:!!m}))}),x.coalesceStream.on("data",this.trigger.bind(this,"data")),x.coalesceStream.on("done",this.trigger.bind(this,"done")),u4(this,x)},this.setupTsPipeline=function(){var x={};this.transmuxPipeline_=x,x.type="ts",x.metadataStream=new Ma.MetadataStream,x.packetStream=new Ma.TransportPacketStream,x.parseStream=new Ma.TransportParseStream,x.elementaryStream=new Ma.ElementaryStream,x.timestampRolloverStream=new Ma.TimestampRolloverStream,x.adtsStream=new c4,x.h264Stream=new yee,x.captionStream=new Ma.CaptionStream(u),x.coalesceStream=new Uc(u,x.metadataStream),x.headOfPipeline=x.packetStream,x.packetStream.pipe(x.parseStream).pipe(x.elementaryStream).pipe(x.timestampRolloverStream),x.timestampRolloverStream.pipe(x.h264Stream),x.timestampRolloverStream.pipe(x.adtsStream),x.timestampRolloverStream.pipe(x.metadataStream).pipe(x.coalesceStream),x.h264Stream.pipe(x.captionStream).pipe(x.coalesceStream),x.elementaryStream.on("data",function(I){var O;if(I.type==="metadata"){for(O=I.tracks.length;O--;)!m&&I.tracks[O].type==="video"?(m=I.tracks[O],m.timelineStartInfo.baseMediaDecodeTime=p.baseMediaDecodeTime):!y&&I.tracks[O].type==="audio"&&(y=I.tracks[O],y.timelineStartInfo.baseMediaDecodeTime=p.baseMediaDecodeTime);m&&!x.videoSegmentStream&&(x.coalesceStream.numberOfTracks++,x.videoSegmentStream=new fh(m,u),x.videoSegmentStream.on("log",p.getLogTrigger_("videoSegmentStream")),x.videoSegmentStream.on("timelineStartInfo",function(F){y&&!u.keepOriginalTimestamps&&(y.timelineStartInfo=F,x.audioSegmentStream.setEarliestDts(F.dts-p.baseMediaDecodeTime))}),x.videoSegmentStream.on("processedGopsInfo",p.trigger.bind(p,"gopInfo")),x.videoSegmentStream.on("segmentTimingInfo",p.trigger.bind(p,"videoSegmentTimingInfo")),x.videoSegmentStream.on("baseMediaDecodeTime",function(F){y&&x.audioSegmentStream.setVideoBaseMediaDecodeTime(F)}),x.videoSegmentStream.on("timingInfo",p.trigger.bind(p,"videoTimingInfo")),x.h264Stream.pipe(x.videoSegmentStream).pipe(x.coalesceStream)),y&&!x.audioSegmentStream&&(x.coalesceStream.numberOfTracks++,x.audioSegmentStream=new dd(y,u),x.audioSegmentStream.on("log",p.getLogTrigger_("audioSegmentStream")),x.audioSegmentStream.on("timingInfo",p.trigger.bind(p,"audioTimingInfo")),x.audioSegmentStream.on("segmentTimingInfo",p.trigger.bind(p,"audioSegmentTimingInfo")),x.adtsStream.pipe(x.audioSegmentStream).pipe(x.coalesceStream)),p.trigger("trackinfo",{hasAudio:!!y,hasVideo:!!m})}}),x.coalesceStream.on("data",this.trigger.bind(this,"data")),x.coalesceStream.on("id3Frame",function(I){I.dispatchType=x.metadataStream.dispatchType,p.trigger("id3Frame",I)}),x.coalesceStream.on("caption",this.trigger.bind(this,"caption")),x.coalesceStream.on("done",this.trigger.bind(this,"done")),u4(this,x)},this.setBaseMediaDecodeTime=function(x){var I=this.transmuxPipeline_;u.keepOriginalTimestamps||(this.baseMediaDecodeTime=x),y&&(y.timelineStartInfo.dts=void 0,y.timelineStartInfo.pts=void 0,us.clearDtsInfo(y),I.audioTimestampRolloverStream&&I.audioTimestampRolloverStream.discontinuity()),m&&(I.videoSegmentStream&&(I.videoSegmentStream.gopCache_=[]),m.timelineStartInfo.dts=void 0,m.timelineStartInfo.pts=void 0,us.clearDtsInfo(m),I.captionStream.reset()),I.timestampRolloverStream&&I.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(x){y&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(x)},this.setRemux=function(x){var I=this.transmuxPipeline_;u.remux=x,I&&I.coalesceStream&&I.coalesceStream.setRemux(x)},this.alignGopsWith=function(x){m&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(x)},this.getLogTrigger_=function(x){var I=this;return function(O){O.stream=x,I.trigger("log",O)}},this.push=function(x){if(h){var I=_ee(x);I&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!I&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),h=!1}this.transmuxPipeline_.headOfPipeline.push(x)},this.flush=function(){h=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},_y.prototype=new gy;var Cee={Transmuxer:_y,VideoSegmentStream:fh,AudioSegmentStream:dd,AUDIO_PROPERTIES:kw,VIDEO_PROPERTIES:Dw,generateSegmentTimingInfo:Iw},Eee=function(u){return u>>>0},Tee=function(u){return("00"+u.toString(16)).slice(-2)},vy={toUnsigned:Eee,toHexString:Tee},wee=function(u){var p="";return p+=String.fromCharCode(u[0]),p+=String.fromCharCode(u[1]),p+=String.fromCharCode(u[2]),p+=String.fromCharCode(u[3]),p},Pw=wee,See=vy.toUnsigned,Aee=Pw,p4=function(u,p){var h=[],m,y,x,I,O;if(!p.length)return null;for(m=0;m<u.byteLength;)y=See(u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3]),x=Aee(u.subarray(m+4,m+8)),I=y>1?m+y:u.byteLength,x===p[0]&&(p.length===1?h.push(u.subarray(m+8,I)):(O=p4(u.subarray(m+8,I),p.slice(1)),O.length&&(h=h.concat(O)))),m=I;return h},xy=p4,Ree=vy.toUnsigned,kee=o.getUint64,Dee=function(u){var p={version:u[0],flags:new Uint8Array(u.subarray(1,4))};return p.version===1?p.baseMediaDecodeTime=kee(u.subarray(4)):p.baseMediaDecodeTime=Ree(u[4]<<24|u[5]<<16|u[6]<<8|u[7]),p},Lw=Dee,Iee=function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:u[0],flags:new Uint8Array(u.subarray(1,4)),trackId:p.getUint32(4)},m=h.flags[2]&1,y=h.flags[2]&2,x=h.flags[2]&8,I=h.flags[2]&16,O=h.flags[2]&32,F=h.flags[0]&65536,j=h.flags[0]&131072,X;return X=8,m&&(X+=4,h.baseDataOffset=p.getUint32(12),X+=4),y&&(h.sampleDescriptionIndex=p.getUint32(X),X+=4),x&&(h.defaultSampleDuration=p.getUint32(X),X+=4),I&&(h.defaultSampleSize=p.getUint32(X),X+=4),O&&(h.defaultSampleFlags=p.getUint32(X)),F&&(h.durationIsEmpty=!0),!m&&j&&(h.baseDataOffsetIsMoof=!0),h},Bw=Iee,f4=o.getUint64,Pee=function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:u[0],flags:new Uint8Array(u.subarray(1,4)),references:[],referenceId:p.getUint32(4),timescale:p.getUint32(8)},m=12;h.version===0?(h.earliestPresentationTime=p.getUint32(m),h.firstOffset=p.getUint32(m+4),m+=8):(h.earliestPresentationTime=f4(u.subarray(m)),h.firstOffset=f4(u.subarray(m+8)),m+=16),m+=2;var y=p.getUint16(m);for(m+=2;y>0;m+=12,y--)h.references.push({referenceType:(u[m]&128)>>>7,referencedSize:p.getUint32(m)&2147483647,subsegmentDuration:p.getUint32(m+4),startsWithSap:!!(u[m+8]&128),sapType:(u[m+8]&112)>>>4,sapDeltaTime:p.getUint32(m+8)&268435455});return h},Lee=Pee,Bee=function(u){return{isLeading:(u[0]&12)>>>2,dependsOn:u[0]&3,isDependedOn:(u[1]&192)>>>6,hasRedundancy:(u[1]&48)>>>4,paddingValue:(u[1]&14)>>>1,isNonSyncSample:u[1]&1,degradationPriority:u[2]<<8|u[3]}},Oee=Bee,h4=Oee,Mee=function(u){var p={version:u[0],flags:new Uint8Array(u.subarray(1,4)),samples:[]},h=new DataView(u.buffer,u.byteOffset,u.byteLength),m=p.flags[2]&1,y=p.flags[2]&4,x=p.flags[1]&1,I=p.flags[1]&2,O=p.flags[1]&4,F=p.flags[1]&8,j=h.getUint32(4),X=8,le;for(m&&(p.dataOffset=h.getInt32(X),X+=4),y&&j&&(le={flags:h4(u.subarray(X,X+4))},X+=4,x&&(le.duration=h.getUint32(X),X+=4),I&&(le.size=h.getUint32(X),X+=4),F&&(p.version===1?le.compositionTimeOffset=h.getInt32(X):le.compositionTimeOffset=h.getUint32(X),X+=4),p.samples.push(le),j--);j--;)le={},x&&(le.duration=h.getUint32(X),X+=4),I&&(le.size=h.getUint32(X),X+=4),O&&(le.flags=h4(u.subarray(X,X+4)),X+=4),F&&(p.version===1?le.compositionTimeOffset=h.getInt32(X):le.compositionTimeOffset=h.getUint32(X),X+=4),p.samples.push(le);return p},m4=Mee,Vee=o,g4=Vee.getUint64,Zr,Ow,Do=function(u){return new Date(u*1e3-20828448e5)},hh=Pw,Nee=xy,Fee=function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h=[],m,y;for(m=0;m+4<u.length;m+=y){if(y=p.getUint32(m),m+=4,y<=0){h.push("<span style='color:red;'>MALFORMED DATA</span>");continue}switch(u[m]&31){case 1:h.push("slice_layer_without_partitioning_rbsp");break;case 5:h.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:h.push("sei_rbsp");break;case 7:h.push("seq_parameter_set_rbsp");break;case 8:h.push("pic_parameter_set_rbsp");break;case 9:h.push("access_unit_delimiter_rbsp");break;default:h.push("UNKNOWN NAL - "+u[m]&31);break}}return h},Tl={avc1:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength);return{dataReferenceIndex:p.getUint16(6),width:p.getUint16(24),height:p.getUint16(26),horizresolution:p.getUint16(28)+p.getUint16(30)/16,vertresolution:p.getUint16(32)+p.getUint16(34)/16,frameCount:p.getUint16(40),depth:p.getUint16(74),config:Zr(u.subarray(78,u.byteLength))}},avcC:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={configurationVersion:u[0],avcProfileIndication:u[1],profileCompatibility:u[2],avcLevelIndication:u[3],lengthSizeMinusOne:u[4]&3,sps:[],pps:[]},m=u[5]&31,y,x,I,O;for(I=6,O=0;O<m;O++)x=p.getUint16(I),I+=2,h.sps.push(new Uint8Array(u.subarray(I,I+x))),I+=x;for(y=u[I],I++,O=0;O<y;O++)x=p.getUint16(I),I+=2,h.pps.push(new Uint8Array(u.subarray(I,I+x))),I+=x;return h},btrt:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength);return{bufferSizeDB:p.getUint32(0),maxBitrate:p.getUint32(4),avgBitrate:p.getUint32(8)}},edts:function(p){return{boxes:Zr(p)}},elst:function(p){var h=new DataView(p.buffer,p.byteOffset,p.byteLength),m={version:h.getUint8(0),flags:new Uint8Array(p.subarray(1,4)),edits:[]},y=h.getUint32(4),x;for(x=8;y;y--)m.version===0?(m.edits.push({segmentDuration:h.getUint32(x),mediaTime:h.getInt32(x+4),mediaRate:h.getUint16(x+8)+h.getUint16(x+10)/(256*256)}),x+=12):(m.edits.push({segmentDuration:g4(p.subarray(x)),mediaTime:g4(p.subarray(x+8)),mediaRate:h.getUint16(x+16)+h.getUint16(x+18)/(256*256)}),x+=20);return m},esds:function(u){return{version:u[0],flags:new Uint8Array(u.subarray(1,4)),esId:u[6]<<8|u[7],streamPriority:u[8]&31,decoderConfig:{objectProfileIndication:u[11],streamType:u[12]>>>2&63,bufferSize:u[13]<<16|u[14]<<8|u[15],maxBitrate:u[16]<<24|u[17]<<16|u[18]<<8|u[19],avgBitrate:u[20]<<24|u[21]<<16|u[22]<<8|u[23],decoderConfigDescriptor:{tag:u[24],length:u[25],audioObjectType:u[26]>>>3&31,samplingFrequencyIndex:(u[26]&7)<<1|u[27]>>>7&1,channelConfiguration:u[27]>>>3&15}}}},ftyp:function(u){for(var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={majorBrand:hh(u.subarray(0,4)),minorVersion:p.getUint32(4),compatibleBrands:[]},m=8;m<u.byteLength;)h.compatibleBrands.push(hh(u.subarray(m,m+4))),m+=4;return h},dinf:function(u){return{boxes:Zr(u)}},dref:function(u){return{version:u[0],flags:new Uint8Array(u.subarray(1,4)),dataReferences:Zr(u.subarray(8))}},hdlr:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:p.getUint8(0),flags:new Uint8Array(u.subarray(1,4)),handlerType:hh(u.subarray(8,12)),name:""},m=8;for(m=24;m<u.byteLength;m++){if(u[m]===0){m++;break}h.name+=String.fromCharCode(u[m])}return h.name=decodeURIComponent(escape(h.name)),h},mdat:function(u){return{byteLength:u.byteLength,nals:Fee(u)}},mdhd:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h=4,m,y={version:p.getUint8(0),flags:new Uint8Array(u.subarray(1,4)),language:""};return y.version===1?(h+=4,y.creationTime=Do(p.getUint32(h)),h+=8,y.modificationTime=Do(p.getUint32(h)),h+=4,y.timescale=p.getUint32(h),h+=8,y.duration=p.getUint32(h)):(y.creationTime=Do(p.getUint32(h)),h+=4,y.modificationTime=Do(p.getUint32(h)),h+=4,y.timescale=p.getUint32(h),h+=4,y.duration=p.getUint32(h)),h+=4,m=p.getUint16(h),y.language+=String.fromCharCode((m>>10)+96),y.language+=String.fromCharCode(((m&992)>>5)+96),y.language+=String.fromCharCode((m&31)+96),y},mdia:function(u){return{boxes:Zr(u)}},mfhd:function(u){return{version:u[0],flags:new Uint8Array(u.subarray(1,4)),sequenceNumber:u[4]<<24|u[5]<<16|u[6]<<8|u[7]}},minf:function(u){return{boxes:Zr(u)}},mp4a:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={dataReferenceIndex:p.getUint16(6),channelcount:p.getUint16(16),samplesize:p.getUint16(18),samplerate:p.getUint16(24)+p.getUint16(26)/65536};return u.byteLength>28&&(h.streamDescriptor=Zr(u.subarray(28))[0]),h},moof:function(u){return{boxes:Zr(u)}},moov:function(u){return{boxes:Zr(u)}},mvex:function(u){return{boxes:Zr(u)}},mvhd:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h=4,m={version:p.getUint8(0),flags:new Uint8Array(u.subarray(1,4))};return m.version===1?(h+=4,m.creationTime=Do(p.getUint32(h)),h+=8,m.modificationTime=Do(p.getUint32(h)),h+=4,m.timescale=p.getUint32(h),h+=8,m.duration=p.getUint32(h)):(m.creationTime=Do(p.getUint32(h)),h+=4,m.modificationTime=Do(p.getUint32(h)),h+=4,m.timescale=p.getUint32(h),h+=4,m.duration=p.getUint32(h)),h+=4,m.rate=p.getUint16(h)+p.getUint16(h+2)/16,h+=4,m.volume=p.getUint8(h)+p.getUint8(h+1)/8,h+=2,h+=2,h+=2*4,m.matrix=new Uint32Array(u.subarray(h,h+9*4)),h+=9*4,h+=6*4,m.nextTrackId=p.getUint32(h),m},pdin:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength);return{version:p.getUint8(0),flags:new Uint8Array(u.subarray(1,4)),rate:p.getUint32(4),initialDelay:p.getUint32(8)}},sdtp:function(u){var p={version:u[0],flags:new Uint8Array(u.subarray(1,4)),samples:[]},h;for(h=4;h<u.byteLength;h++)p.samples.push({dependsOn:(u[h]&48)>>4,isDependedOn:(u[h]&12)>>2,hasRedundancy:u[h]&3});return p},sidx:Lee,smhd:function(u){return{version:u[0],flags:new Uint8Array(u.subarray(1,4)),balance:u[4]+u[5]/256}},stbl:function(u){return{boxes:Zr(u)}},ctts:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:p.getUint8(0),flags:new Uint8Array(u.subarray(1,4)),compositionOffsets:[]},m=p.getUint32(4),y;for(y=8;m;y+=8,m--)h.compositionOffsets.push({sampleCount:p.getUint32(y),sampleOffset:p[h.version===0?"getUint32":"getInt32"](y+4)});return h},stss:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:p.getUint8(0),flags:new Uint8Array(u.subarray(1,4)),syncSamples:[]},m=p.getUint32(4),y;for(y=8;m;y+=4,m--)h.syncSamples.push(p.getUint32(y));return h},stco:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:u[0],flags:new Uint8Array(u.subarray(1,4)),chunkOffsets:[]},m=p.getUint32(4),y;for(y=8;m;y+=4,m--)h.chunkOffsets.push(p.getUint32(y));return h},stsc:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h=p.getUint32(4),m={version:u[0],flags:new Uint8Array(u.subarray(1,4)),sampleToChunks:[]},y;for(y=8;h;y+=12,h--)m.sampleToChunks.push({firstChunk:p.getUint32(y),samplesPerChunk:p.getUint32(y+4),sampleDescriptionIndex:p.getUint32(y+8)});return m},stsd:function(u){return{version:u[0],flags:new Uint8Array(u.subarray(1,4)),sampleDescriptions:Zr(u.subarray(8))}},stsz:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:u[0],flags:new Uint8Array(u.subarray(1,4)),sampleSize:p.getUint32(4),entries:[]},m;for(m=12;m<u.byteLength;m+=4)h.entries.push(p.getUint32(m));return h},stts:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h={version:u[0],flags:new Uint8Array(u.subarray(1,4)),timeToSamples:[]},m=p.getUint32(4),y;for(y=8;m;y+=8,m--)h.timeToSamples.push({sampleCount:p.getUint32(y),sampleDelta:p.getUint32(y+4)});return h},styp:function(u){return Tl.ftyp(u)},tfdt:Lw,tfhd:Bw,tkhd:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength),h=4,m={version:p.getUint8(0),flags:new Uint8Array(u.subarray(1,4))};return m.version===1?(h+=4,m.creationTime=Do(p.getUint32(h)),h+=8,m.modificationTime=Do(p.getUint32(h)),h+=4,m.trackId=p.getUint32(h),h+=4,h+=8,m.duration=p.getUint32(h)):(m.creationTime=Do(p.getUint32(h)),h+=4,m.modificationTime=Do(p.getUint32(h)),h+=4,m.trackId=p.getUint32(h),h+=4,h+=4,m.duration=p.getUint32(h)),h+=4,h+=2*4,m.layer=p.getUint16(h),h+=2,m.alternateGroup=p.getUint16(h),h+=2,m.volume=p.getUint8(h)+p.getUint8(h+1)/8,h+=2,h+=2,m.matrix=new Uint32Array(u.subarray(h,h+9*4)),h+=9*4,m.width=p.getUint16(h)+p.getUint16(h+2)/65536,h+=4,m.height=p.getUint16(h)+p.getUint16(h+2)/65536,m},traf:function(u){return{boxes:Zr(u)}},trak:function(u){return{boxes:Zr(u)}},trex:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength);return{version:u[0],flags:new Uint8Array(u.subarray(1,4)),trackId:p.getUint32(4),defaultSampleDescriptionIndex:p.getUint32(8),defaultSampleDuration:p.getUint32(12),defaultSampleSize:p.getUint32(16),sampleDependsOn:u[20]&3,sampleIsDependedOn:(u[21]&192)>>6,sampleHasRedundancy:(u[21]&48)>>4,samplePaddingValue:(u[21]&14)>>1,sampleIsDifferenceSample:!!(u[21]&1),sampleDegradationPriority:p.getUint16(22)}},trun:m4,"url ":function(u){return{version:u[0],flags:new Uint8Array(u.subarray(1,4))}},vmhd:function(u){var p=new DataView(u.buffer,u.byteOffset,u.byteLength);return{version:u[0],flags:new Uint8Array(u.subarray(1,4)),graphicsmode:p.getUint16(4),opcolor:new Uint16Array([p.getUint16(6),p.getUint16(8),p.getUint16(10)])}}};Zr=function(u){for(var p=0,h=[],m,y,x,I,O,F=new ArrayBuffer(u.length),j=new Uint8Array(F),X=0;X<u.length;++X)j[X]=u[X];for(m=new DataView(F);p<u.byteLength;)y=m.getUint32(p),x=hh(u.subarray(p+4,p+8)),I=y>1?p+y:u.byteLength,O=(Tl[x]||function(le){return{data:le}})(u.subarray(p+8,I)),O.size=y,O.type=x,h.push(O),p=I;return h},Ow=function(u,p){var h;return p=p||0,h=new Array(p*2+1).join(" "),u.map(function(m,y){return h+m.type+`
`+Object.keys(m).filter(function(x){return x!=="type"&&x!=="boxes"}).map(function(x){var I=h+"  "+x+": ",O=m[x];if(O instanceof Uint8Array||O instanceof Uint32Array){var F=Array.prototype.slice.call(new Uint8Array(O.buffer,O.byteOffset,O.byteLength)).map(function(j){return" "+("00"+j.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return F?F.length===1?I+"<"+F.join("").slice(1)+">":I+`<
`+F.map(function(j){return h+"  "+j}).join(`
`)+`
`+h+"  >":I+"<>"}return I+JSON.stringify(O,null,2).split(`
`).map(function(j,X){return X===0?j:h+"  "+j}).join(`
`)}).join(`
`)+(m.boxes?`
`+Ow(m.boxes,p+1):"")}).join(`
`)};var y4={inspect:Zr,textify:Ow,parseType:hh,findBox:Nee,parseTraf:Tl.traf,parseTfdt:Tl.tfdt,parseHdlr:Tl.hdlr,parseTfhd:Tl.tfhd,parseTrun:Tl.trun,parseSidx:Tl.sidx},Uee=function(u){for(var p=0,h=String.fromCharCode(u[p]),m="";h!=="\0";)m+=h,p++,h=String.fromCharCode(u[p]);return m+=h,m},jee={uint8ToCString:Uee},Cy=jee.uint8ToCString,qee=o.getUint64,$ee=function(u){var p=4,h=u[0],m,y,x,I,O,F,j,X;if(h===0){m=Cy(u.subarray(p)),p+=m.length,y=Cy(u.subarray(p)),p+=y.length;var le=new DataView(u.buffer);x=le.getUint32(p),p+=4,O=le.getUint32(p),p+=4,F=le.getUint32(p),p+=4,j=le.getUint32(p),p+=4}else if(h===1){var le=new DataView(u.buffer);x=le.getUint32(p),p+=4,I=qee(u.subarray(p)),p+=8,F=le.getUint32(p),p+=4,j=le.getUint32(p),p+=4,m=Cy(u.subarray(p)),p+=m.length,y=Cy(u.subarray(p)),p+=y.length}X=new Uint8Array(u.subarray(p,u.byteLength));var Oe={scheme_id_uri:m,value:y,timescale:x||1,presentation_time:I,presentation_time_delta:O,event_duration:F,id:j,message_data:X};return Kee(h,Oe)?Oe:void 0},zee=function(u,p,h,m){return u||u===0?u/p:m+h/p},Kee=function(u,p){var h=p.scheme_id_uri!=="\0",m=u===0&&b4(p.presentation_time_delta)&&h,y=u===1&&b4(p.presentation_time)&&h;return!(u>1)&&m||y},b4=function(u){return u!==void 0||u!==null},Hee={parseEmsgBox:$ee,scaleTime:zee},mh;typeof window<"u"?mh=window:typeof i<"u"?mh=i:typeof self<"u"?mh=self:mh={};var _4=mh,Ey=vy.toUnsigned,gh=vy.toHexString,pr=xy,pd=Pw,Mw=Hee,Gee=Bw,Wee=m4,Xee=Lw,Zee=o.getUint64,v4,x4,C4,E4,T4,Vw,w4,Nw=_4,Qee=J3.parseId3Frames;v4=function(u){var p={},h=pr(u,["moov","trak"]);return h.reduce(function(m,y){var x,I,O,F,j;return x=pr(y,["tkhd"])[0],!x||(I=x[0],O=I===0?12:20,F=Ey(x[O]<<24|x[O+1]<<16|x[O+2]<<8|x[O+3]),j=pr(y,["mdia","mdhd"])[0],!j)?null:(I=j[0],O=I===0?12:20,m[F]=Ey(j[O]<<24|j[O+1]<<16|j[O+2]<<8|j[O+3]),m)},p)},x4=function(u,p){var h;h=pr(p,["moof","traf"]);var m=h.reduce(function(y,x){var I=pr(x,["tfhd"])[0],O=Ey(I[4]<<24|I[5]<<16|I[6]<<8|I[7]),F=u[O]||9e4,j=pr(x,["tfdt"])[0],X=new DataView(j.buffer,j.byteOffset,j.byteLength),le;j[0]===1?le=Zee(j.subarray(4,12)):le=X.getUint32(4);let Oe;return typeof le=="bigint"?Oe=le/Nw.BigInt(F):typeof le=="number"&&!isNaN(le)&&(Oe=le/F),Oe<Number.MAX_SAFE_INTEGER&&(Oe=Number(Oe)),Oe<y&&(y=Oe),y},1/0);return typeof m=="bigint"||isFinite(m)?m:0},C4=function(u,p){var h=pr(p,["moof","traf"]),m=0,y=0,x;if(h&&h.length){var I=pr(h[0],["tfhd"])[0],O=pr(h[0],["trun"])[0],F=pr(h[0],["tfdt"])[0];if(I){var j=Gee(I);x=j.trackId}if(F){var X=Xee(F);m=X.baseMediaDecodeTime}if(O){var le=Wee(O);le.samples&&le.samples.length&&(y=le.samples[0].compositionTimeOffset||0)}}var Oe=u[x]||9e4;typeof m=="bigint"&&(y=Nw.BigInt(y),Oe=Nw.BigInt(Oe));var me=(m+y)/Oe;return typeof me=="bigint"&&me<Number.MAX_SAFE_INTEGER&&(me=Number(me)),me},E4=function(u){var p=pr(u,["moov","trak"]),h=[];return p.forEach(function(m){var y=pr(m,["mdia","hdlr"]),x=pr(m,["tkhd"]);y.forEach(function(I,O){var F=pd(I.subarray(8,12)),j=x[O],X,le,Oe;F==="vide"&&(X=new DataView(j.buffer,j.byteOffset,j.byteLength),le=X.getUint8(0),Oe=le===0?X.getUint32(12):X.getUint32(20),h.push(Oe))})}),h},Vw=function(u){var p=u[0],h=p===0?12:20;return Ey(u[h]<<24|u[h+1]<<16|u[h+2]<<8|u[h+3])},T4=function(u){var p=pr(u,["moov","trak"]),h=[];return p.forEach(function(m){var y={},x=pr(m,["tkhd"])[0],I,O;x&&(I=new DataView(x.buffer,x.byteOffset,x.byteLength),O=I.getUint8(0),y.id=O===0?I.getUint32(12):I.getUint32(20));var F=pr(m,["mdia","hdlr"])[0];if(F){var j=pd(F.subarray(8,12));j==="vide"?y.type="video":j==="soun"?y.type="audio":y.type=j}var X=pr(m,["mdia","minf","stbl","stsd"])[0];if(X){var le=X.subarray(8);y.codec=pd(le.subarray(4,8));var Oe=pr(le,[y.codec])[0],me,Ye;Oe&&(/^[asm]vc[1-9]$/i.test(y.codec)?(me=Oe.subarray(78),Ye=pd(me.subarray(4,8)),Ye==="avcC"&&me.length>11?(y.codec+=".",y.codec+=gh(me[9]),y.codec+=gh(me[10]),y.codec+=gh(me[11])):y.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(y.codec)?(me=Oe.subarray(28),Ye=pd(me.subarray(4,8)),Ye==="esds"&&me.length>20&&me[19]!==0?(y.codec+="."+gh(me[19]),y.codec+="."+gh(me[20]>>>2&63).replace(/^0/,"")):y.codec="mp4a.40.2"):y.codec=y.codec.toLowerCase())}var ht=pr(m,["mdia","mdhd"])[0];ht&&(y.timescale=Vw(ht)),h.push(y)}),h},w4=function(u,p=0){var h=pr(u,["emsg"]);return h.map(m=>{var y=Mw.parseEmsgBox(new Uint8Array(m)),x=Qee(y.message_data);return{cueTime:Mw.scaleTime(y.presentation_time,y.timescale,y.presentation_time_delta,p),duration:Mw.scaleTime(y.event_duration,y.timescale),frames:x}})};var yh={findBox:pr,parseType:pd,timescale:v4,startTime:x4,compositionStartTime:C4,videoTrackIds:E4,tracks:T4,getTimescaleFromMediaHeader:Vw,getEmsgID3:w4};let{parseTrun:Yee}=y4,{findBox:S4}=yh;var A4=_4,Jee=function(u){var p=S4(u,["moof","traf"]),h=S4(u,["mdat"]),m=[];return h.forEach(function(y,x){var I=p[x];m.push({mdat:y,traf:I})}),m},ete=function(u,p,h){var m=p,y=h.defaultSampleDuration||0,x=h.defaultSampleSize||0,I=h.trackId,O=[];return u.forEach(function(F){var j=Yee(F),X=j.samples;X.forEach(function(le){le.duration===void 0&&(le.duration=y),le.size===void 0&&(le.size=x),le.trackId=I,le.dts=m,le.compositionTimeOffset===void 0&&(le.compositionTimeOffset=0),typeof m=="bigint"?(le.pts=m+A4.BigInt(le.compositionTimeOffset),m+=A4.BigInt(le.duration)):(le.pts=m+le.compositionTimeOffset,m+=le.duration)}),O=O.concat(X)}),O},R4={getMdatTrafPairs:Jee,parseSamples:ete},tte=W3.discardEmulationPreventionBytes,ite=X3.CaptionStream,Fw=xy,rte=Lw,nte=Bw,{getMdatTrafPairs:ote,parseSamples:ste}=R4,ate=function(u,p){for(var h=u,m=0;m<p.length;m++){var y=p[m];if(h<y.size)return y;h-=y.size}return null},lte=function(u,p,h){var m=new DataView(u.buffer,u.byteOffset,u.byteLength),y={logs:[],seiNals:[]},x,I,O,F;for(I=0;I+4<u.length;I+=O)if(O=m.getUint32(I),I+=4,!(O<=0))switch(u[I]&31){case 6:var j=u.subarray(I+1,I+1+O),X=ate(I,p);if(x={nalUnitType:"sei_rbsp",size:O,data:j,escapedRBSP:tte(j),trackId:h},X)x.pts=X.pts,x.dts=X.dts,F=X;else if(F)x.pts=F.pts,x.dts=F.dts;else{y.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+I+" for trackId "+h+". See mux.js#223."});break}y.seiNals.push(x);break}return y},cte=function(u,p){var h={},m=ote(u);return m.forEach(function(y){var x=y.mdat,I=y.traf,O=Fw(I,["tfhd"]),F=nte(O[0]),j=F.trackId,X=Fw(I,["tfdt"]),le=X.length>0?rte(X[0]).baseMediaDecodeTime:0,Oe=Fw(I,["trun"]),me,Ye;p===j&&Oe.length>0&&(me=ste(Oe,le,F),Ye=lte(x,me,j),h[j]||(h[j]={seiNals:[],logs:[]}),h[j].seiNals=h[j].seiNals.concat(Ye.seiNals),h[j].logs=h[j].logs.concat(Ye.logs))}),h},ute=function(u,p,h){var m;if(p===null)return null;m=cte(u,p);var y=m[p]||{};return{seiNals:y.seiNals,logs:y.logs,timescale:h}},dte=function(){var u=!1,p,h,m,y,x,I;this.isInitialized=function(){return u},this.init=function(O){p=new ite,u=!0,I=O?O.isPartial:!1,p.on("data",function(F){F.startTime=F.startPts/y,F.endTime=F.endPts/y,x.captions.push(F),x.captionStreams[F.stream]=!0}),p.on("log",function(F){x.logs.push(F)})},this.isNewInit=function(O,F){return O&&O.length===0||F&&typeof F=="object"&&Object.keys(F).length===0?!1:m!==O[0]||y!==F[m]},this.parse=function(O,F,j){var X;if(this.isInitialized()){if(!F||!j)return null;if(this.isNewInit(F,j))m=F[0],y=j[m];else if(m===null||!y)return h.push(O),null}else return null;for(;h.length>0;){var le=h.shift();this.parse(le,F,j)}return X=ute(O,m,y),X&&X.logs&&(x.logs=x.logs.concat(X.logs)),X===null||!X.seiNals?x.logs.length?{logs:x.logs,captions:[],captionStreams:[]}:null:(this.pushNals(X.seiNals),this.flushStream(),x)},this.pushNals=function(O){if(!this.isInitialized()||!O||O.length===0)return null;O.forEach(function(F){p.push(F)})},this.flushStream=function(){if(!this.isInitialized())return null;I?p.partialFlush():p.flush()},this.clearParsedCaptions=function(){x.captions=[],x.captionStreams={},x.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;p.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){h=[],m=null,y=null,x?this.clearParsedCaptions():x={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},pte=dte;let{parseTfdt:fte}=y4,wl=xy,{getTimescaleFromMediaHeader:hte}=yh,{parseSamples:mte,getMdatTrafPairs:gte}=R4;var k4=function(){let u=9e4;this.init=function(p){let h=wl(p,["moov","trak","mdia","mdhd"])[0];h&&(u=hte(h))},this.parseSegment=function(p){let h=[],m=gte(p),y=0;return m.forEach(function(x){let I=x.mdat,O=x.traf,F=wl(O,["tfdt"])[0],j=wl(O,["tfhd"])[0],X=wl(O,["trun"]);if(F&&(y=fte(F).baseMediaDecodeTime),X.length&&j){let le=mte(X,y,j),Oe=0;le.forEach(function(me){let Ye="utf-8",ht=new TextDecoder(Ye),Ar=I.slice(Oe,Oe+me.size);if(wl(Ar,["vtte"])[0]){Oe+=me.size;return}wl(Ar,["vttc"]).forEach(function(bh){let _h=wl(bh,["payl"])[0],vh=wl(bh,["sttg"])[0],xh=me.pts/u,Sy=(me.pts+me.duration)/u,Ui,Ch;if(_h)try{Ui=ht.decode(_h)}catch(ds){console.error(ds)}if(vh)try{Ch=ht.decode(vh)}catch(ds){console.error(ds)}me.duration&&Ui&&h.push({cueText:Ui,start:xh,end:Sy,settings:Ch})}),Oe+=me.size})}}),h}},Uw=ay,D4=function(u){var p=u[1]&31;return p<<=8,p|=u[2],p},Ty=function(u){return!!(u[1]&64)},wy=function(u){var p=0;return(u[3]&48)>>>4>1&&(p+=u[4]+1),p},yte=function(u,p){var h=D4(u);return h===0?"pat":h===p?"pmt":p?"pes":null},bte=function(u){var p=Ty(u),h=4+wy(u);return p&&(h+=u[h]+1),(u[h+10]&31)<<8|u[h+11]},_te=function(u){var p={},h=Ty(u),m=4+wy(u);if(h&&(m+=u[m]+1),!!(u[m+5]&1)){var y,x,I;y=(u[m+1]&15)<<8|u[m+2],x=3+y-4,I=(u[m+10]&15)<<8|u[m+11];for(var O=12+I;O<x;){var F=m+O;p[(u[F+1]&31)<<8|u[F+2]]=u[F],O+=((u[F+3]&15)<<8|u[F+4])+5}return p}},vte=function(u,p){var h=D4(u),m=p[h];switch(m){case Uw.H264_STREAM_TYPE:return"video";case Uw.ADTS_STREAM_TYPE:return"audio";case Uw.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},xte=function(u){var p=Ty(u);if(!p)return null;var h=4+wy(u);if(h>=u.byteLength)return null;var m=null,y;return y=u[h+7],y&192&&(m={},m.pts=(u[h+9]&14)<<27|(u[h+10]&255)<<20|(u[h+11]&254)<<12|(u[h+12]&255)<<5|(u[h+13]&254)>>>3,m.pts*=4,m.pts+=(u[h+13]&6)>>>1,m.dts=m.pts,y&64&&(m.dts=(u[h+14]&14)<<27|(u[h+15]&255)<<20|(u[h+16]&254)<<12|(u[h+17]&255)<<5|(u[h+18]&254)>>>3,m.dts*=4,m.dts+=(u[h+18]&6)>>>1)),m},jw=function(u){switch(u){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Cte=function(u){for(var p=4+wy(u),h=u.subarray(p),m=0,y=0,x=!1,I;y<h.byteLength-3;y++)if(h[y+2]===1){m=y+5;break}for(;m<h.byteLength;)switch(h[m]){case 0:if(h[m-1]!==0){m+=2;break}else if(h[m-2]!==0){m++;break}y+3!==m-2&&(I=jw(h[y+3]&31),I==="slice_layer_without_partitioning_rbsp_idr"&&(x=!0));do m++;while(h[m]!==1&&m<h.length);y=m-2,m+=3;break;case 1:if(h[m-1]!==0||h[m-2]!==0){m+=3;break}I=jw(h[y+3]&31),I==="slice_layer_without_partitioning_rbsp_idr"&&(x=!0),y=m-2,m+=3;break;default:m+=3;break}return h=h.subarray(y),m-=y,y=0,h&&h.byteLength>3&&(I=jw(h[y+3]&31),I==="slice_layer_without_partitioning_rbsp_idr"&&(x=!0)),x},Ete={parseType:yte,parsePat:bte,parsePmt:_te,parsePayloadUnitStartIndicator:Ty,parsePesType:vte,parsePesTime:xte,videoPacketContainsKeyFrame:Cte},I4=ay,fd=Q3.handleRollover,yi={};yi.ts=Ete,yi.aac=Rw;var jc=Fi.ONE_SECOND_IN_TS,un=188,qs=71,Tte=function(u,p){for(var h=0,m=un,y,x;m<u.byteLength;){if(u[h]===qs&&u[m]===qs){switch(y=u.subarray(h,m),x=yi.ts.parseType(y,p.pid),x){case"pat":p.pid=yi.ts.parsePat(y);break;case"pmt":var I=yi.ts.parsePmt(y);p.table=p.table||{},Object.keys(I).forEach(function(O){p.table[O]=I[O]});break}h+=un,m+=un;continue}h++,m++}},P4=function(u,p,h){for(var m=0,y=un,x,I,O,F,j,X=!1;y<=u.byteLength;){if(u[m]===qs&&(u[y]===qs||y===u.byteLength)){switch(x=u.subarray(m,y),I=yi.ts.parseType(x,p.pid),I){case"pes":O=yi.ts.parsePesType(x,p.table),F=yi.ts.parsePayloadUnitStartIndicator(x),O==="audio"&&F&&(j=yi.ts.parsePesTime(x),j&&(j.type="audio",h.audio.push(j),X=!0));break}if(X)break;m+=un,y+=un;continue}m++,y++}for(y=u.byteLength,m=y-un,X=!1;m>=0;){if(u[m]===qs&&(u[y]===qs||y===u.byteLength)){switch(x=u.subarray(m,y),I=yi.ts.parseType(x,p.pid),I){case"pes":O=yi.ts.parsePesType(x,p.table),F=yi.ts.parsePayloadUnitStartIndicator(x),O==="audio"&&F&&(j=yi.ts.parsePesTime(x),j&&(j.type="audio",h.audio.push(j),X=!0));break}if(X)break;m-=un,y-=un;continue}m--,y--}},wte=function(u,p,h){for(var m=0,y=un,x,I,O,F,j,X,le,Oe,me=!1,Ye={data:[],size:0};y<u.byteLength;){if(u[m]===qs&&u[y]===qs){switch(x=u.subarray(m,y),I=yi.ts.parseType(x,p.pid),I){case"pes":if(O=yi.ts.parsePesType(x,p.table),F=yi.ts.parsePayloadUnitStartIndicator(x),O==="video"&&(F&&!me&&(j=yi.ts.parsePesTime(x),j&&(j.type="video",h.video.push(j),me=!0)),!h.firstKeyFrame)){if(F&&Ye.size!==0){for(X=new Uint8Array(Ye.size),le=0;Ye.data.length;)Oe=Ye.data.shift(),X.set(Oe,le),le+=Oe.byteLength;if(yi.ts.videoPacketContainsKeyFrame(X)){var ht=yi.ts.parsePesTime(X);ht?(h.firstKeyFrame=ht,h.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Ye.size=0}Ye.data.push(x),Ye.size+=x.byteLength}break}if(me&&h.firstKeyFrame)break;m+=un,y+=un;continue}m++,y++}for(y=u.byteLength,m=y-un,me=!1;m>=0;){if(u[m]===qs&&u[y]===qs){switch(x=u.subarray(m,y),I=yi.ts.parseType(x,p.pid),I){case"pes":O=yi.ts.parsePesType(x,p.table),F=yi.ts.parsePayloadUnitStartIndicator(x),O==="video"&&F&&(j=yi.ts.parsePesTime(x),j&&(j.type="video",h.video.push(j),me=!0));break}if(me)break;m-=un,y-=un;continue}m--,y--}},Ste=function(u,p){if(u.audio&&u.audio.length){var h=p;(typeof h>"u"||isNaN(h))&&(h=u.audio[0].dts),u.audio.forEach(function(x){x.dts=fd(x.dts,h),x.pts=fd(x.pts,h),x.dtsTime=x.dts/jc,x.ptsTime=x.pts/jc})}if(u.video&&u.video.length){var m=p;if((typeof m>"u"||isNaN(m))&&(m=u.video[0].dts),u.video.forEach(function(x){x.dts=fd(x.dts,m),x.pts=fd(x.pts,m),x.dtsTime=x.dts/jc,x.ptsTime=x.pts/jc}),u.firstKeyFrame){var y=u.firstKeyFrame;y.dts=fd(y.dts,m),y.pts=fd(y.pts,m),y.dtsTime=y.dts/jc,y.ptsTime=y.pts/jc}}},Ate=function(u){for(var p=!1,h=0,m=null,y=null,x=0,I=0,O;u.length-I>=3;){var F=yi.aac.parseType(u,I);switch(F){case"timed-metadata":if(u.length-I<10){p=!0;break}if(x=yi.aac.parseId3TagSize(u,I),x>u.length){p=!0;break}y===null&&(O=u.subarray(I,I+x),y=yi.aac.parseAacTimestamp(O)),I+=x;break;case"audio":if(u.length-I<7){p=!0;break}if(x=yi.aac.parseAdtsSize(u,I),x>u.length){p=!0;break}m===null&&(O=u.subarray(I,I+x),m=yi.aac.parseSampleRate(O)),h++,I+=x;break;default:I++;break}if(p)return null}if(m===null||y===null)return null;var j=jc/m,X={audio:[{type:"audio",dts:y,pts:y},{type:"audio",dts:y+h*1024*j,pts:y+h*1024*j}]};return X},Rte=function(u){var p={pid:null,table:null},h={};Tte(u,p);for(var m in p.table)if(p.table.hasOwnProperty(m)){var y=p.table[m];switch(y){case I4.H264_STREAM_TYPE:h.video=[],wte(u,p,h),h.video.length===0&&delete h.video;break;case I4.ADTS_STREAM_TYPE:h.audio=[],P4(u,p,h),h.audio.length===0&&delete h.audio;break}}return h},kte=function(u,p){var h=yi.aac.isLikelyAacData(u),m;return h?m=Ate(u):m=Rte(u),!m||!m.audio&&!m.video?null:(Ste(m,p),m)},Dte={inspect:kte,parseAudioPes_:P4};let Ite=function(u,p){p.on("data",function(h){let m=h.initSegment;h.initSegment={data:m.buffer,byteOffset:m.byteOffset,byteLength:m.byteLength};let y=h.data;h.data=y.buffer,u.postMessage({action:"data",segment:h,byteOffset:y.byteOffset,byteLength:y.byteLength},[h.data])}),p.on("done",function(h){u.postMessage({action:"done"})}),p.on("gopInfo",function(h){u.postMessage({action:"gopInfo",gopInfo:h})}),p.on("videoSegmentTimingInfo",function(h){let m={start:{decode:Fi.videoTsToSeconds(h.start.dts),presentation:Fi.videoTsToSeconds(h.start.pts)},end:{decode:Fi.videoTsToSeconds(h.end.dts),presentation:Fi.videoTsToSeconds(h.end.pts)},baseMediaDecodeTime:Fi.videoTsToSeconds(h.baseMediaDecodeTime)};h.prependedContentDuration&&(m.prependedContentDuration=Fi.videoTsToSeconds(h.prependedContentDuration)),u.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:m})}),p.on("audioSegmentTimingInfo",function(h){let m={start:{decode:Fi.videoTsToSeconds(h.start.dts),presentation:Fi.videoTsToSeconds(h.start.pts)},end:{decode:Fi.videoTsToSeconds(h.end.dts),presentation:Fi.videoTsToSeconds(h.end.pts)},baseMediaDecodeTime:Fi.videoTsToSeconds(h.baseMediaDecodeTime)};h.prependedContentDuration&&(m.prependedContentDuration=Fi.videoTsToSeconds(h.prependedContentDuration)),u.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:m})}),p.on("id3Frame",function(h){u.postMessage({action:"id3Frame",id3Frame:h})}),p.on("caption",function(h){u.postMessage({action:"caption",caption:h})}),p.on("trackinfo",function(h){u.postMessage({action:"trackinfo",trackInfo:h})}),p.on("audioTimingInfo",function(h){u.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Fi.videoTsToSeconds(h.start),end:Fi.videoTsToSeconds(h.end)}})}),p.on("videoTimingInfo",function(h){u.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Fi.videoTsToSeconds(h.start),end:Fi.videoTsToSeconds(h.end)}})}),p.on("log",function(h){u.postMessage({action:"log",log:h})})};class L4{constructor(p,h){this.options=h||{},this.self=p,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Cee.Transmuxer(this.options),Ite(this.self,this.transmuxer)}pushMp4Captions(p){this.captionParser||(this.captionParser=new pte,this.captionParser.init());let h=new Uint8Array(p.data,p.byteOffset,p.byteLength),m=this.captionParser.parse(h,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:m&&m.captions||[],logs:m&&m.logs||[],data:h.buffer},[h.buffer])}initMp4WebVttParser(p){this.webVttParser||(this.webVttParser=new k4);let h=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.webVttParser.init(h)}getMp4WebVttText(p){this.webVttParser||(this.webVttParser=new k4);let h=new Uint8Array(p.data,p.byteOffset,p.byteLength),m=this.webVttParser.parseSegment(h);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:m||[],data:h.buffer},[h.buffer])}probeMp4StartTime({timescales:p,data:h}){let m=yh.startTime(p,h);this.self.postMessage({action:"probeMp4StartTime",startTime:m,data:h},[h.buffer])}probeMp4Tracks({data:p}){let h=yh.tracks(p);this.self.postMessage({action:"probeMp4Tracks",tracks:h,data:p},[p.buffer])}probeEmsgID3({data:p,offset:h}){let m=yh.getEmsgID3(p,h);this.self.postMessage({action:"probeEmsgID3",id3Frames:m,emsgData:p},[p.buffer])}probeTs({data:p,baseStartTime:h}){let m=typeof h=="number"&&!isNaN(h)?h*Fi.ONE_SECOND_IN_TS:void 0,y=Dte.inspect(p,m),x=null;y&&(x={hasVideo:y.video&&y.video.length===2||!1,hasAudio:y.audio&&y.audio.length===2||!1},x.hasVideo&&(x.videoStart=y.video[0].ptsTime),x.hasAudio&&(x.audioStart=y.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:x,data:p},[p.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(p){let h=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(h)}reset(){this.transmuxer.reset()}setTimestampOffset(p){let h=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Fi.secondsToVideoTs(h)))}setAudioAppendStart(p){this.transmuxer.setAudioAppendStart(Math.ceil(Fi.secondsToVideoTs(p.appendStart)))}setRemux(p){this.transmuxer.setRemux(p.remux)}flush(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())}}self.onmessage=function(u){if(u.data.action==="init"&&u.data.options){this.messageHandlers=new L4(self,u.data.options);return}this.messageHandlers||(this.messageHandlers=new L4(self)),u.data&&u.data.action&&u.data.action!=="init"&&this.messageHandlers[u.data.action]&&this.messageHandlers[u.data.action](u.data)}})),U6e=QX(F6e),j6e=(i,e,t)=>{let{type:r,initSegment:n,captions:o,captionStreams:s,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:d}=i.data.segment;e.buffer.push({captions:o,captionStreams:s,metadata:a});let f=i.data.segment.boxes||{data:i.data.segment.data},g={type:r,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(n.data,n.byteOffset,n.byteLength)};typeof l<"u"&&(g.videoFrameDtsTime=l),typeof d<"u"&&(g.videoFramePtsTime=d),t(g)},q6e=({transmuxedData:i,callback:e})=>{i.buffer=[],e(i)},$6e=(i,e)=>{e.gopInfo=i.data.gopInfo},eZ=i=>{let{transmuxer:e,bytes:t,audioAppendStart:r,gopsToAlignWith:n,remux:o,onData:s,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:f,onAudioSegmentTimingInfo:g,onId3:w,onCaptions:A,onDone:B,onEndedTimeline:S,onTransmuxerLog:U,isEndOfTimeline:q,segment:G,triggerSegmentEventFn:K}=i,Z={buffer:[]},re=q,ge=Ee=>{e.currentTransmux===i&&(Ee.data.action==="data"&&j6e(Ee,Z,s),Ee.data.action==="trackinfo"&&a(Ee.data.trackInfo),Ee.data.action==="gopInfo"&&$6e(Ee,Z),Ee.data.action==="audioTimingInfo"&&l(Ee.data.audioTimingInfo),Ee.data.action==="videoTimingInfo"&&d(Ee.data.videoTimingInfo),Ee.data.action==="videoSegmentTimingInfo"&&f(Ee.data.videoSegmentTimingInfo),Ee.data.action==="audioSegmentTimingInfo"&&g(Ee.data.audioSegmentTimingInfo),Ee.data.action==="id3Frame"&&w([Ee.data.id3Frame],Ee.data.id3Frame.dispatchType),Ee.data.action==="caption"&&A(Ee.data.caption),Ee.data.action==="endedtimeline"&&(re=!1,S()),Ee.data.action==="log"&&U(Ee.data.log),Ee.data.type==="transmuxed"&&(re||(e.onmessage=null,q6e({transmuxedData:Z,callback:B}),tZ(e))))},ce=()=>{let Ee={message:"Received an error message from the transmuxer worker",metadata:{errorType:te.Error.StreamingFailedToTransmuxSegment,segmentInfo:ed({segment:G})}};B(null,Ee)};if(e.onmessage=ge,e.onerror=ce,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(n)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof o<"u"&&e.postMessage({action:"setRemux",remux:o}),t.byteLength){let Ee=t instanceof ArrayBuffer?t:t.buffer,We=t instanceof ArrayBuffer?0:t.byteOffset;K({type:"segmenttransmuxingstart",segment:G}),e.postMessage({action:"push",data:Ee,byteOffset:We,byteLength:t.byteLength},[Ee])}q&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},tZ=i=>{i.currentTransmux=null,i.transmuxQueue.length&&(i.currentTransmux=i.transmuxQueue.shift(),typeof i.currentTransmux=="function"?i.currentTransmux():eZ(i.currentTransmux))},vW=(i,e)=>{i.postMessage({action:e}),tZ(i)},iZ=(i,e)=>{if(!e.currentTransmux){e.currentTransmux=i,vW(e,i);return}e.transmuxQueue.push(vW.bind(null,e,i))},z6e=i=>{iZ("reset",i)},K6e=i=>{iZ("endTimeline",i)},rZ=i=>{if(!i.transmuxer.currentTransmux){i.transmuxer.currentTransmux=i,eZ(i);return}i.transmuxer.transmuxQueue.push(i)},H6e=i=>{let e=new U6e;e.currentTransmux=null,e.transmuxQueue=[];let t=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,t.call(e)),e.postMessage({action:"init",options:i}),e},fL={reset:z6e,endTimeline:K6e,transmux:rZ,createTransmuxer:H6e},bf=function(i){let e=i.transmuxer,t=i.endAction||i.action,r=i.callback,n=ir({},i,{endAction:null,transmuxer:null,callback:null}),o=s=>{s.data.action===t&&(e.removeEventListener("message",o),s.data.data&&(s.data.data=new Uint8Array(s.data.data,i.byteOffset||0,i.byteLength||s.data.data.byteLength),i.data&&(i.data=s.data.data)),r(s.data))};if(e.addEventListener("message",o),i.data){let s=i.data instanceof ArrayBuffer;n.byteOffset=s?0:i.data.byteOffset,n.byteLength=i.data.byteLength;let a=[s?i.data:i.data.buffer];e.postMessage(n,a)}else e.postMessage(n)},Ra={FAILURE:2,TIMEOUT:-101,ABORTED:-102},nZ="wvtt",JL=i=>{i.forEach(e=>{e.abort()})},G6e=i=>({bandwidth:i.bandwidth,bytesReceived:i.bytesReceived||0,roundTripTime:i.roundTripTime||0}),W6e=i=>{let e=i.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=i.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},A3=(i,e)=>{let{requestType:t}=e,r=nd({requestType:t,request:e,error:i});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ra.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Ra.ABORTED,xhr:e,metadata:r}:i?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Ra.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Ra.FAILURE,xhr:e,metadata:r}:null},xW=(i,e,t,r)=>(n,o)=>{let s=o.response,a=A3(n,o);if(a)return t(a,i);if(s.byteLength!==16)return t({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:Ra.FAILURE,xhr:o},i);let l=new DataView(s),d=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let g=0;g<e.length;g++)e[g].bytes=d;let f={uri:o.uri};return r({type:"segmentkeyloadcomplete",segment:i,keyInfo:f}),t(null,i)},X6e=(i,e)=>{e===nZ&&i.transmuxer.postMessage({action:"initMp4WebVttParser",data:i.map.bytes})},Z6e=(i,e,t)=>{e===nZ&&bf({action:"getMp4WebVttText",data:i.bytes,transmuxer:i.transmuxer,callback:({data:r,mp4VttCues:n})=>{i.bytes=r,t(null,i,{mp4VttCues:n})}})},oZ=(i,e)=>{let t=RC(i.map.bytes);if(t!=="mp4"){let r=i.map.resolvedUri||i.map.uri,n=t||"unknown";return e({internal:!0,message:`Found unsupported ${n} container for initialization segment at URL: ${r}`,code:Ra.FAILURE,metadata:{mediaType:n}})}bf({action:"probeMp4Tracks",data:i.map.bytes,transmuxer:i.transmuxer,callback:({tracks:r,data:n})=>(i.map.bytes=n,r.forEach(function(o){i.map.tracks=i.map.tracks||{},!i.map.tracks[o.type]&&(i.map.tracks[o.type]=o,typeof o.id=="number"&&o.timescale&&(i.map.timescales=i.map.timescales||{},i.map.timescales[o.id]=o.timescale),o.type==="text"&&X6e(i,o.codec))}),e(null))})},Q6e=({segment:i,finishProcessingFn:e,triggerSegmentEventFn:t})=>(r,n)=>{let o=A3(r,n);if(o)return e(o,i);let s=new Uint8Array(n.response);if(t({type:"segmentloaded",segment:i}),i.map.key)return i.map.encryptedBytes=s,e(null,i);i.map.bytes=s,oZ(i,function(a){if(a)return a.xhr=n,a.status=n.status,e(a,i);e(null,i)})},Y6e=({segment:i,finishProcessingFn:e,responseType:t,triggerSegmentEventFn:r})=>(n,o)=>{let s=A3(n,o);if(s)return e(s,i);r({type:"segmentloaded",segment:i});let a=t==="arraybuffer"||!o.responseText?o.response:V6e(o.responseText.substring(i.lastReachedChar||0));return i.stats=G6e(o),i.key?i.encryptedBytes=new Uint8Array(a):i.bytes=new Uint8Array(a),e(null,i)},J6e=({segment:i,bytes:e,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A})=>{let B=i.map&&i.map.tracks||{},S=!!(B.audio&&B.video),U=r.bind(null,i,"audio","start"),q=r.bind(null,i,"audio","end"),G=r.bind(null,i,"video","start"),K=r.bind(null,i,"video","end"),Z=()=>rZ({bytes:e,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:S,onData:re=>{re.type=re.type==="combined"?"video":re.type,f(i,re)},onTrackInfo:re=>{t&&(S&&(re.isMuxed=!0),t(i,re))},onAudioTimingInfo:re=>{U&&typeof re.start<"u"&&(U(re.start),U=null),q&&typeof re.end<"u"&&q(re.end)},onVideoTimingInfo:re=>{G&&typeof re.start<"u"&&(G(re.start),G=null),K&&typeof re.end<"u"&&K(re.end)},onVideoSegmentTimingInfo:re=>{let ge={pts:{start:re.start.presentation,end:re.end.presentation},dts:{start:re.start.decode,end:re.end.decode}};A({type:"segmenttransmuxingtiminginfoavailable",segment:i,timingInfo:ge}),n(re)},onAudioSegmentTimingInfo:re=>{let ge={pts:{start:re.start.pts,end:re.end.pts},dts:{start:re.start.dts,end:re.end.dts}};A({type:"segmenttransmuxingtiminginfoavailable",segment:i,timingInfo:ge}),o(re)},onId3:(re,ge)=>{s(i,re,ge)},onCaptions:re=>{a(i,[re])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:w,onDone:(re,ge)=>{g&&(re.type=re.type==="combined"?"video":re.type,A({type:"segmenttransmuxingcomplete",segment:i}),g(ge,i,re))},segment:i,triggerSegmentEventFn:A});bf({action:"probeTs",transmuxer:i.transmuxer,data:e,baseStartTime:i.baseStartTime,callback:re=>{i.bytes=e=re.data;let ge=re.result;ge&&(t(i,{hasAudio:ge.hasAudio,hasVideo:ge.hasVideo,isMuxed:S}),t=null),Z()}})},sZ=({segment:i,bytes:e,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A})=>{let B=new Uint8Array(e);if(VG(B)){i.isFmp4=!0;let{tracks:S}=i.map;if(S.text&&(!S.audio||!S.video)){f(i,{data:B,type:"text"}),Z6e(i,S.text.codec,g);return}let q={isFmp4:!0,hasVideo:!!S.video,hasAudio:!!S.audio};S.audio&&S.audio.codec&&S.audio.codec!=="enca"&&(q.audioCodec=S.audio.codec),S.video&&S.video.codec&&S.video.codec!=="encv"&&(q.videoCodec=S.video.codec),S.video&&S.audio&&(q.isMuxed=!0),t(i,q);let G=(K,Z)=>{f(i,{data:B,type:q.hasAudio&&!q.isMuxed?"audio":"video"}),Z&&Z.length&&s(i,Z),K&&K.length&&a(i,K),g(null,i,{})};bf({action:"probeMp4StartTime",timescales:i.map.timescales,data:B,transmuxer:i.transmuxer,callback:({data:K,startTime:Z})=>{e=K.buffer,i.bytes=B=K,q.hasAudio&&!q.isMuxed&&r(i,"audio","start",Z),q.hasVideo&&r(i,"video","start",Z),bf({action:"probeEmsgID3",data:B,transmuxer:i.transmuxer,offset:Z,callback:({emsgData:re,id3Frames:ge})=>{if(e=re.buffer,i.bytes=B=re,!S.video||!re.byteLength||!i.transmuxer){G(void 0,ge);return}bf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:B,timescales:i.map.timescales,trackIds:[S.video.id],callback:ce=>{e=ce.data.buffer,i.bytes=B=ce.data,ce.logs.forEach(function(Ee){w(gi(Ee,{stream:"mp4CaptionParser"}))}),G(ce.captions,ge)}})}})}});return}if(!i.transmuxer){g(null,i,{});return}if(typeof i.container>"u"&&(i.container=RC(B)),i.container!=="ts"&&i.container!=="aac"){t(i,{hasAudio:!1,hasVideo:!1}),g(null,i,{});return}J6e({segment:i,bytes:e,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A})},aZ=function({id:i,key:e,encryptedBytes:t,decryptionWorker:r,segment:n,doneFn:o},s){let a=d=>{if(d.data.source===i){r.removeEventListener("message",a);let f=d.data.decrypted;s(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};r.onerror=()=>{let d="An error occurred in the decryption worker",f=ed({segment:n}),g={message:d,metadata:{error:new Error(d),errorType:te.Error.StreamingFailedToDecryptSegment,segmentInfo:f,keyInfo:{uri:n.key.resolvedUri||n.map.key.resolvedUri}}};o(g,n)},r.addEventListener("message",a);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(KX({source:i,encrypted:t,key:l,iv:e.iv}),[t.buffer,l.buffer])},eVe=({decryptionWorker:i,segment:e,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A})=>{A({type:"segmentdecryptionstart"}),aZ({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:i,segment:e,doneFn:g},B=>{e.bytes=B,A({type:"segmentdecryptioncomplete",segment:e}),sZ({segment:e,bytes:e.bytes,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A})})},tVe=({activeXhrs:i,decryptionWorker:e,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A})=>{let B=0,S=!1;return(U,q)=>{if(!S){if(U)return S=!0,JL(i),g(U,q);if(B+=1,B===i.length){let G=function(){if(q.encryptedBytes)return eVe({decryptionWorker:e,segment:q,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A});sZ({segment:q,bytes:q.bytes,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:A})};if(q.endOfAllRequests=Date.now(),q.map&&q.map.encryptedBytes&&!q.map.bytes)return A({type:"segmentdecryptionstart",segment:q}),aZ({decryptionWorker:e,id:q.requestId+"-init",encryptedBytes:q.map.encryptedBytes,key:q.map.key,segment:q,doneFn:g},K=>{q.map.bytes=K,A({type:"segmentdecryptioncomplete",segment:q}),oZ(q,Z=>{if(Z)return JL(i),g(Z,q);G()})});G()}}}},iVe=({loadendState:i,abortFn:e})=>t=>{t.target.aborted&&e&&!i.calledAbortFn&&(e(),i.calledAbortFn=!0)},rVe=({segment:i,progressFn:e,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f})=>g=>{if(!g.target.aborted)return i.stats=gi(i.stats,W6e(g)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),e(g,i)},nVe=({xhr:i,xhrOptions:e,decryptionWorker:t,segment:r,abortFn:n,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:g,isEndOfTimeline:w,endedTimelineFn:A,dataFn:B,doneFn:S,onTransmuxerLog:U,triggerSegmentEventFn:q})=>{let G=[],K=tVe({activeXhrs:G,decryptionWorker:t,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:g,isEndOfTimeline:w,endedTimelineFn:A,dataFn:B,doneFn:S,onTransmuxerLog:U,triggerSegmentEventFn:q});if(r.key&&!r.key.bytes){let Ee=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&Ee.push(r.map.key);let We=gi(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),Xt=xW(r,Ee,K,q),St={uri:r.key.resolvedUri};q({type:"segmentkeyloadstart",segment:r,keyInfo:St});let Yt=i(We,Xt);G.push(Yt)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){let Yt=gi(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),ze=xW(r,[r.map.key],K,q),At={uri:r.map.key.resolvedUri};q({type:"segmentkeyloadstart",segment:r,keyInfo:At});let gr=i(Yt,ze);G.push(gr)}let We=gi(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:YL(r.map),requestType:"segment-media-initialization"}),Xt=Q6e({segment:r,finishProcessingFn:K,triggerSegmentEventFn:q});q({type:"segmentloadstart",segment:r});let St=i(We,Xt);G.push(St)}let Z=gi(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:YL(r),requestType:"segment"}),re=Y6e({segment:r,finishProcessingFn:K,responseType:Z.responseType,triggerSegmentEventFn:q});q({type:"segmentloadstart",segment:r});let ge=i(Z,re);ge.addEventListener("progress",rVe({segment:r,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:g,isEndOfTimeline:w,endedTimelineFn:A,dataFn:B})),G.push(ge);let ce={};return G.forEach(Ee=>{Ee.addEventListener("loadend",iVe({loadendState:ce,abortFn:n}))}),()=>JL(G)},LC=ns("PlaylistSelector"),CW=function(i){if(!i||!i.playlist)return;let e=i.playlist;return JSON.stringify({id:e.id,bandwidth:i.bandwidth,width:i.width,height:i.height,codecs:e.attributes&&e.attributes.CODECS||""})},_f=function(i,e){if(!i)return"";let t=H.default.getComputedStyle(i);return t?t[e]:""},vf=function(i,e){let t=i.slice();i.sort(function(r,n){let o=e(r,n);return o===0?t.indexOf(r)-t.indexOf(n):o})},R3=function(i,e){let t,r;return i.attributes.BANDWIDTH&&(t=i.attributes.BANDWIDTH),t=t||H.default.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||H.default.Number.MAX_VALUE,t-r},oVe=function(i,e){let t,r;return i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(t=i.attributes.RESOLUTION.width),t=t||H.default.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||H.default.Number.MAX_VALUE,t===r&&i.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?i.attributes.BANDWIDTH-e.attributes.BANDWIDTH:t-r},lZ=function(i){let{main:e,bandwidth:t,playerWidth:r,playerHeight:n,playerObjectFit:o,limitRenditionByPlayerDimensions:s,playlistController:a}=i;if(!e)return;let l={bandwidth:t,width:r,height:n,limitRenditionByPlayerDimensions:s},d=e.playlists;Zn.isAudioOnly(e)&&(d=a.getAudioTrackPlaylists_(),l.audioOnly=!0);let f=d.map(ce=>{let Ee,We=ce.attributes&&ce.attributes.RESOLUTION&&ce.attributes.RESOLUTION.width,Xt=ce.attributes&&ce.attributes.RESOLUTION&&ce.attributes.RESOLUTION.height;return Ee=ce.attributes&&ce.attributes.BANDWIDTH,Ee=Ee||H.default.Number.MAX_VALUE,{bandwidth:Ee,width:We,height:Xt,playlist:ce}});vf(f,(ce,Ee)=>ce.bandwidth-Ee.bandwidth),f=f.filter(ce=>!Zn.isIncompatible(ce.playlist));let g=f.filter(ce=>Zn.isEnabled(ce.playlist));g.length||(g=f.filter(ce=>!Zn.isDisabled(ce.playlist)));let w=g.filter(ce=>ce.bandwidth*Nr.BANDWIDTH_VARIANCE<t),A=w[w.length-1],B=w.filter(ce=>ce.bandwidth===A.bandwidth)[0];if(s===!1){let ce=B||g[0]||f[0];if(ce&&ce.playlist){let Ee="sortedPlaylistReps";return B&&(Ee="bandwidthBestRep"),g[0]&&(Ee="enabledPlaylistReps"),LC(`choosing ${CW(ce)} using ${Ee} with options`,l),ce.playlist}return LC("could not choose a playlist with options",l),null}let S=w.filter(ce=>ce.width&&ce.height);vf(S,(ce,Ee)=>ce.width-Ee.width);let U=S.filter(ce=>ce.width===r&&ce.height===n);A=U[U.length-1];let q=U.filter(ce=>ce.bandwidth===A.bandwidth)[0],G,K,Z;q||(G=S.filter(ce=>o==="cover"?ce.width>r&&ce.height>n:ce.width>r||ce.height>n),K=G.filter(ce=>ce.width===G[0].width&&ce.height===G[0].height),A=K[K.length-1],Z=K.filter(ce=>ce.bandwidth===A.bandwidth)[0]);let re;if(a.leastPixelDiffSelector){let ce=S.map(Ee=>(Ee.pixelDiff=Math.abs(Ee.width-r)+Math.abs(Ee.height-n),Ee));vf(ce,(Ee,We)=>Ee.pixelDiff===We.pixelDiff?We.bandwidth-Ee.bandwidth:Ee.pixelDiff-We.pixelDiff),re=ce[0]}let ge=re||Z||q||B||g[0]||f[0];if(ge&&ge.playlist){let ce="sortedPlaylistReps";return re?ce="leastPixelDiffRep":Z?ce="resolutionPlusOneRep":q?ce="resolutionBestRep":B?ce="bandwidthBestRep":g[0]&&(ce="enabledPlaylistReps"),LC(`choosing ${CW(ge)} using ${ce} with options`,l),ge.playlist}return LC("could not choose a playlist with options",l),null},EW=function(){let i=this.useDevicePixelRatio&&H.default.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),lZ({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(_f(this.tech_.el(),"width"),10)*i,playerHeight:parseInt(_f(this.tech_.el(),"height"),10)*i,playerObjectFit:this.usePlayerObjectFit?_f(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},sVe=function(i){let e=-1,t=-1;if(i<0||i>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&H.default.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,t=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==t&&(e=i*this.systemBandwidth+(1-i)*e,t=this.systemBandwidth),lZ({main:this.playlists.main,bandwidth:e,playerWidth:parseInt(_f(this.tech_.el(),"width"),10)*r,playerHeight:parseInt(_f(this.tech_.el(),"height"),10)*r,playerObjectFit:this.usePlayerObjectFit?_f(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},aVe=function(i){let{main:e,currentTime:t,bandwidth:r,duration:n,segmentDuration:o,timeUntilRebuffer:s,currentTimeline:a,syncController:l}=i,d=e.playlists.filter(B=>!Zn.isIncompatible(B)),f=d.filter(Zn.isEnabled);f.length||(f=d.filter(B=>!Zn.isDisabled(B)));let w=f.filter(Zn.hasAttribute.bind(null,"BANDWIDTH")).map(B=>{let U=l.getSyncPoint(B,n,a,t)?1:2,G=Zn.estimateSegmentRequestTime(o,r,B)*U-s;return{playlist:B,rebufferingImpact:G}}),A=w.filter(B=>B.rebufferingImpact<=0);return vf(A,(B,S)=>R3(S.playlist,B.playlist)),A.length?A[0]:(vf(w,(B,S)=>B.rebufferingImpact-S.rebufferingImpact),w[0]||null)},lVe=function(){let i=this.playlists.main.playlists.filter(Zn.isEnabled);return vf(i,(t,r)=>R3(t,r)),i.filter(t=>!!vg(this.playlists.main,t).video)[0]||null},cVe=i=>{let e=0,t;return i.bytes&&(t=new Uint8Array(i.bytes),i.segments.forEach(r=>{t.set(r,e),e+=r.byteLength})),t};function cZ(i){try{return new URL(i).pathname.split("/").slice(-2).join("/")}catch{return""}}var uVe=function(i,e,t){if(!i[t]){e.trigger({type:"usage",name:"vhs-608"});let r=t;/^cc708_/.test(t)&&(r="SERVICE"+t.split("_")[1]);let n=e.textTracks().getTrackById(r);if(n)i[t]=n;else{let o=e.options_.vhs&&e.options_.vhs.captionServices||{},s=t,a=t,l=!1,d=o[r];d&&(s=d.label,a=d.language,l=d.default),i[t]=e.addRemoteTextTrack({kind:"captions",id:r,default:l,label:s,language:a},!1).track}}},dVe=function({inbandTextTracks:i,captionArray:e,timestampOffset:t}){if(!e)return;let r=H.default.WebKitDataCue||H.default.VTTCue;e.forEach(n=>{let o=n.stream;n.content?n.content.forEach(s=>{let a=new r(n.startTime+t,n.endTime+t,s.text);a.line=s.line,a.align="left",a.position=s.position,a.positionAlign="line-left",i[o].addCue(a)}):i[o].addCue(new r(n.startTime+t,n.endTime+t,n.text))})},pVe=function(i){Object.defineProperties(i.frame,{id:{get(){return te.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),i.value.key}},value:{get(){return te.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),i.value.data}},privateData:{get(){return te.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),i.value.data}}})},fVe=({inbandTextTracks:i,metadataArray:e,timestampOffset:t,videoDuration:r})=>{if(!e)return;let n=H.default.WebKitDataCue||H.default.VTTCue,o=i.metadataTrack_;if(!o||(e.forEach(f=>{let g=f.cueTime+t;typeof g!="number"||H.default.isNaN(g)||g<0||!(g<1/0)||!f.frames||!f.frames.length||f.frames.forEach(w=>{let A=new n(g,g,w.value||w.url||w.data||"");A.frame=w,A.value=w,pVe(A),o.addCue(A)})}),!o.cues||!o.cues.length))return;let s=o.cues,a=[];for(let f=0;f<s.length;f++)s[f]&&a.push(s[f]);let l=a.reduce((f,g)=>{let w=f[g.startTime]||[];return w.push(g),f[g.startTime]=w,f},{}),d=Object.keys(l).sort((f,g)=>Number(f)-Number(g));d.forEach((f,g)=>{let w=l[f],A=isFinite(r)?r:f,B=Number(d[g+1])||A;w.forEach(S=>{S.endTime=B})})},hVe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},mVe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),gVe=({inbandTextTracks:i,dateRanges:e})=>{let t=i.metadataTrack_;if(!t)return;let r=H.default.WebKitDataCue||H.default.VTTCue;e.forEach(n=>{for(let o of Object.keys(n)){if(mVe.has(o))continue;let s=new r(n.startTime,n.endTime,"");s.id=n.id,s.type="com.apple.quicktime.HLS",s.value={key:hVe[o],data:n[o]},(o==="scte35Out"||o==="scte35In")&&(s.value.data=new Uint8Array(s.value.data.match(/[\da-f]{2}/gi)).buffer),t.addCue(s)}n.processDateRange()})},TW=(i,e,t)=>{i.metadataTrack_||(i.metadataTrack_=t.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,te.browser.IS_ANY_SAFARI||(i.metadataTrack_.inBandMetadataTrackDispatchType=e))},mg=function(i,e,t){let r,n;if(t&&t.cues)for(r=t.cues.length;r--;)n=t.cues[r],n.startTime>=i&&n.endTime<=e&&t.removeCue(n)},yVe=function(i){let e=i.cues;if(!e)return;let t={};for(let r=e.length-1;r>=0;r--){let n=e[r],o=`${n.startTime}-${n.endTime}-${n.text}`;t[o]?i.removeCue(n):t[o]=n}},bVe=(i,e,t)=>{if(typeof e>"u"||e===null||!i.length)return[];let r=Math.ceil((e-t+3)*Tc.ONE_SECOND_IN_TS),n;for(n=0;n<i.length&&!(i[n].pts>r);n++);return i.slice(n)},_Ve=(i,e,t)=>{if(!e.length)return i;if(t)return e.slice();let r=e[0].pts,n=0;for(n;n<i.length&&!(i[n].pts>=r);n++);return i.slice(0,n).concat(e)},vVe=(i,e,t,r)=>{let n=Math.ceil((e-r)*Tc.ONE_SECOND_IN_TS),o=Math.ceil((t-r)*Tc.ONE_SECOND_IN_TS),s=i.slice(),a=i.length;for(;a--&&!(i[a].pts<=o););if(a===-1)return s;let l=a+1;for(;l--&&!(i[l].pts<=n););return l=Math.max(l,0),s.splice(l,a-l+1),s},xVe=function(i,e){if(!i&&!e||!i&&e||i&&!e)return!1;if(i===e)return!0;let t=Object.keys(i).sort(),r=Object.keys(e).sort();if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){let o=t[n];if(o!==r[n]||i[o]!==e[o])return!1}return!0},CVe=function(i,e,t){e=e||[];let r=[],n=0;for(let o=0;o<e.length;o++){let s=e[o];if(i===s.timeline&&(r.push(o),n+=s.duration,n>t))return o}return r.length===0?0:r[r.length-1]},fg=1,EVe=500,wW=i=>typeof i=="number"&&isFinite(i),BC=1/60,TVe=(i,e,t)=>i!=="main"||!e||!t?null:!t.hasAudio&&!t.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!t.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&t.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,wVe=(i,e,t)=>{let r=e-Nr.BACK_BUFFER_LENGTH;i.length&&(r=Math.max(r,i.start(0)));let n=e-t;return Math.min(n,r)},uf=i=>{let{startOfSegment:e,duration:t,segment:r,part:n,playlist:{mediaSequence:o,id:s,segments:a=[]},mediaIndex:l,partIndex:d,timeline:f}=i,g=a.length-1,w="mediaIndex/partIndex increment";i.getMediaInfoForTime?w=`getMediaInfoForTime (${i.getMediaInfoForTime})`:i.isSyncRequest&&(w="getSyncSegmentCandidate (isSyncRequest)"),i.independent&&(w+=` with independent ${i.independent}`);let A=typeof d=="number",B=i.segment.uri?"segment":"pre-segment",S=A?AX({preloadSegment:r})-1:0;return`${B} [${o+l}/${o+g}]`+(A?` part [${d}/${S}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(A?` part start/end [${n.start} => ${n.end}]`:"")+` startOfSegment [${e}] duration [${t}] timeline [${f}] selected by [${w}] playlist [${s}]`},SW=i=>`${i}TimingInfo`,SVe=({segmentTimeline:i,currentTimeline:e,startOfSegment:t,buffered:r,overrideCheck:n})=>!n&&i===e?null:i<e?t:r.length?r.end(r.length-1):t,e3=({timelineChangeController:i,currentTimeline:e,segmentTimeline:t,loaderType:r,audioDisabled:n})=>{if(e===t)return!1;if(r==="audio"){let o=i.lastTimelineChange({type:"main"});return!o||o.to!==t}if(r==="main"&&n){let o=i.pendingTimelineChange({type:"audio"});return!(o&&o.to===t)}return!1},AVe=i=>{if(!i)return!1;let e=i.pendingTimelineChange({type:"audio"}),t=i.pendingTimelineChange({type:"main"}),r=e&&t,n=r&&e.to!==t.to;return!!(r&&e.from!==-1&&t.from!==-1&&n)},RVe=i=>{let e=i.timelineChangeController_.pendingTimelineChange({type:"audio"}),t=i.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&t&&e.to<t.to},vc=i=>{let e=i.pendingSegment_;if(!e)return;if(e3({timelineChangeController:i.timelineChangeController_,currentTimeline:i.currentTimeline_,segmentTimeline:e.timeline,loaderType:i.loaderType_,audioDisabled:i.audioDisabled_})&&AVe(i.timelineChangeController_)){if(RVe(i)){i.timelineChangeController_.trigger("audioTimelineBehind");return}i.timelineChangeController_.trigger("fixBadTimelineChange")}},kVe=i=>{let e=0;return["video","audio"].forEach(function(t){let r=i[`${t}TimingInfo`];if(!r)return;let{start:n,end:o}=r,s;typeof n=="bigint"||typeof o=="bigint"?s=H.default.BigInt(o)-H.default.BigInt(n):typeof n=="number"&&typeof o=="number"&&(s=o-n),typeof s<"u"&&s>e&&(e=s)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},AW=({segmentDuration:i,maxDuration:e})=>i?Math.round(i)>e+Sa:!1,DVe=(i,e)=>{if(e!=="hls")return null;let t=kVe({audioTimingInfo:i.audioTimingInfo,videoTimingInfo:i.videoTimingInfo});if(!t)return null;let r=i.playlist.targetDuration,n=AW({segmentDuration:t,maxDuration:r*2}),o=AW({segmentDuration:t,maxDuration:r}),s=`Segment with index ${i.mediaIndex} from playlist ${i.playlist.id} has a duration of ${t} when the reported duration is ${i.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return n||o?{severity:n?"warn":"info",message:s}:null},ed=({type:i,segment:e})=>{if(!e)return;let t=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),n=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:i||e.type,uri:e.resolvedUri||e.uri,start:n,duration:e.duration,isEncrypted:t,isMediaInitialization:r}},qg=class extends te.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ns(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():vc(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(ir({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():vc(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(ir({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():vc(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():vc(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return fL.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&H.default.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,H.default.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&fL.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){let e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Fr();if(this.loaderType_==="main"){let{hasAudio:t,hasVideo:r,isMuxed:n}=e;if(r&&t&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;let r=DE(e),n=this.initSegments_[r];return t&&!n&&e.bytes&&(this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,t=!1){if(!e)return null;let r=HX(e),n=this.keyCache_[r];this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[r]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});let o={resolvedUri:(n||e).resolvedUri};return n&&(o.bytes=n.bytes),o}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;let r=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let o=null;if(r&&(r.id?o=r.id:r.uri&&(o=r.uri)),this.logger_(`playlist update [${o} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${dL(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}let s=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${s}]`),this.mediaIndex!==null)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{let a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){let l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}n&&(n.mediaIndex-=s,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(H.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&fL.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;let e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,r=()=>{},n=!1){if(t===1/0&&(t=this.duration_()),t<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let o=1,s=()=>{o--,o===0&&r()};(n||!this.audioDisabled_)&&(o++,this.sourceUpdater_.removeAudio(e,t,s)),(n||this.loaderType_==="main")&&(this.gopBuffer_=vVe(this.gopBuffer_,e,t,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(e,t,s));for(let a in this.inbandTextTracks_)mg(e,t,this.inbandTextTracks_[a]);mg(e,t,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&H.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.default.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&H.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.default.setTimeout(this.monitorBufferTick_.bind(this),EVe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;let e=this.chooseNextRequest_();if(!e)return;let t={segmentInfo:ed({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,r=this.partIndex){if(!t||!this.mediaSource_)return!1;let n=typeof e=="number"&&t.segments[e],o=e+1===t.segments.length,s=!n||!n.parts||r+1===n.parts.length;return t.endList&&this.mediaSource_.readyState==="open"&&o&&s}chooseNextRequest_(){let e=this.buffered_(),t=dL(e)||0,r=E3(e,this.currentTime_()),n=!this.hasPlayed_()&&r>=1,o=r>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||n||o)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);let a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=CVe(this.currentTimeline_,s,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){let w=s[this.mediaIndex],A=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=w.end?w.end:t,w.parts&&w.parts[A+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=A+1):a.mediaIndex=this.mediaIndex+1}else{let w,A,B,S=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${S}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${t}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){let U=this.getSyncInfoFromMediaSequenceSync_(S);if(!U){let q="No sync info found while using media sequence sync";return this.error({message:q,metadata:{errorType:te.Error.StreamingFailedToSelectNextSegment,error:new Error(q)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${U.start} --> ${U.end})`),w=U.segmentIndex,A=U.partIndex,B=U.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");let U=Zn.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:S,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});w=U.segmentIndex,A=U.partIndex,B=U.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${S}`:`currentTime ${S}`,a.mediaIndex=w,a.startOfSegment=B,a.partIndex=A,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}let l=s[a.mediaIndex],d=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!d)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,d=l.parts[0]);let f=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&d&&!f&&!d.independent)if(a.partIndex===0){let w=s[a.mediaIndex-1],A=w.parts&&w.parts.length&&w.parts[w.parts.length-1];A&&A.independent&&(a.mediaIndex-=1,a.partIndex=w.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");let g=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=s.length-1&&g&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;let t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);let r=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!r)return null;if(!r.isAppended)return r;let n=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return n?(n.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),n):null}generateSegmentInfo_(e){let{independent:t,playlist:r,mediaIndex:n,startOfSegment:o,isSyncRequest:s,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:d}=e,f=r.segments[n],g=typeof a=="number"&&f.parts[a],w={requestId:"segment-loader-"+Math.random(),uri:g&&g.resolvedUri||f.resolvedUri,mediaIndex:n,partIndex:g?a:null,isSyncRequest:s,startOfSegment:o,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:g&&g.duration||f.duration,segment:f,part:g,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:t},A=typeof l<"u"?l:this.isPendingTimestampOffset_;w.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:f.timeline,currentTimeline:this.currentTimeline_,startOfSegment:o,buffered:this.buffered_(),overrideCheck:A});let B=dL(this.sourceUpdater_.audioBuffered());return typeof B=="number"&&(w.audioAppendStart=B-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(w.gopsToAlignWith=bVe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),w}timestampOffsetForSegment_(e){return SVe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;let t=this.currentTime_(),r=e.bandwidth,n=this.pendingSegment_.duration,o=Zn.estimateSegmentRequestTime(n,r,this.playlist_,e.bytesReceived),s=W8e(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(o<=s)return;let a=aVe({main:this.vhs_.playlists.main,currentTime:t,bandwidth:r,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;let d=o-s-a.rebufferingImpact,f=.5;s<=Sa&&(f=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||d<f)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Nr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${uf(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&this.trigger("progress")}handleTrackInfo_(e,t){let{hasAudio:r,hasVideo:n}=t,o={segmentInfo:ed({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:n}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:o}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(t)||(t=t||{},xVe(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():vc(this))))}handleTimingInfo_(e,t,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;let o=this.pendingSegment_,s=SW(t);o[s]=o[s]||{},o[s][r]=n,this.logger_(`timinginfo: ${t} - ${r} - ${n}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():vc(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(t.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));return}let n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};t.forEach(s=>{o[s.stream]=o[s.stream]||{startTime:1/0,captions:[],endTime:0};let a=o[s.stream];a.startTime=Math.min(a.startTime,s.startTime+n),a.endTime=Math.max(a.endTime,s.endTime+n),a.captions.push(s)}),Object.keys(o).forEach(s=>{let{startTime:a,endTime:l,captions:d}=o[s],f=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${s}`),uVe(f,this.vhs_.tech_,s),mg(a,l,f[s]),dVe({captionArray:d,inbandTextTracks:f,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,r));return}this.addMetadataToTextTrack(r,t,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){let e=this.callQueue_;this.callQueue_=[],e.forEach(t=>t())}processLoadQueue_(){let e=this.loadQueue_;this.loadQueue_=[],e.forEach(t=>t())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;let e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!e3({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;let e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;let{hasAudio:r,hasVideo:n,isMuxed:o}=t;return!(n&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!o&&!e.audioTimingInfo||e3({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){vc(this),this.callQueue_.push(this.handleData_.bind(this,e,t));return}let r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[SW(t.type)].start;else{let n=this.getCurrentMediaInfo_(),o=this.loaderType_==="main"&&n&&n.hasVideo,s;o&&(s=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:s,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,t.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});let n=this.chooseNextRequest_();if(n.mediaIndex!==r.mediaIndex||n.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,t)}}updateAppendInitSegmentStatus(e,t){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:r,playlist:n}){if(r){let o=DE(r);if(this.activeInitSegmentId_===o)return null;t=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=o}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:r},n){let o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+td(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+td(s).join(", "));let a=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,d=s.length?s.start(0):0,f=s.length?s.end(s.length-1):0;if(l-a<=fg&&f-d<=fg){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${td(o).join(", ")}, video buffer: ${td(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:r}));let w=this.currentTime_()-fg;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${w}`),this.remove(0,w,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${fg}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=H.default.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},fg*1e3)},!0)}handleAppendError_({segmentInfo:e,type:t,bytes:r},n){if(n){if(n.code===NX){this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error({message:`${t} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:te.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:r,data:n,bytes:o}){if(!o){let a=[n],l=n.byteLength;r&&(a.unshift(r),l+=r.byteLength),o=cVe({bytes:l,segments:a})}let s={segmentInfo:ed({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:s}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:o}))}handleSegmentTimingInfo_(e,t,r){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;let n=this.pendingSegment_.segment,o=`${e}TimingInfo`;n[o]||(n[o]={}),n[o].transmuxerPrependedSeconds=r.prependedContentDuration||0,n[o].transmuxedPresentationStart=r.start.presentation,n[o].transmuxedDecodeStart=r.start.decode,n[o].transmuxedPresentationEnd=r.end.presentation,n[o].transmuxedDecodeEnd=r.end.decode,n[o].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,t){let{type:r,data:n}=t;if(!n||!n.byteLength||r==="audio"&&this.audioDisabled_)return;let o=this.getInitSegmentAndUpdateState_({type:r,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:o,data:n})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){vc(this),this.loadQueue_.push(()=>{let t=ir({},e,{forceTimestampOffset:!0});ir(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));let t=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=this.mediaIndex!==null,o=e.timeline!==this.currentTimeline_&&e.timeline>0,s=r||n&&o;this.logger_(`Requesting
${cZ(e.uri)}
${uf(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=nVe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:d})=>{this.logger_(`${uf(e)} logged from transmuxer stream ${d} as a ${l}: ${a}`)},triggerSegmentEventFn:({type:a,segment:l,keyInfo:d,trackInfo:f,timingInfo:g})=>{let A={segmentInfo:ed({segment:l})};d&&(A.keyInfo=d),f&&(A.trackInfo=f),g&&(A.timingInfo=g),this.trigger({type:a,metadata:A})}})}trimBackBuffer_(e){let t=wVe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){let t=e.segment,r=e.part,n=e.segment.key||e.segment.map&&e.segment.map.key,o=e.segment.map&&!e.segment.map.bytes,s={resolvedUri:r?r.resolvedUri:t.resolvedUri,byterange:r?r.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:n,isMediaInitialization:o},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===t.timeline&&(a.videoTimingInfo?s.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(s.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),t.key){let l=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);s.key=this.segmentKey(t.key),s.key.iv=l}return t.map&&(s.map=this.initSegmentForMap(t.map)),s}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<BC){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${BC}`);return}let r={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,r));return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_||t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Ra.ABORTED)return;if(this.pause(),e.code===Ra.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}let n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),n.endOfAllRequests=t.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=_Ve(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){let t=this.syncController_.mappingForTimeline(e);t!==null&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:r,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:o,useVideoTimingInfo:s,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!s)return l.start;let d=t.segments[r-1];return r===0||!d||typeof d.start>"u"||d.end!==n+o?n:a.start}waitForAppendsToComplete_(e){let t=this.getCurrentMediaInfo_(e);if(!t){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}let{hasAudio:r,hasVideo:n,isMuxed:o}=t,s=this.loaderType_==="main"&&n,a=!this.audioDisabled_&&r&&!o;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}s&&e.waitingOnAppends++,a&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){let t=TVe(this.loaderType_,this.getCurrentMediaInfo_(),e);return t?(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:t&&typeof t.transmuxedDecodeStart=="number"?t.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};let t=this.getMediaInfo_(),n=this.loaderType_==="main"&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end=typeof n.end=="number"?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){let l={segmentInfo:ed({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}let e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});let t=DVe(e,this.sourceType_);if(t&&(t.severity==="warn"?te.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${uf(e)}`);return}this.logger_(`Appended ${uf(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");let r=e.segment,n=e.part,o=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,s=n&&n.end&&this.currentTime_()-n.end>e.playlist.partTargetDuration*3;if(o||s){this.logger_(`bad ${o?"segment":"part"} ${uf(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<BC){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${BC}`);return}let t=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;let t=e.segment,r=t.start,n=t.end;if(!wW(r)||!wW(n))return;mg(r,n,this.segmentMetadataTrack_);let o=H.default.WebKitDataCue||H.default.VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:n},a=JSON.stringify(s),l=new o(r,n,a);l.value=s,this.segmentMetadataTrack_.addCue(l)}};function bl(){}var uZ=function(i){return typeof i!="string"?i:i.replace(/./,e=>e.toUpperCase())},IVe=["video","audio"],t3=(i,e)=>{let t=e[`${i}Buffer`];return t&&t.updating||e.queuePending[i]},PVe=(i,e)=>{for(let t=0;t<e.length;t++){let r=e[t];if(r.type==="mediaSource")return null;if(r.type===i)return t}return null},xf=(i,e)=>{if(e.queue.length===0)return;let t=0,r=e.queue[t];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),xf("audio",e),xf("video",e));return}if(i!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||t3(i,e))){if(r.type!==i){if(t=PVe(i,e.queue),t===null)return;r=e.queue[t]}if(e.queue.splice(t,1),e.queuePending[i]=r,r.action(i,e),!r.doneFn){e.queuePending[i]=null,xf(i,e);return}}},dZ=(i,e)=>{let t=e[`${i}Buffer`],r=uZ(i);t&&(t.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),t.removeEventListener("error",e[`on${r}Error_`]),e.codecs[i]=null,e[`${i}Buffer`]=null)},Ta=(i,e)=>i&&e&&Array.prototype.indexOf.call(i.sourceBuffers,e)!==-1,Eo={appendBuffer:(i,e,t)=>(r,n)=>{let o=n[`${r}Buffer`];if(Ta(n.mediaSource,o)){n.logger_(`Appending segment ${e.mediaIndex}'s ${i.length} bytes to ${r}Buffer`);try{o.appendBuffer(i)}catch(s){n.logger_(`Error with code ${s.code} `+(s.code===NX?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),n.queuePending[r]=null,t(s)}}},remove:(i,e)=>(t,r)=>{let n=r[`${t}Buffer`];if(Ta(r.mediaSource,n)){r.logger_(`Removing ${i} to ${e} from ${t}Buffer`);try{n.remove(i,e)}catch{r.logger_(`Remove ${i} to ${e} from ${t}Buffer failed`)}}},timestampOffset:i=>(e,t)=>{let r=t[`${e}Buffer`];Ta(t.mediaSource,r)&&(t.logger_(`Setting ${e}timestampOffset to ${i}`),r.timestampOffset=i)},callback:i=>(e,t)=>{i()},endOfStream:i=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${i||""})`);try{e.mediaSource.endOfStream(i)}catch(t){te.log.warn("Failed to call media source endOfStream",t)}}},duration:i=>e=>{e.logger_(`Setting mediaSource duration to ${i}`);try{e.mediaSource.duration=i}catch(t){te.log.warn("Failed to set media source duration",t)}},abort:()=>(i,e)=>{if(e.mediaSource.readyState!=="open")return;let t=e[`${i}Buffer`];if(Ta(e.mediaSource,t)){e.logger_(`calling abort on ${i}Buffer`);try{t.abort()}catch(r){te.log.warn(`Failed to abort on ${i}Buffer`,r)}}},addSourceBuffer:(i,e)=>t=>{let r=uZ(i),n=Xu(e);t.logger_(`Adding ${i}Buffer with codec ${e} to mediaSource`);let o=t.mediaSource.addSourceBuffer(n);o.addEventListener("updateend",t[`on${r}UpdateEnd_`]),o.addEventListener("error",t[`on${r}Error_`]),t.codecs[i]=e,t[`${i}Buffer`]=o},removeSourceBuffer:i=>e=>{let t=e[`${i}Buffer`];if(dZ(i,e),!!Ta(e.mediaSource,t)){e.logger_(`Removing ${i}Buffer with codec ${e.codecs[i]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(t)}catch(r){te.log.warn(`Failed to removeSourceBuffer ${i}Buffer`,r)}}},changeType:i=>(e,t)=>{let r=t[`${e}Buffer`],n=Xu(i);if(!Ta(t.mediaSource,r))return;let o=i.substring(0,i.indexOf(".")),s=t.codecs[e];if(s.substring(0,s.indexOf("."))===o)return;let l={codecsChangeInfo:{from:s,to:i}};t.trigger({type:"codecschange",metadata:l}),t.logger_(`changing ${e}Buffer codec from ${s} to ${i}`);try{r.changeType(n),t.codecs[e]=i}catch(d){l.errorType=te.Error.StreamingCodecsChangeError,l.error=d,d.metadata=l,t.error_=d,t.trigger("error"),te.log.warn(`Failed to changeType on ${e}Buffer`,d)}}},To=({type:i,sourceUpdater:e,action:t,doneFn:r,name:n})=>{e.queue.push({type:i,action:t,doneFn:r,name:n}),xf(i,e)},RW=(i,e)=>t=>{let r=e[`${i}Buffered`](),n=K8e(r);if(e.logger_(`received "updateend" event for ${i} Source Buffer: `,n),e.queuePending[i]){let o=e.queuePending[i].doneFn;e.queuePending[i]=null,o&&o(e[`${i}Error_`])}xf(i,e)},IE=class extends te.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>xf("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ns("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=RW("video",this),this.onAudioUpdateEnd_=RW("audio",this),this.onVideoError_=t=>{this.videoError_=t},this.onAudioError_=t=>{this.audioError_=t},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){To({type:"mediaSource",sourceUpdater:this,action:Eo.addSourceBuffer(e,t),name:"addSourceBuffer"})}abort(e){To({type:e,sourceUpdater:this,action:Eo.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){te.log.error("removeSourceBuffer is not supported!");return}To({type:"mediaSource",sourceUpdater:this,action:Eo.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!te.browser.IS_FIREFOX&&H.default.MediaSource&&H.default.MediaSource.prototype&&typeof H.default.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return H.default.SourceBuffer&&H.default.SourceBuffer.prototype&&typeof H.default.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){if(!this.canChangeType()){te.log.error("changeType is not supported!");return}To({type:e,sourceUpdater:this,action:Eo.changeType(t),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(t=>{let r=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,r);this.canChangeType()&&this.changeType(t,r)})}appendBuffer(e,t){let{segmentInfo:r,type:n,bytes:o}=e;if(this.processedAppend_=!0,n==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,t]),this.logger_(`delayed audio append of ${o.length} until video append`);return}let s=t;if(To({type:n,sourceUpdater:this,action:Eo.appendBuffer(o,r||{mediaIndex:-1},s),doneFn:t,name:"appendBuffer"}),n==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;let a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Ta(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Fr()}videoBuffered(){return Ta(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Fr()}buffered(){let e=Ta(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Ta(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():G8e(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=bl){To({type:"mediaSource",sourceUpdater:this,action:Eo.duration(e),name:"duration",doneFn:t})}endOfStream(e=null,t=bl){typeof e!="string"&&(e=void 0),To({type:"mediaSource",sourceUpdater:this,action:Eo.endOfStream(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,r=bl){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}To({type:"audio",sourceUpdater:this,action:Eo.remove(e,t),doneFn:r,name:"remove"})}removeVideo(e,t,r=bl){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}To({type:"video",sourceUpdater:this,action:Eo.remove(e,t),doneFn:r,name:"remove"})}updating(){return!!(t3("audio",this)||t3("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(To({type:"audio",sourceUpdater:this,action:Eo.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(To({type:"video",sourceUpdater:this,action:Eo.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&To({type:"audio",sourceUpdater:this,action:Eo.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&To({type:"video",sourceUpdater:this,action:Eo.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),IVe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>dZ(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}},kW=i=>decodeURIComponent(escape(String.fromCharCode.apply(null,i))),LVe=i=>{let e=new Uint8Array(i);return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")},DW=new Uint8Array(`

`.split("").map(i=>i.charCodeAt(0))),i3=class extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}},r3=class extends qg{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Fr();let e=this.subtitlesTrack_.cues,t=e[0].startTime,r=e[e.length-1].startTime;return Fr([[t,r]])}initSegmentForMap(e,t=!1){if(!e)return null;let r=DE(e),n=this.initSegments_[r];if(t&&!n&&e.bytes){let o=DW.byteLength+e.bytes.byteLength,s=new Uint8Array(o);s.set(e.bytes),s.set(DW,e.bytes.byteLength),this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:s}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,t){mg(e,t,this.subtitlesTrack_)}fillBuffer_(){let e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){let t=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",t),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Ra.TIMEOUT&&this.handleTimeout_(),e.code===Ra.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}let n=this.pendingSegment_,o=r.mp4VttCues&&r.mp4VttCues.length;o&&(n.mp4VttCues=r.mp4VttCues),this.saveBandwidthRelatedStats_(n.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");let s=n.segment;if(s.map&&(s.map.bytes=t.map.bytes),n.bytes=t.bytes,typeof H.default.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(n)}catch(a){this.stopForError({message:a.message,metadata:{errorType:te.Error.StreamingVttParserError,error:a}});return}if(o||this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,n.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new H.default.VTTCue(a.startTime,a.endTime,a.text):a)}),yVe(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,t){let r=e&&e.type==="vtt",n=t&&t.type==="text";r&&n&&super.handleData_(e,t)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){let t=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(r=>{let n=r.start+t,o=r.end+t,s=new H.default.VTTCue(n,o,r.cueText);r.settings&&r.settings.split(" ").forEach(a=>{let l=a.split(":"),d=l[0],f=l[1];s[d]=isNaN(f)?f:Number(f)}),e.cues.push(s)})}parseVTTCues_(e){let t,r=!1;if(typeof H.default.WebVTT!="function")throw new i3;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof H.default.TextDecoder=="function"?t=new H.default.TextDecoder("utf8"):(t=H.default.WebVTT.StringDecoder(),r=!0);let n=new H.default.WebVTT.Parser(H.default,H.default.vttjs,t);if(n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=s=>{e.timestampmap=s},n.onparsingerror=s=>{te.log.warn("Error encountered when parsing cues: "+s.message)},e.segment.map){let s=e.segment.map.bytes;r&&(s=kW(s)),n.parse(s)}let o=e.bytes;r&&(o=kW(o)),n.parse(o),n.flush()}updateTimeMapping_(e,t,r){let n=e.segment;if(!t)return;if(!e.cues.length){n.empty=!0;return}let{MPEGTS:o,LOCAL:s}=e.timestampmap,l=o/Tc.ONE_SECOND_IN_TS-s+t.mapping;if(e.cues.forEach(d=>{let f=d.endTime-d.startTime,g=this.handleRollover_(d.startTime+l,t.time);d.startTime=Math.max(g,0),d.endTime=Math.max(g+f,0)}),!r.syncInfo){let d=e.cues[0].startTime,f=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(d,f-n.duration)}}}handleRollover_(e,t){if(t===null)return e;let r=e*Tc.ONE_SECOND_IN_TS,n=t*Tc.ONE_SECOND_IN_TS,o;for(n<r?o=-8589934592:o=8589934592;Math.abs(r-n)>4294967296;)r+=o;return r/Tc.ONE_SECOND_IN_TS}},BVe=function(i,e){let t=i.cues;for(let r=0;r<t.length;r++){let n=t[r];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null},OVe=function(i,e,t=0){if(!i.segments)return;let r=t,n;for(let o=0;o<i.segments.length;o++){let s=i.segments[o];if(n||(n=BVe(e,r+s.duration/2)),n){if("cueIn"in s){n.endTime=r,n.adEndTime=r,r+=s.duration,n=null;continue}if(r<n.endTime){r+=s.duration;continue}n.endTime+=s.duration}else if("cueOut"in s&&(n=new H.default.VTTCue(r,r+s.duration,s.cueOut),n.adStartTime=r,n.adEndTime=r+parseFloat(s.cueOut),e.addCue(n)),"cueOutCont"in s){let[a,l]=s.cueOutCont.split("/").map(parseFloat);n=new H.default.VTTCue(r,r+s.duration,""),n.adStartTime=r-a,n.adEndTime=n.adStartTime+l,e.addCue(n)}r+=s.duration}},PE=class{constructor({start:e,end:t,segmentIndex:r,partIndex:n=null,appended:o=!1}){this.start_=e,this.end_=t,this.segmentIndex_=r,this.partIndex_=n,this.appended_=o}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}},n3=class{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}},LE=class{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,t){let{mediaSequence:r,segments:n}=e;if(this.isReliable_=this.isReliablePlaylist_(r,n),!!this.isReliable_)return this.updateStorage_(n,r,this.calculateBaseTime_(r,n,t))}getSyncInfoForTime(e){for(let{segmentSyncInfo:t,partsSyncInfo:r}of this.storage_.values())if(r.length){for(let n of r)if(n.isInRange(e))return n}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,r){let n=new Map,o=`
`,s=r,a=t;this.start_=s,e.forEach((l,d)=>{let f=this.storage_.get(a),g=s,w=g+l.duration,A=!!(f&&f.segmentSyncInfo&&f.segmentSyncInfo.isAppended),B=new PE({start:g,end:w,appended:A,segmentIndex:d});l.syncInfo=B;let S=s,U=(l.parts||[]).map((q,G)=>{let K=S,Z=S+q.duration,re=!!(f&&f.partsSyncInfo&&f.partsSyncInfo[G]&&f.partsSyncInfo[G].isAppended),ge=new PE({start:K,end:Z,appended:re,segmentIndex:d,partIndex:G});return S=Z,o+=`Media Sequence: ${a}.${G} | Range: ${K} --> ${Z} | Appended: ${re}
`,q.syncInfo=ge,ge});n.set(a,new n3(B,U)),o+=`${cZ(l.resolvedUri)} | Media Sequence: ${a} | Range: ${g} --> ${w} | Appended: ${A}
`,a++,s=w}),this.end_=s,this.storage_=n,this.diagnostics_=o}calculateBaseTime_(e,t,r){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;let n=Math.min(...this.storage_.keys());if(e<n){let o=n-e,s=this.storage_.get(n).segmentSyncInfo.start;for(let a=0;a<o;a++){let l=t[a];s-=l.duration}return s}return r}isReliablePlaylist_(e,t){return e!=null&&Array.isArray(t)&&t.length}},BE=class extends LE{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t,r){if(!this.storage_.size){let n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t,r)}},MVe=86400,hL=[{name:"VOD",run:(i,e,t,r,n)=>t!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(i,e,t,r,n,o)=>{let s=i.getMediaSequenceSync(o);if(!s||!s.isReliable)return null;let a=s.getSyncInfoForTime(n);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(i,e,t,r,n)=>{if(!Object.keys(i.timelineToDatetimeMappings).length)return null;let o=null,s=null,a=GL(e);n=n||0;for(let l=0;l<a.length;l++){let d=e.endList||n===0?l:a.length-(l+1),f=a[d],g=f.segment,w=i.timelineToDatetimeMappings[g.timeline];if(!w||!g.dateTimeObject)continue;let B=g.dateTimeObject.getTime()/1e3+w;if(g.parts&&typeof f.partIndex=="number")for(let U=0;U<f.partIndex;U++)B+=g.parts[U].duration;let S=Math.abs(n-B);if(s!==null&&(S===0||s<S))break;s=S,o={time:B,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}return o}},{name:"Segment",run:(i,e,t,r,n)=>{let o=null,s=null;n=n||0;let a=GL(e);for(let l=0;l<a.length;l++){let d=e.endList||n===0?l:a.length-(l+1),f=a[d],g=f.segment,w=f.part&&f.part.start||g&&g.start;if(g.timeline===r&&typeof w<"u"){let A=Math.abs(n-w);if(s!==null&&s<A)break;(!o||s===null||s>=A)&&(s=A,o={time:w,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return o}},{name:"Discontinuity",run:(i,e,t,r,n)=>{let o=null;if(n=n||0,e.discontinuityStarts&&e.discontinuityStarts.length){let s=null;for(let a=0;a<e.discontinuityStarts.length;a++){let l=e.discontinuityStarts[a],d=e.discontinuitySequence+a+1,f=i.discontinuities[d];if(f){let g=Math.abs(n-f.time);if(s!==null&&s<g)break;(!o||s===null||s>=g)&&(s=g,o={time:f.time,segmentIndex:l,partIndex:null})}}}return o}},{name:"Playlist",run:(i,e,t,r,n)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}],o3=class extends te.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};let t=new LE,r=new BE(t),n=new BE(t);this.mediaSequenceStorage_={main:t,audio:r,vtt:n},this.logger_=ns("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,r,n,o){if(t!==1/0)return hL.find(({name:l})=>l==="VOD").run(this,e,t);let s=this.runStrategies_(e,t,r,n,o);if(!s.length)return null;for(let a of s){let{syncPoint:l,strategy:d}=a,{segmentIndex:f,time:g}=l;if(f<0)continue;let w=e.segments[f],A=g,B=A+w.duration;if(this.logger_(`Strategy: ${d}. Current time: ${n}. selected segment: ${f}. Time: [${A} -> ${B}]}`),n>=A&&n<B)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(s,{key:"time",value:n})}getExpiredTime(e,t){if(!e||!e.segments)return null;let r=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!r.length)return null;let n=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+_g({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,t,r,n,o){let s=[];for(let a=0;a<hL.length;a++){let l=hL[a],d=l.run(this,e,t,r,n,o);d&&(d.strategy=l.name,s.push({strategy:l.name,syncPoint:d}))}return s}selectSyncPoint_(e,t){let r=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),o=e[0].strategy;for(let s=1;s<e.length;s++){let a=Math.abs(e[s].syncPoint[t.key]-t.value);a<n&&(n=a,r=e[s].syncPoint,o=e[s].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${o}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,t){let r=t.mediaSequence-e.mediaSequence;if(r>MVe){te.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let n=r-1;n>=0;n--){let o=e.segments[n];if(o&&typeof o.start<"u"){t.syncInfo={mediaSequence:e.mediaSequence+n,time:o.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){let t=e.segments[0],r=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){let r=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),n=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));let o=n.dateTimeObject;n.discontinuity&&t&&o&&(this.timelineToDatetimeMappings[n.timeline]=-(o.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,r){let n=e.segment,o=e.part,s=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")s={time:e.startOfSegment,mapping:e.startOfSegment-t.start},r&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${s.time}] [mapping: ${s.mapping}]`)),a=e.startOfSegment,l=t.end+s.mapping;else if(s)a=t.start+s.mapping,l=t.end+s.mapping;else return!1;return o&&(o.start=a,o.end=l),(!n.start||a<n.start)&&(n.start=a),n.end=l,!0}saveDiscontinuitySyncInfo_(e){let t=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let n=0;n<t.discontinuityStarts.length;n++){let o=t.discontinuityStarts[n],s=t.discontinuitySequence+n+1,a=o-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>l){let d;a<0?d=r.start-_g({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:o}):d=r.end+_g({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:o}),this.discontinuities[s]={time:d,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}},s3=class extends te.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:r}){return typeof t=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:r}){if(typeof t=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:t,to:r},delete this.pendingTimelineChanges_[e];let n={timelineChangeInfo:{from:t,to:r}};this.trigger({type:"timelinechange",metadata:n})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}},VVe=YX(JX(function(){var i=function(){function S(){this.listeners={}}var U=S.prototype;return U.on=function(G,K){this.listeners[G]||(this.listeners[G]=[]),this.listeners[G].push(K)},U.off=function(G,K){if(!this.listeners[G])return!1;var Z=this.listeners[G].indexOf(K);return this.listeners[G]=this.listeners[G].slice(0),this.listeners[G].splice(Z,1),Z>-1},U.trigger=function(G){var K=this.listeners[G];if(K)if(arguments.length===2)for(var Z=K.length,re=0;re<Z;++re)K[re].call(this,arguments[1]);else for(var ge=Array.prototype.slice.call(arguments,1),ce=K.length,Ee=0;Ee<ce;++Ee)K[Ee].apply(this,ge)},U.dispose=function(){this.listeners={}},U.pipe=function(G){this.on("data",function(K){G.push(K)})},S}();function e(S){return S.subarray(0,S.byteLength-S[S.byteLength-1])}let t=function(){let S=[[[],[],[],[],[]],[[],[],[],[],[]]],U=S[0],q=S[1],G=U[4],K=q[4],Z,re,ge,ce=[],Ee=[],We,Xt,St,Yt,ze,At;for(Z=0;Z<256;Z++)Ee[(ce[Z]=Z<<1^(Z>>7)*283)^Z]=Z;for(re=ge=0;!G[re];re^=We||1,ge=Ee[ge]||1)for(Yt=ge^ge<<1^ge<<2^ge<<3^ge<<4,Yt=Yt>>8^Yt&255^99,G[re]=Yt,K[Yt]=re,St=ce[Xt=ce[We=ce[re]]],At=St*16843009^Xt*65537^We*257^re*16843008,ze=ce[Yt]*257^Yt*16843008,Z=0;Z<4;Z++)U[Z][re]=ze=ze<<24^ze>>>8,q[Z][Yt]=At=At<<24^At>>>8;for(Z=0;Z<5;Z++)U[Z]=U[Z].slice(0),q[Z]=q[Z].slice(0);return S},r=null;class n{constructor(U){r||(r=t()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let q,G,K,Z=this._tables[0][4],re=this._tables[1],ge=U.length,ce=1;if(ge!==4&&ge!==6&&ge!==8)throw new Error("Invalid aes key size");let Ee=U.slice(0),We=[];for(this._key=[Ee,We],q=ge;q<4*ge+28;q++)K=Ee[q-1],(q%ge===0||ge===8&&q%ge===4)&&(K=Z[K>>>24]<<24^Z[K>>16&255]<<16^Z[K>>8&255]<<8^Z[K&255],q%ge===0&&(K=K<<8^K>>>24^ce<<24,ce=ce<<1^(ce>>7)*283)),Ee[q]=Ee[q-ge]^K;for(G=0;q;G++,q--)K=Ee[G&3?q:q-4],q<=4||G<4?We[G]=K:We[G]=re[0][Z[K>>>24]]^re[1][Z[K>>16&255]]^re[2][Z[K>>8&255]]^re[3][Z[K&255]]}decrypt(U,q,G,K,Z,re){let ge=this._key[1],ce=U^ge[0],Ee=K^ge[1],We=G^ge[2],Xt=q^ge[3],St,Yt,ze,At=ge.length/4-2,gr,Ft=4,Li=this._tables[1],Sn=Li[0],So=Li[1],Ao=Li[2],Ro=Li[3],ko=Li[4];for(gr=0;gr<At;gr++)St=Sn[ce>>>24]^So[Ee>>16&255]^Ao[We>>8&255]^Ro[Xt&255]^ge[Ft],Yt=Sn[Ee>>>24]^So[We>>16&255]^Ao[Xt>>8&255]^Ro[ce&255]^ge[Ft+1],ze=Sn[We>>>24]^So[Xt>>16&255]^Ao[ce>>8&255]^Ro[Ee&255]^ge[Ft+2],Xt=Sn[Xt>>>24]^So[ce>>16&255]^Ao[Ee>>8&255]^Ro[We&255]^ge[Ft+3],Ft+=4,ce=St,Ee=Yt,We=ze;for(gr=0;gr<4;gr++)Z[(3&-gr)+re]=ko[ce>>>24]<<24^ko[Ee>>16&255]<<16^ko[We>>8&255]<<8^ko[Xt&255]^ge[Ft++],St=ce,ce=Ee,Ee=We,We=Xt,Xt=St}}class o extends i{constructor(){super(i),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(U){this.jobs.push(U),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}let s=function(S){return S<<24|(S&65280)<<8|(S&16711680)>>8|S>>>24},a=function(S,U,q){let G=new Int32Array(S.buffer,S.byteOffset,S.byteLength>>2),K=new n(Array.prototype.slice.call(U)),Z=new Uint8Array(S.byteLength),re=new Int32Array(Z.buffer),ge,ce,Ee,We,Xt,St,Yt,ze,At;for(ge=q[0],ce=q[1],Ee=q[2],We=q[3],At=0;At<G.length;At+=4)Xt=s(G[At]),St=s(G[At+1]),Yt=s(G[At+2]),ze=s(G[At+3]),K.decrypt(Xt,St,Yt,ze,re,At),re[At]=s(re[At]^ge),re[At+1]=s(re[At+1]^ce),re[At+2]=s(re[At+2]^Ee),re[At+3]=s(re[At+3]^We),ge=Xt,ce=St,Ee=Yt,We=ze;return Z};class l{constructor(U,q,G,K){let Z=l.STEP,re=new Int32Array(U.buffer),ge=new Uint8Array(U.byteLength),ce=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(re.subarray(ce,ce+Z),q,G,ge)),ce=Z;ce<re.length;ce+=Z)G=new Uint32Array([s(re[ce-4]),s(re[ce-3]),s(re[ce-2]),s(re[ce-1])]),this.asyncStream_.push(this.decryptChunk_(re.subarray(ce,ce+Z),q,G,ge));this.asyncStream_.push(function(){K(null,e(ge))})}static get STEP(){return 32e3}decryptChunk_(U,q,G,K){return function(){let Z=a(U,q,G);K.set(Z,U.byteOffset)}}}var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f;typeof window<"u"?f=window:typeof d<"u"?f=d:typeof self<"u"?f=self:f={};var g=f,w=function(U){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(U):U&&U.buffer instanceof ArrayBuffer},A=g.BigInt||Number;A("0x1"),A("0x100"),A("0x10000"),A("0x1000000"),A("0x100000000"),A("0x10000000000"),A("0x1000000000000"),A("0x100000000000000"),A("0x10000000000000000"),function(){var S=new Uint16Array([65484]),U=new Uint8Array(S.buffer,S.byteOffset,S.byteLength);return U[0]===255?"big":U[0]===204?"little":"unknown"}();let B=function(S){let U={};return Object.keys(S).forEach(q=>{let G=S[q];w(G)?U[q]={bytes:G.buffer,byteOffset:G.byteOffset,byteLength:G.byteLength}:U[q]=G}),U};self.onmessage=function(S){let U=S.data,q=new Uint8Array(U.encrypted.bytes,U.encrypted.byteOffset,U.encrypted.byteLength),G=new Uint32Array(U.key.bytes,U.key.byteOffset,U.key.byteLength/4),K=new Uint32Array(U.iv.bytes,U.iv.byteOffset,U.iv.byteLength/4);new l(q,G,K,function(Z,re){self.postMessage(B({source:U.source,decrypted:re}),[re.buffer])})}})),NVe=QX(VVe),FVe=i=>{let e=i.default?"main":"alternative";return i.characteristics&&i.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},pZ=(i,e)=>{i.abort(),i.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},a3=(i,e)=>{e.activePlaylistLoader=i,i.load()},UVe=(i,e)=>()=>{let{segmentLoaders:{[i]:t,main:r},mediaTypes:{[i]:n}}=e,o=n.activeTrack(),s=n.getActiveGroup(),a=n.activePlaylistLoader,l=n.lastGroup_;if(!(s&&l&&s.id===l.id)&&(n.lastGroup_=s,n.lastTrack_=o,pZ(t,n),!(!s||s.isMainPlaylist))){if(!s.playlistLoader){a&&r.resetEverything();return}t.resyncLoader(),a3(s.playlistLoader,n)}},jVe=(i,e)=>()=>{let{segmentLoaders:{[i]:t},mediaTypes:{[i]:r}}=e;r.lastGroup_=null,t.abort(),t.pause()},qVe=(i,e)=>()=>{let{mainPlaylistLoader:t,segmentLoaders:{[i]:r,main:n},mediaTypes:{[i]:o}}=e,s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&s&&d.id===s.id)&&(o.lastGroup_=a,o.lastTrack_=s,pZ(r,o),!!a)){if(a.isMainPlaylist){if(!s||!d||s.id===d.id)return;let f=e.vhs.playlistController_,g=f.selectPlaylist();if(f.media()===g)return;o.logger_(`track change. Switching main audio from ${d.id} to ${s.id}`),t.pause(),n.resetEverything(),f.fastQualityChange_(g);return}if(i==="AUDIO"){if(!a.playlistLoader){n.setAudio(!0),n.resetEverything();return}r.setAudio(!0),n.setAudio(!1)}if(l===a.playlistLoader){a3(a.playlistLoader,o);return}r.track&&r.track(s),r.resetEverything(),a3(a.playlistLoader,o)}},OE={AUDIO:(i,e)=>()=>{let{mediaTypes:{[i]:t},excludePlaylist:r}=e,n=t.activeTrack(),o=t.activeGroup(),s=(o.filter(l=>l.default)[0]||o[0]).id,a=t.tracks[s];if(n===a){r({error:{message:"Problem encountered loading the default audio track."}});return}te.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(let l in t.tracks)t.tracks[l].enabled=t.tracks[l]===a;t.onTrackChanged()},SUBTITLES:(i,e)=>()=>{let{mediaTypes:{[i]:t}}=e;te.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");let r=t.activeTrack();r&&(r.mode="disabled"),t.onTrackChanged()}},IW={AUDIO:(i,e,t)=>{if(!e)return;let{tech:r,requestOptions:n,segmentLoaders:{[i]:o}}=t;e.on("loadedmetadata",()=>{let s=e.media();o.playlist(s,n),(!r.paused()||s.endList&&r.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),n),r.paused()||o.load()}),e.on("error",OE[i](i,t))},SUBTITLES:(i,e,t)=>{let{tech:r,requestOptions:n,segmentLoaders:{[i]:o},mediaTypes:{[i]:s}}=t;e.on("loadedmetadata",()=>{let a=e.media();o.playlist(a,n),o.track(s.activeTrack()),(!r.paused()||a.endList&&r.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),n),r.paused()||o.load()}),e.on("error",OE[i](i,t))}},$Ve={AUDIO:(i,e)=>{let{vhs:t,sourceType:r,segmentLoaders:{[i]:n},requestOptions:o,main:{mediaGroups:s},mediaTypes:{[i]:{groups:a,tracks:l,logger_:d}},mainPlaylistLoader:f}=e,g=zg(f.main);(!s[i]||Object.keys(s[i]).length===0)&&(s[i]={main:{default:{default:!0}}},g&&(s[i].main.default.playlists=f.main.playlists));for(let w in s[i]){a[w]||(a[w]=[]);for(let A in s[i][w]){let B=s[i][w][A],S;if(g?(d(`AUDIO group '${w}' label '${A}' is a main playlist`),B.isMainPlaylist=!0,S=null):r==="vhs-json"&&B.playlists?S=new wc(B.playlists[0],t,o):B.resolvedUri?S=new wc(B.resolvedUri,t,o):B.playlists&&r==="dash"?S=new jg(B.playlists[0],t,o,f):S=null,B=gi({id:A,playlistLoader:S},B),IW[i](i,B.playlistLoader,e),a[w].push(B),typeof l[A]>"u"){let U=new te.AudioTrack({id:A,kind:FVe(B),enabled:!1,language:B.language,default:B.default,label:A});l[A]=U}}}n.on("error",OE[i](i,e))},SUBTITLES:(i,e)=>{let{tech:t,vhs:r,sourceType:n,segmentLoaders:{[i]:o},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[i]:{groups:l,tracks:d}},mainPlaylistLoader:f}=e;for(let g in a[i]){l[g]||(l[g]=[]);for(let w in a[i][g]){if(!r.options_.useForcedSubtitles&&a[i][g][w].forced)continue;let A=a[i][g][w],B;if(n==="hls")B=new wc(A.resolvedUri,r,s);else if(n==="dash"){if(!A.playlists.filter(U=>U.excludeUntil!==1/0).length)return;B=new jg(A.playlists[0],r,s,f)}else n==="vhs-json"&&(B=new wc(A.playlists?A.playlists[0]:A.resolvedUri,r,s));if(A=gi({id:w,playlistLoader:B},A),IW[i](i,A.playlistLoader,e),l[g].push(A),typeof d[w]>"u"){let S=t.addRemoteTextTrack({id:w,kind:"subtitles",default:A.default&&A.autoselect,language:A.language,label:w},!1).track;d[w]=S}}}o.on("error",OE[i](i,e))},"CLOSED-CAPTIONS":(i,e)=>{let{tech:t,main:{mediaGroups:r},mediaTypes:{[i]:{groups:n,tracks:o}}}=e;for(let s in r[i]){n[s]||(n[s]=[]);for(let a in r[i][s]){let l=r[i][s][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;let d=t.options_.vhs&&t.options_.vhs.captionServices||{},f={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(d[f.instreamId]&&(f=gi(f,d[f.instreamId])),f.default===void 0&&delete f.default,n[s].push(gi({id:a},l)),typeof o[a]>"u"){let g=t.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[a]=g}}}}},fZ=(i,e)=>{for(let t=0;t<i.length;t++)if(S3(e,i[t])||i[t].playlists&&fZ(i[t].playlists,e))return!0;return!1},zVe=(i,e)=>t=>{let{mainPlaylistLoader:r,mediaTypes:{[i]:{groups:n}}}=e,o=r.media();if(!o)return null;let s=null;o.attributes[i]&&(s=n[o.attributes[i]]);let a=Object.keys(n);if(!s)if(i==="AUDIO"&&a.length>1&&zg(e.main))for(let l=0;l<a.length;l++){let d=n[a[l]];if(fZ(d,o)){s=d;break}}else n.main?s=n.main:a.length===1&&(s=n[a[0]]);return typeof t>"u"?s:t===null||!s?null:s.filter(l=>l.id===t.id)[0]||null},KVe={AUDIO:(i,e)=>()=>{let{mediaTypes:{[i]:{tracks:t}}}=e;for(let r in t)if(t[r].enabled)return t[r];return null},SUBTITLES:(i,e)=>()=>{let{mediaTypes:{[i]:{tracks:t}}}=e;for(let r in t)if(t[r].mode==="showing"||t[r].mode==="hidden")return t[r];return null}},HVe=(i,{mediaTypes:e})=>()=>{let t=e[i].activeTrack();return t?e[i].activeGroup(t):null},GVe=i=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(d=>{$Ve[d](d,i)});let{mediaTypes:e,mainPlaylistLoader:t,tech:r,vhs:n,segmentLoaders:{["AUDIO"]:o,main:s}}=i;["AUDIO","SUBTITLES"].forEach(d=>{e[d].activeGroup=zVe(d,i),e[d].activeTrack=KVe[d](d,i),e[d].onGroupChanged=UVe(d,i),e[d].onGroupChanging=jVe(d,i),e[d].onTrackChanged=qVe(d,i),e[d].getActiveGroup=HVe(d,i)});let a=e.AUDIO.activeGroup();if(a){let d=(a.filter(g=>g.default)[0]||a[0]).id;e.AUDIO.tracks[d].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}t.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanged())}),t.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanging())});let l=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),n.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(let d in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[d])},WVe=()=>{let i={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{i[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:bl,activeTrack:bl,getActiveGroup:bl,onGroupChanged:bl,onTrackChanged:bl,lastTrack_:null,logger_:ns(`MediaGroups[${e}]`)}}),i},ME=class{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Xn(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(t=>[t.ID,t])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}},l3=class extends te.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new ME,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ns("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";let r=t.serverUri||t.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=Xn(e,r),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){let t=this.steeringManifest.reloadUri;if(!t)return;let r=e?t:this.getRequestURI(t);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}let n={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:n}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(o,s)=>{if(o){if(s.status===410){this.logger_(`manifest request 410 ${o}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(s.status===429){let d=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${o}.`),this.logger_(`content steering will retry in ${d} seconds.`),this.startTTLTimeout_(parseInt(d,10));return}this.logger_(`manifest failed to load ${o}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:n});let a;try{a=JSON.parse(this.request_.responseText)}catch(d){let f={errorType:te.Error.StreamingContentSteeringParserError,error:d};this.trigger({type:"error",metadata:f})}this.assignSteeringProperties_(a);let l={contentSteeringInfo:n.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){let t=new H.default.URL(e),r=new H.default.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){let t=JSON.parse(H.default.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){let t=new H.default.URL(e),r=this.getPathway(),n=this.getBandwidth_();if(r){let o=`_${this.manifestType_}_pathway`;t.searchParams.set(o,r)}if(n){let o=`_${this.manifestType_}_throughput`;t.searchParams.set(o,n)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());let r=(n=>{for(let o of n)if(this.availablePathways_.has(o))return o;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;let t=n=>this.excludedSteeringManifestURLs.has(n);if(this.proxyServerUrl_){let n=this.setProxyServerUrl_(e);if(!t(n))return n}let r=this.setSteeringParams_(e);return t(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){let t=e*1e3;this.ttlTimeout_=H.default.setTimeout(()=>{this.requestSteeringManifest()},t)}clearTTLTimeout_(){H.default.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new ME}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(Xn(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}},XVe=(i,e)=>{let t=null;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{i.apply(null,r)},e)}},ZVe=10,xc,QVe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],YVe=function(i){return this.audioSegmentLoader_[i]+this.mainSegmentLoader_[i]},JVe=function({currentPlaylist:i,buffered:e,currentTime:t,nextPlaylist:r,bufferLowWaterLine:n,bufferHighWaterLine:o,duration:s,bufferBasedABR:a,log:l}){if(!r)return te.log.warn("We received no playlist to switch to. Please check your stream."),!1;let d=`allowing switch ${i&&i.id||"null"} -> ${r.id}`;if(!i)return l(`${d} as current playlist is not set`),!0;if(r.id===i.id)return!1;let f=!!pf(e,t).length;if(!i.endList)return!f&&typeof i.partTargetDuration=="number"?(l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${d} as current playlist is live`),!0);let g=E3(e,t),w=a?Nr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Nr.MAX_BUFFER_LOW_WATER_LINE;if(s<w)return l(`${d} as duration < max low water line (${s} < ${w})`),!0;let A=r.attributes.BANDWIDTH,B=i.attributes.BANDWIDTH;if(A<B&&(!a||g<o)){let S=`${d} as next bandwidth < current bandwidth (${A} < ${B})`;return a&&(S+=` and forwardBuffer < bufferHighWaterLine (${g} < ${o})`),l(S),!0}if((!a||A>B)&&g>=n){let S=`${d} as forwardBuffer >= bufferLowWaterLine (${g} >= ${n})`;return a&&(S+=` and next bandwidth > current bandwidth (${A} > ${B})`),l(S),!0}return l(`not ${d} as no switching criteria met`),!1},c3=class extends te.EventTarget{constructor(e){super(),this.fastQualityChange_=XVe(this.fastQualityChange_.bind(this),100);let{src:t,withCredentials:r,tech:n,bandwidth:o,externVhs:s,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:d,sourceType:f,cacheEncryptionKeys:g,bufferBasedABR:w,leastPixelDiffSelector:A,captionServices:B,experimentalUseMMS:S}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:U}=e;(U===null||typeof U>"u")&&(U=1/0),xc=s,this.bufferBasedABR=!!w,this.leastPixelDiffSelector=!!A,this.withCredentials=r,this.tech_=n,this.vhs_=n.vhs,this.player_=e.player_,this.sourceType_=f,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=U,this.enableLowInitialPlaylist=d,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:U,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=WVe(),S&&H.default.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new H.default.ManagedMediaSource,this.usingManagedMediaSource_=!0,te.log("Using ManagedMediaSource")):H.default.MediaSource&&(this.mediaSource=new H.default.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Fr(),this.hasPlayed_=!1,this.syncController_=new o3(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new NVe,this.sourceUpdater_=new IE(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new s3,this.keyStatusMap_=new Map;let q={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:B,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:g,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new jg(t,this.vhs_,gi(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new wc(t,this.vhs_,gi(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new qg(gi(q,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new qg(gi(q,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new r3(gi(q,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((Z,re)=>{function ge(){n.off("vttjserror",ce),Z()}function ce(){n.off("vttjsloaded",ge),re()}n.one("vttjsloaded",ge),n.one("vttjserror",ce),n.addWebVttScript_()})}),e);let G=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new l3(this.vhs_.xhr,G),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),QVe.forEach(Z=>{this[Z+"_"]=YVe.bind(this,Z)}),this.logger_=ns("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;let K=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(K,()=>{let Z=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-Z,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){let e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return e===-1||t===-1?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){let t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,r){let n=this.media(),o=n&&(n.id||n.uri),s=e&&(e.id||e.uri);if(o&&o!==s){this.logger_(`switch media ${o} -> ${s} from ${t}`);let a={renditionInfo:{id:s,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:a}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{let t=this.mediaTypes_[e],r=t?t.activeGroup():null,n=this.contentSteeringController_.getPathway();if(r&&n){let s=(r.length?r[0].playlists:r.playlists).filter(a=>a.attributes.serviceLocation===n);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=H.default.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(H.default.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){let e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;let r=e.mediaGroups.AUDIO,n=Object.keys(r),o;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)o=this.mediaTypes_.AUDIO.activeTrack();else{let a=r.main||n.length&&r[n[0]];for(let l in a)if(a[l].default){o={label:l};break}}if(!o)return t;let s=[];for(let a in r)if(r[a][o.label]){let l=r[a][o.label];if(l.playlists&&l.playlists.length)s.push.apply(s,l.playlists);else if(l.uri)s.push(l);else if(e.playlists.length)for(let d=0;d<e.playlists.length;d++){let f=e.playlists[d];f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===a&&s.push(f)}}return s.length?s:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{let t=this.mainPlaylistLoader_.media(),r=t.targetDuration*1.5*1e3;WL(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,t.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.mainSegmentLoader_.load()),GVe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),t),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let t=this.mainPlaylistLoader_.media();if(!t){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;t=this.initialMedia_}this.handleUpdatedMediaPlaylist(t)}),this.mainPlaylistLoader_.on("error",()=>{let t=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:t.playlist,error:t})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{let t=this.mainPlaylistLoader_.media(),r=t.targetDuration*1.5*1e3;WL(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{let t=this.mainPlaylistLoader_.media();if(t.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(t)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(t=>{this.mainPlaylistLoader_.on(t,r=>{this.player_.trigger(ir({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){let r=e.mediaGroups||{},n=!0,o=Object.keys(r.AUDIO);for(let s in r.AUDIO)for(let a in r.AUDIO[s])r.AUDIO[s][a].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),xc.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),o.length&&Object.keys(r.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){let t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),n=this.bufferLowWaterLine(),o=this.bufferHighWaterLine(),s=this.tech_.buffered();return JVe({buffered:s,currentTime:r,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:o,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{let r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{let r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;let n=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(n)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:ZVe}))});let e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();let r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,n=>{this.player_.trigger(ir({},n))}),this.audioSegmentLoader_.on(r,n=>{this.player_.trigger(ir({},n))}),this.subtitleSegmentLoader_.on(r,n=>{this.player_.trigger(ir({},n))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();let e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){let e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){let t=this.seekable();if(!t.length)return!1;let r=t.end(0),n=r;if(e.start){let o=e.start.timeOffset;o<0?n=Math.max(r+o,t.start(0)):n=Math.min(r,o)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){let e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,t=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;let e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;let t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){let t=this.mainSegmentLoader_.getCurrentMediaInfo_();!t||t.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;let r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;let n=xc.Playlist.playlistEnd(e,r),o=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return n-o<=Aa;let a=s.end(s.length-1);return a-o<=Aa&&n-a<=Aa}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||t.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;let n=this.mainPlaylistLoader_.main.playlists,o=n.filter(YE),s=o.length===1&&o[0]===e;if(n.length===1&&r!==1/0)return te.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(s);if(s){if(this.main().contentSteering){let B=this.pathwayAttribute_(e),S=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(B),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(B)},S);return}let A=!1;n.forEach(B=>{if(B===e)return;let S=B.excludeUntil;typeof S<"u"&&S!==1/0&&(A=!0,delete B.excludeUntil)}),A&&(te.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+r*1e3,e.excludeUntil=a,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});let l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}let d=t.internal?this.logger_:te.log.warn,f=t.message?" "+t.message:"";d(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${f} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);let g=l.targetDuration/2*1e3||5*1e3,w=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=g;return this.switchMedia_(l,"exclude",s||w)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){let r=[],n=e==="all";(n||e==="main")&&r.push(this.mainPlaylistLoader_);let o=[];(n||e==="audio")&&o.push("AUDIO"),(n||e==="subtitle")&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach(s=>{let a=this.mediaTypes_[s]&&this.mediaTypes_[s].activePlaylistLoader;a&&r.push(a)}),["main","audio","subtitle"].forEach(s=>{let a=this[`${s}SegmentLoader_`];a&&(e===s||e==="all")&&r.push(a)}),r.forEach(s=>t.forEach(a=>{typeof s[a]=="function"&&s[a]()}))}setCurrentTime(e){let t=pf(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(t&&t.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;let e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:xc.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,t){let r=e.media();if(!r)return null;let n=this.syncController_.getMediaSequenceSync(t);if(n&&n.isReliable){let a=n.start,l=n.end;if(!isFinite(a)||!isFinite(l))return null;let d=xc.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r),f=Math.max(a,l-d);return Fr([[a,f]])}let o=this.syncController_.getExpiredTime(r,this.duration());if(o===null)return null;let s=xc.Playlist.seekable(r,o,xc.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r));return s.length?s:null}computeFinalSeekable_(e,t){if(!t)return e;let r=e.start(0),n=e.end(0),o=t.start(0),s=t.end(0);return o>n||r>s?e:Fr([[Math.max(r,o),Math.min(n,s)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;let e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let t;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!t))return;let r=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,t),!this.seekable_||r&&r.length&&this.seekable_.length&&r.start(0)===this.seekable_.start(0)&&r.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${wX(this.seekable_)}]`);let n={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:n}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){let n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}let t=this.tech_.buffered(),r=xc.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(r=Math.max(r,t.end(t.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{let t=this.mediaTypes_[e].groups;for(let r in t)t[r].forEach(n=>{n.playlistLoader&&n.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){let e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!t||!r)}getCodecsOrExclude_(){let e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;let r=vg(this.main(),t),n={},o=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=r.video||e.main.videoCodec||lH),e.main.isMuxed&&(n.video+=`,${r.audio||e.main.audioCodec||xP}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||o)&&(n.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||xP,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video){this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}let s=(d,f)=>d?Wp(f,this.usingManagedMediaSource_):fC(f),a={},l;if(["video","audio"].forEach(function(d){if(n.hasOwnProperty(d)&&!s(e[d].isFmp4,n[d])){let f=e[d].isFmp4?"browser":"muxer";a[f]=a[f]||[],a[f].push(n[d]),d==="audio"&&(l=f)}}),o&&l&&t.attributes.AUDIO){let d=t.attributes.AUDIO;this.main().playlists.forEach(f=>{(f.attributes&&f.attributes.AUDIO)===d&&f!==t&&(f.excludeUntil=1/0)}),this.logger_(`excluding audio group ${d} as ${l} does not support codec(s): "${n.audio}"`)}if(Object.keys(a).length){let d=Object.keys(a).reduce((f,g)=>(f&&(f+=", "),f+=`${g} does not support codec(s): "${a[g].join(",")}"`,f),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:d},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){let d=[];if(["video","audio"].forEach(f=>{let g=(Ms(this.sourceUpdater_.codecs[f]||"")[0]||{}).type,w=(Ms(n[f]||"")[0]||{}).type;g&&w&&g.toLowerCase()!==w.toLowerCase()&&d.push(`"${this.sourceUpdater_.codecs[f]}" -> "${n[f]}"`)}),d.length){this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${d.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return n}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;let e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);let t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){let e=this.main().playlists,t=[];Object.keys(e).forEach(r=>{let n=e[r];if(t.indexOf(n.id)!==-1)return;t.push(n.id);let o=vg(this.main,n),s=[];o.audio&&!fC(o.audio)&&!Wp(o.audio,this.usingManagedMediaSource_)&&s.push(`audio codec ${o.audio}`),o.video&&!fC(o.video)&&!Wp(o.video,this.usingManagedMediaSource_)&&s.push(`video codec ${o.video}`),o.text&&o.text==="stpp.ttml.im1t"&&s.push(`text codec ${o.text}`),s.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id} for unsupported: ${s.join(", ")}`))})}excludeIncompatibleVariants_(e){let t=[],r=this.main().playlists,n=Ug(Ms(e)),o=gW(n),s=n.video&&Ms(n.video)[0]||null,a=n.audio&&Ms(n.audio)[0]||null;Object.keys(r).forEach(l=>{let d=r[l];if(t.indexOf(d.id)!==-1||d.excludeUntil===1/0)return;t.push(d.id);let f=[],g=vg(this.mainPlaylistLoader_.main,d),w=gW(g);if(!(!g.audio&&!g.video)){if(w!==o&&f.push(`codec count "${w}" !== "${o}"`),!this.sourceUpdater_.canChangeType()){let A=g.video&&Ms(g.video)[0]||null,B=g.audio&&Ms(g.audio)[0]||null;A&&s&&A.type.toLowerCase()!==s.type.toLowerCase()&&f.push(`video codec "${A.type}" !== "${s.type}"`),B&&a&&B.type.toLowerCase()!==a.type.toLowerCase()&&f.push(`audio codec "${B.type}" !== "${a.type}"`)}f.length&&(d.excludeUntil=1/0,this.logger_(`excluding ${d.id}: ${f.join(" && ")}`))}})}updateAdCues_(e){let t=0,r=this.seekable();r.length&&(t=r.start(0)),OVe(e,this.cueTagsTrack_,t)}goalBufferLength(){let e=this.tech_.currentTime(),t=Nr.GOAL_BUFFER_LENGTH,r=Nr.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,Nr.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*r,n)}bufferLowWaterLine(){let e=this.tech_.currentTime(),t=Nr.BUFFER_LOW_WATER_LINE,r=Nr.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,Nr.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(t,Nr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*r,this.bufferBasedABR?o:n)}bufferHighWaterLine(){return Nr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){TW(this.inbandTextTracks_,"com.apple.streaming",this.tech_),gVe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,r){let n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();TW(this.inbandTextTracks_,e,this.tech_),fVe({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){let e=this.main();if(e.contentSteering){for(let t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(t=>{this.contentSteeringController_.on(t,r=>{this.trigger(ir({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{let t=this.main();(this.contentSteeringController_.didDASHTagChange(t.uri,t.contentSteering)||(()=>{let o=this.contentSteeringController_.getAvailablePathways(),s=[];for(let a of t.playlists){let l=a.attributes.serviceLocation;if(l&&(s.push(l),!o.has(l)))return!0}return!!(!s.length&&o.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){let e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();let r=this.main().playlists,n=new Set,o=!1;Object.keys(r).forEach(s=>{let a=r[s],l=this.pathwayAttribute_(a),d=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!d&&(delete a.excludeUntil,delete a.lastExcludeReason_,o=!0);let g=!a.excludeUntil&&a.excludeUntil!==1/0;!n.has(a.id)&&d&&g&&(n.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{let a=this.mediaTypes_[s];if(a.activePlaylistLoader){let l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(o=!0)}}),o&&this.changeSegmentPathway_()}handlePathwayClones_(){let t=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||n&&n.size){for(let[s,a]of r.entries())n.get(s)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(s));for(let[s,a]of n.entries()){let l=r.get(s);if(!l){t.filter(f=>f.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(f=>{this.mainPlaylistLoader_.addClonePathway(a,f)}),this.contentSteeringController_.addAvailablePathway(s);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(s))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;let r=e["URI-REPLACEMENT"].PARAMS,n=t["URI-REPLACEMENT"].PARAMS;for(let o in r)if(r[o]!==n[o])return!1;for(let o in n)if(r[o]!==n[o])return!1;return!0}changeSegmentPathway_(){let e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0,t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{let n=this.mainPlaylistLoader_.getKeyIdSet(r);!n||!n.size||n.forEach(o=>{let s="usable",a=this.keyStatusMap_.has(o)&&this.keyStatusMap_.get(o)===s,l=r.lastExcludeReason_===t&&r.excludeUntil===1/0;a?a&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${o} is ${s}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==t&&(r.excludeUntil=1/0,r.lastExcludeReason_=t,this.logger_(`excluding playlist ${r.id} because the key ID ${o} doesn't exist in the keyStatusMap or is not ${s}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{let n=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,o=r.excludeUntil===1/0&&r.lastExcludeReason_===t;n&&o&&(delete r.excludeUntil,te.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${t} key IDs`))})}addKeyStatus_(e,t){let o=(typeof e=="string"?e:LVe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${o} added to the keyStatusMap`),this.keyStatusMap_.set(o,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}},eNe=(i,e,t)=>r=>{let n=i.main.playlists[e],o=w3(n),s=YE(n);if(typeof r>"u")return s;r?delete n.disabled:n.disabled=!0;let a={renditionInfo:{id:e,bandwidth:n.attributes.BANDWIDTH,resolution:n.attributes.RESOLUTION,codecs:n.attributes.CODECS},cause:"fast-quality"};return r!==s&&!o&&(r?(t(n),i.trigger({type:"renditionenabled",metadata:a})):i.trigger({type:"renditiondisabled",metadata:a})),r},u3=class{constructor(e,t,r){let{playlistController_:n}=e,o=n.fastQualityChange_.bind(n);if(t.attributes){let s=t.attributes.RESOLUTION;this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=vg(n.main(),t),this.playlist=t,this.id=r,this.enabled=eNe(e.playlists,t.id,o)}},tNe=function(i){i.representations=()=>{let e=i.playlistController_.main(),t=zg(e)?i.playlistController_.getAudioTrackPlaylists_():e.playlists;return t?t.filter(r=>!w3(r)).map((r,n)=>new u3(i,r,r.id)):[]}},PW=["seeking","seeked","pause","playing","error"],d3=class extends te.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ns("PlaybackWatcher"),this.logger_("initialize");let t=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),o=()=>this.resetTimeUpdate_(),s=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(f=>{l[f]={reset:()=>this.resetSegmentDownloads_(f),updateend:()=>this.checkSegmentDownloads_(f)},s[`${f}SegmentLoader_`].on("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].on("playlistupdate",l[f].reset),this.tech_.on(["seeked","seeking"],l[f].reset)});let d=f=>{["main","audio"].forEach(g=>{s[`${g}SegmentLoader_`][f]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=()=>d("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(PW,o),this.tech_.on("canplay",r),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(PW,o),this.tech_.off("canplay",r),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(f=>{s[`${f}SegmentLoader_`].off("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].off("playlistupdate",l[f].reset),this.tech_.off(["seeked","seeking"],l[f].reset)}),this.checkCurrentTimeTimeout_&&H.default.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&H.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=H.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){let t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){let t=this.playlistController_,r=t[`${e}SegmentLoader_`],n=r.buffered_(),o=X8e(this[`${e}Buffered_`],n);if(this[`${e}Buffered_`]=n,o){let s={bufferedRanges:n};t.trigger({type:"bufferedrangeschanged",metadata:s}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:td(n)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;let e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Aa>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Fr([this.lastRecordedTime,e]));let r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;let t=this.seekable(),r=this.tech_.currentTime(),n=this.afterSeekableWindow_(t,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(n&&(o=t.end(t.length-1)),this.beforeSeekableWindow_(t,r)){let B=t.start(0);o=B+(B===t.end(0)?0:Aa)}if(typeof o<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${wX(t)}. Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0;let s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=s.audioBuffer?s.audioBuffered():null,d=s.videoBuffer?s.videoBuffered():null,f=this.media(),g=f.partTargetDuration?f.partTargetDuration:(f.targetDuration-Sa)*2,w=[l,d];for(let B=0;B<w.length;B++){if(!w[B])continue;if(E3(w[B],r)<g)return!1}let A=PC(a,r);return A.length===0?!1:(o=A.start(0)+Aa,this.logger_(`Buffered region starts (${A.start(0)})  just beyond seek point (${r}). Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0)}waiting_(){if(this.techWaiting_())return;let e=this.tech_.currentTime(),t=this.tech_.buffered(),r=pf(t,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){let e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){let a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}let r=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;let s=PC(n,t);return s.length>0?(this.logger_(`Stopped at ${t} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0):!1}afterSeekableWindow_(e,t,r,n=!1){if(!e.length)return!1;let o=e.end(e.length-1)+Aa,s=!r.endList,a=typeof r.partTargetDuration=="number";return s&&(a||n)&&(o=e.end(e.length-1)+r.targetDuration*3),t>o}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:r}){if(!e)return;let n;if(e.length&&t.length){let o=pf(e,r-3),s=pf(e,r),a=pf(t,r);a.length&&!s.length&&o.length&&(n={start:o.end(0),end:a.end(0)})}else PC(e,r).length||(n=this.gapFromVideoUnderflow_(e,r));return n?(this.logger_(`Encountered a gap in video from ${n.start} to ${n.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){let t=this.tech_.buffered(),r=this.tech_.currentTime(),n=PC(t,r);if(this.resetTimeUpdate_(),n.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+Sa);let o={gapInfo:{from:r,to:n.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:o}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){let r=H8e(e);for(let n=0;n<r.length;n++){let o=r.start(n),s=r.end(n);if(t-o<4&&t-o>2)return{start:o,end:s}}return null}},iNe={errorInterval:30,getSource(i){let t=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return i(t)}},hZ=function(i,e){let t=0,r=0,n=gi(iNe,e);i.ready(()=>{i.trigger({type:"usage",name:"vhs-error-reload-initialized"})});let o=function(){r&&i.currentTime(r)},s=function(f){f!=null&&(r=i.duration()!==1/0&&i.currentTime()||0,i.one("loadedmetadata",o),i.src(f),i.trigger({type:"usage",name:"vhs-error-reload"}),i.play())},a=function(){if(Date.now()-t<n.errorInterval*1e3){i.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){te.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return t=Date.now(),n.getSource.call(i,s)},l=function(){i.off("loadedmetadata",o),i.off("error",a),i.off("dispose",l)},d=function(f){l(),hZ(i,f)};i.on("error",a),i.on("dispose",l),i.reloadSourceOnError=d},rNe=function(i){hZ(this,i)},mZ="3.17.0",nNe="7.1.0",oNe="1.3.1",sNe="7.2.0",aNe="4.0.2",rr={PlaylistLoader:wc,Playlist:Zn,utils:x6e,STANDARD_PLAYLIST_SELECTOR:EW,INITIAL_PLAYLIST_SELECTOR:lVe,lastBandwidthSelector:EW,movingAverageBandwidthSelector:sVe,comparePlaylistBandwidth:R3,comparePlaylistResolution:oVe,xhr:zX()};Object.keys(Nr).forEach(i=>{Object.defineProperty(rr,i,{get(){return te.log.warn(`using Vhs.${i} is UNSAFE be sure you know what you are doing`),Nr[i]},set(e){if(te.log.warn(`using Vhs.${i} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){te.log.warn(`value of Vhs.${i} must be greater than or equal to 0`);return}Nr[i]=e}})});var gZ="videojs-vhs",yZ=function(i,e){let t=e.media(),r=-1;for(let n=0;n<i.length;n++)if(i[n].id===t.id){r=n;break}i.selectedIndex_=r,i.trigger({selectedIndex:r,type:"change"})},lNe=function(i,e){e.representations().forEach(t=>{i.addQualityLevel(t)}),yZ(i,e.playlists)};rr.canPlaySource=function(){return te.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};var cNe=(i,e,t)=>{if(!i)return i;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=Ug(Ms(e.attributes.CODECS))),t&&t.attributes&&t.attributes.CODECS&&(r.audio=t.attributes.CODECS);let n=Xu(r.video),o=Xu(r.audio),s={};for(let a in i)s[a]={},o&&(s[a].audioContentType=o),n&&(s[a].videoContentType=n),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(s[a].pssh=e.contentProtection[a].pssh),typeof i[a]=="string"&&(s[a].url=i[a]);return gi(i,s)},uNe=(i,e)=>i.reduce((t,r)=>{if(!r.contentProtection)return t;let n=e.reduce((o,s)=>{let a=r.contentProtection[s];return a&&a.pssh&&(o[s]={pssh:a.pssh}),o},{});return Object.keys(n).length&&t.push(n),t},[]),dNe=({player:i,sourceKeySystems:e,audioMedia:t,mainPlaylists:r})=>{if(!i.eme.initializeMediaKeys)return Promise.resolve();let n=t?r.concat([t]):r,o=uNe(n,Object.keys(e)),s=[],a=[];return o.forEach(l=>{a.push(new Promise((d,f)=>{i.tech_.one("keysessioncreated",d)})),s.push(new Promise((d,f)=>{i.eme.initializeMediaKeys({keySystems:l},g=>{if(g){f(g);return}d()})}))}),Promise.race([Promise.all(s),Promise.race(a)])},pNe=({player:i,sourceKeySystems:e,media:t,audioMedia:r})=>{let n=cNe(e,t,r);return n?(i.currentSource().keySystems=n,n&&!i.eme?(te.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},bZ=()=>{if(!H.default.localStorage)return null;let i=H.default.localStorage.getItem(gZ);if(!i)return null;try{return JSON.parse(i)}catch{return null}},fNe=i=>{if(!H.default.localStorage)return!1;let e=bZ();e=e?gi(e,i):i;try{H.default.localStorage.setItem(gZ,JSON.stringify(e))}catch{return!1}return e},hNe=i=>i.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(i.substring(i.indexOf(",")+1)):i,_Z=(i,e)=>{i._requestCallbackSet||(i._requestCallbackSet=new Set),i._requestCallbackSet.add(e)},vZ=(i,e)=>{i._responseCallbackSet||(i._responseCallbackSet=new Set),i._responseCallbackSet.add(e)},xZ=(i,e)=>{i._requestCallbackSet&&(i._requestCallbackSet.delete(e),i._requestCallbackSet.size||delete i._requestCallbackSet)},CZ=(i,e)=>{i._responseCallbackSet&&(i._responseCallbackSet.delete(e),i._responseCallbackSet.size||delete i._responseCallbackSet)};rr.supportsNativeHls=function(){if(!Ae.default||!Ae.default.createElement)return!1;let i=Ae.default.createElement("video");return te.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(i.canPlayType(t))}):!1}();rr.supportsNativeDash=function(){return!Ae.default||!Ae.default.createElement||!te.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Ae.default.createElement("video").canPlayType("application/dash+xml"))}();rr.supportsTypeNatively=i=>i==="hls"?rr.supportsNativeHls:i==="dash"?rr.supportsNativeDash:!1;rr.isSupported=function(){return te.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};rr.xhr.onRequest=function(i){_Z(rr.xhr,i)};rr.xhr.onResponse=function(i){vZ(rr.xhr,i)};rr.xhr.offRequest=function(i){xZ(rr.xhr,i)};rr.xhr.offResponse=function(i){CZ(rr.xhr,i)};var mNe=te.getComponent("Component"),VE=class extends mNe{constructor(e,t,r){if(super(t,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=ns("VhsHandler"),t.options_&&t.options_.playerId){let n=te.getPlayer(t.options_.playerId);this.player_=n}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Ae.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],n=>{let o=Ae.default.fullscreenElement||Ae.default.webkitFullscreenElement||Ae.default.mozFullScreenElement||Ae.default.msFullscreenElement;o&&o.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=gi(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){let r=bZ();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Nr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Nr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;let t=this.options_.customPixelRatio;typeof t=="number"&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;this.setOptions_(),this.options_.src=hNe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=rr,this.options_.sourceType=CP(t),this.options_.seekTo=o=>{this.tech_.setCurrentTime(o)},this.options_.player_=this.player_,this.playlistController_=new c3(this.options_);let r=gi({liveRangeSafeTimeDelta:Aa},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new d3(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{let o=te.players[this.tech_.options_.playerId],s=this.playlistController_.error;typeof s=="object"&&!s.code?s.code=3:typeof s=="string"&&(s={message:s,code:3}),o.error(s)});let n=this.options_.bufferBasedABR?rr.movingAverageBandwidthSelector(.55):rr.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):n.bind(this),this.playlistController_.selectInitialPlaylist=rr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(o){this.playlistController_.selectPlaylist=o.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(o){this.playlistController_.mainSegmentLoader_.throughput.rate=o,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let o=this.playlistController_.mainSegmentLoader_.bandwidth,s=H.default.navigator.connection||H.default.navigator.mozConnection||H.default.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&s){let l=s.downlink*1e3*1e3;l>=a&&o>=a?o=Math.max(o,l):o=l}return o},set(o){this.playlistController_.mainSegmentLoader_.bandwidth=o,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){let o=1/(this.bandwidth||1),s;return this.throughput>0?s=1/this.throughput:s=0,Math.floor(1/(o+s))},set(){te.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>td(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>td(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&fNe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{tNe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=H.default.URL.createObjectURL(this.playlistController_.mediaSource),(te.browser.IS_ANY_SAFARI||te.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){let e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),dNe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(t=>{this.logger_("error while creating EME key session",t),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){let e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=pNe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!t){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){let e=te.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{lNe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{yZ(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":mZ,"mux.js":nNe,"mpd-parser":oNe,"m3u8-parser":sNe,"aes-decrypter":aNe}}version(){return this.constructor.version()}canChangeType(){return IE.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&H.default.URL.revokeObjectURL&&(H.default.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return R6e({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,r=!0,n=2){return XX({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{_Z(this.xhr,e)},this.xhr.onResponse=e=>{vZ(this.xhr,e)},this.xhr.offRequest=e=>{xZ(this.xhr,e)},this.xhr.offResponse=e=>{CZ(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){let e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],t=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,n=>{this.player_.trigger(ir({},n))})}),t.forEach(r=>{this.playbackWatcher_.on(r,n=>{this.player_.trigger(ir({},n))})})}},NE={name:"videojs-http-streaming",VERSION:mZ,canHandleSource(i,e={}){let t=gi(te.options,e);return!t.vhs.experimentalUseMMS&&!Wp("avc1.4d400d,mp4a.40.2",!1)?!1:NE.canPlayType(i.type,t)},handleSource(i,e,t={}){let r=gi(te.options,t);return e.vhs=new VE(i,e,r),e.vhs.xhr=zX(),e.vhs.setupXhrHooks_(),e.vhs.src(i.src,i.type),e.vhs},canPlayType(i,e){let t=CP(i);if(!t)return"";let r=NE.getOverrideNative(e);return!rr.supportsTypeNatively(t)||r?"maybe":""},getOverrideNative(i={}){let{vhs:e={}}=i,t=!(te.browser.IS_ANY_SAFARI||te.browser.IS_IOS),{overrideNative:r=t}=e;return r}},gNe=()=>Wp("avc1.4d400d,mp4a.40.2",!0);gNe()&&te.getTech("Html5").registerSourceHandler(NE,0);te.VhsHandler=VE;te.VhsSourceHandler=NE;te.Vhs=rr;te.use||te.registerComponent("Vhs",rr);te.options.vhs=te.options.vhs||{};(!te.getPlugin||!te.getPlugin("reloadSourceOnError"))&&te.registerPlugin("reloadSourceOnError",rNe);var yNe=["target"],Pa=class i{embed;target=Rr("target",{read:Kt});player;options;interacted=!1;ngOnInit(){this.options={fluid:!0,aspectRatio:this.embed.aspectRatio?`${this.embed.aspectRatio.width}:${this.embed.aspectRatio.height}`:"16:9",autoplay:!0,sources:{src:this.embed.playlist,type:"application/x-mpegURL"},playsinline:!0,preload:"auto",loop:!0,inactivityTimeout:1e3,userActions:{click:()=>{this.interacted?this.player.paused()?this.player.play():this.player.pause():(this.player.loop(!1),this.player.muted(!1),this.interacted=!0)}}},this.player=te(this.target().nativeElement,this.options),this.player.addChild("RemainingTimeDisplay",{})}ngOnDestroy(){this.player?.dispose()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["post-embed-video"]],viewQuery:function(t,r){t&1&&yr(r.target,yNe,5,Kt),t&2&&br()},inputs:{embed:"embed"},decls:2,vars:0,consts:[["target",""],["controls","","muted","","playsinline","","preload","none",1,"video-js","cursor-pointer","rounded-md","overflow-hidden",3,"click"]],template:function(t,r){if(t&1){let n=W();E(0,"video",1,0),V("click",function(s){return P(n),L(s.stopPropagation())}),T()}},encapsulation:2,changeDetection:0})};var LT=Dt(Pi());var EZ=Dt(Pi());var Bf=class i{transform(e){return EZ.AppBskyEmbedRecord.isViewRecord(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedRecordViewRecord",type:i,pure:!0})};var JE=class{type="LINK";domain;url;constructor(e,t){this.domain=e,this.url=t}},eT=class{type="BLUESKY_GIF";domain;url;ratio;description;constructor(e,t,r,n){this.domain=e,this.url=t,this.ratio=r,this.description=n}},Of=class{type="IFRAME";domain;url;ratio;source;seek;constructor(e,t,r,n,o){this.domain=e,this.url=t,this.ratio=r,this.source=n,this.seek=o}};var Mf=class{static detectSnippet(e){let t=e.uri,r,n;try{if(r=new URL(t),r.protocol!=="https:"&&r.protocol!=="http:")return{type:"LINK"}}catch{return{type:"LINK"}}let o=r.host,s=r.pathname,a=r.searchParams,l=o.startsWith("www.")?o.slice(4):o;if(l==="media.tenor.com"){if(n=/\/([^/]+?AAAAC)\/([^/]+?)\?hh=(\d+?)&ww=(\d+?)$/.exec(t)){let d=n[1].replace(/AAAAC$/,"AAAP3"),f=n[2].replace(/\.gif$/,".webm"),g=n[4],w=n[3];return new eT(l,`https://t.gifs.bsky.app/${d}/${f}`,`${g}:${w}`,e.description.replace(/^ALT: /,""))}}else if(l==="youtube.com"||l==="m.youtube.com"||l==="music.youtube.com"){if(s==="/watch"){let d=a.get("v"),f=a.get("t")||0;return new Of(l,d,l!=="music.youtube.com"?"16:9":"1:1","YOUTUBE",Number.parseInt(f.toString()))}}else if(l==="youtu.be"){if(n=/^\/([^/]+?)$/.exec(s)){let d=n[1],f=a.get("t")||0;return new Of(l,d,"16:9","YOUTUBE",Number.parseInt(f.toString()))}}else if((l==="soundcloud.com"||l==="www.soundcloud.com")&&(n=/^\/([^/]+?)(?:\/(?!reposts$)([^/]+?)|\/sets\/([^/]+?))?$/.exec(s)))return new Of(l,`https://w.soundcloud.com/player/?url=${encodeURIComponent(t)}&auto_play=false&visual=false&hide_related=true`,n[3]?"1:1":"16:9","SOUNDCLOUD");return new JE(l,r.toString())}};var _Ne=["youtubeContainer"];function vNe(i,e){if(i&1){let t=W();E(0,"youtube-player-placeholder",2),V("click",function(){P(t);let n=_();return L(n._load(!0))}),T()}if(i&2){let t=_();C("videoId",t.videoId)("width",t.width)("height",t.height)("isLoading",t._isLoading)("buttonLabel",t.placeholderButtonLabel)("quality",t.placeholderImageQuality)}}var xNe=(()=>{class i{videoId;width;height;isLoading;buttonLabel;quality;_getBackgroundImage(){let t;return this.quality==="low"?t=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:this.quality==="high"?t=`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:t=`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${t})`}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=oe({type:i,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(r,n){r&2&&(pn("background-image",n._getBackgroundImage())("width",n.width,"px")("height",n.height,"px"),bi("youtube-player-placeholder-loading",n.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(r,n){r&1&&(E(0,"button",0),_t(),E(1,"svg",1),N(2,"path",2)(3,"path",3),T()()),r&2&&ae("aria-label",n.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}:fullscreen .youtube-player-placeholder{min-width:100vw;min-height:100vh}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0})}return i})(),CNe=new jt("YOUTUBE_PLAYER_CONFIG"),wZ=640,SZ=390;function AZ(i){return i==null?i:wt(i,0)}var La=function(i){return i[i.UNSTARTED=-1]="UNSTARTED",i[i.ENDED=0]="ENDED",i[i.PLAYING=1]="PLAYING",i[i.PAUSED=2]="PAUSED",i[i.BUFFERING=3]="BUFFERING",i[i.CUED=5]="CUED",i}(La||{}),RZ=(()=>{class i{_ngZone=se(Bi);_nonce=se(Sh,{optional:!0});_changeDetectorRef=se(Wt);_elementRef=se(Kt);_player;_pendingPlayer;_existingApiReadyCallback;_pendingPlayerState;_destroyed=new oi;_playerChanges=new Qr(void 0);_isLoading=!1;_hasPlaceholder=!0;_isBrowser;videoId;get height(){return this._height}set height(t){this._height=t==null||isNaN(t)?SZ:t}_height=SZ;get width(){return this._width}set width(t){this._width=t==null||isNaN(t)?wZ:t}_width=wZ;startSeconds;endSeconds;suggestedQuality;playerVars;disableCookies=!1;loadApi;disablePlaceholder=!1;showBeforeIframeApiLoads=!1;placeholderButtonLabel;placeholderImageQuality;ready=new Me;stateChange=this._getLazyEmitter("onStateChange");error=this._getLazyEmitter("onError");apiChange=this._getLazyEmitter("onApiChange");playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange");playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");youtubeContainer;constructor(){let t=se(er),r=se(CNe,{optional:!0});this.loadApi=r?.loadApi??!0,this.disablePlaceholder=!!r?.disablePlaceholder,this.placeholderButtonLabel=r?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=r?.placeholderImageQuality||"standard",this._isBrowser=Lt(t)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(t){this._shouldRecreatePlayer(t)?this._conditionallyLoad():this._player&&((t.width||t.height)&&this._setSize(),t.suggestedQuality&&this._setQuality(),(t.startSeconds||t.endSeconds||t.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():(this._getPendingState().playbackState=La.PLAYING,this._load(!0))}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=La.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=La.CUED}seekTo(t,r){this._player?this._player.seekTo(t,r):this._getPendingState().seek={seconds:t,allowSeekAhead:r}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():this._pendingPlayerState?!!this._pendingPlayerState.muted:!1}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&this._pendingPlayerState.volume!=null?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&this._pendingPlayerState.playbackRate!=null?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(!(!this._isBrowser||!window.YT))return this._player?this._player.getPlayerState():this._pendingPlayerState&&this._pendingPlayerState.playbackState!=null?this._pendingPlayerState.playbackState:La.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}requestFullscreen(t){return Y(this,null,function*(){let r=this._elementRef.nativeElement;return r.requestFullscreen?r.requestFullscreen(t):Promise.reject(new Error("Fullscreen API not supported by browser."))})}_load(t){this._isBrowser&&(!window.YT||!window.YT.Player?(this.loadApi?(this._isLoading=!0,ENe(this._nonce)):this.showBeforeIframeApiLoads,this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(t))}):this._createPlayer(t))}_conditionallyLoad(){this._shouldShowPlaceholder()?this.playerVars?.autoplay===1&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return this.disablePlaceholder?!1:this._isBrowser?this._hasPlaceholder&&!!this.videoId&&!this._player:!0}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(t){let r=t.videoId||t.playerVars||t.disableCookies||t.disablePlaceholder;return!!r&&!r.isFirstChange()}_createPlayer(t){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;let r=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:t?ue(R({},this.playerVars||{}),{autoplay:1}):this.playerVars})),n=o=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=r,this._pendingPlayer=void 0,r.removeEventListener("onReady",n),this._playerChanges.next(r),this.ready.emit(o),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(r,this._pendingPlayerState),this._pendingPlayerState=void 0);let s=r.getPlayerState();s===La.UNSTARTED||s===La.CUED||s==null?this._cuePlayer():t&&this.startSeconds&&this.startSeconds>0&&r.seekTo(this.startSeconds,!0),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=r,r.addEventListener("onReady",n)}_applyPendingPlayerState(t,r){let{playbackState:n,playbackRate:o,volume:s,muted:a,seek:l}=r;switch(n){case La.PLAYING:t.playVideo();break;case La.PAUSED:t.pauseVideo();break;case La.CUED:t.stopVideo();break}o!=null&&t.setPlaybackRate(o),s!=null&&t.setVolume(s),a!=null&&(a?t.mute():t.unMute()),l!=null&&t.seekTo(l.seconds,l.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(t){return this._playerChanges.pipe(dn(r=>r?$4(n=>{r.addEventListener(t,n)},n=>{try{r?.removeEventListener?.(t,n)}catch{}}):it()),r=>new Ay(n=>r.subscribe({next:o=>this._ngZone.run(()=>n.next(o)),error:o=>n.error(o),complete:()=>n.complete()})),ky(this._destroyed))}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=oe({type:i,selectors:[["youtube-player"]],viewQuery:function(r,n){if(r&1&&Zt(_Ne,7),r&2){let o;be(o=_e())&&(n.youtubeContainer=o.first)}},inputs:{videoId:"videoId",height:[2,"height","height",wt],width:[2,"width","width",wt],startSeconds:[2,"startSeconds","startSeconds",AZ],endSeconds:[2,"endSeconds","endSeconds",AZ],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[2,"disableCookies","disableCookies",de],loadApi:[2,"loadApi","loadApi",de],disablePlaceholder:[2,"disablePlaceholder","disablePlaceholder",de],showBeforeIframeApiLoads:[2,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",de],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},features:[Ji],decls:4,vars:3,consts:[["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality"],[3,"click","videoId","width","height","isLoading","buttonLabel","quality"]],template:function(r,n){r&1&&(D(0,vNe,1,6,"youtube-player-placeholder",1),E(1,"div"),N(2,"div",null,0),T()),r&2&&(ie(n._shouldShowPlaceholder()?0:-1),v(),pn("display",n._shouldShowPlaceholder()?"none":""))},dependencies:[xNe],styles:["youtube-player:fullscreen,youtube-player:fullscreen iframe{min-width:100vw;min-height:100vh}"],encapsulation:2,changeDetection:0})}return i})(),k3=!1;function ENe(i){if(k3)return;let e="https://www.youtube.com/iframe_api",t=document.createElement("script"),r=n=>{t.removeEventListener("load",r),t.removeEventListener("error",r),n.type==="error"&&(k3=!1)};t.addEventListener("load",r),t.addEventListener("error",r),t.src=e,t.async=!0,i&&t.setAttribute("nonce",i),k3=!0,document.body.appendChild(t)}var TNe=["target"],wNe=()=>({blur:!1});function SNe(i,e){if(i&1&&N(0,"img",5),i&2){let t=_(2);C("ngSrc",t.embed.external.thumb)("placeholderConfig",$e(2,wNe))}}function ANe(i,e){if(i&1){let t=W();E(0,"a",3),V("click",function(n){return P(t),L(n.stopPropagation())}),E(1,"div",4),D(2,SNe,1,3,"img",5),E(3,"div",6)(4,"span",7),J(5),T(),E(6,"span",8),J(7),T()()()()}if(i&2){let t=_();C("href",t.embed.external.uri,dt),v(2),ie(t.embed.external.thumb?2:-1),v(2),C("title",t.embed.external.title),v(),ft(" ",t.embed.external.title," "),v(2),ft(" ",t.snippet.domain," ")}}function RNe(i,e){if(i&1){let t=W();E(0,"video",9,0),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}}function kNe(i,e){if(i&1){let t=W();E(0,"youtube-player",12),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}if(i&2){let t=_(2);C("videoId",t.snippet.url)}}function DNe(i,e){if(i&1){let t=W();E(0,"iframe",13),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}if(i&2){let t=_(2);C("src",t.safeURL,d5)}}function INe(i,e){if(i&1&&D(0,kNe,1,1,"youtube-player",10)(1,DNe,1,1,"iframe",11),i&2){let t=_();ie(t.snippet.source==t.YoutubeSnippetSource?0:1)}}var Oc=class i{constructor(e){this.sanitizer=e}embed;target=h5("target");player;options;snippet;safeURL;LinkSnippetType="LINK";BlueskyGifSnippetType="BLUESKY_GIF";IframeSnippetType="IFRAME";YoutubeSnippetSource="YOUTUBE";ngOnInit(){this.snippet=Mf.detectSnippet(this.embed.external),this.snippet.type==="IFRAME"&&(this.safeURL=this.sanitizer.bypassSecurityTrustResourceUrl(this.snippet.url))}ngAfterViewInit(){this.snippet.type==="BLUESKY_GIF"&&(this.options={fluid:!0,aspectRatio:this.snippet.ratio,autoplay:!0,loop:!0,sources:{src:this.snippet.url,type:"video/webm"},controls:!0,muted:!0,playsinline:!0,preload:"none",bigPlayButton:!0,controlBar:!1},this.player=te(this.target()[0].nativeElement,this.options))}ngOnDestroy(){this.player?.dispose()}static \u0275fac=function(t){return new(t||i)(ne(Fh))};static \u0275cmp=oe({type:i,selectors:[["post-embed-external"]],viewQuery:function(t,r){t&1&&yr(r.target,TNe,5),t&2&&br()},inputs:{embed:"embed"},decls:3,vars:3,consts:[["target",""],["target","_blank",3,"href"],[1,"video-js","vjs-show-big-play-button-on-pause","rounded-md","overflow-hidden"],["target","_blank",3,"click","href"],[1,"flex","flex-col","rounded-[var(--p-card-border-radius)]","border","border-[var(--p-content-border-color)]","overflow-hidden","hover:bg-white/2"],["alt","thumb","width","1000","height","1000","placeholder","default_image.jpg",1,"aspect-video","object-cover",3,"ngSrc","placeholderConfig"],[1,"px-3","py-2"],[1,"text-sm","font-medium","line-clamp-2",3,"title"],[1,"block","text-xs","text-primary-400"],[1,"video-js","vjs-show-big-play-button-on-pause","rounded-md","overflow-hidden",3,"click"],[1,"aspect-video",3,"videoId"],["width","100%","allow","fullscreen",1,"aspect-video",3,"src"],[1,"aspect-video",3,"click","videoId"],["width","100%","allow","fullscreen",1,"aspect-video",3,"click","src"]],template:function(t,r){t&1&&D(0,ANe,8,5,"a",1)(1,RNe,2,0,"video",2)(2,INe,2,1),t&2&&(ie(r.snippet.type==r.LinkSnippetType?0:-1),v(),ie(r.snippet.type==r.BlueskyGifSnippetType?1:-1),v(),ie(r.snippet.type==r.IframeSnippetType?2:-1))},dependencies:[RZ,Td],styles:["[_nghost-%COMP%]  youtube-player{display:flex}[_nghost-%COMP%]  youtube-player youtube-player-placeholder{width:100%!important;height:unset!important}[_nghost-%COMP%]  youtube-player>div{width:100%}[_nghost-%COMP%]  youtube-player>div iframe{height:unset;width:100%;aspect-ratio:16/9}"],changeDetection:0})};var kZ=Dt(Pi());var tT=class i{transform(e){return kZ.AppBskyEmbedRecord.isViewBlocked(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedRecordViewBlocked",type:i,pure:!0})};var DZ=Dt(Pi());var iT=class i{transform(e){return DZ.AppBskyEmbedRecord.isViewNotFound(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedRecordViewNotFound",type:i,pure:!0})};var IZ=Dt(Pi());var rT=class i{transform(e){return IZ.AppBskyEmbedRecord.isViewDetached(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isEmbedRecordViewDetached",type:i,pure:!0})};var PZ=Dt(Pi());var Vf=class i{transform(e){return PZ.AppBskyFeedDefs.isGeneratorView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFeedDefsGeneratorView",type:i,pure:!0})};var LZ=Dt(Pi());var Nf=class i{transform(e){return LZ.AppBskyGraphDefs.isListView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isGraphDefsListView",type:i,pure:!0})};var BZ=Dt(Pi());var nT=class i{transform(e){return BZ.AppBskyLabelerDefs.isLabelerView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isLabelerDefsLabelerView",type:i,pure:!0})};var OZ=Dt(Pi());var Ff=class i{transform(e){return OZ.AppBskyGraphDefs.isStarterPackView(e)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isGraphDefsStarterPackView",type:i,pure:!0})};var oT=class i{transform(e,t){let r="https://bsky.app/starter-pack/";if(e.includes("at://")&&(e=e.substring(5)),e.includes("/")){let n;t?n=t:n=e.substring(0,e.indexOf("/")),e=e.substring(e.indexOf("/")+1);let o=e.substring(e.indexOf("/")+1);return r+n+"/"+o}else return r+e}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"linkExtractorStarterPack",type:i,pure:!0})};var yQ=Dt(Pi());var xl=Dt(Pi());var sT=class{post;replies;uuid=Ds();constructor(e){this.post=e}};var Uf=class{post;reply;reason;feedContext;uuid=Ds()};var cn=class{static parseFeedViewPost(e,t){let r=new Uf;return e.post.record=e.post.record,r.post=t.setPost(e.post),r.reply=e.reply,r.reason=e.reason,r.feedContext=e.feedContext,r}};var jf=Dt(Pi());var Kg=class{type="IMAGE";images=[]},aT=class{type="VIDEO";file;thumbnail;constructor(e,t){this.file=e,this.thumbnail=t}},Hg=class{type="EXTERNAL";url;metadata;snippet;constructor(e){this.url=e}},cd=class{type="RECORD";recordType;author;rkey;constructor(e,t,r){this.recordType=e,this.author=t,this.rkey=r}};var Tn=function(i){return i[i.Up=1]="Up",i[i.Down=3]="Down",i[i.Right=6]="Right",i[i.Left=8]="Left",i[i.UpMirrored=2]="UpMirrored",i[i.DownMirrored=4]="DownMirrored",i[i.LeftMirrored=5]="LeftMirrored",i[i.RightMirrored=7]="RightMirrored",i[i.Default=0]="Default",i[i.NotJpeg=-1]="NotJpeg",i[i.NotDefined=-2]="NotDefined",i}(Tn||{}),D3=class{constructor(){this.byteCount=e=>encodeURI(e).split(/%..|./).length-1}getOrientation(e){return new Promise((t,r)=>{try{let n=new FileReader;n.onload=()=>{let o=new DataView(n.result);if(!o.byteLength||o.getUint16(0,!1)!==65496)return t(Tn.NotDefined);let s=o.byteLength,a=2;for(;a<s;){let l=o.getUint16(a,!1);if(a+=2,l===65505){if(o.getUint32(a+=2,!1)!==1165519206)return t(Tn.NotJpeg);let d=o.getUint16(a+=6,!1)===18761;a+=o.getUint32(a+4,d);let f=o.getUint16(a,d);a+=2;for(let g=0;g<f;g++)if(o.getUint16(a+g*12,d)===274)return t(o.getUint16(a+g*12+8,d))}else{if((l&65280)!==65280)break;a+=o.getUint16(a,!1)}}return t(Tn.NotJpeg)},n.readAsArrayBuffer(e)}catch{return r(Tn.Default)}})}uploadFile(e,t=!0,r=!1){return new Promise((n,o)=>{let s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=/iPad|iPhone|iPod/i.test(navigator.userAgent);Promise.resolve(s||a).then(l=>l?this.generateUploadInputNative(window.document,t,r):this.generateUploadInputRenderer(e,t,r)).then(l=>{let d=l?Array.from(l):[],f=d.map(A=>this.getOrientation(A)),g=d.map(A=>this.fileToDataURL(A)),w=[];Promise.all(f).then(A=>(w=A,Promise.all(g))).then(A=>{let B=A.map((S,U)=>({image:S.dataUrl,orientation:w[U],fileName:S.fileName}));n(t?B:B[0])})}).catch(l=>o(l))})}fileToDataURL(e){return new Promise((t,r)=>{let n=new FileReader;n.onload=o=>{t({dataUrl:o.target.result,fileName:e.name})};try{n.readAsDataURL(e)}catch(o){r(`ngx-image-compress - probably no file have been selected: ${o}`)}})}generateUploadInputRenderer(e,t=!0,r=!1){let n=!1;return new Promise((o,s)=>{let a=e.createElement("input");e.setStyle(a,"display","none"),e.setProperty(a,"type","file"),e.setProperty(a,"accept","image/*, .heic"),t&&e.setProperty(a,"multiple","true"),e.listen(a,"click",l=>{l.target.value=""}),e.listen(a,"change",l=>{n=!0;let d=l.target.files;o(d)}),r&&window.addEventListener("focus",()=>{setTimeout(()=>{n||s(new Error("file upload on blur - no file selected"))},300)},{once:!0}),a.click()})}generateUploadInputNative(e,t=!0,r=!1){let n=!1;return new Promise((o,s)=>{let a=e.createElement("input");a.id="upload-input"+new Date,a.style.display="none",a.setAttribute("type","file"),a.setAttribute("accept","image/*, .heic"),t&&a.setAttribute("multiple","true"),e.body.appendChild(a),a.addEventListener("change",()=>{n=!0,o(a.files),e.body.removeChild(e.getElementById(a.id))},{once:!0}),r&&window.addEventListener("focus",()=>{setTimeout(()=>{!n&&e.getElementById(a.id)&&(s(new Error("file upload on blur - no file selected")),e.body.removeChild(e.getElementById(a.id)))},300)},{once:!0}),a.click()})}compress(e,t,r,n=50,o=50,s=0,a=0){return new Promise(function(l,d){o=o/100,n=n/100;let f=new Image;f.onload=()=>{let g=r.createElement("canvas"),w=g.getContext("2d");if(!w)return d("No canvas context available");let A=f.naturalWidth,B=f.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(t===Tn.Right||t===Tn.Left)){let Z=A;A=B,B=Z}let S=s?s/A:1,U=a?a/B:1;n=Math.min(n,S,U),g.width=A*n,g.height=B*n;let q=Math.PI/180;CSS.supports("image-orientation","from-image")||t===Tn.Up?w.drawImage(f,0,0,g.width,g.height):t===Tn.Right?(w.save(),w.rotate(90*q),w.translate(0,-g.width),w.drawImage(f,0,0,g.height,g.width),w.restore()):t===Tn.Left?(w.save(),w.rotate(-90*q),w.translate(-g.width,0),w.drawImage(f,0,0,g.height,g.width),w.restore()):t===Tn.Down?(w.save(),w.rotate(180*q),w.translate(-g.width,-g.height),w.drawImage(f,0,0,g.width,g.height),w.restore()):w.drawImage(f,0,0,g.width,g.height);let G=e.substr(5,e.split(";")[0].length-5),K=g.toDataURL(G,o);l(K)},f.onerror=g=>d(g),f.src=e})}uploadGetImageMaxSize(e,t,r,n=!1){return Y(this,null,function*(){t&&console.debug("Ngxthis - Opening upload window");let o=yield this.uploadFile(r,!1,n);return yield this.getImageMaxSize(o,e,t,r)})}getImageMaxSize(e,t,r,n){return Y(this,null,function*(){let s=l=>(l/1024/1024).toFixed(2);r&&console.debug("Ngxthis - Opening upload window");let a;for(let l=0;l<10;l++){let d=this.byteCount(e.image);a=yield this.compress(e.image,e.orientation,n,50,100);let f=this.byteCount(a);if(console.debug("Ngxthis -","Compression from",s(d),"MB to",s(f),"MB"),f>=d)throw l===0?(r&&console.debug("Ngxthis -","File can't be reduced at all - returning the original",s(d),"MB large"),ue(R({},e),{image:a})):(r&&console.debug("Ngxthis -","File can't be reduced more - returning the best we can, which is ",s(d),"MB large"),ue(R({},e),{image:a}));if(f<t*1024*1024)return r&&console.debug("Ngxthis -","Here your file",s(f),"MB large"),ue(R({},e),{image:a});if(l===9)throw r&&console.debug("Ngxthis -","File can't reach the desired size after",10,"tries. Returning file ",s(d),"MB large"),ue(R({},e),{image:a});r&&console.debug("Ngxthis -","Reached",s(f),"MB large. Trying another time after",l+1,"times"),e.image=a}throw r&&console.debug("Ngxthis - Unexpected error"),{}})}},MZ=(()=>{class i{constructor(t){this.DOC_ORIENTATION=Tn,this.render=t.createRenderer(null,null),this.imageCompress=new D3}byteCount(t){return this.imageCompress.byteCount(t)}getOrientation(t){return this.imageCompress.getOrientation(t)}uploadFile(){return this.imageCompress.uploadFile(this.render,!1)}uploadMultipleFiles(){return this.imageCompress.uploadFile(this.render,!0)}uploadFileOrReject(){return this.imageCompress.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return this.imageCompress.uploadFile(this.render,!0,!0)}compressFile(t,r,n=50,o=50,s=0,a=0){return this.imageCompress.compress(t,r,this.render,n,o,s,a)}uploadAndGetImageWithMaxSize(t=1,r=!1,n=!1){return this.imageCompress.uploadGetImageMaxSize(t,r,this.render,n).then(o=>o.image).catch(o=>{throw o.image})}uploadAndGetImageWithMaxSizeAndMetas(t=1,r=!1,n=!1){return this.imageCompress.uploadGetImageMaxSize(t,r,this.render,n)}getImageWithMaxSizeAndMetas(t,r=1,n=!1){return this.imageCompress.getImageMaxSize(t,r,n,this.render)}static{this.\u0275fac=function(r){return new(r||i)(Ke(vd))}}static{this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var lT=class{post=mt(void 0);reply=mt(void 0);recordEmbed=mt(void 0);mediaEmbed=mt(void 0);constructor(){this.post.set({$type:"app.bsky.feed.post",text:"",facets:[],createdAt:"",langs:[],tags:[]})}};var I3=new Map,dr=class i{constructor(e,t){this.dialogService=e;this.imageCompressService=t}postCompose=mt(void 0);refreshFeeds=new oi;setPost(e){let t=I3.get(e.uri);if(t)return t.set(e),t;{let r=mt(e);return I3.set(e.uri,r),r}}getPost(e){return I3.get(e)}createPost(){this.postCompose()||(this.postCompose.set(new lT),this.dialogService.openPostComposer(this.postCompose))}like(e,t){return new Promise((r,n)=>{Xe(ke.like(e,t)).subscribe({next:()=>{ke.getPosts({uris:[e]}).then(o=>{this.setPost(o.data.posts[0]),r()})},error:o=>n(o.message)})})}deleteLike(e,t){return new Promise((r,n)=>{Xe(ke.deleteLike(t)).subscribe({next:()=>{ke.getPosts({uris:[e]}).then(o=>{this.setPost(o.data.posts[0]),r()})},error:o=>n(o.message)})})}repost(e,t){return new Promise((r,n)=>{Xe(ke.repost(e,t)).subscribe({next:()=>{ke.getPosts({uris:[e]}).then(o=>{this.setPost(o.data.posts[0]),r()})},error:o=>n(o.message)})})}deleteRepost(e,t){return new Promise((r,n)=>{Xe(ke.deleteRepost(t)).subscribe({next:()=>{ke.getPosts({uris:[e]}).then(o=>{this.setPost(o.data.posts[0]),r()})},error:o=>n(o.message)})})}renewRepost(e,t,r){return new Promise((n,o)=>{Xe(ke.deleteRepost(r)).subscribe({next:()=>{Xe(ke.repost(e,t)).subscribe({next:()=>{ke.getPosts({uris:[e]}).then(s=>{this.setPost(s.data.posts[0]),n()})},error:s=>o(s.message)})},error:s=>o(s.message)})})}replyPost(e){this.postCompose()||this.createPost(),ke.getPostThread({uri:e}).then(t=>{if(!jf.AppBskyFeedDefs.isThreadViewPost(t.data.thread))return;this.setPost(t.data.thread.post);let r;if(jf.AppBskyFeedDefs.isThreadViewPost(t.data.thread.parent)){for(r=t.data.thread.parent;jf.AppBskyFeedDefs.isThreadViewPost(r.parent);)r=r.parent;r=r.post}else r=t.data.thread.post;let n={parent:{uri:t.data.thread.post.uri,cid:t.data.thread.post.cid},root:{uri:r.uri,cid:r.cid}};this.postCompose().post.update(o=>(o.reply=n,o)),this.postCompose().reply.set(t.data.thread.post)})}quotePost(e){this.postCompose()||this.createPost(),ke.getPosts({uris:[e]}).then(t=>{if(!t.data.posts[0])return;let r=this.setPost(t.data.posts[0]);this.postCompose()||this.createPost(),this.postCompose().recordEmbed.set({$type:"app.bsky.embed.record#viewRecord",uri:r().uri,cid:r().cid,author:r().author,indexedAt:r().indexedAt,value:r().record,embeds:[r().embed]})})}attachMedia(e){if(e.length){if(this.postCompose()||this.createPost(),e=Array.from(e),e.some(t=>t.type.includes("image"))){if(this.postCompose().mediaEmbed()||this.postCompose().mediaEmbed.set(new Kg),this.postCompose().mediaEmbed().type=="IMAGE"){let t=this.postCompose().mediaEmbed;e.forEach(r=>{if(r.type.includes("image")&&t().images.length<4){let n=new FileReader;n.onload=o=>{let s=new Kg;s.images=[...t().images,{data:o.srcElement.result,alt:""}],t.set(s)},n.readAsDataURL(r)}})}}else if(e.some(t=>t.type.includes("video"))){let t=this.postCompose().mediaEmbed;for(;!t();)e.forEach(r=>{r.type.includes("video")&&t.set(new aT(r,void 0))})}}}publishPost(){return new Promise((e,t)=>{let r=new jf.RichText({text:this.postCompose().post().text});Promise.all([this.prepareRecord(),this.prepareMedia(),r.detectFacets(ke)]).then(([n,o])=>{n&&o?this.postCompose().post().embed={$type:"app.bsky.embed.recordWithMedia",record:n,media:o}:this.postCompose().post().embed=n??o,this.postCompose().post.update(s=>(s.text=r.text,s.facets=r.facets,s.createdAt=new Date().toISOString(),s)),Xe(ke.post(this.postCompose().post())).subscribe({next:()=>{this.postCompose.set(void 0),setTimeout(()=>{this.refreshFeeds.next()},1e3),e()},error:s=>{t(s)}})})})}prepareRecord(){return new Promise(e=>{this.postCompose().recordEmbed()?e({$type:"app.bsky.embed.record",record:{uri:this.postCompose().recordEmbed().uri,cid:this.postCompose().recordEmbed().cid}}):e(void 0)})}prepareMedia(){return new Promise((e,t)=>{if(this.postCompose().mediaEmbed()||e(void 0),this.postCompose().mediaEmbed()?.type=="IMAGE"){let r=this.postCompose().mediaEmbed;Xe(Promise.all(r().images.map(n=>this.imageCompressService.compressFile(n.data,Tn.Default,void 0,void 0,2e3,2e3)))).subscribe({next:n=>{Xe(Promise.all(n.map(o=>fetch(o).then(s=>s.blob())))).subscribe({next:o=>{Xe(Promise.all(o.map(s=>ke.uploadBlob(s)))).subscribe({next:s=>{e({$type:"app.bsky.embed.images",images:s.map(a=>({alt:"",image:a.data.blob}))})},error:s=>t(s)})},error:o=>t(o)})},error:n=>t(n)})}if(this.postCompose().mediaEmbed()?.type=="VIDEO"){let r=this.postCompose().mediaEmbed;e(void 0)}if(this.postCompose().mediaEmbed().type=="EXTERNAL"){let r=this.postCompose().mediaEmbed;Xe(fetch(r().metadata.imageUrl).then(n=>n.blob()).then(n=>ke.uploadBlob(n))).subscribe({next:n=>{e({$type:"app.bsky.embed.external",external:{uri:r().metadata.url,title:r().metadata.title,description:r().metadata.description,thumb:n.data.blob}})},error:n=>t(n)})}})}static \u0275fac=function(t){return new(t||i)(Ke(ri),Ke(MZ))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};var LNe=["likeAnim"],BNe=["rtAnim"],ONe=i=>({author:i}),MNe=i=>({record:i}),L3=i=>({post:i}),VNe=i=>({embed:i});function NNe(i,e){if(i&1&&Pe(0,15),i&2){let t=_(),r=Ue(15);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,VNe,t.feedViewPost.post().embed))}}function FNe(i,e){if(i&1&&Pe(0,15),i&2){let t=_(),r=Ue(19);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,L3,t.feedViewPost.post()))}}function UNe(i,e){if(i&1){let t=W();E(0,"a",22),V("click",function(n){P(t);let o=_(2);return L(o.openAuthor(n))}),J(1),T(),E(2,"a",23),V("click",function(n){P(t);let o=_(2);return L(o.openAuthor(n))}),J(3),T()}if(i&2){let t=_().author;C("href","https://bsky.app/profile/"+t.handle,dt),v(),ft(" ",t.displayName," "),v(),C("href","https://bsky.app/profile/"+t.handle,dt),v(),ft(" ","@"+t.handle," ")}}function jNe(i,e){if(i&1){let t=W();E(0,"a",24),V("click",function(n){P(t);let o=_(2);return L(o.openAuthor(n))}),J(1),T()}if(i&2){let t=_().author;C("href","https://bsky.app/profile/"+t.handle,dt),v(),ft(" ","@"+t.handle," ")}}function qNe(i,e){if(i&1){let t=W();E(0,"div",17)(1,"a",18,7),V("click",function(n){P(t);let o=_();return L(o.openAuthor(n))}),N(3,"p-avatar",19),T(),E(4,"div",20,8),D(6,UNe,4,4)(7,jNe,2,2,"a",21),T()()}if(i&2){let t=e.author;v(),C("href","https://bsky.app/profile/"+t.handle,dt),v(2),C("image",t.avatar),v(3),ie(t.displayName!=null&&t.displayName.trim().length?6:7)}}function $Ne(i,e){if(i&1&&(E(0,"div",25,9),N(2,"rich-text",26),T()),i&2){let t=_().record;v(2),C("text",t.text)("facets",t.facets)}}function zNe(i,e){if(i&1&&(D(0,$Ne,3,2,"div",25),fe(1,"isFeedPostRecord")),i&2){let t=e.record;ie(xe(1,1,t)&&t.text.length?0:-1)}}function KNe(i,e){if(i&1){let t=W();E(0,"post-embed-images",30),V("onImgClick",function(n){P(t);let o=_().embed,s=_();return L(s.openImage(o.images,n))}),T()}if(i&2){let t=_().embed;C("embed",t)}}function HNe(i,e){if(i&1&&N(0,"post-embed-video",29),i&2){let t=_().embed;C("embed",t)}}function GNe(i,e){if(i&1&&N(0,"post-embed-external",29),i&2){let t=_().embed;C("embed",t)}}function WNe(i,e){if(i&1){let t=W();E(0,"post-embed-record",31),V("onEmbedClick",function(n){P(t);let o=_(2);return L(o.onEmbedClick.emit(n))}),T()}if(i&2){let t=_().embed;C("embed",t)}}function XNe(i,e){if(i&1){let t=W();E(0,"post-embed-images",33),V("onImgClick",function(n){P(t);let o=_(2).embed,s=_();return L(s.openImage(o.media.images,n))}),T()}if(i&2){let t=_(2).embed;C("embed",t.media)}}function ZNe(i,e){if(i&1&&N(0,"post-embed-video",29),i&2){let t=_(2).embed;C("embed",t.media)}}function QNe(i,e){if(i&1&&N(0,"post-embed-external",29),i&2){let t=_(2).embed;C("embed",t.media)}}function YNe(i,e){if(i&1){let t=W();D(0,XNe,1,1,"post-embed-images",29),fe(1,"isEmbedImagesView"),D(2,ZNe,1,1,"post-embed-video",29),fe(3,"isEmbedVideoView"),D(4,QNe,1,1,"post-embed-external",29),fe(5,"isEmbedExternalView"),E(6,"post-embed-record",32),V("onEmbedClick",function(n){P(t);let o=_(2);return L(o.onEmbedClick.emit(n))}),T()}if(i&2){let t=_().embed;ie(xe(1,4,t.media)?0:-1),v(2),ie(xe(3,6,t.media)?2:-1),v(2),ie(xe(5,8,t.media)?4:-1),v(2),C("embed",t.record)}}function JNe(i,e){if(i&1&&(E(0,"div",27,10),D(2,KNe,1,1,"post-embed-images",28),fe(3,"isEmbedImagesView"),D(4,HNe,1,1,"post-embed-video",29),fe(5,"isEmbedVideoView"),D(6,GNe,1,1,"post-embed-external",29),fe(7,"isEmbedExternalView"),D(8,WNe,1,1,"post-embed-record",29),fe(9,"isEmbedRecordView"),D(10,YNe,7,10),fe(11,"isEmbedRecordWithMediaView"),T()),i&2){let t=e.embed;v(2),ie(xe(3,5,t)?2:-1),v(2),ie(xe(5,7,t)?4:-1),v(2),ie(xe(7,9,t)?6:-1),v(2),ie(xe(9,11,t)?8:-1),v(2),ie(xe(11,13,t)?10:-1)}}function e9e(i,e){if(i&1){let t=W();E(0,"a",34),fe(1,"linkExtractor"),fe(2,"date"),V("click",function(n){return P(t),L(n.stopPropagation())}),J(3),fe(4,"date"),T()}if(i&2){let t=e.post;C("href",Er(1,3,t.uri,t.author.handle),dt)("title",Er(2,6,t.record.createdAt,"medium")),v(3),ft(" ",Er(4,9,t.record.createdAt,"medium")," ")}}function t9e(i,e){if(i&1){let t=W();E(0,"a",38),V("click",function(n){return P(t),L(n.stopPropagation())}),J(1),T()}if(i&2){let t=_(2).post;v(),ft(" ",t.likeCount+" likes"," ")}}function i9e(i,e){if(i&1){let t=W();E(0,"a",38),V("click",function(n){return P(t),L(n.stopPropagation())}),J(1),T()}if(i&2){let t=_(2).post;v(),ft(" ",t.repostCount+" reposts"," ")}}function r9e(i,e){if(i&1){let t=W();E(0,"a",38),V("click",function(n){return P(t),L(n.stopPropagation())}),J(1),T()}if(i&2){let t=_(2).post;v(),ft(" ",t.quoteCount+" quotes"," ")}}function n9e(i,e){if(i&1&&(E(0,"div",35),D(1,t9e,2,1,"a",36)(2,i9e,2,1,"a",36)(3,r9e,2,1,"a",36),T(),N(4,"p-divider",37)),i&2){let t=_().post;v(),ie(t.likeCount?1:-1),v(),ie(t.repostCount?2:-1),v(),ie(t.quoteCount?3:-1)}}function o9e(i,e){if(i&1&&D(0,n9e,5,3),i&2){let t=e.post;ie(t.likeCount||t.repostCount||t.quoteCount?0:-1)}}function s9e(i,e){if(i&1&&(E(0,"span",43),J(1),fe(2,"numberFormatter"),T()),i&2){let t=_().post;v(),Ze(xe(2,1,t.replyCount))}}function a9e(i,e){if(i&1&&(E(0,"span",43),J(1),fe(2,"numberFormatter"),T()),i&2){let t=_().post;v(),Ze(xe(2,1,t.repostCount))}}function l9e(i,e){if(i&1&&(E(0,"span",43),J(1),fe(2,"numberFormatter"),T()),i&2){let t=_().post;v(),Ze(xe(2,1,t.likeCount))}}function c9e(i,e){if(i&1){let t=W();E(0,"div",39,6)(2,"div",40)(3,"button",41),N(4,"i",42),D(5,s9e,3,3,"span",43),T()(),E(6,"div",40)(7,"button",44),V("click",function(n){P(t);let o=Ue(11),s=Ue(20);return _().openRepostMenu(o,n),L(s.visible?s.toggle(n):void 0)}),N(8,"i",45),D(9,a9e,3,3,"span",43),T(),N(10,"p-menu",46,11),T(),E(12,"div",40)(13,"button",44),V("click",function(n){let o=P(t).post,s=_();return L(o.viewer.like?s.deleteLike(n):s.like(n))}),N(14,"i",47),D(15,l9e,3,3,"span",43),T()(),E(16,"div",48)(17,"button",49),V("click",function(n){P(t);let o=Ue(11);return Ue(20).toggle(n),o.visible&&o.toggle(n),L(n.stopPropagation())}),N(18,"i",50),T(),N(19,"p-menu",46,12),T()()}if(i&2){let t=e.post,r=_();v(5),ie(t.replyCount?5:-1),v(3),we(t.viewer.repost?"text-green-600":"text-primary-400"),v(),ie(t.repostCount?9:-1),v(),C("model",r.repostMenuItems),v(4),we(t.viewer.like?"pi-heart-fill text-red-600":"pi-heart text-primary-400"),v(),ie(t.likeCount?15:-1),v(4),C("model",r.moreMenuItems)}}var cT=class i{constructor(e,t,r,n){this.postService=e;this.linkExtractorPipe=t;this.messageService=r;this.dialogService=n}feedViewPost;onPostClick=new Me;onEmbedClick=new Me;likeAnimation=Rr("likeAnim",{read:Kt});repostAnimation=Rr("rtAnim",{read:Kt});processingAction=!1;moreMenuItems=[{label:"Open in Bsky",command:()=>{window.open(this.linkExtractorPipe.transform(this.feedViewPost.post().uri,this.feedViewPost.post().author.handle),"_blank")}},{label:"Copy link",command:()=>{navigator.clipboard.writeText(this.linkExtractorPipe.transform(this.feedViewPost.post().uri,this.feedViewPost.post().author.handle))}}];repostMenuItems;replyPost(e,t){this.postService.replyPost(e.uri),t.stopPropagation()}like(e){e.stopPropagation(),this.feedViewPost.post.update(t=>(t.viewer.like="placeholder",t)),this.processingAction=!0,Xe(ke.like(this.feedViewPost.post().uri,this.feedViewPost.post().cid)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost.post().uri]})).subscribe({next:t=>this.feedViewPost.post.set(t.data.posts[0]),error:t=>this.messageService.error(t.message,"Oops!")})},100)},error:t=>{this.messageService.error(t.message,"Oops!"),this.feedViewPost.post.update(r=>(r.viewer.like=void 0,r))}}).add(()=>this.processingAction=!1)}deleteLike(e){e.stopPropagation();let t=this.feedViewPost.post().viewer.like;this.feedViewPost.post.update(r=>(r.viewer.like=void 0,r)),this.processingAction=!0,Xe(ke.deleteLike(t)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost.post().uri]})).subscribe({next:r=>this.feedViewPost.post.set(r.data.posts[0]),error:r=>this.messageService.error(r.message,"Oops!")})},200)},error:r=>{this.messageService.error(r.message,"Oops!"),this.feedViewPost.post.update(n=>(n.viewer.like=t,n))}}).add(()=>this.processingAction=!1)}repost(){this.feedViewPost.post.update(e=>(e.viewer.repost="placeholder",e)),this.processingAction=!0,Xe(ke.repost(this.feedViewPost.post().uri,this.feedViewPost.post().cid)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost.post().uri]})).subscribe({next:e=>this.feedViewPost.post.set(e.data.posts[0]),error:e=>this.messageService.error(e.message,"Oops!")})},100)},error:e=>{this.messageService.error(e.message,"Oops!"),this.feedViewPost.post.update(t=>(t.viewer.repost=void 0,t))}}).add(()=>this.processingAction=!1)}deleteRepost(){let e=this.feedViewPost.post().viewer.repost;this.feedViewPost.post.update(t=>(t.viewer.repost=void 0,t)),this.processingAction=!0,Xe(ke.deleteRepost(e)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost.post().uri]})).subscribe({next:t=>this.feedViewPost.post.set(t.data.posts[0]),error:t=>this.messageService.error(t.message,"Oops!")})},200)},error:t=>{this.messageService.error(t.message,"Oops!"),this.feedViewPost.post.update(r=>(r.viewer.repost=e,r))}}).add(()=>this.processingAction=!1)}redoRepost(){this.processingAction=!0,Xe(ke.deleteRepost(this.feedViewPost.post().viewer.repost)).subscribe({next:()=>this.repost(),error:e=>this.messageService.error(e.message,"Oops!")}).add(()=>this.processingAction=!1)}log(e){console.log("DEVELOPMENT LOG: ",e)}openAuthor(e){e.preventDefault(),e.stopPropagation(),this.dialogService.openAuthor(this.feedViewPost.post().author.did)}openImage(e,t){this.dialogService.openImagePost(e,t)}openRepostMenu(e,t){this.repostMenuItems=[{label:this.feedViewPost.post().viewer.repost?"Undo repost":"Repost",command:()=>{this.feedViewPost.post().viewer.repost?this.deleteRepost():this.repost()},disabled:this.processingAction},{label:"Redo repost",command:()=>{this.redoRepost()},visible:!!this.feedViewPost.post().viewer.repost,disabled:this.processingAction},{label:"Quote post",command:()=>{this.postService.quotePost(this.feedViewPost.post().uri)}}],e.toggle(t),t.stopPropagation()}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(zn),ne(Qi),ne(ri))};static \u0275cmp=oe({type:i,selectors:[["feed-post-card-detail"]],viewQuery:function(t,r){t&1&&(yr(r.likeAnimation,LNe,5,Kt),yr(r.repostAnimation,BNe,5,Kt)),t&2&&br(2)},inputs:{feedViewPost:"feedViewPost"},outputs:{onPostClick:"onPostClick",onEmbedClick:"onEmbedClick"},features:[He([zn,Ih])],decls:22,vars:18,consts:[["base",""],["header",""],["record",""],["embed",""],["date",""],["interactions",""],["buttons",""],["avatar",""],["displayName",""],["body",""],["content",""],["repostMenu",""],["moreMenu",""],[1,"flex","flex-col","px-3","pt-4","pb-2"],[1,"flex","flex-col","flex-1","min-w-0"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"!mb-3"],[1,"flex","w-full","gap-3"],[1,"h-12","w-12","shrink-0",3,"click","href"],["size","large",1,"overflow-hidden",3,"image"],[1,"flex","flex-col","w-fit","max-w-full","min-w-0","justify-around"],[1,"text-xl","font-normal","w-fit","shrink-1","hover:underline",3,"href"],[1,"text-lg","font-medium","[text-box:trim-both_cap_alphabetic]","overflow-x-clip","overflow-y-visible","whitespace-nowrap","text-ellipsis","shrink-1","max-w-full","w-fit","hover:underline",3,"click","href"],[1,"text-sm","text-[var(--p-primary-400)]","[text-box:trim-both_cap_alphabetic]","overflow-x-clip","overflow-y-visible","whitespace-nowrap","text-ellipsis","max-w-full","w-fit","shrink-1",3,"click","href"],[1,"text-xl","font-normal","w-fit","shrink-1","hover:underline",3,"click","href"],[1,"mt-3"],[1,"cursor-auto",3,"text","facets"],["id","content",1,"mt-3","flex","flex-col"],[1,"cursor-pointer",3,"embed"],[3,"embed"],[1,"cursor-pointer",3,"onImgClick","embed"],[3,"onEmbedClick","embed"],[1,"block","mt-4",3,"onEmbedClick","embed"],[3,"onImgClick","embed"],["target","_blank",1,"text-sm","text-primary-400","w-fit","hover:underline","mt-4",3,"click","href","title"],[1,"flex","gap-4"],[1,"text-rg","cursor-pointer","hover:underline"],[1,"!mt-3","!mb-2"],[1,"text-rg","cursor-pointer","hover:underline",3,"click"],[1,"w-full","flex","items-center"],[1,"flex-1"],["pRipple","",1,"relative","flex","items-center","gap-2","py-2","px-3","hover:bg-primary-700","rounded-xl","cursor-pointer","transition"],[1,"pi","pi-comment","text-primary-400"],[1,"text-primary-400","[text-box:trim-both_cap_alphabetic]"],["pRipple","",1,"flex","items-center","gap-2","py-2","px-3","hover:bg-primary-700","rounded-xl","cursor-pointer","transition",3,"click"],[1,"pi","pi-arrow-right-arrow-left"],["popup","","appendTo","body",3,"model"],[1,"pi","transition"],[1,"flex"],["pRipple","",1,"flex","items-center","py-2","px-3","hover:bg-primary-700","rounded-xl","cursor-pointer","transition",3,"click"],[1,"pi","pi-ellipsis-h","text-primary-400"]],template:function(t,r){if(t&1&&(E(0,"div",13,0)(2,"div",14),Pe(3,15)(4,15),D(5,NNe,1,4,"ng-container",15),Pe(6,15),N(7,"p-divider",16),D(8,FNe,1,4,"ng-container",15),Pe(9,15),T()(),D(10,qNe,8,3,"ng-template",null,1,Le)(12,zNe,2,3,"ng-template",null,2,Le)(14,JNe,12,15,"ng-template",null,3,Le)(16,e9e,5,12,"ng-template",null,4,Le)(18,o9e,1,1,"ng-template",null,5,Le)(20,c9e,21,9,"ng-template",null,6,Le)),t&2){let n=Ue(11),o=Ue(13),s=Ue(17),a=Ue(21);v(3),C("ngTemplateOutlet",n)("ngTemplateOutletContext",Fe(10,ONe,r.feedViewPost.post().author)),v(),C("ngTemplateOutlet",o)("ngTemplateOutletContext",Fe(12,MNe,r.feedViewPost.post().record)),v(),ie(r.feedViewPost.post().embed?5:-1),v(),C("ngTemplateOutlet",s)("ngTemplateOutletContext",Fe(14,L3,r.feedViewPost.post())),v(2),ie(r.feedViewPost.post().likeCount||r.feedViewPost.post().repostCount||r.feedViewPost.post().quoteCount?8:-1),v(),C("ngTemplateOutlet",a)("ngTemplateOutletContext",Fe(16,L3,r.feedViewPost.post()))}},dependencies:()=>[Qo,zn,Ih,Np,ba,Yo,Pa,fc,hc,qf,ya,Oc,F0,rt,Jo,os,rn,nn,ii],styles:[".fit-text[_ngcontent-%COMP%]{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.buttons[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]:hover{transform:scaleX(1.25) scaleY(1.25)}"],changeDetection:0})};var u9e=["main"],d9e=["scroll"],p9e=i=>({post:i}),VZ=i=>({threadReply:i}),f9e=(i,e)=>e.uuid;function h9e(i,e){if(i&1&&Pe(0,12),i&2){let t=_().$implicit;_(2);let r=Ue(10);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,p9e,t))}}function m9e(i,e){if(i&1){let t=W();E(0,"feed-post-card",14),V("onPostClick",function(){P(t);let n=_().$implicit,o=_(2);return L(o.openPost(n.post().uri))})("onEmbedClick",function(n){P(t);let o=_(3);return L(o.openPost(n.record.uri))}),T()}if(i&2){let t=_().$implicit;C("feedViewPost",t)}}function g9e(i,e){if(i&1&&(D(0,h9e,1,4,"ng-container",12),fe(1,"isFeedDefsNotFoundPost"),fe(2,"isFeedDefsBlockedPost"),D(3,m9e,1,1,"feed-post-card",13)),i&2){let t=e.$implicit;ie(xe(1,1,t)||xe(2,3,t)?0:3)}}function y9e(i,e){if(i&1&&(Pe(0,12),N(1,"p-divider",11)),i&2){let t=e.$implicit;_(2);let r=Ue(8);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,VZ,t))}}function b9e(i,e){if(i&1){let t=W();E(0,"div",8,2),_i(2,g9e,4,5,null,null,Kc),E(4,"feed-post-card-detail",10,3),V("onEmbedClick",function(n){P(t);let o=_();return L(o.openPost(n.record.uri))}),T(),N(6,"p-divider",11),_i(7,y9e,2,4,null,null,Kc),T()}if(i&2){let t=_();v(2),vi(t.parents),v(2),C("feedViewPost",t.post),v(3),vi(t.replies)}}function _9e(i,e){i&1&&(E(0,"div",9),N(1,"i",15),T())}function v9e(i,e){if(i&1){let t=W();E(0,"feed-post-card",18),V("onPostClick",function(n){P(t);let o=_(2);return L(o.openPost(n.post().uri))})("onEmbedClick",function(n){P(t);let o=_(2);return L(o.openPost(n.record.uri))}),T()}if(i&2){let t=_().threadReply;C("feedViewPost",t.post)}}function x9e(i,e){if(i&1&&Pe(0,12),i&2){let t=e.$implicit;_(3);let r=Ue(8);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,VZ,t))}}function C9e(i,e){if(i&1&&(E(0,"div",17)(1,"div",19),_i(2,x9e,1,4,"ng-container",12,f9e),T()()),i&2){let t=_().threadReply;v(2),vi(t.replies)}}function E9e(i,e){if(i&1&&D(0,v9e,1,1,"feed-post-card",16)(1,C9e,4,0,"div",17),i&2){let t=e.threadReply;ie(t.post?0:-1),v(),ie(t.replies&&t.replies.length?1:-1)}}function T9e(i,e){i&1&&J(0," Post not found ")}function w9e(i,e){i&1&&J(0," Blocked post ")}function S9e(i,e){if(i&1&&(E(0,"div",20),D(1,T9e,1,0),fe(2,"isFeedDefsNotFoundPost"),fe(3,"isFeedDefsBlockedPost"),D(4,w9e,1,0),T()),i&2){let t=e.post;v(),ie(xe(2,1,t)?1:xe(3,3,t)?4:-1)}}var uT=class i{constructor(e,t,r,n,o,s,a){this.ref=e;this.config=t;this.postService=r;this.messageService=n;this.dialogService=o;this.parentRef=s;this.cdRef=a;this.loadThread()}mainCard=Rr("main",{read:Kt});scrollDiv=Rr("scroll",{read:Kt});post;parents=[];replies=[];dialog;loadThread(){Xe(ke.getPostThread({uri:this.config.data.uri,depth:5})).subscribe({next:e=>{if(xl.AppBskyFeedDefs.isThreadViewPost(e.data.thread)){let t=e.data.thread;if(this.post=cn.parseFeedViewPost({$type:"app.bsky.feed.defs#feedViewPost",post:t.post},this.postService),this.post.post.set(e.data.thread.post),t.parent&&xl.AppBskyFeedDefs.isThreadViewPost(t.parent)){let r=t.parent;for(this.parents.unshift(cn.parseFeedViewPost({$type:"app.bsky.feed.defs#feedViewPost",post:r.post},this.postService));xl.AppBskyFeedDefs.isThreadViewPost(r.parent);)xl.AppBskyFeedDefs.isThreadViewPost(r.parent)?(r=r.parent,this.parents.unshift(cn.parseFeedViewPost({$type:"app.bsky.feed.defs#feedViewPost",post:r.post},this.postService))):xl.AppBskyFeedDefs.isNotFoundPost(r.parent)?(r=r.parent,this.parents.unshift(r)):xl.AppBskyFeedDefs.isBlockedPost(r.parent)&&(r=r.parent,this.parents.unshift(r))}t.replies&&(this.replies=[],t.replies.forEach(r=>{this.replies.push(this.parseReplies(r))})),this.cdRef.markForCheck(),setTimeout(()=>{t.parent&&this.scrollDiv().nativeElement.scrollTo({top:this.mainCard().nativeElement.offsetTop-3.5*16,behavior:"smooth"})},100)}else this.messageService.warn("It wasn't possible to find the post.","Oops!")},error:e=>this.messageService.error(e.message,"Oops!")})}parseReplies(e){if(xl.AppBskyFeedDefs.isThreadViewPost(e)){let t=new sT(cn.parseFeedViewPost({$type:"app.bsky.feed.defs#feedViewPost",post:e.post},this.postService));return e.replies&&(t.replies=e.replies.map(r=>this.parseReplies(r))),t}else return xl.AppBskyFeedDefs.isNotFoundPost(e),e}openPost(e){this.parentRef.nativeElement.querySelectorAll("video").forEach(t=>{t.muted=!0}),this.dialogService.openThread(e,this.parentRef.nativeElement)}log(e){console.log("DEVELOPMENT LOG: ",e)}static \u0275fac=function(t){return new(t||i)(ne(vo),ne(ga),ne(dr),ne(Qi),ne(ri),ne(Kt),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["thread-dialog"]],viewQuery:function(t,r){t&1&&(yr(r.mainCard,u9e,5,Kt),yr(r.scrollDiv,d9e,5,Kt)),t&2&&br(2)},decls:11,vars:1,consts:[["threadReplyTemplate",""],["notPostViewTemplate",""],["scroll",""],["main",""],[1,"h-full","flex","flex-col","[&:not(:last-child)]:!hidden","bg-[var(--p-primary-750)]"],[1,"h-14","w-full","flex","items-center","shrink-0","cursor-pointer","[border-bottom:1px_solid_var(--p-surface-700)]","hover:bg-white/2",3,"click"],[1,"pi","pi-times","-mt-[2px]","!text-xl","w-18","text-center","shrink-0","pointer-events-none"],[1,"text-lg","text-left","flex-1","pointer-events-none","[text-box:trim-both_cap_alphabetic]"],[1,"flex","flex-col","flex-1","min-h-0","overflow-y-auto","bg-[var(--p-primary-800)]"],[1,"w-full","h-full","flex","justify-center","items-center"],[3,"onEmbedClick","feedViewPost"],[1,"!mt-0","!mb-0"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["parent","",1,"cursor-pointer","hover:bg-white/2",3,"feedViewPost"],["parent","",1,"cursor-pointer","hover:bg-white/2",3,"onPostClick","onEmbedClick","feedViewPost"],[1,"pi","pi-spinner","!text-2xl","animate-spin"],[1,"w-full","cursor-pointer","hover:bg-white/2",3,"feedViewPost"],[1,"flex","w-full"],[1,"w-full","cursor-pointer","hover:bg-white/2",3,"onPostClick","onEmbedClick","feedViewPost"],[1,"flex","flex-col","w-full","items-end","min-w-0","border-l-2","border-[var(--p-primary-700)]","ml-3"],[1,"flex","flex-col","p-3","mb-2","cursor-default","msky-bg-dark-15","hover:msky-bg-dark-20"]],template:function(t,r){if(t&1){let n=W();E(0,"div",4)(1,"button",5),V("click",function(){return P(n),L(r.ref.close())}),N(2,"i",6),E(3,"span",7),J(4,"Thread"),T()(),D(5,b9e,9,1,"div",8)(6,_9e,2,0,"div",9),T(),D(7,E9e,2,2,"ng-template",null,0,Le)(9,S9e,5,5,"ng-template",null,1,Le)}t&2&&(v(5),ie(r.post?5:6))},dependencies:()=>[cT,ss,rt,qp,$p,nn],encapsulation:2,changeDetection:0})};var A9e=["indicator"],R9e=["rotaterighticon"],k9e=["rotatelefticon"],D9e=["zoomouticon"],I9e=["zoominicon"],P9e=["closeicon"],L9e=["preview"],B9e=["image"],O9e=["mask"],M9e=["previewButton"],V9e=["closeButton"],N9e=i=>({errorCallback:i}),F9e=(i,e)=>({height:i,width:e}),U9e=i=>({"p-image-action p-image-zoom-out-button":!0,"p-disabled":i}),j9e=i=>({"p-image-action p-image-zoom-in-button":!0,"p-disabled":i}),q9e=(i,e)=>({showTransitionParams:i,hideTransitionParams:e}),$9e=i=>({value:"visible",params:i}),z9e=(i,e)=>({class:"p-image-original",style:i,previewCallback:e});function K9e(i,e){if(i&1){let t=W();It(0),E(1,"img",9),V("error",function(n){P(t);let o=_();return L(o.imageError(n))}),T(),Pt()}if(i&2){let t=_();v(),we(t.imageClass),C("ngStyle",t.imageStyle),ae("src",t.src,dt)("srcset",t.srcSet)("sizes",t.sizes)("alt",t.alt)("width",t.width)("height",t.height)("loading",t.loading)}}function H9e(i,e){i&1&&Pe(0)}function G9e(i,e){i&1&&Pe(0)}function W9e(i,e){if(i&1&&(It(0),D(1,G9e,1,0,"ng-container",12),Pt()),i&2){let t=_(2);v(),C("ngTemplateOutlet",t.indicatorTemplate||t._indicatorTemplate)}}function X9e(i,e){i&1&&N(0,"EyeIcon",13),i&2&&C("styleClass","p-image-preview-icon")}function Z9e(i,e){if(i&1){let t=W();E(0,"button",10,0),V("click",function(){P(t);let n=_();return L(n.onImageClick())}),D(2,W9e,2,1,"ng-container",11)(3,X9e,1,1,"ng-template",null,1,Le),T()}if(i&2){let t=Ue(4),r=_();C("ngStyle",Rt(4,F9e,r.height+"px",r.width+"px")),ae("aria-label",r.zoomImageAriaLabel),v(2),C("ngIf",r.indicatorTemplate||!r._indicatorTemplate)("ngIfElse",t)}}function Q9e(i,e){i&1&&N(0,"RefreshIcon")}function Y9e(i,e){}function J9e(i,e){i&1&&D(0,Y9e,0,0,"ng-template")}function eFe(i,e){i&1&&N(0,"UndoIcon")}function tFe(i,e){}function iFe(i,e){i&1&&D(0,tFe,0,0,"ng-template")}function rFe(i,e){i&1&&N(0,"SearchMinusIcon")}function nFe(i,e){}function oFe(i,e){i&1&&D(0,nFe,0,0,"ng-template")}function sFe(i,e){i&1&&N(0,"SearchPlusIcon")}function aFe(i,e){}function lFe(i,e){i&1&&D(0,aFe,0,0,"ng-template")}function cFe(i,e){i&1&&N(0,"TimesIcon")}function uFe(i,e){}function dFe(i,e){i&1&&D(0,uFe,0,0,"ng-template")}function pFe(i,e){if(i&1){let t=W();It(0),E(1,"img",20),V("click",function(){P(t);let n=_(3);return L(n.onPreviewImageClick())}),T(),Pt()}if(i&2){let t=_(3);v(),C("ngStyle",t.imagePreviewStyle()),ae("src",t.previewImageSrc?t.previewImageSrc:t.src,dt)("srcset",t.previewImageSrcSet)("sizes",t.previewImageSizes)}}function fFe(i,e){i&1&&Pe(0)}function hFe(i,e){if(i&1){let t=W();E(0,"div"),V("@animation.start",function(n){P(t);let o=_(2);return L(o.onAnimationStart(n))})("@animation.done",function(n){P(t);let o=_(2);return L(o.onAnimationEnd(n))}),D(1,pFe,2,4,"ng-container",5)(2,fFe,1,0,"ng-container",6),T()}if(i&2){let t=_(2);C("@animation",Fe(7,$9e,Rt(4,q9e,t.showTransitionOptions,t.hideTransitionOptions))),v(),C("ngIf",!t.previewTemplate&&!t._previewTemplate),v(),C("ngTemplateOutlet",t.previewTemplate||t._previewTemplate)("ngTemplateOutletContext",Rt(9,z9e,t.imagePreviewStyle(),t.onPreviewImageClick.bind(t)))}}function mFe(i,e){if(i&1){let t=W();E(0,"div",14,2),V("click",function(){P(t);let n=_();return L(n.onMaskClick())})("keydown",function(n){P(t);let o=_();return L(o.onMaskKeydown(n))}),E(2,"div",15),V("click",function(n){P(t);let o=_();return L(o.handleToolbarClick(n))}),E(3,"button",16),V("click",function(){P(t);let n=_();return L(n.rotateRight())}),D(4,Q9e,1,0,"RefreshIcon",5)(5,J9e,1,0,null,12),T(),E(6,"button",17),V("click",function(){P(t);let n=_();return L(n.rotateLeft())}),D(7,eFe,1,0,"UndoIcon",5)(8,iFe,1,0,null,12),T(),E(9,"button",18),V("click",function(){P(t);let n=_();return L(n.zoomOut())}),D(10,rFe,1,0,"SearchMinusIcon",5)(11,oFe,1,0,null,12),T(),E(12,"button",18),V("click",function(){P(t);let n=_();return L(n.zoomIn())}),D(13,sFe,1,0,"SearchPlusIcon",5)(14,lFe,1,0,null,12),T(),E(15,"button",19,3),V("click",function(){P(t);let n=_();return L(n.closePreview())}),D(17,cFe,1,0,"TimesIcon",5)(18,dFe,1,0,null,12),T()(),D(19,hFe,3,12,"div",5),T()}if(i&2){let t=_();ae("aria-modal",t.maskVisible),v(3),ae("aria-label",t.rightAriaLabel()),v(),C("ngIf",!t.rotateRightIconTemplate&&!t._rotateRightIconTemplate),v(),C("ngTemplateOutlet",t.rotateRightIconTemplate||t._rotateRightIconTemplate),v(),ae("aria-label",t.leftAriaLabel()),v(),C("ngIf",!t.rotateLeftIconTemplate&&!t._rotateLeftIconTemplate),v(),C("ngTemplateOutlet",t.rotateLeftIconTemplate||t._rotateLeftIconTemplate),v(),C("ngClass",Fe(21,U9e,t.isZoomOutDisabled))("disabled",t.isZoomOutDisabled),ae("aria-label",t.zoomOutAriaLabel()),v(),C("ngIf",!t.zoomOutIconTemplate&&!t._zoomOutIconTemplate),v(),C("ngTemplateOutlet",t.zoomOutIconTemplate||t._zoomOutIconTemplate),v(),C("ngClass",Fe(23,j9e,t.isZoomOutDisabled))("disabled",t.isZoomInDisabled),ae("aria-label",t.zoomInAriaLabel()),v(),C("ngIf",!t.zoomInIconTemplate&&!t._zoomInIconTemplate),v(),C("ngTemplateOutlet",t.zoomInIconTemplate||t._zoomInIconTemplate),v(),ae("aria-label",t.closeAriaLabel()),v(2),C("ngIf",!t.closeIconTemplate&&!t._closeIconTemplate),v(),C("ngTemplateOutlet",t.closeIconTemplate||t._closeIconTemplate),v(),C("ngIf",t.previewVisible)}}var gFe=({dt:i})=>`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-image-preview {
    position: relative;
    display: inline-flex;
    line-height: 0;
}

.p-image-preview-mask {
    position: absolute;
    inset-inline-start: 0;
    inset-block-start: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
    border: 0 none;
    padding: 0;
    cursor: pointer;
    background: transparent;
    color: ${i("image.preview.mask.color")};
    transition: background ${i("image.transition.duration")};
}

.p-image-preview:hover > .p-image-preview-mask {
    opacity: 1;
    cursor: pointer;
    background: ${i("image.preview.mask.background")};
}

.p-image-preview-icon {
    font-size: ${i("image.preview.icon.size")};
    width: ${i("image.preview.icon.size")};
    height: ${i("image.preview.icon.size")};
}

.p-image-toolbar {
    position: absolute;
    inset-block-start: ${i("image.toolbar.position.top")};
    inset-inline-end: ${i("image.toolbar.position.right")};
    inset-inline-start: ${i("image.toolbar.position.left")};
    inset-block-end: ${i("image.toolbar.position.bottom")};
    display: flex;
    z-index: 1;
    padding: ${i("image.toolbar.padding")};
    background: ${i("image.toolbar.background")};
    backdrop-filter: blur(${i("image.toolbar.blur")});
    border-color: ${i("image.toolbar.border.color")};
    border-style: solid;
    border-width: ${i("image.toolbar.border.width")};
    border-radius: ${i("image.toolbar.border.radius")};
    gap: ${i("image.toolbar.gap")};
}

.p-image-action {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    color: ${i("image.action.color")};
    background: transparent;
    width: ${i("image.action.size")};
    height: ${i("image.action.size")};
    margin: 0;
    padding: 0;
    border: 0 none;
    cursor: pointer;
    user-select: none;
    border-radius: ${i("image.action.border.radius")};
    outline-color: transparent;
    transition: background ${i("image.transition.duration")}, color ${i("image.transition.duration")}, outline-color ${i("image.transition.duration")}, box-shadow ${i("image.transition.duration")};
}

.p-image-action:hover {
    color: ${i("image.action.hover.color")};
    background: ${i("image.action.hover.background")};
}

.p-image-action:focus-visible {
    box-shadow: ${i("toolbar.action.focus.ring.shadow")};
    outline: ${i("toolbar.action.focus.ring.width")} ${i("toolbar.action.focus.ring.style")} ${i("toolbar.action.focus.ring.color")};
    outline-offset: ${i("toolbar.action.focus.ring.offset")};
}

.p-image-action .p-icon {
    font-size: ${i("image.action.icon.size")};
    width: ${i("image.action.icon.size")};
    height: ${i("image.action.icon.size")};
}

.p-image-action.p-disabled {
    pointer-events: auto;
}

.p-image-original {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}

.p-image-original-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}

.p-image-original-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.p-image-original-enter-from,
.p-image-original-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`,yFe={root:({props:i})=>["p-image p-component",{"p-image-preview":i.preview}],previewMask:"p-image-preview-mask",previewIcon:"p-image-preview-icon",mask:"p-image-mask p-overlay-mask p-overlay-mask-enter",toolbar:"p-image-toolbar",rotateRightButton:"p-image-action p-image-rotate-right-button",rotateLeftButton:"p-image-action p-image-rotate-left-button",zoomOutButton:({instance:i})=>["p-image-action p-image-zoom-out-button",{"p-disabled":i.isZoomOutDisabled}],zoomInButton:({instance:i})=>["p-image-action p-image-zoom-in-button",{"p-disabled":i.isZoomInDisabled}],closeButton:"p-image-action p-image-close-button",original:"p-image-original"},NZ=(()=>{class i extends lt{name="image";theme=gFe;classes=yFe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var dT=(()=>{class i extends Je{imageClass;imageStyle;styleClass;style;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;appendTo;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";onShow=new Me;onHide=new Me;onImageError=new Me;mask;previewButton;closeButton;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;previewTemplate;imageTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;_componentStyle=se(NZ);get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(){super()}templates;_indicatorTemplate;_rotateRightIconTemplate;_rotateLeftIconTemplate;_zoomOutIconTemplate;_zoomInIconTemplate;_closeIconTemplate;_imageTemplate;_previewTemplate;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"indicator":this._indicatorTemplate=t.template;break;case"rotaterighticon":this._rotateRightIconTemplate=t.template;break;case"rotatelefticon":this._rotateLeftIconTemplate=t.template;break;case"zoomouticon":this._zoomOutIconTemplate=t.template;break;case"zoominicon":this._zoomInIconTemplate=t.template;break;case"closeicon":this._closeIconTemplate=t.template;break;case"image":this._imageTemplate=t.template;break;case"preview":this._previewTemplate=t.template;break;default:this._indicatorTemplate=t.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,Uu())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(t){switch(t.code){case"Escape":this.onMaskClick(),setTimeout(()=>{yo(this.previewButton.nativeElement)},25),t.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{yo(this.closeButton.nativeElement)},25);break;case"void":zi(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":li.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){li.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):go(this.appendTo,this.wrapper))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}containerClass(){return{"p-image p-component":!0,"p-image-preview":this.preview}}handleToolbarClick(t){t.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,ju()}imageError(t){this.onImageError.emit(t)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(t){this.previewVisible&&this.closePreview()}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=oe({type:i,selectors:[["p-image"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,A9e,4),Re(o,R9e,4),Re(o,k9e,4),Re(o,D9e,4),Re(o,I9e,4),Re(o,P9e,4),Re(o,L9e,4),Re(o,B9e,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.indicatorTemplate=s.first),be(s=_e())&&(n.rotateRightIconTemplate=s.first),be(s=_e())&&(n.rotateLeftIconTemplate=s.first),be(s=_e())&&(n.zoomOutIconTemplate=s.first),be(s=_e())&&(n.zoomInIconTemplate=s.first),be(s=_e())&&(n.closeIconTemplate=s.first),be(s=_e())&&(n.previewTemplate=s.first),be(s=_e())&&(n.imageTemplate=s.first),be(s=_e())&&(n.templates=s)}},viewQuery:function(r,n){if(r&1&&(Zt(O9e,5),Zt(M9e,5),Zt(V9e,5)),r&2){let o;be(o=_e())&&(n.mask=o.first),be(o=_e())&&(n.previewButton=o.first),be(o=_e())&&(n.closeButton=o.first)}},hostBindings:function(r,n){r&1&&V("keydown.escape",function(s){return n.onKeydownHandler(s)},!1,_d)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",appendTo:"appendTo",preview:[2,"preview","preview",de],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[He([NZ]),Se],decls:5,vars:11,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-image-preview-mask",3,"ngStyle","click",4,"ngIf"],["class","p-image-mask p-overlay-mask p-overlay-mask-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],[3,"error","ngStyle"],["type","button",1,"p-image-preview-mask",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-overlay-mask","p-overlay-mask-enter",3,"click","keydown"],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-image-rotate-right-button",3,"click"],["type","button",1,"p-image-action","p-image-rotate-left-button",3,"click"],["type","button",3,"click","ngClass","disabled"],["type","button",1,"p-image-action","p-image-close-button",3,"click"],[1,"p-image-original",3,"click","ngStyle"]],template:function(r,n){r&1&&(E(0,"span",4),D(1,K9e,2,10,"ng-container",5)(2,H9e,1,0,"ng-container",6)(3,Z9e,5,7,"button",7)(4,mFe,20,25,"div",8),T()),r&2&&(we(n.styleClass),C("ngClass",n.containerClass())("ngStyle",n.style),v(),C("ngIf",!n.imageTemplate&&!n._imageTemplate),v(),C("ngTemplateOutlet",n.imageTemplate||n._imageTemplate)("ngTemplateOutletContext",Fe(9,N9e,n.imageError.bind(n))),v(),C("ngIf",n.preview),v(),C("ngIf",n.maskVisible))},dependencies:[tt,Gt,si,rt,Ii,uz,sz,mz,dz,pz,Bs,dc,yt],encapsulation:2,data:{animation:[Tr("animation",[Ci("void => visible",[ti({transform:"scale(0.7)",opacity:0}),Si("{{showTransitionParams}}")]),Ci("visible => void",[Si("{{hideTransitionParams}}",ti({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return i})();var as=class i{constructor(e){this.elemRef=e}scrollEnding=qt();scrollTop=qt();emitted=!1;onScroll(){this.elemRef.nativeElement.scrollTop?this.elemRef.nativeElement.scrollTop+this.elemRef.nativeElement.offsetHeight+300>=this.elemRef.nativeElement.scrollHeight&&!this.emitted?(this.emitted=!0,this.scrollEnding.emit()):this.elemRef.nativeElement.scrollTop+this.elemRef.nativeElement.offsetHeight+300<this.elemRef.nativeElement.scrollHeight&&(this.emitted=!1):(this.emitted=!0,this.scrollTop.emit())}static \u0275fac=function(t){return new(t||i)(ne(Kt))};static \u0275dir=Ht({type:i,selectors:[["","vScroll",""]],hostBindings:function(t,r){t&1&&V("scroll",function(){return r.onScroll()})},outputs:{scrollEnding:"scrollEnding",scrollTop:"scrollTop"}})};var bFe=({dt:i})=>`
.p-progressspinner {
    position: relative;
    margin: 0 auto;
    width: 100px;
    height: 100px;
    display: inline-block;
}

.p-progressspinner::before {
    content: "";
    display: block;
    padding-top: 100%;
}

.p-progressspinner-spin {
    height: 100%;
    transform-origin: center center;
    width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    animation: p-progressspinner-rotate 2s linear infinite;
}

.p-progressspinner-circle {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: 0;
    stroke: ${i("progressspinner.color.1")};
    animation: p-progressspinner-dash 1.5s ease-in-out infinite, p-progressspinner-color 6s ease-in-out infinite;
    stroke-linecap: round;
}

@keyframes p-progressspinner-rotate {
    100% {
        transform: rotate(360deg);
    }
}
@keyframes p-progressspinner-dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35px;
    }
    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124px;
    }
}
@keyframes p-progressspinner-color {
    100%,
    0% {
        stroke: ${i("progressspinner.color.1")};
    }
    40% {
        stroke: ${i("progressspinner.color.2")};
    }
    66% {
        stroke: ${i("progressspinner.color.3")};
    }
    80%,
    90% {
        stroke: ${i("progressspinner.color.4")};
    }
}
`,_Fe={root:"p-progressspinner",spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},FZ=(()=>{class i extends lt{name="progressspinner";theme=bFe;classes=_Fe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var ls=(()=>{class i extends Je{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;_componentStyle=se(FZ);static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-progressSpinner"],["p-progress-spinner"],["p-progressspinner"]],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},features:[He([FZ]),Se],decls:3,vars:11,consts:[["role","progressbar",1,"p-progressspinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progressspinner-spin"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progressspinner-circle"]],template:function(r,n){r&1&&(E(0,"div",0),_t(),E(1,"svg",1),N(2,"circle",2),T()()),r&2&&(C("ngStyle",n.style)("ngClass",n.styleClass),ae("aria-label",n.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),v(),pn("animation-duration",n.animationDuration),ae("data-pc-section","root"),v(),ae("fill",n.fill)("stroke-width",n.strokeWidth))},dependencies:[tt,Gt,Ii,yt],encapsulation:2,changeDetection:0})}return i})();var vFe=["feed"],xFe=()=>({height:"3rem",width:"3rem"}),CFe=(i,e)=>e.uuid;function EFe(i,e){if(i&1){let t=W();E(0,"feed-post-card",3),V("onPostClick",function(n){P(t);let o=_(2);return L(o.openPost(n.post().uri))})("onEmbedClick",function(n){P(t);let o=_(2);return L(o.openPost(n.record.uri))}),T(),N(1,"p-divider",4)}if(i&2){let t=e.$implicit;C("feedViewPost",t)}}function TFe(i,e){if(i&1&&_i(0,EFe,2,1,null,null,CFe),i&2){let t=_();vi(t.posts)}}function wFe(i,e){i&1&&(E(0,"div",2),N(1,"p-progress-spinner",5),T()),i&2&&(v(),pt($e(2,xFe)))}var $f=class i{constructor(e,t,r){this.postService=e;this.dialogService=t;this.cdRef=r}author;set filter(e){setTimeout(()=>{this._filter=e,this.initData()},50)}_filter="posts_no_replies";includePins=$t(!1,{transform:de});feed=Rr("feed");posts;lastPostCursor;loading=!0;reloadReady=!1;reloadTimeout;ngOnInit(){this.initData(),this.postService.refreshFeeds.subscribe({next:()=>{this.feed().nativeElement.scrollTop==0?this.initData():this.reloadReady=!0}})}ngOnDestroy(){this.postService.refreshFeeds.unsubscribe(),clearTimeout(this.reloadTimeout)}initData(){this.loading=!0,ke.getAuthorFeed({actor:this.author,filter:this._filter,includePins:this.includePins(),limit:15}).then(e=>{this.lastPostCursor=e.data.cursor,this.posts=e.data.feed.map(t=>cn.parseFeedViewPost(t,this.postService)),this.cdRef.markForCheck(),this.feed().nativeElement.scrollTo({top:0}),setTimeout(()=>{this.loading=!1,this.manageRefresh()},500)})}nextData(){this.loading||(this.loading=!0,ke.getAuthorFeed({actor:this.author,filter:this._filter,includePins:this.includePins(),cursor:this.lastPostCursor,limit:15}).then(e=>{this.lastPostCursor=e.data.cursor;let t=e.data.feed.map(r=>cn.parseFeedViewPost(r,this.postService));this.posts=[...this.posts,...t],this.cdRef.markForCheck(),setTimeout(()=>{this.loading=!1},500)}))}openPost(e){this.feed().nativeElement.querySelectorAll("video").forEach(t=>{t.muted=!0}),this.dialogService.openThread(e,this.feed().nativeElement)}manageRefresh(){this.loading||(!this.reloadReady&&!this.reloadTimeout?this.reloadTimeout=setTimeout(()=>{this.reloadTimeout=void 0,this.feed().nativeElement.scrollTop==0?(this.reloadReady=!1,ke.getAuthorFeed({actor:this.author,filter:this._filter,limit:1}).then(e=>{let t=e.data.feed[0],r=this.posts[0],n=!1;if(t)if(t.reason){let o=t.reason;r.reason||(n=!0),o.indexedAt!==r.reason?.indexedAt&&(n=!0)}else r.reason&&(n=!0),t.post.indexedAt!==r.post().indexedAt&&(n=!0);n?this.initData():this.manageRefresh()})):this.reloadReady=!0},3e4):this.reloadReady&&this.feed().nativeElement.scrollTop==0&&(this.reloadReady=!1,this.initData()))}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(ri),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["author-feed"]],viewQuery:function(t,r){t&1&&yr(r.feed,vFe,5),t&2&&br()},inputs:{author:"author",filter:"filter",includePins:[1,"includePins"]},decls:4,vars:1,consts:[["feed",""],["vScroll","",1,"w-full","h-full","min-h-0","flex","flex-col","overflow-y-auto","has-[p-dynamicdialog]:!overflow-hidden",3,"scrollEnding","scrollTop"],[1,"h-full","w-full","flex","items-center","justify-center"],[1,"cursor-pointer","hover:bg-white/2",3,"onPostClick","onEmbedClick","feedViewPost"],[1,"!mt-0","!mb-0"],["strokeWidth","5",1,"h-12"]],template:function(t,r){if(t&1){let n=W();E(0,"div",1,0),V("scrollEnding",function(){return P(n),r.nextData(),L(r.manageRefresh())})("scrollTop",function(){return P(n),L(r.manageRefresh())}),D(2,TFe,2,0)(3,wFe,2,3,"div",2),T()}t&2&&(v(2),ie(r.posts?2:3))},dependencies:()=>[tt,ss,nn,as,ls],encapsulation:2,changeDetection:0})};var pT=class i{transform(e,t){return e==t.did}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isLoggedUser",type:i,pure:!0})};function SFe(i,e){if(i&1){let t=W();E(0,"button",3),V("click",function(n){return P(t),L(n.stopPropagation())}),J(1," Omg it's you! \u2728 "),T()}}function AFe(i,e){if(i&1){let t=W();E(0,"button",4),V("click",function(n){P(t);let o=_();return n.stopPropagation(),L(o.unfollow())}),N(1,"i",5),J(2," Following "),T()}}function RFe(i,e){if(i&1){let t=W();E(0,"button",6),V("click",function(n){P(t);let o=_();return n.stopPropagation(),L(o.follow())}),N(1,"i",7),J(2," Follow "),T()}}var zf=class i{constructor(e,t,r){this.authService=e;this.messageService=t;this.cdRef=r}author=$s();follow(){Xe(ke.follow(this.author().did)).subscribe({next:e=>{this.author.update(t=>(t.viewer.following=e.uri,t)),this.cdRef.markForCheck(),this.messageService.success(`You are now following ${this.author().displayName??this.author().handle}`)},error:e=>this.messageService.error(e.message,"Oops!")})}unfollow(){this.messageService.confirm(`Are you sure to unfollow ${this.author().displayName??this.author().handle}?`,"Unfollow").then(()=>{Xe(ke.deleteFollow(this.author().viewer.following)).subscribe({next:()=>{this.author.update(e=>(e.viewer.following=void 0,e)),this.cdRef.markForCheck(),this.messageService.success(`You unfollowed ${this.author().displayName??this.author().handle}`)},error:e=>this.messageService.error(e.message,"Oops!")})})}static \u0275fac=function(t){return new(t||i)(ne(qn),ne(Qi),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["follow-button"]],inputs:{author:[1,"author"]},outputs:{author:"authorChange"},decls:4,vars:4,consts:[["pButton","","pRipple","","outlined","","disabled","",1,"h-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]"],["pButton","","pRipple","","outlined","",1,"h-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]"],["pButton","","pRipple","",1,"h-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]"],["pButton","","pRipple","","outlined","","disabled","",1,"h-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]",3,"click"],["pButton","","pRipple","","outlined","",1,"h-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]",3,"click"],[1,"pi","pi-check","!text-sm"],["pButton","","pRipple","",1,"h-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]",3,"click"],[1,"pi","pi-user-plus","!text-sm"]],template:function(t,r){t&1&&(D(0,SFe,2,0,"button",0),fe(1,"isLoggedUser"),D(2,AFe,3,0,"button",1)(3,RFe,3,0,"button",2)),t&2&&ie(Er(1,1,r.author().did,r.authService.loggedUser())?0:r.author().viewer.following?2:3)},dependencies:[xr,pT,ii],encapsulation:2})};var kFe=()=>({height:"3rem",width:"3rem"}),DFe=()=>({"--p-card-body-padding":0,"--p-card-background":"var(--p-primary-800)",height:"100%",overflow:"hidden"});function IFe(i,e){if(i&1&&(E(0,"span",16),J(1),T()),i&2){let t=_(2);v(),Ze("@"+t.author.handle)}}function PFe(i,e){if(i&1){let t=W();E(0,"div",5),N(1,"p-image",6),E(2,"div",7),N(3,"p-avatar",8),T(),E(4,"div",9)(5,"button",10),N(6,"i",11),T(),E(7,"button",12),V("click",function(){P(t);let n=_();return L(n.addAsColumn())}),N(8,"i",13),T(),E(9,"follow-button",14),Wc("authorChange",function(n){P(t);let o=_();return Gc(o.author,n)||(o.author=n),L(n)}),T()(),E(10,"span",15),J(11),fe(12,"displayName"),T(),D(13,IFe,2,1,"span",16),E(14,"div",17)(15,"a",18)(16,"span",19),V("click",function(n){return P(t),L(n.stopPropagation())}),J(17),T(),E(18,"span",20),J(19," posts "),T()(),E(20,"a",18)(21,"span",19),V("click",function(n){return P(t),L(n.stopPropagation())}),J(22),T(),E(23,"span",20),J(24," following "),T()(),E(25,"a",18)(26,"span",19),V("click",function(n){return P(t),L(n.stopPropagation())}),J(27),T(),E(28,"span",20),J(29," followers "),T()()(),N(30,"rich-text",21),T(),Pe(31,22)}if(i&2){let t=_(),r=Ue(4);v(),C("src",t.author.banner),v(2),C("image",t.author.avatar),v(6),Hc("author",t.author),v(2),Ze(xe(12,10,t.author)),v(2),ie(t.author.displayName?13:-1),v(4),Ze(t.author.postsCount),v(5),Ze(t.author.followsCount),v(5),Ze(t.author.followersCount),v(3),C("text",t.author.description),v(),C("ngTemplateOutlet",r)}}function LFe(i,e){i&1&&(E(0,"div",4),N(1,"p-progress-spinner",23),T()),i&2&&(v(),pt($e(2,kFe)))}function BFe(i,e){if(i&1){let t=W();E(0,"button",27),V("click",function(){P(t);let n=_(3);return L(n.viewMode.set(n.AuthorViewMode.POSTS))}),J(1," Posts "),T(),E(2,"button",27),V("click",function(){P(t);let n=_(3);return L(n.viewMode.set(n.AuthorViewMode.REPLIES))}),J(3," Replies "),T(),E(4,"button",28),V("click",function(){P(t);let n=_(3);return L(n.viewMode.set(n.AuthorViewMode.MEDIA))}),J(5," Media "),T()}if(i&2){let t=_(3);bi("!bg-primary-600",t.viewMode()==t.AuthorViewMode.POSTS),v(2),bi("!bg-primary-600",t.viewMode()==t.AuthorViewMode.REPLIES),v(2),bi("!bg-primary-600",t.viewMode()==t.AuthorViewMode.MEDIA)}}function OFe(i,e){i&1&&J(0," Posts ")}function MFe(i,e){i&1&&J(0," Media ")}function VFe(i,e){i&1&&J(0," More ")}function NFe(i,e){if(i&1&&(E(0,"span",26),D(1,OFe,1,0)(2,MFe,1,0)(3,VFe,1,0),T()),i&2){let t,r=_(3);v(),ie((t=r.viewMode())===r.AuthorViewMode.POSTS?1:t===r.AuthorViewMode.MEDIA?2:t===r.AuthorViewMode.MORE?3:-1)}}function FFe(i,e){if(i&1&&(E(0,"div",25),D(1,BFe,6,6)(2,NFe,4,1,"span",26),T()),i&2){let t=_(2);v(),ie(t.AuthorViewMode.POSTS||t.AuthorViewMode.REPLIES||t.AuthorViewMode.MEDIA?1:2)}}function UFe(i,e){if(i&1&&N(0,"author-feed",29),i&2){let t=_(2);C("author",t.author.did)("filter",t.viewMode()==t.AuthorViewMode.POSTS?"posts_no_replies":t.viewMode()==t.AuthorViewMode.REPLIES?"posts_with_replies":"posts_with_media")("includePins",t.viewMode()==t.AuthorViewMode.POSTS)}}function jFe(i,e){i&1&&(E(0,"p-card",24),D(1,FFe,3,1,"ng-template",null,1,Le)(3,UFe,1,3,"ng-template",null,2,Le),T()),i&2&&pt($e(2,DFe))}var fT=class i{constructor(e,t,r,n,o,s){this.config=e;this.dialog=t;this.authService=r;this.messageService=n;this.cdRef=o;this.columnService=s;this.loadAuthor()}author;viewMode=mt("POSTS");AuthorViewMode=UZ;loadAuthor(){Xe(ke.getProfile({actor:this.config.data.actor})).subscribe({next:e=>{this.author=e.data,this.cdRef.markForCheck()},error:e=>this.messageService.error(e.message,"Oops!")})}addAsColumn(){this.columnService.createAuthorColumn(this.author),this.dialog.close()}static \u0275fac=function(t){return new(t||i)(ne(ga),ne(vo),ne(qn),ne(Qi),ne(Wt),ne(ma))};static \u0275cmp=oe({type:i,selectors:[["author-dialog"]],decls:5,vars:1,consts:[["card",""],["header",""],["content",""],[1,"flex","p-3","gap-4"],[1,"w-[55rem]","h-[45rem]","flex","items-center","justify-center"],[1,"w-[27rem]","flex","flex-col"],["width","480","height","160",1,"rounded-t-md","overflow-hidden",3,"src"],[1,"relative","h-0","w-full"],["id","mask","size","xlarge",1,"!w-20","!h-20","absolute","-top-11","left-2","overflow-hidden","!box-content","border-4","border-[var(--p-card-background)]",3,"image"],[1,"h-10","w-full","flex","justify-end","items-end","gap-2"],["pButton","","pRipple","","outlined","",1,"border","h-8","w-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]"],[1,"pi","pi-ellipsis-h","!text-xs"],["pButton","","pRipple","","outlined","","pTooltip","Add as column","tooltipPosition","bottom",1,"border","h-8","w-8","!text-sm","font-medium","[text-box:trim-both_cap_alphabetic]",3,"click"],[1,"pi","pi-plus","!text-xs"],[3,"authorChange","author"],[1,"text-xl","mt-4","[text-box:trim-both_cap_alphabetic]"],[1,"text-sm","text-primary-400","mt-3","[text-box:trim-both_cap_alphabetic]"],[1,"flex","gap-4","mt-4"],[1,"text-[15px]","cursor-pointer","hover:underline"],[1,"font-medium",3,"click"],[1,"text-primary-400"],[1,"text-sm","mt-3",3,"text"],[3,"ngTemplateOutlet"],["strokeWidth","5",1,"h-fit"],[1,"relative","block","h-full","w-[25rem]","max-h-[45rem]","overflow-hidden","border","border-[var(--p-content-border-color)]","rounded-[var(--p-card-border-radius)]"],[1,"flex","h-11","w-full","items-center","justify-center","bg-[var(--p-primary-750)]","[border-bottom:1px_solid_var(--p-surface-700)]"],[1,"[text-box:trim-both_cap_alphabetic]","cursor-default"],["pRipple","",1,"flex","flex-1","h-full","items-center","justify-center","font-medium","border-r-1","border-r-[var(--p-content-border-color)]","hover:bg-primary-700","cursor-pointer",3,"click"],["pRipple","",1,"flex","flex-1","h-full","items-center","justify-center","font-medium]","hover:bg-primary-700","cursor-pointer",3,"click"],[1,"block","h-[45rem]",3,"author","filter","includePins"]],template:function(t,r){t&1&&(E(0,"div",3),D(1,PFe,32,12)(2,LFe,2,3,"div",4),T(),D(3,jFe,5,3,"ng-template",null,0,Le)),t&2&&(v(),ie(r.author?1:2))},dependencies:()=>[dT,rn,xr,ii,on,os,$n,rt,$f,ls,zf,uc],encapsulation:2})},UZ=(n=>(n.POSTS="POSTS",n.REPLIES="REPLIES",n.MEDIA="MEDIA",n.MORE="MORE",n))(UZ||{});var YZ=Dt(Pi());var qFe=["list"],$Fe=["defaultItemTemplate"],zFe=i=>({item:i});function KFe(i,e){if(i&1&&J(0),i&2){let t=e.item,r=_();ft(" ",t[r.labelKey]," ")}}function HFe(i,e){}function GFe(i,e){if(i&1){let t=W();E(0,"li")(1,"a",4),V("mousedown",function(n){let o=P(t).index,s=_();return s.activeIndex=o,s.itemClick.emit(),L(n.preventDefault())}),D(2,HFe,0,0,"ng-template",5),T()()}if(i&2){let t=e.$implicit,r=e.index,n=_();bi("active",n.activeIndex==r)("mention-active",!n.styleOff&&n.activeIndex==r),v(),bi("mention-item",!n.styleOff),v(),C("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",Fe(8,zFe,t))}}function WFe(i,e){Gg(i)?i.value=e:i.textContent=e}function KZ(i){return Gg(i)?i.value:i.textContent}function B3(i,e,t,r,n,o=!1){if(XFe(i)){let d=KZ(i);WFe(i,d.substring(0,e)+r+d.substring(t,d.length)),HZ(i,e+r.length,n)}else if(!o){let d=gT(n);if(d&&d.rangeCount>0){var s=d.getRangeAt(0),a=s.startOffset,l=d.anchorNode;B3(l,a-(t-e),a,r,n,!0)}}}function Gg(i){return i!=null&&(i.nodeName=="INPUT"||i.nodeName=="TEXTAREA")}function XFe(i){return i!=null&&(i.nodeName=="INPUT"||i.nodeName=="TEXTAREA"||i.nodeName=="#text")}function HZ(i,e,t=null){if(Gg(i)&&i.selectionStart)i.focus(),i.setSelectionRange(e,e);else{let r=O3(t).createRange();r.setStart(i,e),r.collapse(!0);let n=gT(t);n.removeAllRanges(),n.addRange(r)}}function jZ(i,e=null){if(Gg(i)){var t=i.value;return t.slice(0,i.selectionStart).length}else{var r=gT(e);if(r.rangeCount>0){var n=r.getRangeAt(0),o=n.cloneRange();o.selectNodeContents(i),o.setEnd(n.endContainer,n.endOffset);var s=o.toString().length;return s}}}function O3(i){return i?i.contentWindow.document:document}function gT(i){return i?i.contentWindow.getSelection():window.getSelection()}function qZ(i){let e="\uFEFF",t="sel_"+new Date().getTime()+"_"+Math.random().toString().substr(2),r=O3(i?i.iframe:null),n=gT(i?i.iframe:null),o=n.getRangeAt(0),s=r.createRange();s.setStart(n.anchorNode,o.startOffset),s.setEnd(n.anchorNode,o.startOffset),s.collapse(!1);let a=r.createElement("span");a.id=t,a.appendChild(r.createTextNode(e)),s.insertNode(a),n.removeAllRanges(),n.addRange(o);let l={left:0,top:a.offsetHeight};return ZFe(i,a,l),a.parentNode.removeChild(a),l}function ZFe(i,e,t){let r=e,n=i?i.iframe:null;for(;r&&!(i.parent!=null&&i.parent==r);)t.left+=r.offsetLeft+r.clientLeft,t.top+=r.offsetTop+r.clientTop,r=r.offsetParent,!r&&n&&(r=n,n=null);for(r=e,n=i?i.iframe:null;r!==O3(null).body&&r!=null&&!(i.parent!=null&&i.parent==r);)r.scrollTop&&r.scrollTop>0&&(t.top-=r.scrollTop),r.scrollLeft&&r.scrollLeft>0&&(t.left-=r.scrollLeft),r=r.parentNode,!r&&n&&(r=n,n=null)}var QFe=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],GZ=typeof window<"u",YFe=GZ&&window.mozInnerScreenX!=null;function JFe(i,e,t){if(!GZ)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var r=t&&t.debug||!1;if(r){var n=document.querySelector("#input-textarea-caret-position-mirror-div");n&&n.parentNode.removeChild(n)}var o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);var s=o.style,a=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,l=i.nodeName==="INPUT";s.whiteSpace="pre-wrap",l||(s.wordWrap="break-word"),s.position="absolute",r||(s.visibility="hidden"),QFe.forEach(function(g){if(l&&g==="lineHeight")if(a.boxSizing==="border-box"){var w=parseInt(a.height),A=parseInt(a.paddingTop)+parseInt(a.paddingBottom)+parseInt(a.borderTopWidth)+parseInt(a.borderBottomWidth),B=A+parseInt(a.lineHeight);w>B?s.lineHeight=w-A+"px":w===B?s.lineHeight=a.lineHeight:s.lineHeight="0"}else s.lineHeight=a.height;else s[g]=a[g]}),YFe?i.scrollHeight>parseInt(a.height)&&(s.overflowY="scroll"):s.overflow="hidden",o.textContent=i.value.substring(0,e),l&&(o.textContent=o.textContent.replace(/\s/g,"\xA0"));var d=document.createElement("span");d.textContent=i.value.substring(e)||".",o.appendChild(d);var f={top:d.offsetTop+parseInt(a.borderTopWidth),left:d.offsetLeft+parseInt(a.borderLeftWidth),height:parseInt(a.lineHeight)};return r?d.style.backgroundColor="#aaa":document.body.removeChild(o),f}var e7e=(()=>{class i{constructor(t){this.element=t,this.labelKey="label",this.itemClick=new Me,this.items=[],this.activeIndex=0,this.hidden=!1,this.dropUp=!1,this.styleOff=!1,this.coords={top:0,left:0},this.offset=0}ngAfterContentChecked(){this.itemTemplate||(this.itemTemplate=this.defaultItemTemplate)}position(t,r=null){if(Gg(t))this.coords=JFe(t,t.selectionStart,null),this.coords.top=t.offsetTop+this.coords.top-t.scrollTop,this.coords.left=t.offsetLeft+this.coords.left-t.scrollLeft,this.offset=this.getBlockCursorDimensions(t).height;else if(r){let n={iframe:r,parent:r.offsetParent};this.coords=qZ(n)}else{let n=document.documentElement,o=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),s=(window.pageYOffset||n.scrollTop)-(n.clientTop||0),a=qZ({iframe:r}),l=t.getBoundingClientRect();this.coords.top=a.top-l.top+t.offsetTop-s,this.coords.left=a.left-l.left+t.offsetLeft-o}this.positionElement()}get activeItem(){return this.items[this.activeIndex]}activateNextItem(){let t=this.list.nativeElement,r=t.getElementsByClassName("active").item(0);if(r){let n=r.nextSibling;if(n&&n.nodeName=="LI"){let o=n.getBoundingClientRect();o.bottom>t.getBoundingClientRect().bottom&&(t.scrollTop=n.offsetTop+o.height-t.clientHeight)}}this.activeIndex=Math.max(Math.min(this.activeIndex+1,this.items.length-1),0)}activatePreviousItem(){let t=this.list.nativeElement,r=t.getElementsByClassName("active").item(0);if(r){let n=r.previousSibling;n&&n.nodeName=="LI"&&n.getBoundingClientRect().top<t.getBoundingClientRect().top&&(t.scrollTop=n.offsetTop)}this.activeIndex=Math.max(Math.min(this.activeIndex-1,this.items.length-1),0)}reset(){this.list.nativeElement.scrollTop=0,this.checkBounds()}checkBounds(){let t=this.coords.left,r=this.coords.top,n=this.dropUp,o=this.list.nativeElement.getBoundingClientRect();o.left+o.width>window.innerWidth&&(t-=o.left+o.width-window.innerWidth+10),o.top<0&&(n=!1),this.positionElement(t,r,n)}positionElement(t=this.coords.left,r=this.coords.top,n=this.dropUp){let o=this.element.nativeElement;r+=n?0:this.offset,o.className=n?"dropup":null,o.style.position="absolute",o.style.left=t+"px",o.style.top=r+"px"}getBlockCursorDimensions(t){let r=window.getComputedStyle(t);return{height:parseFloat(r.lineHeight),width:parseFloat(r.fontSize)}}}return i.\u0275fac=function(t){return new(t||i)(ne(Kt))},i.\u0275cmp=oe({type:i,selectors:[["mention-list"]],viewQuery:function(t,r){if(t&1&&(Zt(qFe,7),Zt($Fe,7)),t&2){let n;be(n=_e())&&(r.list=n.first),be(n=_e())&&(r.defaultItemTemplate=n.first)}},inputs:{labelKey:"labelKey",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},standalone:!1,decls:5,vars:6,consts:[["defaultItemTemplate",""],["list",""],[1,"dropdown-menu","scrollable-menu",3,"hidden"],[3,"active","mention-active",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"mousedown"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&(D(0,KFe,1,1,"ng-template",null,0,Le),E(2,"ul",2,1),D(4,GFe,3,10,"li",3),T()),t&2&&(v(2),bi("mention-menu",!r.styleOff)("mention-dropdown",!r.styleOff&&r.dropUp),C("hidden",r.hidden),v(2),C("ngForOf",r.items))},dependencies:[$a,rt],styles:[".mention-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:11em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25em}.mention-item[_ngcontent-%COMP%]{display:block;padding:.2em 1.5em;line-height:1.5em;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.mention-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.scrollable-menu[_ngcontent-%COMP%]{display:block;height:auto;max-height:292px;overflow:auto}[hidden][_ngcontent-%COMP%]{display:none}.mention-dropdown[_ngcontent-%COMP%]{bottom:100%;top:auto;margin-bottom:2px}"]}),i})(),hT=8,$Z=9,mT=13,t7e=16,i7e=27,r7e=32;var n7e=38;var o7e=40,zZ=229,WZ=(()=>{class i{constructor(t,r,n){this._element=t,this._componentResolver=r,this._viewContainerRef=n,this.mentionConfig={items:[]},this.DEFAULT_CONFIG={items:[],triggerChar:"@",labelKey:"label",maxItems:-1,allowSpace:!1,returnTrigger:!1,mentionSelect:(o,s)=>this.activeConfig.triggerChar+o[this.activeConfig.labelKey],mentionFilter:(o,s)=>{let a=o.toLowerCase();return s.filter(l=>l[this.activeConfig.labelKey].toLowerCase().startsWith(a))}},this.searchTerm=new Me,this.itemSelected=new Me,this.opened=new Me,this.closed=new Me,this.triggerChars={}}set mention(t){this.mentionItems=t}ngOnChanges(t){(t.mention||t.mentionConfig)&&this.updateConfig()}updateConfig(){let t=this.mentionConfig;this.triggerChars={},this.mentionItems&&(t.items=this.mentionItems),this.addConfig(t),t.mentions&&t.mentions.forEach(r=>this.addConfig(r))}addConfig(t){let r=Object.assign({},this.DEFAULT_CONFIG);t=Object.assign(r,t);let n=t.items;n&&n.length>0&&(typeof n[0]=="string"&&(n=n.map(o=>{let s={};return s[t.labelKey]=o,s})),t.labelKey&&(n=n.filter(o=>o[t.labelKey]),t.disableSort||n.sort((o,s)=>o[t.labelKey].localeCompare(s[t.labelKey])))),t.items=n,this.triggerChars[t.triggerChar]=t,this.activeConfig&&this.activeConfig.triggerChar==t.triggerChar&&(this.activeConfig=t,this.updateSearchList())}setIframe(t){this.iframe=t}stopEvent(t){t.wasClick||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}blurHandler(t){this.stopEvent(t),this.stopSearch()}inputHandler(t,r=this._element.nativeElement){if(this.lastKeyCode===zZ&&t.data){let n=t.data.charCodeAt(0);this.keyHandler({keyCode:n,inputEvent:!0},r)}}keyHandler(t,r=this._element.nativeElement){if(this.lastKeyCode=t.keyCode,t.isComposing||t.keyCode===zZ)return;let n=KZ(r),o=jZ(r,this.iframe),s=t.key;if(!s){let l=t.which||t.keyCode;!t.shiftKey&&l>=65&&l<=90?s=String.fromCharCode(l+32):s=String.fromCharCode(t.which||t.keyCode)}t.keyCode==mT&&t.wasClick&&o<this.startPos&&(o=this.startNode.length,HZ(this.startNode,o,this.iframe));let a=this.triggerChars[s];if(a)this.activeConfig=a,this.startPos=t.inputEvent?o-1:o,this.startNode=(this.iframe?this.iframe.contentWindow.getSelection():window.getSelection()).anchorNode,this.searching=!0,this.searchString=null,this.showSearchList(r),this.updateSearchList(),a.returnTrigger&&this.searchTerm.emit(a.triggerChar);else if(this.startPos>=0&&this.searching){if(o<=this.startPos)this.searchList.hidden=!0;else if(t.keyCode!==t7e&&!t.metaKey&&!t.altKey&&!t.ctrlKey&&o>this.startPos){if(!this.activeConfig.allowSpace&&t.keyCode===r7e)this.startPos=-1;else if(t.keyCode===hT&&o>0)o--,o==this.startPos&&this.stopSearch();else if(this.searchList.hidden){if(t.keyCode===$Z||t.keyCode===mT){this.stopSearch();return}}else if(!this.searchList.hidden)if(t.keyCode===$Z||t.keyCode===mT){this.stopEvent(t),this.itemSelected.emit(this.searchList.activeItem);let l=this.activeConfig.mentionSelect(this.searchList.activeItem,this.activeConfig.triggerChar);if(B3(r,this.startPos,o,l,this.iframe),"createEvent"in document){let d=document.createEvent("HTMLEvents");this.iframe?d.initEvent("change",!0,!1):d.initEvent("input",!0,!1),this._element.nativeElement.dispatchEvent(d)}return this.startPos=-1,this.stopSearch(),!1}else{if(t.keyCode===i7e)return this.stopEvent(t),this.stopSearch(),!1;if(t.keyCode===o7e)return this.stopEvent(t),this.searchList.activateNextItem(),!1;if(t.keyCode===n7e)return this.stopEvent(t),this.searchList.activatePreviousItem(),!1}if(s.length!=1&&t.keyCode!=hT)return this.stopEvent(t),!1;if(this.searching){let l=n.substring(this.startPos+1,o);if(t.keyCode!==hT&&!t.inputEvent&&(l+=s),this.searchString=l,this.activeConfig.returnTrigger){let d=this.searchString||t.keyCode===hT?n.substring(this.startPos,this.startPos+1):"";this.searchTerm.emit(d+this.searchString)}else this.searchTerm.emit(this.searchString);this.updateSearchList()}}}}startSearch(t,r=this._element.nativeElement){t=t||this.mentionConfig.triggerChar||this.DEFAULT_CONFIG.triggerChar;let n=jZ(r,this.iframe);B3(r,n,n,t,this.iframe),this.keyHandler({key:t,inputEvent:!0},r)}stopSearch(){this.searchList&&!this.searchList.hidden&&(this.searchList.hidden=!0,this.closed.emit()),this.activeConfig=null,this.searching=!1}updateSearchList(){let t=[];if(this.activeConfig&&this.activeConfig.items){let r=this.activeConfig.items;!this.activeConfig.disableSearch&&this.searchString&&this.activeConfig.labelKey&&this.activeConfig.mentionFilter&&(r=this.activeConfig.mentionFilter(this.searchString,r)),t=r,this.activeConfig.maxItems>0&&(t=t.slice(0,this.activeConfig.maxItems))}this.searchList&&(this.searchList.items=t,this.searchList.hidden=t.length==0)}showSearchList(t){if(this.opened.emit(),this.searchList==null){let r=this._componentResolver.resolveComponentFactory(e7e),n=this._viewContainerRef.createComponent(r);this.searchList=n.instance,this.searchList.itemTemplate=this.mentionListTemplate,n.instance.itemClick.subscribe(()=>{t.focus();let o={key:"Enter",keyCode:mT,wasClick:!0};this.keyHandler(o,t)})}this.searchList.labelKey=this.activeConfig.labelKey,this.searchList.dropUp=this.activeConfig.dropUp,this.searchList.styleOff=this.mentionConfig.disableStyle,this.searchList.activeIndex=0,this.searchList.position(t,this.iframe),window.requestAnimationFrame(()=>this.searchList.reset())}}return i.\u0275fac=function(t){return new(t||i)(ne(Kt),ne(f5),ne(Dl))},i.\u0275dir=Ht({type:i,selectors:[["","mention",""],["","mentionConfig",""]],hostAttrs:["autocomplete","off"],hostBindings:function(t,r){t&1&&V("keydown",function(o){return r.keyHandler(o)})("input",function(o){return r.inputHandler(o)})("blur",function(o){return r.blurHandler(o)})},inputs:{mention:"mention",mentionConfig:"mentionConfig",mentionListTemplate:"mentionListTemplate"},outputs:{searchTerm:"searchTerm",itemSelected:"itemSelected",opened:"opened",closed:"closed"},standalone:!1,features:[Ji]}),i})(),yT=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=vt({type:i}),i.\u0275inj=bt({imports:[tt]}),i})();var a7e=["content"],l7e=(i,e)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":i,"p-progressbar-indeterminate":e}),c7e=i=>({$implicit:i});function u7e(i,e){if(i&1&&(E(0,"div"),J(1),T()),i&2){let t=_(2);pn("display",t.value!=null&&t.value!==0?"flex":"none"),ae("data-pc-section","label"),v(),y5("",t.value,"",t.unit,"")}}function d7e(i,e){i&1&&Pe(0)}function p7e(i,e){if(i&1&&(E(0,"div",3)(1,"div",4),D(2,u7e,2,5,"div",5)(3,d7e,1,0,"ng-container",6),T()()),i&2){let t=_();we(t.valueStyleClass),pn("width",t.value+"%")("background",t.color),C("ngClass","p-progressbar-value p-progressbar-value-animate"),ae("data-pc-section","value"),v(2),C("ngIf",t.showValue&&!t.contentTemplate&&!t._contentTemplate),v(),C("ngTemplateOutlet",t.contentTemplate||t._contentTemplate)("ngTemplateOutletContext",Fe(11,c7e,t.value))}}function f7e(i,e){if(i&1&&(E(0,"div",7),N(1,"div",8),T()),i&2){let t=_();we(t.valueStyleClass),C("ngClass","p-progressbar-indeterminate-container"),ae("data-pc-section","container"),v(),pn("background",t.color),ae("data-pc-section","value")}}var h7e=({dt:i})=>`
.p-progressbar {
    position: relative;
    overflow: hidden;
    height: ${i("progressbar.height")};
    background: ${i("progressbar.background")};
    border-radius: ${i("progressbar.border.radius")};
}

.p-progressbar-value {
    margin: 0;
    background: ${i("progressbar.value.background")};
}

.p-progressbar-label {
    color: ${i("progressbar.label.color")};
    font-size: ${i("progressbar.label.font.size")};
    font-weight: ${i("progressbar.label.font.weight")};
}

.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: width 1s ease-in-out;
}

.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}

.p-progressbar-indeterminate .p-progressbar-value::before {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}

.p-progressbar-indeterminate .p-progressbar-value::after {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation-delay: 1.15s;
}

@-webkit-keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
@keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
`,m7e={root:({instance:i})=>["p-progressbar p-component",{"p-progressbar-determinate":i.determinate,"p-progressbar-indeterminate":i.indeterminate}],value:"p-progressbar-value",label:"p-progressbar-label"},XZ=(()=>{class i extends lt{name="progressbar";theme=h7e;classes=m7e;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var ZZ=(()=>{class i extends Je{value;showValue=!0;styleClass;valueStyleClass;style;unit="%";mode="determinate";color;contentTemplate;_componentStyle=se(XZ);templates;_contentTemplate;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this._contentTemplate=t.template;break;default:this._contentTemplate=t.template}})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-progressBar"],["p-progressbar"],["p-progress-bar"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,a7e,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.contentTemplate=s.first),be(s=_e())&&(n.templates=s)}},inputs:{value:[2,"value","value",wt],showValue:[2,"showValue","showValue",de],styleClass:"styleClass",valueStyleClass:"valueStyleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[He([XZ]),Se],decls:3,vars:15,consts:[["role","progressbar",3,"ngStyle","ngClass"],["style","display:flex",3,"ngClass","class","width","background",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[2,"display","flex",3,"ngClass"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(r,n){r&1&&(E(0,"div",0),D(1,p7e,4,13,"div",1)(2,f7e,2,7,"div",2),T()),r&2&&(we(n.styleClass),C("ngStyle",n.style)("ngClass",Rt(12,l7e,n.mode==="determinate",n.mode==="indeterminate")),ae("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root")("aria-label",n.value+n.unit),v(),C("ngIf",n.mode==="determinate"),v(),C("ngIf",n.mode==="indeterminate"))},dependencies:[tt,Gt,si,rt,Ii,yt],encapsulation:2,changeDetection:0})}return i})();var bT=class i{transform(e){return e?.type=="IMAGE"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isMediaEmbedImage",type:i,pure:!0})};var _T=class i{transform(e){return e?.type=="VIDEO"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isMediaEmbedVideo",type:i,pure:!0})};var vT=class i{transform(e){return e?.type=="EXTERNAL"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isMediaEmbedExternal",type:i,pure:!0})};var QZ=Dt(Pi());var g7e=/\/profile\/([^\/]+)\/post\/([^\/]+)$/,y7e=/\/profile\/([^\/]+)\/feed\/([^\/]+)$/,b7e=/\/profile\/([^\/]+)\/lists\/([^\/]+)$/,_7e=/\/starter-pack\/([^\/]+)\/([^\/]+)$/,xT=class{static findEmbedSuggestions(e){let t=[],r=e.match(QZ.URL_REGEX)??[],n;return r.forEach(o=>{if(o.includes("bsky.app")){if(n=g7e.exec(o)){t.push(new cd("POST",n[1],n[2]));return}if(n=y7e.exec(o)){t.push(new cd("FEED",n[1],n[2]));return}if(n=b7e.exec(o)){t.push(new cd("LIST",n[1],n[2]));return}if(n=_7e.exec(o)){t.push(new cd("STARTER_PACK",n[1],n[2]));return}t.push(new Hg(o));return}t.push(new Hg(o))}),t}};var v7e=()=>({"--p-card-body-padding":0,"--p-card-background":"var(--p-primary-800)",height:"100%",overflow:"hidden"}),x7e=i=>({record:i}),C7e=()=>({"--p-avatar-icon-size":"1.5rem"});function E7e(i,e){if(i&1){let t=W();E(0,"div",5)(1,"button",8),V("click",function(){P(t);let n=_();return L(n.onClose.emit())}),N(2,"i",9),T()()}}function T7e(i,e){if(i&1&&Pe(0,6),i&2){let t=_(),r=Ue(5);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,x7e,t.record()))}}function w7e(i,e){if(i&1&&N(0,"p-image",10),i&2){let t=_(2);C("src",t.image())}}function S7e(i,e){if(i&1&&(E(0,"div",7),D(1,w7e,1,1,"p-image",10),E(2,"div",11)(3,"div",12)(4,"span",13),J(5),T(),E(6,"span",14),J(7),T()()()()),i&2){let t=_();v(),ie(t.image()?1:-1),v(4),Ze(t.title()),v(2),Ze(t.subtitle())}}function A7e(i,e){if(i&1){let t=W();E(0,"a",23),V("click",function(n){P(t);let o=_().record,s=_();return L(s.openAuthor(n,o.author.did))}),J(1),T()}if(i&2){let t=_().record;C("href","https://bsky.app/profile/"+t.author.handle,dt),v(),ft(" ","@"+t.author.handle," ")}}function R7e(i,e){if(i&1&&(E(0,"div",22,3),N(2,"rich-text",24),T()),i&2){let t=_().record;v(2),C("text",t.value.text)}}function k7e(i,e){if(i&1&&N(0,"p-image",25),i&2){let t=_(2).record;C("src",t.embeds[0].images[0].fullsize)}}function D7e(i,e){if(i&1&&N(0,"p-image",25),i&2){let t=_(2).record;C("src",t.embeds[0].thumbnail)}}function I7e(i,e){i&1&&N(0,"p-avatar",27),i&2&&pt($e(2,C7e))}function P7e(i,e){if(i&1&&(D(0,k7e,1,1,"p-image",25),fe(1,"isEmbedImagesView"),D(2,D7e,1,1,"p-image",25),fe(3,"isEmbedVideoView"),D(4,I7e,1,3,"p-avatar",26),fe(5,"isEmbedExternalView")),i&2){let t=_().record;ie(xe(1,3,t.embeds[0])?0:-1),v(2),ie(xe(3,5,t.embeds[0])?2:-1),v(2),ie(xe(5,7,t.embeds[0])?4:-1)}}function L7e(i,e){if(i&1){let t=W();E(0,"div",15)(1,"div",16)(2,"div",17,1)(4,"a",18,2),V("click",function(n){let o=P(t).record,s=_();return L(s.openAuthor(n,o.author.did))}),N(6,"p-avatar",19),T(),E(7,"a",20),V("click",function(n){let o=P(t).record,s=_();return L(s.openAuthor(n,o.author.did))}),J(8),fe(9,"displayName"),T(),D(10,A7e,2,2,"a",21),T(),E(11,"div",11),D(12,R7e,3,1,"div",22),fe(13,"isFeedPostRecord"),D(14,P7e,6,9),T()()()}if(i&2){let t=e.record;v(4),C("href","https://bsky.app/profile/"+t.author.handle,dt),v(2),C("image",t.author.avatar),v(),C("href","https://bsky.app/profile/"+t.author.handle,dt),v(),ft(" ",xe(9,7,t.author)," "),v(2),ie(t.author.displayName!=null&&t.author.displayName.trim().length?10:-1),v(2),ie(xe(13,9,t.value)&&t.value.text.length?12:-1),v(2),ie(t.embeds?14:-1)}}var CT=class i{constructor(e){this.dialogService=e}record=$t();title=$t();subtitle=$t();image=$t();closable=$t(!1,{transform:de});onClose=qt();openAuthor(e,t){e.preventDefault(),e.stopPropagation(),this.dialogService.openAuthor(t)}log(e){console.log("DEVELOPMENT LOG: ",e)}static \u0275fac=function(t){return new(t||i)(ne(ri))};static \u0275cmp=oe({type:i,selectors:[["preview-card"]],inputs:{record:[1,"record"],title:[1,"title"],subtitle:[1,"subtitle"],image:[1,"image"],closable:[1,"closable"]},outputs:{onClose:"onClose"},decls:6,vars:5,consts:[["recordPreview",""],["header",""],["avatar",""],["body",""],[1,"relative","block","group","overflow-hidden","border","border-[var(--p-content-border-color)]","rounded-[var(--p-card-border-radius)]","[&_.p-card-header]:hidden"],[1,"relative","h-0","w-full"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","min-h-20"],["pButton","","pRipple","","text","",1,"!absolute","top-2","right-2","!p-0","flex","items-center","justify-center","h-6","w-6",3,"click"],[1,"pi","pi-times","!text-sm","opacity-0","group-hover:opacity-100","transition"],["styleClass","block h-full w-full","imageClass","h-full w-full object-cover",1,"h-20","w-20","shrink-0",3,"src"],[1,"flex"],[1,"flex","flex-col","flex-1","px-4","py-3","justify-center"],[1,"font-medium","overflow-hidden"],[1,"text-xs","line-clamp-2","overflow-hidden"],[1,"flex","p-3"],[1,"flex","flex-col","flex-1"],["id","header",1,"flex","gap-2","items-center","w-[calc(100%_-_1.5rem)"],[1,"h-5","w-5",3,"click","href"],[1,"shrink-0","!h-5","!w-5","overflow-hidden",3,"image"],[1,"font-semibold","shrink-1","grow-0","min-w-0","hover:underline","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-nowrap","h-fit",3,"click","href"],[1,"text-sm","text-primary-400","shrink-0","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-pre","h-fit",3,"href"],[1,"flex-1","mt-2"],[1,"text-sm","text-primary-400","shrink-0","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-pre","h-fit",3,"click","href"],[1,"text-sm","line-clamp-3",3,"text"],["styleClass","block h-full w-full","imageClass","h-full w-full object-cover",1,"h-16","w-16","mt-1","shrink-0","rounded-sm","overflow-hidden",3,"src"],["icon","pi pi-link",1,"!h-16","!w-16",3,"style"],["icon","pi pi-link",1,"!h-16","!w-16"]],template:function(t,r){t&1&&(E(0,"p-card",4),D(1,E7e,3,0,"div",5)(2,T7e,1,4,"ng-container",6)(3,S7e,8,3,"div",7),T(),D(4,L7e,15,11,"ng-template",null,0,Le)),t&2&&(pt($e(4,v7e)),v(),ie(r.closable?1:-1),v(),ie(r.record()?2:3))},dependencies:()=>[$n,dT,xr,ii,rn,on,Jo,os,rt,Qo,Yo,ya],encapsulation:2,changeDetection:0})};var ET=class{url;title;description;imageUrl;likelyType;error};var TT=class i{constructor(e){this.httpClient=e}getUrlMetadata(e){return!e.startsWith("https://")&&!e.startsWith("http://")&&(e="https://"+e),this.httpClient.get(`https://cardyb.bsky.app/v1/extract?url=${e}`).pipe(Ut(t=>{let r=new ET;return r.url=t.url,r.title=t.title,r.description=t.description,r.imageUrl=t.image,r.likelyType=t.likely_type,r.error=t.error,r}))}static \u0275fac=function(t){return new(t||i)(Ke(sS))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};var O7e=()=>({triggerChar:"@",labelKey:"value",disableSearch:!0,dropUp:!0}),M7e=()=>({"--p-progressbar-background":"transparent","--p-progressbar-value-background":"var(--p-primary-400)","--p-progressbar-border-radius":0,"--p-progressbar-label-color":"transparent","--p-progressbar-height":"0.25rem"}),V7e=(i,e,t,r,n)=>({$type:"app.bsky.embed.record#viewRecord",author:i,value:e,cid:t,uri:r,indexedAt:n}),N7e=i=>({embed:i}),F7e=()=>({height:"1.5rem",width:"1.5rem"});function U7e(i,e){if(i&1&&(N(0,"i",24),E(1,"span",25),J(2," Replying to "),E(3,"span",26),J(4),fe(5,"displayName"),T()()),i&2){_();let t=io(2);v(4),Ze(xe(5,1,t.author))}}function j7e(i,e){i&1&&(N(0,"i",27),E(1,"span",25),J(2," New post "),T())}function q7e(i,e){if(i&1){let t=W();E(0,"preview-card",28),V("onClose",function(){P(t);let n=_();return L(n.postService.postCompose().reply.set(void 0))}),T()}if(i&2){_();let t=io(2);C("record",_5(1,V7e,t.author,t.record,t.cid,t.uri,t.indexedAt))}}function $7e(i,e){if(i&1){let t=W();E(0,"div",34)(1,"div",35)(2,"button",36),J(3,"ALT"),T(),E(4,"button",37),V("click",function(){let n=P(t).$index,o=_(3);return L(o.removeImage(n))}),N(5,"i",7),T()(),N(6,"img",38),T()}if(i&2){let t=e.$implicit;v(6),C("src",t.data,dt)}}function z7e(i,e){if(i&1&&(E(0,"div",32),_i(1,$7e,7,1,"div",34,Kc),T()),i&2){_(2);let t=io(0);v(),vi(t.images)}}function K7e(i,e){}function H7e(i,e){if(i&1){let t=W();E(0,"preview-card",39),V("onClose",function(){P(t);let n=_(2);return L(n.postService.postCompose().mediaEmbed.set(void 0))}),T()}if(i&2){_(2);let t=io(0);C("image",t.metadata.imageUrl)("title",t.metadata.title)("subtitle",t.snippet.domain)}}function G7e(i,e){if(i&1&&(E(0,"div",9)(1,"div",29),N(2,"i",30),E(3,"span",31),J(4,"Attaching"),T()(),D(5,z7e,3,0,"div",32),fe(6,"isMediaEmbedImage"),D(7,K7e,0,0),fe(8,"isMediaEmbedVideo"),D(9,H7e,1,3,"preview-card",33),fe(10,"isMediaEmbedExternal"),T()),i&2){_();let t=io(0);v(5),ie(xe(6,3,t)?5:-1),v(2),ie(xe(8,5,t)?7:-1),v(2),ie(xe(10,7,t)?9:-1)}}function W7e(i,e){if(i&1){let t=W();E(0,"preview-card",43),V("onClose",function(){P(t);let n=_(2);return L(n.postService.postCompose().recordEmbed.set(void 0))}),T()}if(i&2){_(2);let t=io(1);C("record",t)}}function X7e(i,e){if(i&1){let t=W();E(0,"preview-card",44),V("onClose",function(){P(t);let n=_(2);return L(n.postService.postCompose().recordEmbed.set(void 0))}),T()}if(i&2){_(2);let t=io(1);C("title",t.displayName)("subtitle",t.description)("image",t.avatar)}}function Z7e(i,e){if(i&1){let t=W();E(0,"preview-card",44),V("onClose",function(){P(t);let n=_(2);return L(n.postService.postCompose().recordEmbed.set(void 0))}),T()}if(i&2){_(2);let t=io(1);C("title",t.name)("subtitle",t.description)("image",t.avatar)}}function Q7e(i,e){if(i&1){let t=W();E(0,"preview-card",45),V("onClose",function(){P(t);let n=_(2);return L(n.postService.postCompose().recordEmbed.set(void 0))}),T()}if(i&2){_(2);let t=io(1);C("title",t.record.name)("subtitle",t.record.name)}}function Y7e(i,e){if(i&1&&(E(0,"div",9)(1,"div",29),N(2,"i",30),E(3,"span",31),J(4,"Quoting"),T()(),D(5,W7e,1,1,"preview-card",40),fe(6,"isEmbedRecordViewRecord"),fe(7,"isFeedDefsGeneratorView"),fe(8,"isGraphDefsListView"),fe(9,"isGraphDefsStarterPackView"),D(10,X7e,1,3,"preview-card",41)(11,Z7e,1,3,"preview-card",41)(12,Q7e,1,2,"preview-card",42),T()),i&2){_();let t=io(1);v(5),ie(xe(6,1,t)?5:xe(7,3,t)?10:xe(8,5,t)?11:xe(9,7,t)?12:-1)}}function J7e(i,e){if(i&1&&Pe(0,21),i&2){let t=e.$implicit;_();let r=Ue(34);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,N7e,t))}}function eUe(i,e){i&1&&N(0,"p-progress-spinner",46),i&2&&pt($e(2,F7e))}function tUe(i,e){if(i&1){let t=W();E(0,"button",48),V("click",function(){P(t);let n=_(3);return L(n.embedQuote())}),J(1," Quote post "),T()}}function iUe(i,e){if(i&1){let t=W();E(0,"button",48),V("click",function(){P(t);let n=_(3);return L(n.embedFeed())}),J(1," Quote feed "),T()}}function rUe(i,e){if(i&1){let t=W();E(0,"button",48),V("click",function(){P(t);let n=_(3);return L(n.embedList())}),J(1," Quote list "),T()}}function nUe(i,e){if(i&1){let t=W();E(0,"button",48),V("click",function(){P(t);let n=_(3);return L(n.embedStarterPack())}),J(1," Quote starter pack "),T()}}function oUe(i,e){if(i&1&&D(0,tUe,2,0,"button",47)(1,iUe,2,0,"button",47)(2,rUe,2,0,"button",47)(3,nUe,2,0,"button",47),i&2){let t,r=_().embed;ie((t=r.recordType)==="POST"?0:t==="FEED"?1:t==="LIST"?2:t==="STARTER_PACK"?3:-1)}}function sUe(i,e){if(i&1){let t=W();E(0,"button",48),V("click",function(){P(t);let n=_(2);return L(n.embedLink())}),J(1," Add card "),T()}}function aUe(i,e){if(i&1&&D(0,oUe,4,1)(1,sUe,2,0,"button",47),i&2){let t=e.embed;_();let r=io(0),n=io(1);ie(t.type=="RECORD"&&!n?0:-1),v(),ie(t.type=="EXTERNAL"&&!r?1:-1)}}var wT=class i{constructor(e,t,r,n,o){this.postService=e;this.embedService=t;this.messageService=r;this.cdRef=n;this.dialog=o}formattedText="";rt;mentionItems=[];loading=!1;embedSuggestions=mt([]);formatText(e){let t=e.target.innerText;this.postService.postCompose().post().text=t,this.rt=new YZ.RichText({text:t}),this.rt.detectFacetsWithoutResolution();let r=[...this.rt.segments()];this.embedSuggestions.set(xT.findEmbedSuggestions(r.filter(o=>o.facet).map(o=>o.text).join(" ")));let n="";r.forEach(o=>{o.isMention()?n+=`<span class="text-blue-800">${o.text}</span>`:o.isTag()?n+=`<span class="text-purple-800">${o.text}</span>`:o.isLink()?n+=`<span class="text-red-800">${o.text}</span>`:n+=`<span>${o.text.replace("<","&lt;").replace(">","&gt;")}</span>`}),this.formattedText=n,this.cdRef.markForCheck()}searchMentions(e){ke.searchActorsTypeahead({q:e,limit:5}).then(t=>{this.mentionItems=t.data.actors.map(r=>({id:r.did,value:r.handle})),this.cdRef.markForCheck()})}removeImage(e){let t=this.postService.postCompose().mediaEmbed;t().images.length==1?t.set(void 0):t.update(r=>(r.images.splice(e,1),r))}embedLink(){let e=this.embedSuggestions()[0];e.snippet=Mf.detectSnippet({uri:e.url,description:""}),e.snippet.type!=="BLUESKY_GIF"&&this.embedService.getUrlMetadata(e.url).subscribe({next:t=>{e.metadata=t,this.postService.postCompose().mediaEmbed.set(e)},error:t=>this.messageService.error(t.message,"Oops!")})}embedQuote(){let e=this.embedSuggestions()[0];ke.resolveHandle({handle:e.author}).then(t=>{this.postService.quotePost("at://"+t.data.did+"/app.bsky.feed.post/"+e.rkey)})}embedFeed(){let e=this.embedSuggestions()[0];ke.resolveHandle({handle:e.author}).then(t=>ke.app.bsky.feed.getFeedGenerator({feed:"at://"+t.data.did+"/app.bsky.feed.generator/"+e.rkey})).then(t=>{let r=t.data.view;r.$type="app.bsky.feed.defs#generatorView",this.postService.postCompose().recordEmbed.set(r)})}embedList(){let e=this.embedSuggestions()[0];ke.resolveHandle({handle:e.author}).then(t=>ke.app.bsky.graph.getList({list:"at://"+t.data.did+"/app.bsky.graph.list/"+e.rkey})).then(t=>{let r=t.data.list;r.$type="app.bsky.graph.defs#listView",this.postService.postCompose().recordEmbed.set(r)})}embedStarterPack(){let e=this.embedSuggestions()[0];ke.resolveHandle({handle:e.author}).then(t=>ke.app.bsky.graph.getStarterPack({starterPack:"at://"+t.data.did+"/app.bsky.graph.starterpack/"+e.rkey})).then(t=>{let r=t.data.starterPack;r.$type="app.bsky.graph.defs#starterPackView",this.postService.postCompose().recordEmbed.set(r)})}publishPost(){this.loading=!0,this.postService.publishPost().then(()=>{this.messageService.success("Your post has been successfully published")},e=>this.messageService.error(e.message,"Oops!")).finally(()=>this.loading=!1)}paste(e){console.log(e.clipboardData.files)}log(e){console.log("DEVELOPMENT LOG: ",e)}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(TT),ne(Qi),ne(Wt),ne(vo))};static \u0275cmp=oe({type:i,selectors:[["post-composer"]],decls:35,vars:22,consts:[["text",""],["uploader",""],["postBtn",""],["embedButton",""],[1,"flex","flex-col","pt-3","pb-4","px-4","w-120",3,"drop"],[1,"flex","h-10","w-full","justify-end","items-center","gap-3","mb-2"],["pButton","","pRipple","","text","","severity","secondary",1,"!p-0","h-8","w-8","!text-white","[text-box:trim-both_cap_alphabetic]",3,"click"],[1,"pi","pi-times","!text-sm"],[1,"-mt-2","mb-3",3,"record"],[1,"flex","flex-col","mb-3"],[1,"relative","rounded-md"],["autofocus","","contenteditable","plaintext-only","spellcheck","false",1,"absolute","top-0","left-0","z-1","w-112","min-h-32","p-2","bg-transparent","text-transparent","rounded-md","outline-0","caret-black",3,"input","paste","keydown.control.enter","searchTerm","mention","mentionConfig"],[1,"w-112","min-h-32","p-2","bg-white","text-black","empty:text-primary-400","rounded-md","outline-0","break-words","whitespace-pre-wrap","empty:before:content-['What\\'s_up,_danger?']",3,"innerHTML"],[1,"h-12","absolute","bottom-0","left-0","right-0","flex","flex-col","justify-end","items-end","rounded-b-md","pointer-events-none","select-none","overflow-hidden"],[1,"mb-1","mr-2","text-sm","text-zinc-500"],[1,"block","w-full",3,"value"],[1,"flex","h-10","mt-4","items-center"],[1,"flex","flex-1"],["pButton","","pRipple","","severity","secondary",1,"!p-0","h-10","w-10","mr-2","!text-white","[text-box:trim-both_cap_alphabetic]",3,"click"],[1,"pi","pi-paperclip"],["type","file",1,"hidden",3,"change"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["strokeWidth","5",1,"mr-2","h-fit",3,"style"],["pButton","","pRipple","","severity","secondary",1,"h-10","!py-0","!px-4","!text-white","!font-medium","[text-box:trim-both_cap_alphabetic]",3,"click","disabled"],[1,"pi","pi-reply","!text-sm"],[1,"flex-1","overflow-hidden","text-ellipsis","whitespace-nowrap"],[1,"font-medium"],[1,"pi","pi-pen-to-square","!text-sm"],[1,"-mt-2","mb-3",3,"onClose","record"],[1,"flex","gap-2","mb-1"],[1,"pi","pi-angle-double-right","!text-sm"],[1,"text-sm"],[1,"flex","mt-2"],["closable","",3,"image","title","subtitle"],[1,"h-20","w-20","relative","group","shrink-0","rounded-md","overflow-hidden"],[1,"absolute","z-1","h-full","w-full"],[1,"absolute","bottom-1","left-1","text-xs","font-medium","p-[1px_4px]","bg-primary-900","rounded-sm","opacity-60","group-hover:opacity-100","transition","cursor-pointer"],[1,"absolute","top-1","right-1","opacity-0","h-6","w-6","rounded-sm","group-hover:opacity-100","transition","cursor-pointer","hover:bg-black/20",3,"click"],["alt","image preview",1,"h-20","w-20","object-cover",3,"src"],["closable","",3,"onClose","image","title","subtitle"],[3,"record"],[3,"title","subtitle","image"],[3,"title","subtitle"],[3,"onClose","record"],[3,"onClose","title","subtitle","image"],[3,"onClose","title","subtitle"],["strokeWidth","5",1,"mr-2","h-fit"],["pButton","","pRipple","","severity","secondary",1,"h-10","!py-0","!px-4","!text-white","!font-medium","[text-box:trim-both_cap_alphabetic]"],["pButton","","pRipple","","severity","secondary",1,"h-10","!py-0","!px-4","!text-white","!font-medium","[text-box:trim-both_cap_alphabetic]",3,"click"]],template:function(t,r){if(t&1){let n=W();b5(0)(1)(2),E(3,"div",4),V("drop",function(s){return P(n),s.preventDefault(),L(r.postService.attachMedia(s.dataTransfer.files))}),E(4,"div",5),D(5,U7e,6,3)(6,j7e,3,0),E(7,"button",6),V("click",function(){return P(n),L(r.dialog.close())}),N(8,"i",7),T()(),D(9,q7e,1,7,"preview-card",8)(10,G7e,11,9,"div",9)(11,Y7e,13,9,"div",9),E(12,"div",10)(13,"div",11,0),V("input",function(s){return P(n),L(r.formatText(s))})("paste",function(s){return P(n),L(r.postService.attachMedia(s.clipboardData.files))})("keydown.control.enter",function(){P(n);let s=Ue(31);return L(s.click())})("searchTerm",function(s){return P(n),L(r.searchMentions(s))}),T(),N(15,"div",12),E(16,"div",13)(17,"span",14),J(18),T(),N(19,"p-progress-bar",15),T()(),E(20,"div",16)(21,"div",17)(22,"button",18),V("click",function(){P(n);let s=Ue(25);return L(s.click())}),N(23,"i",19),E(24,"input",20,1),V("change",function(){P(n);let s=Ue(25);return L(r.postService.attachMedia(s.files))}),T()(),_i(26,J7e,1,4,"ng-container",21,Oy),fe(28,"slice"),T(),D(29,eUe,1,3,"p-progress-spinner",22),E(30,"button",23,2),V("click",function(){return P(n),L(r.publishPost())}),J(32," Post "),T()()(),D(33,aUe,2,2,"ng-template",null,3,Le)}if(t&2){let n=Ue(14),o=My(r.postService.postCompose().mediaEmbed());v();let s=My(r.postService.postCompose().recordEmbed());v();let a=My(r.postService.postCompose().reply());v(3),ie(a?5:6),v(4),ie(a?9:-1),v(),ie(o?10:-1),v(),ie(s?11:-1),v(2),C("mention",r.mentionItems)("mentionConfig",$e(20,O7e)),v(2),C("innerHTML",n.textContent.length?r.formattedText:void 0,zc),v(3),Ze(300-n.textContent.length),v(),pt($e(21,M7e)),C("value",n.textContent.length/3),v(7),vi(Vy(28,16,r.embedSuggestions(),0,1)),v(3),ie(r.loading?29:-1),v(),C("disabled",r.loading||n.innerText.length>300||!n.innerText.length&&!o&&!s)}},dependencies:[yT,WZ,ZZ,xr,ii,bT,_T,vT,on,ls,Uy,rt,CT,Bf,Vf,Nf,Ff],styles:["[_nghost-%COMP%]  mention-list{transform:translateY(-1.25rem)}"],changeDetection:0})};var lUe=["feed"],cUe=()=>({height:"3rem",width:"3rem"}),uUe=(i,e)=>e.uuid;function dUe(i,e){if(i&1){let t=W();E(0,"feed-post-card",3),V("onPostClick",function(n){P(t);let o=_(2);return L(o.openPost(n.post().uri))})("onEmbedClick",function(n){P(t);let o=_(2);return L(o.openPost(n.record.uri))}),T(),N(1,"p-divider",4)}if(i&2){let t=e.$implicit;C("feedViewPost",t)}}function pUe(i,e){if(i&1&&_i(0,dUe,2,1,null,null,uUe),i&2){let t=_();vi(t.posts)}}function fUe(i,e){i&1&&(E(0,"div",2),N(1,"p-progress-spinner",5),T()),i&2&&(v(),pt($e(2,cUe)))}var Kf=class i{constructor(e,t,r){this.postService=e;this.dialogService=t;this.cdRef=r;qa(()=>{(this.query()||this.sort())&&this.initData()})}feed=Rr("feed");query=$t.required();sort=$t.required();posts;lastPostCursor;loading=!0;reloadReady=!1;reloadTimeout;ngOnInit(){this.query()&&this.initData(),this.postService.refreshFeeds.subscribe({next:()=>{this.feed().nativeElement.scrollTop==0?this.initData():this.reloadReady=!0}})}ngOnDestroy(){this.postService.refreshFeeds.unsubscribe(),clearTimeout(this.reloadTimeout)}initData(){this.loading=!0,ke.app.bsky.feed.searchPosts({q:this.query(),limit:15,sort:this.sort()}).then(e=>{this.lastPostCursor=e.data.cursor,this.posts=e.data.posts.map(t=>cn.parseFeedViewPost({$type:"app.bsky.feed.defs#feedViewPost",post:t},this.postService)),this.cdRef.markForCheck(),this.feed().nativeElement.scrollTo({top:0}),setTimeout(()=>{this.loading=!1,this.manageRefresh()},500)})}nextData(){this.loading||(this.loading=!0,ke.app.bsky.feed.searchPosts({q:this.query(),limit:15,sort:this.sort(),cursor:this.lastPostCursor}).then(e=>{this.lastPostCursor=e.data.cursor;let t=e.data.posts.map(r=>cn.parseFeedViewPost({$type:"app.bsky.feed.defs#feedViewPost",post:r},this.postService));this.posts=[...this.posts,...t],this.cdRef.markForCheck(),setTimeout(()=>{this.loading=!1},500)}))}openPost(e){this.feed().nativeElement.querySelectorAll("video").forEach(t=>{t.muted=!0}),this.dialogService.openThread(e,this.feed().nativeElement)}manageRefresh(){this.loading||(!this.reloadReady&&!this.reloadTimeout?this.reloadTimeout=setTimeout(()=>{this.reloadTimeout=void 0,this.feed().nativeElement.scrollTop==0?(this.reloadReady=!1,ke.getTimeline({limit:1}).then(e=>{let t=e.data.feed[0],r=this.posts[0],n=!1;if(t)if(t.reason){let o=t.reason;r.reason||(n=!0),o.indexedAt!==r.reason?.indexedAt&&(n=!0)}else r.reason&&(n=!0),t.post.indexedAt!==r.post().indexedAt&&(n=!0);n?this.initData():this.manageRefresh()})):this.reloadReady=!0},3e4):this.reloadReady&&this.feed().nativeElement.scrollTop==0&&(this.reloadReady=!1,this.initData()))}log(e){console.log(e)}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(ri),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["search-feed"]],viewQuery:function(t,r){t&1&&yr(r.feed,lUe,5),t&2&&br()},inputs:{query:[1,"query"],sort:[1,"sort"]},decls:4,vars:1,consts:[["feed",""],["vScroll","",1,"w-full","h-full","min-h-0","flex","flex-col","overflow-y-auto","has-[p-dynamicdialog]:!overflow-hidden",3,"scrollEnding","scrollTop"],[1,"h-full","w-full","flex","items-center","justify-center"],[1,"cursor-pointer","hover:bg-white/2",3,"onPostClick","onEmbedClick","feedViewPost"],[1,"!mt-0","!mb-0"],["strokeWidth","5",1,"h-12"]],template:function(t,r){if(t&1){let n=W();E(0,"div",1,0),V("scrollEnding",function(){return P(n),r.nextData(),L(r.manageRefresh())})("scrollTop",function(){return P(n),L(r.manageRefresh())}),D(2,pUe,2,0)(3,fUe,2,3,"div",2),T()}t&2&&(v(2),ie(r.posts?2:3))},dependencies:()=>[tt,ss,nn,as,ls],encapsulation:2,changeDetection:0})};var sQ=(()=>{class i{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||i)(ne(Po),ne(Kt))};static \u0275dir=Ht({type:i})}return i})(),hUe=(()=>{class i extends sQ{static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275dir=Ht({type:i,features:[Se]})}return i})(),Xf=new jt("");var mUe={provide:Xf,useExisting:Fa(()=>Zf),multi:!0};function gUe(){let i=Ed()?Ed().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var yUe=new jt(""),Zf=(()=>{class i extends sQ{_compositionMode;_composing=!1;constructor(t,r,n){super(t,r),this._compositionMode=n,this._compositionMode==null&&(this._compositionMode=!gUe())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||i)(ne(Po),ne(Kt),ne(yUe,8))};static \u0275dir=Ht({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,n){r&1&&V("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},standalone:!1,features:[He([mUe]),Se]})}return i})();var bUe=new jt(""),_Ue=new jt("");function aQ(i){return i!=null}function lQ(i){return Ly(i)?Xe(i):i}function cQ(i){let e={};return i.forEach(t=>{e=t!=null?R(R({},e),t):e}),Object.keys(e).length===0?null:e}function uQ(i,e){return e.map(t=>t(i))}function vUe(i){return!i.validate}function dQ(i){return i.map(e=>vUe(e)?e:t=>e.validate(t))}function xUe(i){if(!i)return null;let e=i.filter(aQ);return e.length==0?null:function(t){return cQ(uQ(t,e))}}function pQ(i){return i!=null?xUe(dQ(i)):null}function CUe(i){if(!i)return null;let e=i.filter(aQ);return e.length==0?null:function(t){let r=uQ(t,e).map(lQ);return q4(r).pipe(Ut(cQ))}}function fQ(i){return i!=null?CUe(dQ(i)):null}function JZ(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function EUe(i){return i._rawValidators}function TUe(i){return i._rawAsyncValidators}function M3(i){return i?Array.isArray(i)?i:[i]:[]}function AT(i,e){return Array.isArray(i)?i.includes(e):i===e}function eQ(i,e){let t=M3(e);return M3(i).forEach(n=>{AT(t,n)||t.push(n)}),t}function tQ(i,e){return M3(e).filter(t=>!AT(i,t))}var RT=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pQ(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fQ(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},V3=class extends RT{name;get formDirective(){return null}get path(){return null}},Yg=class extends RT{_parent=null;name=null;valueAccessor=null},N3=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},wUe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xCt=ue(R({},wUe),{"[class.ng-submitted]":"isSubmitted"}),Qn=(()=>{class i extends N3{constructor(t){super(t)}static \u0275fac=function(r){return new(r||i)(ne(Yg,2))};static \u0275dir=Ht({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,n){r&2&&bi("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},standalone:!1,features:[Se]})}return i})();var Wg="VALID",ST="INVALID",Hf="PENDING",Xg="DISABLED",Wf=class{},kT=class extends Wf{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Zg=class extends Wf{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Qg=class extends Wf{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Gf=class extends Wf{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function SUe(i){return(DT(i)?i.validators:i)||null}function AUe(i){return Array.isArray(i)?pQ(i):i||null}function RUe(i,e){return(DT(e)?e.asyncValidators:i)||null}function kUe(i){return Array.isArray(i)?fQ(i):i||null}function DT(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var F3=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ja(this.statusReactive)}set status(e){ja(()=>this.statusReactive.set(e))}_status=Bo(()=>this.statusReactive());statusReactive=mt(void 0);get valid(){return this.status===Wg}get invalid(){return this.status===ST}get pending(){return this.status==Hf}get disabled(){return this.status===Xg}get enabled(){return this.status!==Xg}errors;get pristine(){return ja(this.pristineReactive)}set pristine(e){ja(()=>this.pristineReactive.set(e))}_pristine=Bo(()=>this.pristineReactive());pristineReactive=mt(!0);get dirty(){return!this.pristine}get touched(){return ja(this.touchedReactive)}set touched(e){ja(()=>this.touchedReactive.set(e))}_touched=Bo(()=>this.touchedReactive());touchedReactive=mt(!1);get untouched(){return!this.touched}_events=new oi;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eQ(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eQ(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tQ(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tQ(e,this._rawAsyncValidators))}hasValidator(e){return AT(this._rawValidators,e)}hasAsyncValidator(e){return AT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Qg(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Qg(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zg(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zg(!0,r))}markAsPending(e={}){this.status=Hf;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gf(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(R({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xg,this.errors=null,this._forEachChild(n=>{n.disable(ue(R({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kT(this.value,r)),this._events.next(new Gf(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wg,this._forEachChild(r=>{r.enable(ue(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wg||this.status===Hf)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kT(this.value,t)),this._events.next(new Gf(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(R({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xg:Wg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Hf,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=lQ(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,n)=>r&&r._find(n),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Gf(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Xg:this.errors?ST:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hf)?Hf:this._anyControlsHaveStatus(ST)?ST:Wg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),n=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&this._events.next(new Zg(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qg(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){DT(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AUe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kUe(this._rawAsyncValidators)}};var hQ=new jt("",{providedIn:"root",factory:()=>U3}),U3="always";function DUe(i,e){return[...e.path,i]}function IUe(i,e,t=U3){LUe(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),BUe(i,e),MUe(i,e),OUe(i,e),PUe(i,e)}function iQ(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PUe(i,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function LUe(i,e){let t=EUe(i);e.validator!==null?i.setValidators(JZ(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let r=TUe(i);e.asyncValidator!==null?i.setAsyncValidators(JZ(r,e.asyncValidator)):typeof r=="function"&&i.setAsyncValidators([r]);let n=()=>i.updateValueAndValidity();iQ(e._rawValidators,n),iQ(e._rawAsyncValidators,n)}function BUe(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&mQ(i,e)})}function OUe(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&mQ(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function mQ(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function MUe(i,e){let t=(r,n)=>{e.valueAccessor.writeValue(r),n&&e.viewToModelUpdate(r)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function VUe(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function NUe(i){return Object.getPrototypeOf(i.constructor)===hUe}function FUe(i,e){if(!e)return null;Array.isArray(e);let t,r,n;return e.forEach(o=>{o.constructor===Zf?t=o:NUe(o)?r=o:n=o}),n||r||t||null}function rQ(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function nQ(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var UUe=class extends F3{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(SUe(t),RUe(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),DT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(nQ(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rQ(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rQ(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nQ(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jUe={provide:Yg,useExisting:Fa(()=>Xr)},oQ=Promise.resolve(),Xr=(()=>{class i extends Yg{_changeDetectorRef;callSetDisabledState;control=new UUe;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(t,r,n,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(n),this.valueAccessor=FUe(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),VUe(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){IUe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){oQ.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,n=r!==0&&de(r);oQ.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?DUe(t,this._parent):[t]}static \u0275fac=function(r){return new(r||i)(ne(V3,9),ne(bUe,10),ne(_Ue,10),ne(Xf,10),ne(Wt,8),ne(hQ,8))};static \u0275dir=Ht({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[He([jUe]),Se,Ji]})}return i})();var qUe=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({})}return i})();var Yn=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:hQ,useValue:t.callSetDisabledState??U3}]}}static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({imports:[qUe]})}return i})();var $Ue=({dt:i})=>`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: ${i("inputtext.color")};
    background: ${i("inputtext.background")};
    padding-block: ${i("inputtext.padding.y")};
    padding-inline: ${i("inputtext.padding.x")};
    border: 1px solid ${i("inputtext.border.color")};
    transition: background ${i("inputtext.transition.duration")}, color ${i("inputtext.transition.duration")}, border-color ${i("inputtext.transition.duration")}, outline-color ${i("inputtext.transition.duration")}, box-shadow ${i("inputtext.transition.duration")};
    appearance: none;
    border-radius: ${i("inputtext.border.radius")};
    outline-color: transparent;
    box-shadow: ${i("inputtext.shadow")};
}

.p-inputtext.ng-invalid.ng-dirty {
    border-color: ${i("inputtext.invalid.border.color")};
}

.p-inputtext:enabled:hover {
    border-color: ${i("inputtext.hover.border.color")};
}

.p-inputtext:enabled:focus {
    border-color: ${i("inputtext.focus.border.color")};
    box-shadow: ${i("inputtext.focus.ring.shadow")};
    outline: ${i("inputtext.focus.ring.width")} ${i("inputtext.focus.ring.style")} ${i("inputtext.focus.ring.color")};
    outline-offset: ${i("inputtext.focus.ring.offset")};
}

.p-inputtext.p-invalid {
    border-color: ${i("inputtext.invalid.border.color")};
}

.p-inputtext.p-variant-filled {
    background: ${i("inputtext.filled.background")};
}
    
.p-inputtext.p-variant-filled:enabled:hover {
    background: ${i("inputtext.filled.hover.background")};
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: ${i("inputtext.filled.focus.background")};
}

.p-inputtext:disabled {
    opacity: 1;
    background: ${i("inputtext.disabled.background")};
    color: ${i("inputtext.disabled.color")};
}

.p-inputtext::placeholder {
    color: ${i("inputtext.placeholder.color")};
}

.p-inputtext.ng-invalid.ng-dirty::placeholder {
    color: ${i("inputtext.invalid.placeholder.color")};
}

.p-inputtext-sm {
    font-size: ${i("inputtext.sm.font.size")};
    padding-block: ${i("inputtext.sm.padding.y")};
    padding-inline: ${i("inputtext.sm.padding.x")};
}

.p-inputtext-lg {
    font-size: ${i("inputtext.lg.font.size")};
    padding-block: ${i("inputtext.lg.padding.y")};
    padding-inline: ${i("inputtext.lg.padding.x")};
}

.p-inputtext-fluid {
    width: 100%;
}
`,zUe={root:({instance:i,props:e})=>["p-inputtext p-component",{"p-filled":i.filled,"p-inputtext-sm":e.size==="small","p-inputtext-lg":e.size==="large","p-invalid":e.invalid,"p-variant-filled":e.variant==="filled","p-inputtext-fluid":e.fluid}]},gQ=(()=>{class i extends lt{name="inputtext";theme=$Ue;classes=zUe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var IT=(()=>{class i extends Je{ngModel;variant;fluid;pSize;filled;_componentStyle=se(gQ);get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return Sr(this.fluid)?!!r:this.fluid}constructor(t){super(),this.ngModel=t}ngAfterViewInit(){super.ngAfterViewInit(),this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(r){return new(r||i)(ne(Xr,8))};static \u0275dir=Ht({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component"],hostVars:14,hostBindings:function(r,n){if(r&1&&V("input",function(s){return n.onInput(s)}),r&2){let o;bi("p-filled",n.filled)("p-variant-filled",((o=n.variant)!==null&&o!==void 0?o:n.config.inputStyle()||n.config.inputVariant())==="filled")("p-inputtext-fluid",n.hasFluid)("p-inputtext-sm",n.pSize==="small")("p-inputfield-sm",n.pSize==="small")("p-inputtext-lg",n.pSize==="large")("p-inputfield-lg",n.pSize==="large")}},inputs:{variant:"variant",fluid:[2,"fluid","fluid",de],pSize:"pSize"},features:[He([gQ]),Se]})}return i})();var KUe=["usersTemplate"],HUe=()=>({"--p-card-body-padding":0,"--p-card-background":"var(--p-primary-800)",height:"100%",overflow:"hidden"}),GUe=(i,e)=>e.did;function WUe(i,e){if(i&1){let t=W();E(0,"button",10),V("click",function(){P(t);let n=_();return L(n.addAsColumn())}),N(1,"i",11),T()}}function XUe(i,e){if(i&1){let t=W();E(0,"div",12)(1,"button",13),V("click",function(){P(t);let n=_();return L(n.searchType.set("top"))}),J(2," Top "),T(),E(3,"button",13),V("click",function(){P(t);let n=_();return L(n.searchType.set("latest"))}),J(4," Latest "),T(),E(5,"button",13),V("click",function(){P(t);let n=_();return n.initUsers(),L(n.searchType.set("users"))}),J(6," Users "),T(),E(7,"button",13),V("click",function(){P(t);let n=_();return L(n.searchType.set("feeds"))}),J(8," Feeds "),T()()}if(i&2){let t=_();v(),bi("!bg-primary-600",t.searchType()=="top"),v(2),bi("!bg-primary-600",t.searchType()=="latest"),v(2),bi("!bg-primary-600",t.searchType()=="users"),v(2),bi("!bg-primary-600",t.searchType()=="feeds")}}function ZUe(i,e){if(i&1&&N(0,"search-feed",14),i&2){let t=_(3);C("query",t.savedQuery())("sort","top")}}function QUe(i,e){if(i&1&&N(0,"search-feed",14),i&2){let t=_(3);C("query",t.savedQuery())("sort","latest")}}function YUe(i,e){if(i&1&&Pe(0,15),i&2){_(3);let t=Ue(12);C("ngTemplateOutlet",t)}}function JUe(i,e){if(i&1&&D(0,ZUe,1,2,"search-feed",14)(1,QUe,1,2,"search-feed",14)(2,YUe,1,1,"ng-container",15),i&2){let t=_(2);ie(t.searchType()=="top"?0:t.searchType()=="latest"?1:t.searchType()=="users"?2:-1)}}function eje(i,e){if(i&1&&D(0,JUe,3,1),i&2){let t=_();ie(t.savedQuery()?0:-1)}}function tje(i,e){if(i&1&&(E(0,"span",21),J(1),T()),i&2){let t=_().$implicit;v(),ft(" ","@"+t.handle," ")}}function ije(i,e){if(i&1){let t=W();E(0,"div",17),V("click",function(){let n=P(t).$implicit,o=_(2);return L(o.dialogService.openAuthor(n.did))}),N(1,"p-avatar",18),E(2,"div",19)(3,"span",20),J(4),fe(5,"displayName"),T(),D(6,tje,2,1,"span",21),E(7,"span",22),J(8),T()(),E(9,"div",23)(10,"follow-button",24),V("authorChange",function(n){let o=P(t).$implicit;return L(o.viewer=n.viewer)}),T()()(),N(11,"p-divider",25)}if(i&2){let t=e.$implicit;v(),C("image",t.avatar),v(3),ft(" ",xe(5,5,t)," "),v(2),ie(t.displayName?6:-1),v(2),ft(" ",t.description," "),v(2),C("author",t)}}function rje(i,e){if(i&1){let t=W();E(0,"div",16),V("scrollEnding",function(){P(t);let n=_();return L(n.nextUsers())}),_i(1,ije,12,7,null,null,GUe),T()}if(i&2){let t=_();v(),vi(t.users())}}var PT=class i{constructor(e,t,r,n,o,s){this.dialog=t;this.dialogService=r;this.messageService=n;this.cdRef=o;this.columnService=s;e.data.query&&(this.query=e.data.query,this.savedQuery=e.data.query),qa(()=>{this.usersTemplate()&&this.savedQuery()&&this.initUsers()})}query="";savedQuery=mt(void 0);searchType=mt("top");cursor=mt(void 0);users=mt([]);feeds=mt([]);usersTemplate=Rr("usersTemplate");initUsers(){this.savedQuery()&&(this.users.set([]),ke.searchActors({q:this.savedQuery(),limit:15}).then(e=>{this.users.set(e.data.actors),this.cursor.set(e.data.cursor),this.cdRef.markForCheck()}))}nextUsers(){ke.searchActors({q:this.savedQuery(),limit:15,cursor:this.cursor()}).then(e=>{this.users.update(t=>(t=[...t,...e.data.actors],t)),this.cursor.set(e.data.cursor),this.cdRef.markForCheck()})}addAsColumn(){this.columnService.createSearchColumn(this.savedQuery(),this.searchType()),this.dialog.close()}static \u0275fac=function(t){return new(t||i)(ne(ga),ne(vo),ne(ri),ne(Qi),ne(Wt),ne(ma))};static \u0275cmp=oe({type:i,selectors:[["search-dialog"]],viewQuery:function(t,r){t&1&&yr(r.usersTemplate,KUe,5),t&2&&br()},decls:13,vars:5,consts:[["searchBtn",""],["header",""],["content",""],["usersTemplate",""],[1,"relative","flex","flex-col","h-full","p-4"],["pInputText","","autocomplete","off","aria-autocomplete","none","autofocus","",1,"w-full",3,"ngModelChange","keydown.enter","ngModel"],["pButton","","pRipple","","text","","pTooltip","Add as column","tooltipPosition","bottom",1,"h-[calc(2.5rem_+_2px)]","!absolute","top-4","right-14.5","!rounded-none"],["pButton","","pRipple","","text","",1,"h-[calc(2.5rem_+_2px)]","!absolute","top-4","right-4","!rounded-none",3,"click"],[1,"pi","pi-search"],[1,"relative","block","flex-1","mt-4","overflow-hidden","border","border-[var(--p-content-border-color)]","rounded-[var(--p-card-border-radius)]","[&_.p-card-body]:!overflow-hidden","[&_.p-card-content]:!overflow-hidden"],["pButton","","pRipple","","text","","pTooltip","Add as column","tooltipPosition","bottom",1,"h-[calc(2.5rem_+_2px)]","!absolute","top-4","right-14.5","!rounded-none",3,"click"],[1,"pi","pi-plus"],[1,"flex","h-11","w-full","items-center","justify-center","bg-[var(--p-primary-750)]","[border-bottom:1px_solid_var(--p-surface-700)]"],["pRipple","",1,"flex","flex-1","h-full","items-center","justify-center","font-medium","border-r-1","border-r-[var(--p-content-border-color)]","hover:bg-primary-700","cursor-pointer",3,"click"],[1,"block","h-full",3,"query","sort"],[3,"ngTemplateOutlet"],["vScroll","",1,"h-full","flex","flex-col","overflow-y-auto",3,"scrollEnding"],[1,"flex","min-h-20","gap-4","p-3","shrink-0","hover:bg-white/5","cursor-pointer",3,"click"],["size","xlarge",1,"!h-14","!w-14","mt-1","rounded-md","overflow-hidden","shrink-0",3,"image"],[1,"flex","flex-col","grow"],[1,"text-lg","font-medium","text-left"],[1,"text-sm","text-primary-400","text-left"],[1,"mt-2","line-clamp-2","whitespace-pre-line","break-words","overflow-ellipsis","text-left","text-sm","text-primary-300"],[1,"shrink-0"],[1,"block","mt-1",3,"authorChange","author"],[1,"!mb-0","!mt-0"]],template:function(t,r){if(t&1){let n=W();E(0,"div",4)(1,"input",5),Wc("ngModelChange",function(s){return P(n),Gc(r.query,s)||(r.query=s),L(s)}),V("keydown.enter",function(){P(n);let s=Ue(4);return L(s.click())}),T(),D(2,WUe,2,0,"button",6),E(3,"button",7,0),V("click",function(){return P(n),r.savedQuery.set(r.query),L(r.cdRef.markForCheck())}),N(5,"i",8),T(),E(6,"p-card",9),D(7,XUe,9,8,"ng-template",null,1,Le)(9,eje,1,1,"ng-template",null,2,Le),T()(),D(11,rje,3,0,"ng-template",null,3,Le)}t&2&&(v(),Hc("ngModel",r.query),v(),ie(r.savedQuery()&&(r.searchType()=="top"||r.searchType()=="latest")?2:-1),v(4),pt($e(4,HUe)))},dependencies:[yT,Yn,Zf,Qn,Xr,rn,on,Kf,$n,xr,ii,nn,IT,rt,zf,as,uc],styles:["[_nghost-%COMP%]  p-auto-complete .p-autocomplete, [_nghost-%COMP%]  p-auto-complete .p-autocomplete input{width:100%}[_nghost-%COMP%]  p-auto-complete .p-autocomplete-list-container{max-height:unset!important}[_nghost-%COMP%]  p-auto-complete p-overlay:has(.p-autocomplete-empty-message){display:none}"],changeDetection:0})};var ri=class i{constructor(e){this.dialogService=e}images=mt(void 0);viewImage=mt(!1);openAuthor(e){let t=this.dialogService.open(fT,{data:{actor:e},appendTo:document.querySelector("dashboard"),maskStyleClass:"[--p-dialog-content-padding:0] [&_.p-dialog-header]:!hidden",modal:!0,dismissableMask:!0,focusOnShow:!1,duplicate:!0});t.onClose.subscribe(()=>t.destroy())}openImagePost(e,t){this.images.set({images:e,index:t})}openThread(e,t){let r=this.dialogService.open(uT,{data:{uri:e},appendTo:t,maskStyleClass:"!absolute top-[100px] !max-w-full [--p-dialog-content-padding:0] [&_.p-dialog-header]:!hidden",style:{height:"100%",width:"100%",maxHeight:"100%"},autoZIndex:!1,focusOnShow:!1,duplicate:!0});r.onClose.subscribe(()=>r.destroy())}openSearch(e){let t=this.dialogService.open(PT,{data:{query:e},appendTo:document.querySelector("dashboard"),height:"100%",width:"40rem",maskStyleClass:"[--p-dialog-content-padding:0] [&_.p-dialog-header]:!hidden",modal:!0,dismissableMask:!0,focusOnShow:!0,duplicate:!0});t.onClose.subscribe(()=>t.destroy())}openPostComposer(e){let t=this.dialogService.open(wT,{appendTo:document.querySelector("dashboard"),maskStyleClass:"[&_.p-dialog-header]:!hidden [&_.p-dialog-content]:!overflow-visible",style:{position:"absolute",bottom:"0.5rem",left:"4.75rem","--p-dialog-content-padding":0},focusOnShow:!0});t.onClose.subscribe(()=>{e.set(void 0),t.destroy()})}static \u0275fac=function(t){return new(t||i)(Ke(pc))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})};function nje(i,e){if(i&1){let t=W();E(0,"a",5),V("click",function(n){return P(t),L(n.stopPropagation())}),J(1),T()}if(i&2){let t=_().$implicit;C("href",t.link==null?null:t.link.uri,dt),v(),ft(" ",t.text," ")}}function oje(i,e){if(i&1){let t=W();E(0,"a",6),V("click",function(n){P(t);let o=_().$implicit,s=_();return L(s.openAuthor(n,o.mention==null?null:o.mention.did))}),J(1),T()}if(i&2){let t=_().$implicit;Cd("href","https://bsky.app/profile/",t.mention==null?null:t.mention.did,"",dt),v(),Ze(t.text)}}function sje(i,e){if(i&1){let t=W();E(0,"a",7),V("click",function(n){return P(t),n.stopPropagation(),L(n.preventDefault())}),J(1),T()}if(i&2){let t=_().$implicit;Cd("href","https://bsky.app/hashtag/",t.tag==null?null:t.tag.tag,"",dt),v(),Ze(t.text)}}function aje(i,e){if(i&1&&(E(0,"span",4),J(1),T()),i&2){let t=_().$implicit;v(),Ze(t.text)}}function lje(i,e){if(i&1&&D(0,nje,2,2,"a",1)(1,oje,2,3,"a",2)(2,sje,2,3,"a",3)(3,aje,2,1,"span",4),i&2){let t=e.$implicit;ie(t.isLink()?0:t.isMention()?1:t.isTag()?2:3)}}var os=class i{constructor(e,t){this.cdRef=e;this.dialogService=t}text;facets;onMentionClick;onTagClick;segments=[];ngOnInit(){let e=new yQ.RichText({text:this.text,facets:this.facets});this.facets?this.segments=[...e.segments()]:e.detectFacets(ke).then(()=>{this.segments=[...e.segments()],this.cdRef.markForCheck()})}openAuthor(e,t){e.preventDefault(),e.stopPropagation(),this.dialogService.openAuthor(t)}static \u0275fac=function(t){return new(t||i)(ne(Wt),ne(ri))};static \u0275cmp=oe({type:i,selectors:[["rich-text"]],inputs:{text:"text",facets:"facets"},outputs:{onMentionClick:"onMentionClick",onTagClick:"onTagClick"},decls:3,vars:0,consts:[[1,"whitespace-pre-line","block","[overflow-wrap:break-word]"],["target","_blank",1,"hover:underline","text-blue-400","visited:text-purple-400","break-all",3,"href"],[1,"hover:underline","text-blue-400",3,"href"],[1,"hover:underline","text-blue-400","visited:text-purple-500",3,"href"],[1,"break-words"],["target","_blank",1,"hover:underline","text-blue-400","visited:text-purple-400","break-all",3,"click","href"],[1,"hover:underline","text-blue-400",3,"click","href"],[1,"hover:underline","text-blue-400","visited:text-purple-500",3,"click","href"]],template:function(t,r){t&1&&(E(0,"span",0),_i(1,lje,4,1,null,null,Kc),T()),t&2&&(v(),vi(r.segments))},encapsulation:2,changeDetection:0})};var cje=(i,e)=>({record:i,media:e}),uje=i=>({feed:i}),dje=i=>({list:i}),pje=i=>({starterPack:i}),fje=i=>({media:i,margin:"mt-2"}),bQ=()=>({blur:!1});function hje(i,e){if(i&1&&Pe(0,12),i&2){let t=_(),r=Ue(19);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Rt(2,cje,t.embed.record,t.embed.record.embeds?t.embed.record.embeds[0]:void 0))}}function mje(i,e){i&1&&(E(0,"span",13),J(1," Post blocked "),T())}function gje(i,e){i&1&&(E(0,"span",13),J(1," Post not found "),T())}function yje(i,e){i&1&&(E(0,"span",13),J(1," Post detached "),T())}function bje(i,e){if(i&1&&Pe(0,12),i&2){let t=_(),r=Ue(23);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,uje,t.embed.record))}}function _je(i,e){if(i&1&&Pe(0,12),i&2){let t=_(),r=Ue(25);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,dje,t.embed.record))}}function vje(i,e){i&1&&(E(0,"span",13),J(1," Labeler record "),T())}function xje(i,e){if(i&1&&Pe(0,12),i&2){let t=_(),r=Ue(27);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,pje,t.embed.record))}}function Cje(i,e){if(i&1){let t=W();E(0,"a",20),V("click",function(n){P(t);let o=_().record,s=_();return L(s.openAuthor(n,o.author.did))}),J(1),T()}if(i&2){let t=_().record;C("href","https://bsky.app/profile/"+t.author.handle,dt),v(),ft(" ","@"+t.author.handle," ")}}function Eje(i,e){if(i&1&&(E(0,"div",19,8),N(2,"rich-text",21),T()),i&2){let t=_().record;v(2),C("text",t.value.text)}}function Tje(i,e){if(i&1&&Pe(0,12),i&2){let t=_().media;_();let r=Ue(21);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,fje,t))}}function wje(i,e){if(i&1){let t=W();E(0,"div",14,6)(2,"a",15,7),V("click",function(n){let o=P(t).record,s=_();return L(s.openAuthor(n,o.author.did))}),N(4,"p-avatar",16),T(),E(5,"a",17),V("click",function(n){let o=P(t).record,s=_();return L(s.openAuthor(n,o.author.did))}),J(6),fe(7,"displayName"),T(),D(8,Cje,2,2,"a",18),T(),D(9,Eje,3,1,"div",19),fe(10,"isFeedPostRecord"),D(11,Tje,1,4,"ng-container",12)}if(i&2){let t=e.record,r=e.media;v(2),C("href","https://bsky.app/profile/"+t.author.handle,dt),v(2),C("image",t.author.avatar),v(),C("href","https://bsky.app/profile/"+t.author.handle,dt),v(),ft(" ",xe(7,7,t.author)," "),v(2),ie(t.author.displayName!=null&&t.author.displayName.trim().length?8:-1),v(),ie(xe(10,9,t.value)&&t.value.text.length?9:-1),v(2),ie(r?11:-1)}}function Sje(i,e){if(i&1){let t=W();E(0,"post-embed-images",23),V("onImgClick",function(n){P(t);let o=_().media,s=_();return L(s.dialogService.openImagePost(o.images,n))}),T()}if(i&2){let t=_(),r=t.media,n=t.margin;we(n),C("embed",r)}}function Aje(i,e){if(i&1){let t=W();E(0,"post-embed-video",24),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}if(i&2){let t=_(),r=t.media,n=t.margin;we(n),C("embed",r)}}function Rje(i,e){if(i&1&&N(0,"post-embed-external",25),i&2){let t=_(),r=t.media,n=t.margin;we(n),C("embed",r)}}function kje(i,e){if(i&1){let t=W();E(0,"post-embed-record",26),V("onEmbedClick",function(n){P(t);let o=_(2);return L(o.onEmbedClick.emit(n))}),T()}if(i&2){let t=_(),r=t.media,n=t.margin;we(n),C("embed",r)}}function Dje(i,e){if(i&1){let t=W();E(0,"post-embed-images",23),V("onImgClick",function(n){P(t);let o=_(2).media,s=_();return L(s.dialogService.openImagePost(o.media.images,n))}),T()}if(i&2){let t=_(2),r=t.media,n=t.margin;we(n),C("embed",r.media)}}function Ije(i,e){if(i&1){let t=W();E(0,"post-embed-video",24),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}if(i&2){let t=_(2),r=t.media,n=t.margin;we(n),C("embed",r.media)}}function Pje(i,e){if(i&1&&N(0,"post-embed-external",25),i&2){let t=_(2),r=t.media,n=t.margin;we(n),C("embed",r.media)}}function Lje(i,e){if(i&1){let t=W();D(0,Dje,1,3,"post-embed-images",22),fe(1,"isEmbedImagesView"),D(2,Ije,1,3,"post-embed-video",22),fe(3,"isEmbedVideoView"),D(4,Pje,1,3,"post-embed-external",22),fe(5,"isEmbedExternalView"),E(6,"post-embed-record",26),V("onEmbedClick",function(n){P(t);let o=_(2);return L(o.onEmbedClick.emit(n))}),T()}if(i&2){let t=_(),r=t.media,n=t.margin;ie(xe(1,6,r.media)?0:-1),v(2),ie(xe(3,8,r.media)?2:-1),v(2),ie(xe(5,10,r.media)?4:-1),v(2),we(n),C("embed",r.record)}}function Bje(i,e){if(i&1&&(D(0,Sje,1,3,"post-embed-images",22),fe(1,"isEmbedImagesView"),D(2,Aje,1,3,"post-embed-video",22),fe(3,"isEmbedVideoView"),D(4,Rje,1,3,"post-embed-external",22),fe(5,"isEmbedExternalView"),D(6,kje,1,3,"post-embed-record",22),fe(7,"isEmbedRecordView"),D(8,Lje,7,12),fe(9,"isEmbedRecordWithMediaView")),i&2){let t=e.media;ie(xe(1,5,t)?0:-1),v(2),ie(xe(3,7,t)?2:-1),v(2),ie(xe(5,9,t)?4:-1),v(2),ie(xe(7,11,t)?6:-1),v(2),ie(xe(9,13,t)?8:-1)}}function Oje(i,e){if(i&1&&(J(0),fe(1,"displayName")),i&2){let t=_().feed;ft(" Video feed by ",xe(1,1,t.creator)," ")}}function Mje(i,e){if(i&1&&(J(0),fe(1,"displayName")),i&2){let t=_().feed;ft(" Feed by ",xe(1,1,t.creator)," ")}}function Vje(i,e){if(i&1){let t=W();E(0,"div",27,6)(2,"a",28,9),fe(4,"linkExtractor"),V("click",function(n){P(t);let o=_();return L(o.openFeed(n))}),N(5,"img",29),fe(6,"displayName"),T(),E(7,"div",30,10)(9,"a",31),fe(10,"linkExtractor"),V("click",function(n){P(t);let o=_();return L(o.openFeed(n))}),J(11),T(),E(12,"a",32),fe(13,"linkExtractor"),V("click",function(n){P(t);let o=_();return L(o.openFeed(n))}),D(14,Oje,2,3)(15,Mje,2,3),T()()()}if(i&2){let t,r,n=e.feed,o=_();v(2),C("href",Er(4,9,n.uri,n.creator.handle),dt),v(3),Cd("alt","",xe(6,12,n.name),"'s avatar"),C("ngSrc",(t=n.avatar)!==null&&t!==void 0?t:"default_pfp.jpg")("placeholderConfig",$e(20,bQ)),v(4),C("href",Er(10,14,n.uri,n.creator.handle),dt),v(2),ft(" ",n.displayName," "),v(),C("href",Er(13,17,n.uri,n.creator.handle),dt),v(2),ie((r=n.contentMode)===o.AppBskyFeedDefs.CONTENTMODEVIDEO?14:15)}}function Nje(i,e){if(i&1&&(J(0),fe(1,"displayName")),i&2){let t=_().list;ft(" Mod list by ",xe(1,1,t.creator)," ")}}function Fje(i,e){if(i&1&&(J(0),fe(1,"displayName")),i&2){let t=_().list;ft(" List by ",xe(1,1,t.creator)," ")}}function Uje(i,e){if(i&1){let t=W();E(0,"div",27,6)(2,"a",28,9),fe(4,"linkExtractor"),V("click",function(n){P(t);let o=_();return L(o.openList(n))}),N(5,"img",29),fe(6,"displayName"),T(),E(7,"div",30,10)(9,"a",31),fe(10,"linkExtractor"),V("click",function(n){P(t);let o=_();return L(o.openList(n))}),J(11),T(),E(12,"a",32),fe(13,"linkExtractor"),V("click",function(n){P(t);let o=_();return L(o.openList(n))}),D(14,Nje,2,3)(15,Fje,2,3),T()()()}if(i&2){let t,r,n=e.list,o=_();v(2),C("href",Er(4,9,n.uri,n.creator.handle),dt),v(3),Cd("alt","",xe(6,12,n.name),"'s avatar"),C("ngSrc",(t=n.avatar)!==null&&t!==void 0?t:"default_pfp.jpg")("placeholderConfig",$e(20,bQ)),v(4),C("href",Er(10,14,n.uri,n.creator.handle),dt),v(2),ft(" ",n.name," "),v(),C("href",Er(13,17,n.uri,n.creator.handle),dt),v(2),ie((r=n.purpose)===o.AppBskyGraphDefs.MODLIST?14:15)}}function jje(i,e){if(i&1){let t=W();E(0,"div",27,6)(2,"a",28,9),fe(4,"linkExtractorStarterPack"),V("click",function(n){P(t);let o=_();return L(o.openStarterPack(n))}),T(),E(5,"div",30,10)(7,"a",31),fe(8,"linkExtractorStarterPack"),V("click",function(n){P(t);let o=_();return L(o.openStarterPack(n))}),J(9),T(),E(10,"a",32),fe(11,"linkExtractorStarterPack"),V("click",function(n){P(t);let o=_();return L(o.openStarterPack(n))}),J(12),fe(13,"displayName"),T()()()}if(i&2){let t=e.starterPack;v(2),C("href",Er(4,5,t.uri,t.creator.handle),dt),v(5),C("href",Er(8,8,t.uri,t.creator.handle),dt),v(2),ft(" ",t.record.name," "),v(),C("href",Er(11,11,t.uri,t.creator.handle),dt),v(2),ft(" Starter pack by ",xe(13,14,t.creator)," ")}}var qf=class i{constructor(e){this.dialogService=e}embed;onEmbedClick=new Me;AppBskyGraphDefs=LT.AppBskyGraphDefs;AppBskyFeedDefs=LT.AppBskyFeedDefs;openEmbed(e){window.getSelection().toString().length||this.onEmbedClick.emit(this.embed),e.stopPropagation()}openAuthor(e,t){e.preventDefault(),e.stopPropagation(),this.dialogService.openAuthor(t)}openStarterPack(e){window.getSelection().toString().length,e.preventDefault(),e.stopPropagation()}openList(e){window.getSelection().toString().length,e.preventDefault(),e.stopPropagation()}openFeed(e){window.getSelection().toString().length,e.preventDefault(),e.stopPropagation()}static \u0275fac=function(t){return new(t||i)(ne(ri))};static \u0275cmp=oe({type:i,selectors:[["post-embed-record"]],inputs:{embed:"embed"},outputs:{onEmbedClick:"onEmbedClick"},decls:28,vars:24,consts:[["base",""],["post",""],["mediaEmbeds",""],["feed",""],["userList",""],["starterPack",""],["header",""],["avatar",""],["body",""],["title",""],["displayName",""],[1,"flex","flex-col","p-3","cursor-pointer","border","rounded-[var(--p-card-border-radius)]","border-[var(--p-content-border-color)]",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"msky-text-body"],["id","header",1,"flex","gap-2","items-center"],[1,"h-5","w-5",3,"click","href"],[1,"shrink-0","!h-5","!w-5","overflow-hidden",3,"image"],[1,"font-semibold","shrink-1","grow-0","min-w-0","hover:underline","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-nowrap","h-fit",3,"click","href"],[1,"text-sm","text-primary-400","shrink-0","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-pre","h-fit",3,"href"],[1,"mt-2"],[1,"text-sm","text-primary-400","shrink-0","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-pre","h-fit",3,"click","href"],[1,"text-sm",3,"text"],[3,"embed","class"],[3,"onImgClick","embed"],[3,"click","embed"],[3,"embed"],[3,"onEmbedClick","embed"],[1,"flex","gap-3"],[1,"shrink-0","h-8","w-8",3,"click","href"],["width","32","height","32","placeholder","default_pfp.jpg",3,"ngSrc","alt","placeholderConfig"],[1,"flex","flex-col","w-full","justify-between","min-w-0"],[1,"w-fit","msky-text-body","font-semibold","hover:underline","leading-[100%]","line-clamp-1",3,"click","href"],[1,"w-fit","msky-text-caption","text-[12px]","leading-[100%]","line-clamp-1",3,"click","href"]],template:function(t,r){if(t&1){let n=W();E(0,"div",11,0),V("click",function(s){return P(n),L(r.openEmbed(s))}),D(2,hje,1,5,"ng-container",12),fe(3,"isEmbedRecordViewRecord"),D(4,mje,2,0,"span",13),fe(5,"isEmbedRecordViewBlocked"),D(6,gje,2,0,"span",13),fe(7,"isEmbedRecordViewNotFound"),D(8,yje,2,0,"span",13),fe(9,"isEmbedRecordViewDetached"),D(10,bje,1,4,"ng-container",12),fe(11,"isFeedDefsGeneratorView"),D(12,_je,1,4,"ng-container",12),fe(13,"isGraphDefsListView"),D(14,vje,2,0,"span",13),fe(15,"isLabelerDefsLabelerView"),D(16,xje,1,4,"ng-container",12),fe(17,"isGraphDefsStarterPackView"),T(),D(18,wje,12,11,"ng-template",null,1,Le)(20,Bje,10,15,"ng-template",null,2,Le)(22,Vje,16,21,"ng-template",null,3,Le)(24,Uje,16,21,"ng-template",null,4,Le)(26,jje,14,16,"ng-template",null,5,Le)}t&2&&(v(2),ie(xe(3,8,r.embed.record)?2:-1),v(2),ie(xe(5,10,r.embed.record)?4:-1),v(2),ie(xe(7,12,r.embed.record)?6:-1),v(2),ie(xe(9,14,r.embed.record)?8:-1),v(2),ie(xe(11,16,r.embed.record)?10:-1),v(2),ie(xe(13,18,r.embed.record)?12:-1),v(2),ie(xe(15,20,r.embed.record)?14:-1),v(2),ie(xe(17,22,r.embed.record)?16:-1))},dependencies:[i,Bf,hc,fc,Jo,rt,Qo,ba,Yo,Pa,ya,Oc,tT,iT,rT,on,Vf,Nf,nT,oT,zn,os,Td,rn,Ff],encapsulation:2,changeDetection:0})};var _Q=i=>({post:i}),qje=i=>({record:i}),$je=i=>({reason:i}),zje=i=>({reply:i}),Kje=i=>({embed:i});function Hje(i,e){if(i&1&&Pe(0,14),i&2){let t=_(),r=Ue(16);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,$je,t.feedViewPost().reason))}}function Gje(i,e){if(i&1&&Pe(0,14),i&2){let t=_(),r=Ue(18);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,zje,t.feedViewPost().reply))}}function Wje(i,e){i&1&&N(0,"div",19)}function Xje(i,e){if(i&1&&Pe(0,14),i&2){let t=_(),r=Ue(24);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(2,Kje,t.feedViewPost().post().embed))}}function Zje(i,e){if(i&1){let t=W();N(0,"i",22),E(1,"div",23)(2,"span",24),J(3,"Reposted by\xA0"),T(),E(4,"a",25),V("click",function(n){P(t);let o=_().reason,s=_();return L(s.openAuthor(n,o.by.did))}),J(5),fe(6,"displayName"),T()()}if(i&2){let t=_().reason;v(4),C("href","https://bsky.app/profile/"+t.by.handle,dt),v(),Ze(xe(6,2,t.by))}}function Qje(i,e){i&1&&(N(0,"i",26),E(1,"div",23)(2,"span",24),J(3,"Pinned post"),T()())}function Yje(i,e){if(i&1&&(E(0,"div",21),D(1,Zje,7,4),fe(2,"isFeedDefsReasonRepost"),fe(3,"isFeedDefsReasonPin"),D(4,Qje,4,0),T()),i&2){let t=e.reason;v(),ie(xe(2,1,t)?1:xe(3,3,t)?4:-1)}}function Jje(i,e){i&1&&(E(0,"span",24),J(1,"Replying to someone (not found)"),T())}function eqe(i,e){i&1&&(E(0,"span",24),J(1,"Replying to someone (blocked)"),T())}function tqe(i,e){if(i&1){let t=W();E(0,"div",23)(1,"span",28),J(2,"Replying to\xA0"),T(),E(3,"a",29),V("click",function(n){P(t);let o=_().reply,s=_();return L(s.openAuthor(n,o.parent.author.did))}),J(4),fe(5,"displayName"),T()()}if(i&2){let t=_().reply;v(3),C("href","https://bsky.app/profile/"+t.parent.author.handle,dt),v(),Ze(xe(5,2,t.parent.author))}}function iqe(i,e){if(i&1&&(E(0,"div",21),N(1,"i",27),D(2,Jje,2,0,"span",24),fe(3,"isFeedDefsNotFoundPost"),fe(4,"isFeedDefsBlockedPost"),fe(5,"isFeedDefsPostView"),D(6,eqe,2,0,"span",24)(7,tqe,6,4,"div",23),T()),i&2){let t=e.reply;v(2),ie(xe(3,1,t.parent)?2:xe(4,3,t.parent)?6:xe(5,5,t.parent)?7:-1)}}function rqe(i,e){if(i&1){let t=W();E(0,"a",35),V("click",function(n){P(t);let o=_().post,s=_();return L(s.openAuthor(n,o.author.did))}),J(1),T()}if(i&2){let t=_().post;C("href","https://bsky.app/profile/"+t.author.handle,dt),v(),ft(" ","@"+t.author.handle," ")}}function nqe(i,e){if(i&1){let t=W();E(0,"div",30,8)(2,"a",31),V("click",function(n){let o=P(t).post,s=_();return L(s.openAuthor(n,o.author.did))}),J(3),fe(4,"displayName"),T(),D(5,rqe,2,2,"a",32),E(6,"span",33),J(7,"\xB7"),T(),E(8,"a",34),fe(9,"linkExtractor"),fe(10,"date"),V("click",function(n){return P(t),L(n.stopPropagation())}),J(11),fe(12,"dateFormatter"),T()()}if(i&2){let t=e.post;v(2),C("href","https://bsky.app/profile/"+t.author.handle,dt),v(),ft(" ",xe(4,6,t.author)," "),v(2),ie(t.author.displayName!=null&&t.author.displayName.trim().length?5:-1),v(3),C("href",Er(9,8,t.uri,t.author.handle),dt)("title",Er(10,11,t.record.createdAt,"medium")),v(3),Ze(xe(12,14,t.record.createdAt))}}function oqe(i,e){if(i&1&&(E(0,"div",36,9),N(2,"rich-text",37),T()),i&2){let t=_().record;v(2),C("text",t.text)("facets",t.facets)}}function sqe(i,e){if(i&1&&(D(0,oqe,3,2,"div",36),fe(1,"isFeedPostRecord")),i&2){let t=e.record;ie(xe(1,1,t)&&t.text.length?0:-1)}}function aqe(i,e){if(i&1){let t=W();E(0,"post-embed-images",40),V("onImgClick",function(n){P(t);let o=_().embed,s=_();return L(s.openImage(o.images,n))}),T()}if(i&2){let t=_().embed;C("embed",t)}}function lqe(i,e){if(i&1){let t=W();E(0,"post-embed-video",41),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}if(i&2){let t=_().embed;C("embed",t)}}function cqe(i,e){if(i&1&&N(0,"post-embed-external",39),i&2){let t=_().embed;C("embed",t)}}function uqe(i,e){if(i&1){let t=W();E(0,"post-embed-record",42),V("onEmbedClick",function(n){P(t);let o=_(2);return L(o.onEmbedClick.emit(n))}),T()}if(i&2){let t=_().embed;C("embed",t)}}function dqe(i,e){if(i&1){let t=W();E(0,"post-embed-images",40),V("onImgClick",function(n){P(t);let o=_(2).embed,s=_();return L(s.openImage(o.media.images,n))}),T()}if(i&2){let t=_(2).embed;C("embed",t.media)}}function pqe(i,e){if(i&1){let t=W();E(0,"post-embed-video",41),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}if(i&2){let t=_(2).embed;C("embed",t.media)}}function fqe(i,e){if(i&1&&N(0,"post-embed-external",39),i&2){let t=_(2).embed;C("embed",t.media)}}function hqe(i,e){if(i&1){let t=W();D(0,dqe,1,1,"post-embed-images",39),fe(1,"isEmbedImagesView"),D(2,pqe,1,1,"post-embed-video",39),fe(3,"isEmbedVideoView"),D(4,fqe,1,1,"post-embed-external",39),fe(5,"isEmbedExternalView"),E(6,"post-embed-record",43),V("onEmbedClick",function(n){P(t);let o=_(2);return L(o.onEmbedClick.emit(n))}),T()}if(i&2){let t=_().embed;ie(xe(1,4,t.media)?0:-1),v(2),ie(xe(3,6,t.media)?2:-1),v(2),ie(xe(5,8,t.media)?4:-1),v(2),C("embed",t.record)}}function mqe(i,e){if(i&1&&(E(0,"div",38,10),D(2,aqe,1,1,"post-embed-images",39),fe(3,"isEmbedImagesView"),D(4,lqe,1,1,"post-embed-video",39),fe(5,"isEmbedVideoView"),D(6,cqe,1,1,"post-embed-external",39),fe(7,"isEmbedExternalView"),D(8,uqe,1,1,"post-embed-record",39),fe(9,"isEmbedRecordView"),D(10,hqe,7,10),fe(11,"isEmbedRecordWithMediaView"),T()),i&2){let t=e.embed;v(2),ie(xe(3,5,t)?2:-1),v(2),ie(xe(5,7,t)?4:-1),v(2),ie(xe(7,9,t)?6:-1),v(2),ie(xe(9,11,t)?8:-1),v(2),ie(xe(11,13,t)?10:-1)}}function gqe(i,e){if(i&1&&(E(0,"span",48),J(1),fe(2,"numberFormatter"),T()),i&2){let t=_().post;v(),Ze(xe(2,1,t.replyCount))}}function yqe(i,e){if(i&1&&(E(0,"span",48),J(1),fe(2,"numberFormatter"),T()),i&2){let t=_().post;v(),Ze(xe(2,1,t.repostCount))}}function bqe(i,e){if(i&1&&(E(0,"span",48),J(1),fe(2,"numberFormatter"),T()),i&2){let t=_().post;v(),Ze(xe(2,1,t.likeCount))}}function _qe(i,e){if(i&1){let t=W();E(0,"div",44,7)(2,"div",45)(3,"button",46),V("click",function(n){P(t);let o=_();return L(o.replyPost(n))}),N(4,"i",47),D(5,gqe,3,3,"span",48),T()(),E(6,"div",45)(7,"button",49),V("click",function(n){P(t);let o=Ue(11),s=Ue(20);return _().openRepostMenu(o,n),L(s.visible?s.toggle(n):void 0)}),N(8,"i",50),D(9,yqe,3,3,"span",48),T(),N(10,"p-menu",51,11),T(),E(12,"div",45)(13,"button",49),V("click",function(n){let o=P(t).post,s=_();return L(o.viewer.like?s.deleteLike(n):s.like(n))}),N(14,"i",52),D(15,bqe,3,3,"span",48),T()(),E(16,"div",53)(17,"button",54),V("click",function(n){P(t);let o=Ue(11);return Ue(20).toggle(n),o.visible&&o.toggle(n),L(n.stopPropagation())}),N(18,"i",55),T(),N(19,"p-menu",51,12),T()()}if(i&2){let t=e.post,r=_();v(5),ie(t.replyCount?5:-1),v(3),we(t.viewer.repost?"text-green-600":"text-primary-400"),v(),ie(t.repostCount?9:-1),v(),C("model",r.repostMenuItems),v(4),we(t.viewer.like?"pi-heart-fill text-red-600":"pi-heart text-primary-400"),v(),ie(t.likeCount?15:-1),v(4),C("model",r.moreMenuItems)}}var ss=class i{constructor(e,t,r,n){this.postService=e;this.linkExtractorPipe=t;this.messageService=r;this.dialogService=n}feedViewPost=$t();parent=$t(!1,{transform:de});onPostClick=qt();onEmbedClick=qt();processingAction=!1;moreMenuItems=[{label:"Open in Bsky",command:()=>{window.open(this.linkExtractorPipe.transform(this.feedViewPost().post().uri,this.feedViewPost().post().author.handle),"_blank")}},{label:"Copy link",command:()=>{navigator.clipboard.writeText(this.linkExtractorPipe.transform(this.feedViewPost().post().uri,this.feedViewPost().post().author.handle))}}];repostMenuItems;replyPost(e){this.postService.replyPost(this.feedViewPost().post().uri),e.stopPropagation()}like(e){e.stopPropagation(),this.feedViewPost().post.update(t=>(t.viewer.like="placeholder",t)),this.processingAction=!0,Xe(ke.like(this.feedViewPost().post().uri,this.feedViewPost().post().cid)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost().post().uri]})).subscribe({next:t=>this.feedViewPost().post.set(t.data.posts[0]),error:t=>this.messageService.error(t.message,"Oops!")})},100)},error:t=>{this.messageService.error(t.message,"Oops!"),this.feedViewPost().post.update(r=>(r.viewer.like=void 0,r))}}).add(()=>this.processingAction=!1)}deleteLike(e){e.stopPropagation();let t=this.feedViewPost().post().viewer.like;this.feedViewPost().post.update(r=>(r.viewer.like=void 0,r)),this.processingAction=!0,Xe(ke.deleteLike(t)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost().post().uri]})).subscribe({next:r=>this.feedViewPost().post.set(r.data.posts[0]),error:r=>this.messageService.error(r.message,"Oops!")})},200)},error:r=>{this.messageService.error(r.message,"Oops!"),this.feedViewPost().post.update(n=>(n.viewer.like=t,n))}}).add(()=>this.processingAction=!1)}repost(){this.feedViewPost().post.update(e=>(e.viewer.repost="placeholder",e)),this.processingAction=!0,Xe(ke.repost(this.feedViewPost().post().uri,this.feedViewPost().post().cid)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost().post().uri]})).subscribe({next:e=>this.feedViewPost().post.set(e.data.posts[0]),error:e=>this.messageService.error(e.message,"Oops!")})},100)},error:e=>{this.messageService.error(e.message,"Oops!"),this.feedViewPost().post.update(t=>(t.viewer.repost=void 0,t))}}).add(()=>this.processingAction=!1)}deleteRepost(){let e=this.feedViewPost().post().viewer.repost.toString();this.feedViewPost().post.update(t=>(t.viewer.repost=void 0,t)),this.processingAction=!0,Xe(ke.deleteRepost(e)).subscribe({next:()=>{setTimeout(()=>{Xe(ke.getPosts({uris:[this.feedViewPost().post().uri]})).subscribe({next:t=>this.feedViewPost().post.set(t.data.posts[0]),error:t=>this.messageService.error(t.message,"Oops!")})},200)},error:t=>{this.messageService.error(t.message,"Oops!"),this.feedViewPost().post.update(r=>(r.viewer.repost=e,r))}}).add(()=>this.processingAction=!1)}redoRepost(){this.processingAction=!0,Xe(ke.deleteRepost(this.feedViewPost().post().viewer.repost)).subscribe({next:()=>this.repost(),error:e=>this.messageService.error(e.message,"Oops!")}).add(()=>this.processingAction=!1)}log(e){console.log("DEVELOPMENT LOG: ",e)}openPost(e){window.getSelection().toString().length||this.onPostClick.emit(this.feedViewPost()),e.stopPropagation()}openImage(e,t){this.dialogService.openImagePost(e,t)}openAuthor(e,t){e.preventDefault(),e.stopPropagation(),this.dialogService.openAuthor(t)}openRepostMenu(e,t){this.repostMenuItems=[{label:this.feedViewPost().post().viewer.repost?"Undo repost":"Repost",command:()=>{this.feedViewPost().post().viewer.repost?this.deleteRepost():this.repost()},disabled:this.processingAction},{label:"Redo repost",command:()=>{this.redoRepost()},visible:!!this.feedViewPost().post().viewer.repost,disabled:this.processingAction},{label:"Quote post",command:()=>{this.postService.quotePost(this.feedViewPost().post().uri)}}],e.toggle(t),t.stopPropagation()}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(zn),ne(Qi),ne(ri))};static \u0275cmp=oe({type:i,selectors:[["feed-post-card"]],inputs:{feedViewPost:[1,"feedViewPost"],parent:[1,"parent"]},outputs:{onPostClick:"onPostClick",onEmbedClick:"onEmbedClick"},features:[He([zn,pc])],decls:27,vars:18,consts:[["base",""],["avatar",""],["reason",""],["reply",""],["header",""],["record",""],["embed",""],["buttons",""],["displayName",""],["body",""],["content",""],["repostMenu",""],["moreMenu",""],[1,"flex","flex-col","px-3","pt-4","pb-2",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"relative","flex","w-full","gap-3"],[1,"flex","flex-col","items-center","shrink-0"],[1,"w-12","h-12",3,"click","href"],["size","large","styleClass","!w-12 !h-12 overflow-hidden",3,"image"],[1,"mt-4","flex-1","w-1","border-l-2","border-[var(--p-primary-700)]"],[1,"flex","flex-col","flex-1","min-w-0"],[1,"relative","items-center","gap-3","ml-15","mb-3"],[1,"pi","pi-arrow-right-arrow-left","!text-xs","text-primary-400","absolute","-top-0.75","-left-6"],[1,"flex","w-full","min-w-0"],[1,"text-sm","text-primary-400","shrink-1","grow-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis"],[1,"hover:underline","text-sm","font-medium","text-primary-400","shrink-0","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-nowrap",3,"click","href"],[1,"pi","pi-thumbtack","!text-xs","text-primary-400","absolute","-top-0.75","-left-6"],[1,"pi","pi-reply","!text-xs","text-primary-400","absolute","-top-1","-left-6"],[1,"text-sm","text-primary-400","shrink-0","grow-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis"],[1,"hover:underline","text-sm","font-medium","text-primary-400","shrink-1","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-nowrap",3,"click","href"],[1,"flex","w-full","min-w-0","gap-1","items-baseline","-mt-1"],[1,"font-semibold","shrink-1","grow-0","min-w-0","hover:underline","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-nowrap",3,"click","href"],[1,"text-sm","text-primary-400","shrink-0","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-nowrap",3,"href"],[1,"text-primary-400","invisible","-mx-1"],["target","_blank",1,"text-sm","text-primary-400","hover:underline","w-fit","[text-box:trim-both_cap_alphabetic]",3,"click","href","title"],[1,"text-sm","text-primary-400","shrink-0","grow","basis-0","min-w-0","[text-box:trim-both_cap_alphabetic]","overflow-y-visible","overflow-x-clip","overflow-ellipsis","whitespace-nowrap",3,"click","href"],[1,"mt-1"],[1,"text-sm",3,"text","facets"],["id","content",1,"mt-3","flex","flex-col","peer/embed"],[3,"embed"],[3,"onImgClick","embed"],[3,"click","embed"],[3,"onEmbedClick","embed"],[1,"block","mt-4",3,"onEmbedClick","embed"],[1,"w-full","flex","items-center","mt-2"],[1,"flex-1"],["pRipple","",1,"relative","flex","items-center","gap-2","py-1","px-2","hover:bg-primary-700","rounded-xl","cursor-pointer","transition",3,"click"],[1,"pi","pi-comment","!text-sm","text-primary-400"],[1,"text-sm","text-primary-400","[text-box:trim-both_cap_alphabetic]"],["pRipple","",1,"flex","items-center","gap-2","py-1","px-2","hover:bg-primary-700","rounded-xl","cursor-pointer","transition",3,"click"],[1,"pi","pi-arrow-right-arrow-left","!text-sm"],["popup","","appendTo","body",3,"model"],[1,"pi","!text-sm","transition"],[1,"flex"],["pRipple","",1,"flex","items-center","py-1","px-2","hover:bg-primary-700","rounded-xl","cursor-pointer","transition",3,"click"],[1,"pi","pi-ellipsis-h","!text-sm","text-primary-400"]],template:function(t,r){if(t&1){let n=W();E(0,"div",13,0),V("click",function(s){return P(n),L(r.openPost(s))}),D(2,Hje,1,4,"ng-container",14)(3,Gje,1,4,"ng-container",14),E(4,"div",15)(5,"div",16)(6,"a",17,1),V("click",function(s){return P(n),L(r.openAuthor(s,r.feedViewPost().post().author.did))}),N(8,"p-avatar",18),T(),D(9,Wje,1,0,"div",19),T(),E(10,"div",20),Pe(11,14)(12,14),D(13,Xje,1,4,"ng-container",14),Pe(14,14),T()()(),D(15,Yje,5,5,"ng-template",null,2,Le)(17,iqe,8,7,"ng-template",null,3,Le)(19,nqe,13,16,"ng-template",null,4,Le)(21,sqe,2,3,"ng-template",null,5,Le)(23,mqe,12,15,"ng-template",null,6,Le)(25,_qe,21,9,"ng-template",null,7,Le)}if(t&2){let n=Ue(20),o=Ue(22),s=Ue(26);v(2),ie(r.feedViewPost().reason?2:-1),v(),ie(r.feedViewPost().reply?3:-1),v(3),C("href","https://bsky.app/profile/"+r.feedViewPost().post().author.handle,dt),v(2),C("image",r.feedViewPost().post().author.avatar),v(),ie(r.parent()?9:-1),v(2),C("ngTemplateOutlet",n)("ngTemplateOutletContext",Fe(12,_Q,r.feedViewPost().post())),v(),C("ngTemplateOutlet",o)("ngTemplateOutletContext",Fe(14,qje,r.feedViewPost().post().record)),v(),ie(r.feedViewPost().post().embed?13:-1),v(),C("ngTemplateOutlet",s)("ngTemplateOutletContext",Fe(16,_Q,r.feedViewPost().post()))}},dependencies:()=>[Qo,iC,on,rC,zn,Ih,Np,oC,ba,Yo,Pa,fc,hc,qf,ya,Oc,F0,rt,Jo,sC,qp,$p,os,ii,rn],styles:[".fit-text[_ngcontent-%COMP%]{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0})};var vqe=["feed"],xqe=()=>({height:"3rem",width:"3rem"}),Cqe=(i,e)=>e.uuid;function Eqe(i,e){if(i&1){let t=W();E(0,"feed-post-card",3),V("onPostClick",function(n){P(t);let o=_(2);return L(o.openPost(n.post().uri))})("onEmbedClick",function(n){P(t);let o=_(2);return L(o.openPost(n.record.uri))}),T(),N(1,"p-divider",4)}if(i&2){let t=e.$implicit;C("feedViewPost",t)}}function Tqe(i,e){if(i&1&&_i(0,Eqe,2,1,null,null,Cqe),i&2){let t=_();vi(t.posts)}}function wqe(i,e){i&1&&(E(0,"div",2),N(1,"p-progress-spinner",5),T()),i&2&&(v(),pt($e(2,xqe)))}var BT=class i{constructor(e,t,r){this.postService=e;this.dialogService=t;this.cdRef=r}feed=Rr("feed");posts;lastPostCursor;loading=!0;reloadReady=!1;reloadTimeout;ngOnInit(){this.initData(),this.postService.refreshFeeds.subscribe({next:()=>{this.feed().nativeElement.scrollTop==0?this.initData():this.reloadReady=!0}})}ngOnDestroy(){this.postService.refreshFeeds.unsubscribe(),clearTimeout(this.reloadTimeout)}initData(){this.loading=!0,ke.getTimeline({limit:15}).then(e=>{this.lastPostCursor=e.data.cursor,this.posts=e.data.feed.map(t=>cn.parseFeedViewPost(t,this.postService)),this.cdRef.markForCheck(),setTimeout(()=>{this.loading=!1,this.manageRefresh()},500)})}nextData(){this.loading||(this.loading=!0,ke.getTimeline({cursor:this.lastPostCursor,limit:15}).then(e=>{this.lastPostCursor=e.data.cursor;let t=e.data.feed.map(r=>cn.parseFeedViewPost(r,this.postService));this.posts=[...this.posts,...t],this.cdRef.markForCheck(),setTimeout(()=>{this.loading=!1},500)}))}openPost(e){this.feed().nativeElement.querySelectorAll("video").forEach(t=>{t.muted=!0}),this.dialogService.openThread(e,this.feed().nativeElement)}manageRefresh(){this.loading||(!this.reloadReady&&!this.reloadTimeout?this.reloadTimeout=setTimeout(()=>{this.reloadTimeout=void 0,this.feed().nativeElement.scrollTop==0?(this.reloadReady=!1,ke.getTimeline({limit:1}).then(e=>{let t=e.data.feed[0],r=this.posts[0],n=!1;if(t)if(t.reason){let o=t.reason;r.reason||(n=!0),o.indexedAt!==r.reason?.indexedAt&&(n=!0)}else r.reason&&(n=!0),t.post.indexedAt!==r.post().indexedAt&&(n=!0);n?this.initData():this.manageRefresh()})):this.reloadReady=!0},3e4):this.reloadReady&&this.feed().nativeElement.scrollTop==0&&(this.reloadReady=!1,this.initData()))}log(e){console.log(e)}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(ri),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["timeline-feed"]],viewQuery:function(t,r){t&1&&yr(r.feed,vqe,5),t&2&&br()},decls:4,vars:1,consts:[["feed",""],["vScroll","",1,"w-full","h-full","min-h-0","flex","flex-col","overflow-y-auto","has-[p-dynamicdialog]:!overflow-hidden",3,"scrollEnding","scrollTop"],[1,"h-full","w-full","flex","items-center","justify-center"],[1,"cursor-pointer","hover:bg-white/2",3,"onPostClick","onEmbedClick","feedViewPost"],[1,"!mt-0","!mb-0"],["strokeWidth","5",1,"h-12"]],template:function(t,r){if(t&1){let n=W();E(0,"div",1,0),V("scrollEnding",function(){return P(n),r.nextData(),L(r.manageRefresh())})("scrollTop",function(){return P(n),L(r.manageRefresh())}),D(2,Tqe,2,0)(3,wqe,2,3,"div",2),T()}t&2&&(v(2),ie(r.posts?2:3))},dependencies:[tt,ss,nn,as,ls],encapsulation:2,changeDetection:0})};var Sqe=["content"],Aqe=["*"],Rqe=(i,e)=>({showTransitionParams:i,hideTransitionParams:e}),kqe=(i,e)=>({value:i,params:e}),Dqe=i=>({closeCallback:i});function Iqe(i,e){}function Pqe(i,e){i&1&&D(0,Iqe,0,0,"ng-template")}function Lqe(i,e){if(i&1){let t=W();E(0,"div",1),V("click",function(n){P(t);let o=_();return L(o.onOverlayClick(n))})("@animation.start",function(n){P(t);let o=_();return L(o.onAnimationStart(n))})("@animation.done",function(n){P(t);let o=_();return L(o.onAnimationEnd(n))}),E(1,"div",2),V("click",function(n){P(t);let o=_();return L(o.onContentClick(n))})("mousedown",function(n){P(t);let o=_();return L(o.onContentClick(n))}),xi(2),D(3,Pqe,1,0,null,3),T()()}if(i&2){let t=_();we(t.styleClass),C("ngClass","p-popover p-component")("ngStyle",t.style)("@animation",Rt(13,kqe,t.overlayVisible?"open":"close",Rt(10,Rqe,t.showTransitionOptions,t.hideTransitionOptions))),ae("aria-modal",t.overlayVisible)("aria-label",t.ariaLabel)("aria-labelledBy",t.ariaLabelledBy),v(3),C("ngTemplateOutlet",t.contentTemplate||t._contentTemplate)("ngTemplateOutletContext",Fe(16,Dqe,t.onCloseClick.bind(t)))}}var Bqe=({dt:i})=>`
.p-popover {
    margin-top: ${i("popover.gutter")};
    background: ${i("popover.background")};
    color: ${i("popover.color")};
    border: 1px solid ${i("popover.border.color")};
    border-radius: ${i("popover.border.radius")};
    box-shadow: ${i("popover.shadow")};
    position: absolute
}

.p-popover-content {
    padding: ${i("popover.content.padding")};
}

.p-popover-flipped {
    margin-top: calc(${i("popover.gutter")} * -1);
    margin-bottom: ${i("popover.gutter")};
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(${i("popover.arrow.offset")} + ${i("popover.arrow.left")});
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(${i("popover.gutter")} - 2px);
    margin-left: calc(-1 * (${i("popover.gutter")} - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${i("popover.background")};
}

.p-popover:before {
    border-width: ${i("popover.gutter")};
    margin-left: calc(-1 * ${i("popover.gutter")});
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${i("popover.border.color")};
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: ${i("popover.background")};
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: ${i("popover.border.color")};
}

`,Oqe={root:"p-popover p-component",content:"p-popover-content"},vQ=(()=>{class i extends lt{name="popover";theme=Bqe;classes=Oqe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),Vc=(()=>{class i extends Je{ariaLabel;ariaLabelledBy;dismissable=!0;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new Me;onHide=new Me;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;templates;_contentTemplate;destroyCallback;overlayEventListener;overlaySubscription;_componentStyle=se(vQ);zone=se(Bi);overlayService=se(qx);ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this._contentTemplate=t.template;break}})}bindDocumentClickListener(){if(Lt(this.platformId)&&!this.documentClickListener){let t=D$()?"touchstart":"click",r=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(r,t,n=>{this.dismissable&&(!this.container?.contains(n.target)&&this.target!==n.target&&!this.target.contains(n.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck())})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(t,r){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(t,r)&&(this.destroyCallback=()=>{this.show(null,r||t.currentTarget||t.target)}),this.hide()):this.show(t,r))}show(t,r){r&&t&&t.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=r||t.currentTarget||t.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(t){let r=t.target;this.selfClick=t.offsetX<r.clientWidth&&t.offsetY<r.clientHeight}hasTargetChanged(t,r){return this.target!=null&&this.target!==(r||t.currentTarget||t.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):go(this.appendTo,this.container))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&li.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Ox(this.container,this.target,!1);let t=B0(this.container),r=B0(this.target),n=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),o=0;t.left<r.left&&(o=r.left-t.left-parseFloat(n)*2),this.container?.style.setProperty(X$("popover.arrow.left").name,`${o}px`),t.top<r.top&&(this.container.setAttribute("data-p-popover-flipped","true"),zi(this.container,"p-popover-flipped"))}onAnimationStart(t){t.toState==="open"&&(this.container=t.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=r=>{this.container&&this.container.contains(r.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(t){switch(t.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&li.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let t=tr(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(t){this.hide(),t.preventDefault()}onEscapeKeydown(t){this.hide()}onWindowResize(){this.overlayVisible&&!Vx()&&this.hide()}bindDocumentResizeListener(){if(Lt(this.platformId)&&!this.documentResizeListener){let t=this.document.defaultView;this.documentResizeListener=this.renderer.listen(t,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){Lt(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new sc(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&li.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-popover"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,Sqe,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.contentTemplate=s.first),be(s=_e())&&(n.templates=s)}},hostBindings:function(r,n){r&1&&V("keydown.escape",function(s){return n.onEscapeKeydown(s)},!1,_d)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",de],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",de],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",wt],focusOnShow:[2,"focusOnShow","focusOnShow",de],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[He([vQ]),Se],ngContentSelectors:Aqe,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-popover-content",3,"click","mousedown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,n){r&1&&(Wi(),D(0,Lqe,4,18,"div",0)),r&2&&C("ngIf",n.render)},dependencies:[tt,Gt,si,rt,Ii,yt],encapsulation:2,data:{animation:[Tr("animation",[Ks("void",ti({transform:"scaleY(0.8)",opacity:0})),Ks("close",ti({opacity:0})),Ks("open",ti({transform:"translateY(0)",opacity:1})),Ci("void => open",Si("{{showTransitionParams}}")),Ci("open => close",Si("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})();var Mqe=["icon"],Vqe=["content"],CQ=i=>({$implicit:i}),Nqe=(i,e)=>({"p-togglebutton-icon":!0,"p-togglebutton-icon-left":i,"p-togglebutton-icon-right":e});function Fqe(i,e){i&1&&Pe(0)}function Uqe(i,e){if(i&1&&N(0,"span",1),i&2){let t=_(3);we(t.checked?t.onIcon:t.offIcon),C("ngClass",Rt(4,Nqe,t.iconPos==="left",t.iconPos==="right")),ae("data-pc-section","icon")}}function jqe(i,e){if(i&1&&D(0,Uqe,1,7,"span",3),i&2){let t=_(2);ie(t.onIcon||t.offIcon?0:-1)}}function qqe(i,e){i&1&&Pe(0)}function $qe(i,e){if(i&1&&D(0,qqe,1,0,"ng-container",2),i&2){let t=_(2);C("ngTemplateOutlet",t.iconTemplate||t._iconTemplate)("ngTemplateOutletContext",Fe(2,CQ,t.checked))}}function zqe(i,e){if(i&1&&(D(0,jqe,1,1)(1,$qe,1,4,"ng-container"),E(2,"span",1),J(3),T()),i&2){let t=_();ie(t.iconTemplate?1:0),v(2),C("ngClass",t.cx("label")),ae("data-pc-section","label"),v(),Ze(t.checked?t.hasOnLabel?t.onLabel:"\xA0":t.hasOffLabel?t.offLabel:"\xA0")}}var Kqe=({dt:i})=>`
p-togglebutton {
    display: inline-flex;
}

.p-togglebutton {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${i("togglebutton.color")};
    background: ${i("togglebutton.background")};
    border: 1px solid ${i("togglebutton.border.color")};
    padding: ${i("togglebutton.padding")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${i("togglebutton.transition.duration")}, color ${i("togglebutton.transition.duration")}, border-color ${i("togglebutton.transition.duration")},
        outline-color ${i("togglebutton.transition.duration")}, box-shadow ${i("togglebutton.transition.duration")};
    border-radius: ${i("togglebutton.border.radius")};
    outline-color: transparent;
    font-weight: ${i("togglebutton.font.weight")};
}

.p-togglebutton-content {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: ${i("togglebutton.gap")};
}

.p-togglebutton-label,
.p-togglebutton-icon {
    position: relative;
    transition: none;
}

.p-togglebutton::before {
    content: "";
    background: transparent;
    transition: background ${i("togglebutton.transition.duration")}, color ${i("togglebutton.transition.duration")}, border-color ${i("togglebutton.transition.duration")},
            outline-color ${i("togglebutton.transition.duration")}, box-shadow ${i("togglebutton.transition.duration")};
    position: absolute;
    inset-inline-start: ${i("togglebutton.content.left")};
    top: ${i("togglebutton.content.top")};
    width: calc(100% - calc(2 *  ${i("togglebutton.content.left")}));
    height: calc(100% - calc(2 *  ${i("togglebutton.content.top")}));
    border-radius: ${i("togglebutton.border.radius")};
}

.p-togglebutton.p-togglebutton-checked::before {
    background: ${i("togglebutton.content.checked.background")};
    box-shadow: ${i("togglebutton.content.checked.shadow")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
    background: ${i("togglebutton.hover.background")};
    color: ${i("togglebutton.hover.color")};
}

.p-togglebutton.p-togglebutton-checked {
    background: ${i("togglebutton.checked.background")};
    border-color: ${i("togglebutton.checked.border.color")};
    color: ${i("togglebutton.checked.color")};
}

.p-togglebutton:focus-visible {
    box-shadow: ${i("togglebutton.focus.ring.shadow")};
    outline: ${i("togglebutton.focus.ring.width")} ${i("togglebutton.focus.ring.style")} ${i("togglebutton.focus.ring.color")};
    outline-offset: ${i("togglebutton.focus.ring.offset")};
}

.p-togglebutton.p-invalid {
    border-color: ${i("togglebutton.invalid.border.color")};
}

.p-togglebutton:disabled {
    opacity: 1;
    cursor: default;
    background: ${i("togglebutton.disabled.background")};
    border-color: ${i("togglebutton.disabled.border.color")};
    color: ${i("togglebutton.disabled.color")};
}

.p-togglebutton-icon {
    color: ${i("togglebutton.icon.color")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
    color: ${i("togglebutton.icon.hover.color")};
}

.p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
    color: ${i("togglebutton.icon.checked.color")};
}

.p-togglebutton:disabled .p-togglebutton-icon {
    color: ${i("togglebutton.icon.disabled.color")};
}

.p-togglebutton-sm {
    padding: ${i("togglebutton.sm.padding")};
    font-size: ${i("togglebutton.sm.font.size")};
}

.p-togglebutton-lg {
    padding: ${i("togglebutton.lg.padding")};
    font-size: ${i("togglebutton.lg.font.size")};
}

/* For PrimeNG (iconPos) */

.p-togglebutton-icon-right {
    order: 1;
}

p-togglebutton.ng-invalid.ng-dirty > .p-togglebutton {
    border-color: ${i("togglebutton.invalid.border.color")};
}
`,Hqe={root:({instance:i})=>({"p-togglebutton p-component":!0,"p-togglebutton-checked":i.checked,"p-disabled":i.disabled,"p-togglebutton-sm p-inputfield-sm":i.size==="small","p-togglebutton-lg p-inputfield-lg":i.size==="large"}),content:"p-togglebutton-content",icon:"p-togglebutton-icon",label:"p-togglebutton-label"},xQ=(()=>{class i extends lt{name="togglebutton";theme=Kqe;classes=Hqe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var Gqe={provide:Xf,useExisting:Fa(()=>j3),multi:!0},j3=(()=>{class i extends Je{onLabel="Yes";offLabel="No";onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;get hostClass(){return this.styleClass||""}inputId;tabindex=0;size;iconPos="left";autofocus;allowEmpty;onChange=new Me;iconTemplate;contentTemplate;templates;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};_componentStyle=se(xQ);toggle(t){!this.disabled&&!(this.allowEmpty===!1&&this.checked)&&(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onKeyDown(t){switch(t.code){case"Enter":this.toggle(t),t.preventDefault();break;case"Space":this.toggle(t),t.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}get active(){return this.checked===!0}_iconTemplate;_contentTemplate;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"icon":this._iconTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-toggleButton"],["p-togglebutton"],["p-toggle-button"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,Mqe,4),Re(o,Vqe,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.iconTemplate=s.first),be(s=_e())&&(n.contentTemplate=s.first),be(s=_e())&&(n.templates=s)}},hostVars:2,hostBindings:function(r,n){r&2&&we(n.hostClass)},inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",de],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",wt],size:"size",iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",de],allowEmpty:"allowEmpty"},outputs:{onChange:"onChange"},features:[He([Gqe,xQ]),Se],decls:4,vars:15,consts:[["pRipple","","type","button",3,"click","ngClass","tabindex","disabled"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass"]],template:function(r,n){r&1&&(E(0,"button",0),V("click",function(s){return n.toggle(s)}),E(1,"span",1),D(2,Fqe,1,0,"ng-container",2)(3,zqe,4,4),T()()),r&2&&(we(n.styleClass),C("ngClass",n.cx("root"))("tabindex",n.tabindex)("disabled",n.disabled),ae("aria-labelledby",n.ariaLabelledBy)("aria-pressed",n.checked)("data-p-checked",n.active)("data-p-disabled",n.disabled),v(),C("ngClass",n.cx("content")),v(),C("ngTemplateOutlet",n.contentTemplate||n._contentTemplate)("ngTemplateOutletContext",Fe(13,CQ,n.checked)),v(),ie(n.contentTemplate?-1:3))},dependencies:[ii,tt,Gt,rt,yt],encapsulation:2,changeDetection:0})}return i})();var Wqe=["item"],Xqe=(i,e)=>({$implicit:i,index:e});function Zqe(i,e){i&1&&Pe(0)}function Qqe(i,e){if(i&1&&D(0,Zqe,1,0,"ng-container",3),i&2){let t=_(2),r=t.$implicit,n=t.$index,o=_();C("ngTemplateOutlet",o.itemTemplate||o._itemTemplate)("ngTemplateOutletContext",Rt(2,Xqe,r,n))}}function Yqe(i,e){i&1&&D(0,Qqe,1,5,"ng-template",null,0,Le)}function Jqe(i,e){if(i&1){let t=W();E(0,"p-toggleButton",2),V("onChange",function(n){let o=P(t),s=o.$implicit,a=o.$index,l=_();return L(l.onOptionSelect(n,s,a))}),D(1,Yqe,2,0),T()}if(i&2){let t=e.$implicit,r=_();C("autofocus",r.autofocus)("styleClass",r.styleClass)("ngModel",r.isSelected(t))("onLabel",r.getOptionLabel(t))("offLabel",r.getOptionLabel(t))("disabled",r.disabled||r.isOptionDisabled(t))("allowEmpty",r.allowEmpty)("size",r.size),v(),ie(r.itemTemplate||r._itemTemplate?1:-1)}}var e$e=({dt:i})=>`
.p-selectbutton {
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    outline-color: transparent;
    border-radius: ${i("selectbutton.border.radius")};
}

.p-selectbutton .p-togglebutton {
    border-radius: 0;
    border-width: 1px 1px 1px 0;
}

.p-selectbutton .p-togglebutton:focus-visible {
    position: relative;
    z-index: 1;
}

.p-selectbutton p-togglebutton:first-child .p-togglebutton {
    border-left-width: 1px;
    border-start-start-radius: ${i("selectbutton.border.radius")};
    border-end-start-radius: ${i("selectbutton.border.radius")};
}

.p-selectbutton p-togglebutton:last-child .p-togglebutton{
    border-start-end-radius: ${i("selectbutton.border.radius")};
    border-end-end-radius: ${i("selectbutton.border.radius")};
}

.p-selectbutton.ng-invalid.ng-dirty {
    outline: 1px solid ${i("selectbutton.invalid.border.color")};
    outline-offset: 0;
}
`,t$e={root:({props:i})=>["p-selectbutton p-component",{"p-invalid":i.invalid}]},EQ=(()=>{class i extends lt{name="selectbutton";theme=e$e;classes=t$e;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var i$e={provide:Xf,useExisting:Fa(()=>Cl),multi:!0},Cl=(()=>{class i extends Je{options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;size;disabled;dataKey;autofocus;onOptionClick=new Me;onChange=new Me;itemTemplate;_itemTemplate;get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;_componentStyle=se(EQ);getOptionLabel(t){return this.optionLabel?qu(t,this.optionLabel):t.label!=null?t.label:t}getOptionValue(t){return this.optionValue?qu(t,this.optionValue):this.optionLabel||t.value===void 0?t:t.value}isOptionDisabled(t){return this.optionDisabled?qu(t,this.optionDisabled):t.disabled!==void 0?t.disabled:!1}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionSelect(t,r,n){if(this.disabled||this.isOptionDisabled(r))return;let o=this.isSelected(r);if(o&&this.unselectable)return;let s=this.getOptionValue(r),a;if(this.multiple)o?a=this.value.filter(l=>!nc(l,s,this.equalityKey)):a=this.value?[...this.value,s]:[s];else{if(o&&!this.allowEmpty)return;a=o?null:s}this.focusedIndex=n,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.onOptionClick.emit({originalEvent:t,option:r,index:n})}changeTabIndexes(t,r){let n,o;for(let s=0;s<=this.el.nativeElement.children.length-1;s++)this.el.nativeElement.children[s].getAttribute("tabindex")==="0"&&(n={elem:this.el.nativeElement.children[s],index:s});r==="prev"?n.index===0?o=this.el.nativeElement.children.length-1:o=n.index-1:n.index===this.el.nativeElement.children.length-1?o=0:o=n.index+1,this.focusedIndex=o,this.el.nativeElement.children[o].focus()}onFocus(t,r){this.focusedIndex=r}onBlur(){this.onModelTouched()}removeOption(t){this.value=this.value.filter(r=>!nc(r,this.getOptionValue(t),this.dataKey))}isSelected(t){let r=!1,n=this.getOptionValue(t);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let o of this.value)if(nc(o,n,this.dataKey)){r=!0;break}}}else r=nc(this.getOptionValue(t),this.value,this.equalityKey);return r}templates;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this._itemTemplate=t.template;break}})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-selectButton"],["p-selectbutton"],["p-select-button"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,Wqe,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.itemTemplate=s.first),be(s=_e())&&(n.templates=s)}},hostVars:10,hostBindings:function(r,n){r&2&&(ae("role","group")("aria-labelledby",n.ariaLabelledBy)("data-pc-section","root")("data-pc-name","selectbutton"),pt(n.style),bi("p-selectbutton",!0)("p-component",!0))},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",de],tabindex:[2,"tabindex","tabindex",wt],multiple:[2,"multiple","multiple",de],allowEmpty:[2,"allowEmpty","allowEmpty",de],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",size:"size",disabled:[2,"disabled","disabled",de],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",de]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[He([i$e,EQ]),Se],decls:2,vars:0,consts:[["content",""],[3,"autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size"],[3,"onChange","autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,n){r&1&&_i(0,Jqe,2,9,"p-toggleButton",1,Oy),r&2&&vi(n.options)},dependencies:[j3,Yn,Qn,Xr,tt,rt,yt],encapsulation:2,changeDetection:0})}return i})();var r$e=()=>({"--p-card-body-padding":0,"--p-card-background":"var(--p-primary-800)",height:"100%",overflow:"hidden"}),n$e=()=>({label:"Small",value:400}),o$e=()=>({label:"Medium",value:450}),s$e=()=>({label:"Large",value:500}),a$e=()=>({label:"Very Large",value:600}),l$e=(i,e,t,r)=>[i,e,t,r];function c$e(i,e){if(i&1){let t=W();E(0,"div",16),N(1,"i",17),E(2,"span",18),J(3,"Timeline"),T(),E(4,"button",19),V("click",function(n){P(t),_();let o=Ue(7);return L(o.toggle(n))}),N(5,"i",20),T()()}}function u$e(i,e){i&1&&N(0,"timeline-feed",21)}var OT=class i{column=$s.required();firstIndex=$t(!1,{transform:de});lastIndex=$t(!1,{transform:de});reorderNext=qt();reorderPrev=qt();delete=qt();widthChange=qt();static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["timeline-deck-column"]],inputs:{column:[1,"column"],firstIndex:[1,"firstIndex"],lastIndex:[1,"lastIndex"]},outputs:{column:"columnChange",reorderNext:"reorderNext",reorderPrev:"reorderPrev",delete:"delete",widthChange:"widthChange"},decls:20,vars:17,consts:[["card",""],["header",""],["content",""],["settings",""],[1,"relative","block","h-full","overflow-hidden","border","border-[var(--p-content-border-color)]","rounded-[var(--p-card-border-radius)]","[&_.p-card-body]:!h-full","[&_.p-card-content]:!h-full"],[3,"appendTo"],[1,"flex","flex-col"],[1,"flex","gap-2"],["pButton","","pRipple","","severity","secondary",1,"!h-9","!w-9",3,"click","disabled"],[1,"pi","pi-chevron-left"],[1,"pi","pi-chevron-right"],["pButton","","pRipple","","severity","danger",1,"!h-9","!w-9","ml-auto",3,"click"],[1,"pi","pi-trash"],[1,"flex","flex-col","gap-1","mt-4"],[1,"text-sm"],["optionLabel","label","optionValue","value","size","small",3,"ngModelChange","ngModel","options"],[1,"flex","h-14","w-full","pr-2","items-center","bg-[var(--p-primary-750)]","[border-bottom:1px_solid_var(--p-surface-700)]"],[1,"pi","pi-home","!text-xl","w-18","text-center","-mt-[2px]","shrink-0"],[1,"text-lg","[text-box:trim-both_cap_alphabetic]","flex-1","cursor-default"],["pButton","","pRipple","","text","",1,"!h-10","!w-10","shrink-0",3,"click"],[1,"pi","pi-cog","!text-xl","text-center"],[1,"block","h-full"]],template:function(t,r){if(t&1){let n=W();E(0,"p-card",4,0),D(2,c$e,6,0,"ng-template",null,1,Le)(4,u$e,1,0,"ng-template",null,2,Le),T(),E(6,"p-popover",5,3)(8,"div",6)(9,"div",7)(10,"button",8),V("click",function(){return P(n),L(r.reorderPrev.emit())}),N(11,"i",9),T(),E(12,"button",8),V("click",function(){return P(n),L(r.reorderNext.emit())}),N(13,"i",10),T(),E(14,"button",11),V("click",function(){return P(n),L(r.delete.emit())}),N(15,"i",12),T()(),E(16,"div",13)(17,"span",14),J(18,"Column width"),T(),E(19,"p-select-button",15),V("ngModelChange",function(s){return P(n),L(r.widthChange.emit(s))}),T()()()()}if(t&2){let n=Ue(1);pt($e(7,r$e)),v(6),C("appendTo",n),v(4),C("disabled",r.firstIndex()),v(2),C("disabled",r.lastIndex()),v(7),C("ngModel",r.column().width)("options",Lo(12,l$e,$e(8,n$e),$e(9,o$e),$e(10,s$e),$e(11,a$e)))}},dependencies:[$n,BT,Vc,xr,ii,Cl,Yn,Qn,Xr],styles:["[_nghost-%COMP%]  .p-card-body{min-height:0}[_nghost-%COMP%]  .p-card-body .p-card-content{overflow:hidden}[_nghost-%COMP%]  .p-popover{width:100%;left:0!important;top:3rem!important;--p-popover-background: var(--p-primary-850);--p-popover-arrow-left: calc(100% - 3rem) !important}"],changeDetection:0})};var MT=class i{transform(e){return e.feedViewPost&&(e.reason=="reply"||e.reason=="quote"||e.reason=="mention")}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isPostNotification",type:i,pure:!0})};var VT=class{notification;reason;authors=[];uri;feedViewPost;uuid=Ds()};var Qf=class{static parseNotifications(e,t){return new Promise(r=>{let n=[];for(;e.length;){let l=new VT;if(e[0].reason==="reply"||e[0].reason==="quote"||e[0].reason==="mention")l.authors=[e[0].author],l.reason=e[0].reason,l.notification=e[0],l.uri=e[0].uri,n.push(l),e.shift();else if(e[0].reason){let d=e.filter(f=>f.reasonSubject===e[0].reasonSubject&&f.reason===e[0].reason);l.authors=d.map(f=>f.author),l.reason=e[0].reason,l.notification=e[0],l.uri=e[0].reasonSubject,n.push(l),e=e.filter(f=>!(f.reasonSubject===e[0].reasonSubject&&f.reason===e[0].reason))}}let o=(l,d)=>Array.from({length:Math.ceil(l.length/d)},(f,g)=>l.slice(g*d,g*d+d)),s=[];o(n,25).forEach(l=>{s.push(ke.getPosts({uris:l.map(d=>d.uri).filter(d=>d)}))}),Promise.all(s).then(l=>{l.forEach((d,f)=>{n.forEach(g=>{let w=d.data.posts.find(A=>A.uri===g.uri);w&&(g.feedViewPost=new Uf,g.feedViewPost.post=t.setPost(w))})})},l=>console.error(l)).then(()=>r(n))})}};var NT=class i{transform(e){return e.reason=="like"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isLikeNotification",type:i,pure:!0})};var FT=class i{transform(e){return e.reason=="follow"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isFollowNotification",type:i,pure:!0})};var UT=class i{transform(e){return e.reason=="repost"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isRepostNotification",type:i,pure:!0})};var jT=class i{transform(e){return e.reason=="starterpack-joined"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isStarterPackNotification",type:i,pure:!0})};var d$e=(i,e)=>({record:i,embed:e}),p$e=(i,e)=>e.did;function f$e(i,e){if(i&1&&Pe(0,6),i&2){_();let t=Ue(9);C("ngTemplateOutlet",t)}}function h$e(i,e){i&1&&(E(0,"span"),J(1,"Unknown notification"),T())}function m$e(i,e){i&1&&N(0,"i",8)}function g$e(i,e){i&1&&N(0,"i",9)}function y$e(i,e){i&1&&N(0,"i",10)}function b$e(i,e){i&1&&N(0,"i",11)}function _$e(i,e){if(i&1&&Pe(0,13),i&2){let t=_(2),r=Ue(15);C("ngTemplateOutlet",r)("ngTemplateOutletContext",Rt(2,d$e,t.notification.feedViewPost.post().record,t.notification.feedViewPost.post().embed))}}function v$e(i,e){if(i&1&&(E(0,"div",7),D(1,m$e,1,0,"i",8),fe(2,"isLikeNotification"),fe(3,"isFollowNotification"),fe(4,"isRepostNotification"),D(5,g$e,1,0,"i",9)(6,y$e,1,0,"i",10)(7,b$e,1,0,"i",11),T(),E(8,"div",12),Pe(9,6)(10,6),D(11,_$e,1,5,"ng-container",13),T()),i&2){let t=_(),r=Ue(11),n=Ue(13);v(),ie(xe(2,4,t.notification)?1:xe(3,6,t.notification)?5:xe(4,8,t.notification)?6:7),v(8),C("ngTemplateOutlet",r),v(),C("ngTemplateOutlet",n),v(),ie(t.notification.feedViewPost?11:-1)}}function x$e(i,e){if(i&1){let t=W();E(0,"a",17),V("click",function(n){let o=P(t).$implicit,s=_(2);return L(s.openAuthor(n,o.did))}),N(1,"p-avatar",18),T()}if(i&2){let t=e.$implicit;v(),C("image",t.avatar)}}function C$e(i,e){if(i&1&&(E(0,"span",16),J(1),T()),i&2){let t=_(2);v(),ft(" +",t.notification.authors.length-5," ")}}function E$e(i,e){if(i&1&&(E(0,"div",14),_i(1,x$e,2,1,"a",15,p$e),fe(3,"slice"),D(4,C$e,2,1,"span",16),T()),i&2){let t=_();v(),vi(Vy(3,1,t.notification.authors,0,5)),v(3),ie(t.notification.authors.length>5?4:-1)}}function T$e(i,e){if(i&1){let t=W();E(0,"a",20),V("click",function(n){P(t);let o=_(2);return L(o.openAuthor(n,o.notification.authors[0].did))}),J(1),fe(2,"displayName"),T()}if(i&2){let t=_(2);v(),Ze(xe(2,1,t.notification.authors[0]))}}function w$e(i,e){if(i&1){let t=W();E(0,"a",20),V("click",function(n){P(t);let o=_(2);return L(o.openAuthor(n,o.notification.authors[0].did))}),J(1),fe(2,"displayName"),T(),J(3," and "),E(4,"a",20),V("click",function(n){P(t);let o=_(2);return L(o.openAuthor(n,o.notification.authors[1].did))}),J(5),fe(6,"displayName"),T()}if(i&2){let t=_(2);v(),Ze(xe(2,2,t.notification.authors[0])),v(4),Ze(xe(6,4,t.notification.authors[1]))}}function S$e(i,e){if(i&1){let t=W();E(0,"a",20),V("click",function(n){P(t);let o=_(2);return L(o.openAuthor(n,o.notification.authors[0].did))}),J(1),fe(2,"displayName"),T(),J(3," and "),E(4,"a",21),J(5),T()}if(i&2){let t=_(2);v(),Ze(xe(2,2,t.notification.authors[0])),v(4),ft("",t.notification.authors.length-1," more")}}function A$e(i,e){i&1&&J(0," liked your post ")}function R$e(i,e){i&1&&J(0," followed you ")}function k$e(i,e){i&1&&J(0," reposted your post ")}function D$e(i,e){i&1&&J(0," added you to a starter pack ")}function I$e(i,e){if(i&1&&(E(0,"span"),D(1,T$e,3,3,"a",19)(2,w$e,7,6)(3,S$e,6,4)(4,A$e,1,0),fe(5,"isLikeNotification"),fe(6,"isFollowNotification"),fe(7,"isRepostNotification"),D(8,R$e,1,0)(9,k$e,1,0)(10,D$e,1,0),T()),i&2){let t,r=_();v(),ie((t=r.notification.authors.length)===1?1:t===2?2:3),v(3),ie(xe(5,2,r.notification)?4:xe(6,4,r.notification)?8:xe(7,6,r.notification)?9:10)}}function P$e(i,e){if(i&1&&(E(0,"span",22),J(1),T()),i&2){let t=_().record;v(),ft(" ",t.text," ")}}function L$e(i,e){if(i&1){let t=W();E(0,"post-embed-images",24),V("onImgClick",function(n){P(t);let o=_().embed,s=_();return L(s.dialogService.openImagePost(o.images,n))}),T()}if(i&2){let t=_().embed;C("embed",t)}}function B$e(i,e){if(i&1){let t=W();E(0,"post-embed-video",25),V("click",function(n){return P(t),L(n.stopPropagation())}),T()}if(i&2){let t=_().embed;C("embed",t)}}function O$e(i,e){if(i&1&&(D(0,P$e,2,1,"span",22),fe(1,"isFeedPostRecord"),D(2,L$e,1,1,"post-embed-images",23),fe(3,"isEmbedImagesView"),D(4,B$e,1,1,"post-embed-video",23),fe(5,"isEmbedVideoView")),i&2){let t=e.record,r=e.embed;ie(xe(1,3,t)&&t.text.length?0:-1),v(2),ie(xe(3,5,r)?2:-1),v(2),ie(xe(5,7,r)?4:-1)}}var qT=class i{constructor(e){this.dialogService=e}notification;onNotificationClick=new Me;openAuthor(e,t){e.preventDefault(),e.stopPropagation(),this.dialogService.openAuthor(t)}static \u0275fac=function(t){return new(t||i)(ne(ri))};static \u0275cmp=oe({type:i,selectors:[["notification-card"]],inputs:{notification:"notification"},outputs:{onNotificationClick:"onNotificationClick"},features:[He([pc])],decls:16,vars:9,consts:[["base",""],["template",""],["authors",""],["label",""],["content",""],[1,"flex","px-3","pt-4","pb-3","cursor-pointer","gap-3",3,"click"],[3,"ngTemplateOutlet"],[1,"w-12","shrink-0","flex","justify-end"],[1,"pi","pi-heart","!text-2xl"],[1,"pi","pi-user-plus","!text-2xl"],[1,"pi","pi-arrow-right-arrow-left","!text-2xl"],[1,"pi","pi-sitemap","!text-2xl"],[1,"flex","flex-col","min-w-0","grow","gap-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2"],[1,"relative","h-8","w-8"],[1,"h-8","w-8","flex","items-center","justify-center"],[1,"relative","h-8","w-8",3,"click"],[1,"overflow-hidden",3,"image"],[1,"font-medium","hover:underline"],[1,"font-medium","hover:underline",3,"click"],[1,"font-medium","hover:underline",3,"href"],[1,"text-sm","text-primary-400","whitespace-pre-line","[overflow-wrap:break-word]"],[1,"mt-2",3,"embed"],[1,"mt-2",3,"onImgClick","embed"],[1,"mt-2",3,"click","embed"]],template:function(t,r){if(t&1){let n=W();E(0,"div",5,0),V("click",function(){return P(n),L(r.onNotificationClick.emit(r.notification))}),D(2,f$e,1,1,"ng-container",6),fe(3,"isLikeNotification"),fe(4,"isFollowNotification"),fe(5,"isRepostNotification"),fe(6,"isStarterPackNotification"),D(7,h$e,2,0,"span"),T(),D(8,v$e,12,10,"ng-template",null,1,Le)(10,E$e,5,5,"ng-template",null,2,Le)(12,I$e,11,8,"ng-template",null,3,Le)(14,O$e,6,9,"ng-template",null,4,Le)}t&2&&(v(2),ie(xe(3,1,r.notification)||xe(4,3,r.notification)||xe(5,5,r.notification)||xe(6,7,r.notification)?2:7))},dependencies:[NT,FT,UT,jT,rt,Uy,on,Jo,Qo,Yo,ba,Pa,rn],styles:[".fit-text[_ngcontent-%COMP%]{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0})};var M$e=["feed"],V$e=()=>({height:"3rem",width:"3rem"}),N$e=(i,e)=>e.uuid;function F$e(i,e){if(i&1){let t=W();E(0,"feed-post-card",6),V("onPostClick",function(n){P(t);let o=_(3);return L(o.openPost(n.post().uri))})("onEmbedClick",function(n){P(t);let o=_(3);return L(o.openPost(n.record.uri))}),T()}if(i&2){let t=_().$implicit;C("feedViewPost",t.feedViewPost)}}function U$e(i,e){if(i&1){let t=W();E(0,"notification-card",7),V("onNotificationClick",function(n){P(t);let o=_(3);return L(o.openNotification(n))}),T()}if(i&2){let t=_().$implicit;C("notification",t)}}function j$e(i,e){if(i&1&&(D(0,F$e,1,1,"feed-post-card",3),fe(1,"isPostNotification"),D(2,U$e,1,1,"notification-card",4),N(3,"p-divider",5)),i&2){let t=e.$implicit;ie(xe(1,1,t)?0:2)}}function q$e(i,e){if(i&1&&_i(0,j$e,4,3,null,null,N$e),i&2){let t=_();vi(t.notifications)}}function $$e(i,e){i&1&&(E(0,"div",2),N(1,"p-progress-spinner",8),T()),i&2&&(v(),pt($e(2,V$e)))}var $T=class i{constructor(e,t,r,n){this.postService=e;this.dialogService=t;this.messageService=r;this.cdRef=n}feed=Rr("feed");notifications;lastPostCursor;loading=!0;reloadReady=!1;reloadTimeout;ngOnInit(){this.initData()}ngOnDestroy(){clearTimeout(this.reloadTimeout)}initData(){this.loading=!0,ke.listNotifications({limit:100}).then(e=>{this.lastPostCursor=e.data.cursor,Qf.parseNotifications(e.data.notifications,this.postService).then(t=>{this.notifications=t,this.cdRef.markForCheck(),setTimeout(()=>{this.loading=!1,this.manageRefresh()},500)})})}nextData(){this.loading||(this.loading=!0,ke.listNotifications({cursor:this.lastPostCursor,limit:100}).then(e=>{this.lastPostCursor=e.data.cursor,Qf.parseNotifications(e.data.notifications,this.postService).then(t=>{this.notifications=[...this.notifications,...t],this.cdRef.markForCheck(),setTimeout(()=>{this.loading=!1},500)})}))}openPost(e){this.feed().nativeElement.querySelectorAll("video").forEach(t=>{t.muted=!0}),this.dialogService.openThread(e,this.feed().nativeElement)}openNotification(e){switch(e.reason){case"like":case"repost":this.openPost(e.uri);break;case"follow":case"starterpack-joined":this.messageService.warn("This feature is not implemented yet.","Welp!");break}}manageRefresh(){this.loading||(!this.reloadReady&&!this.reloadTimeout?this.reloadTimeout=setTimeout(()=>{this.reloadTimeout=void 0,this.feed().nativeElement.scrollTop==0?(this.reloadReady=!1,ke.listNotifications({limit:1}).then(e=>{let t=e.data.notifications[0],r=this.notifications[0];t?.indexedAt!==r?.notification.indexedAt?this.initData():this.manageRefresh()})):this.reloadReady=!0},3e4):this.reloadReady&&this.feed().nativeElement.scrollTop==0&&(this.reloadReady=!1,this.initData()))}log(e){console.log(e)}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(ri),ne(Qi),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["notification-feed"]],viewQuery:function(t,r){t&1&&yr(r.feed,M$e,5),t&2&&br()},decls:4,vars:1,consts:[["feed",""],["vScroll","",1,"w-full","h-full","min-h-0","flex","flex-col","overflow-y-auto","has-[p-dynamicdialog]:!overflow-hidden",3,"scrollEnding","scrollTop"],[1,"h-full","w-full","flex","items-center","justify-center"],[1,"cursor-pointer","hover:bg-white/2",3,"feedViewPost"],[1,"cursor-pointer","hover:bg-white/2",3,"notification"],[1,"!mt-0","!mb-0"],[1,"cursor-pointer","hover:bg-white/2",3,"onPostClick","onEmbedClick","feedViewPost"],[1,"cursor-pointer","hover:bg-white/2",3,"onNotificationClick","notification"],["strokeWidth","5",1,"h-12"]],template:function(t,r){if(t&1){let n=W();E(0,"div",1,0),V("scrollEnding",function(){return P(n),r.nextData(),L(r.manageRefresh())})("scrollTop",function(){return P(n),L(r.manageRefresh())}),D(2,q$e,2,0)(3,$$e,2,3,"div",2),T()}t&2&&(v(2),ie(r.notifications?2:3))},dependencies:[tt,ss,MT,qT,nn,as,ls],encapsulation:2,changeDetection:0})};var z$e=()=>({"--p-card-body-padding":0,"--p-card-background":"var(--p-primary-800)",height:"100%",overflow:"hidden"}),K$e=()=>({label:"Small",value:400}),H$e=()=>({label:"Medium",value:450}),G$e=()=>({label:"Large",value:500}),W$e=()=>({label:"Very Large",value:600}),X$e=(i,e,t,r)=>[i,e,t,r];function Z$e(i,e){if(i&1){let t=W();E(0,"div",16),N(1,"i",17),E(2,"span",18),J(3,"Notifications"),T(),E(4,"button",19),V("click",function(n){P(t),_();let o=Ue(7);return L(o.toggle(n))}),N(5,"i",20),T()()}}function Q$e(i,e){i&1&&N(0,"notification-feed",21)}var zT=class i{column=$s.required();firstIndex=$t(!1,{transform:de});lastIndex=$t(!1,{transform:de});reorderNext=qt();reorderPrev=qt();delete=qt();widthChange=qt();static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["notification-deck-column"]],inputs:{column:[1,"column"],firstIndex:[1,"firstIndex"],lastIndex:[1,"lastIndex"]},outputs:{column:"columnChange",reorderNext:"reorderNext",reorderPrev:"reorderPrev",delete:"delete",widthChange:"widthChange"},decls:20,vars:17,consts:[["card",""],["header",""],["content",""],["settings",""],[1,"relative","block","h-full","overflow-hidden","border","border-[var(--p-content-border-color)]","rounded-[var(--p-card-border-radius)]","[&_.p-card-body]:!h-full","[&_.p-card-content]:!h-full"],[3,"appendTo"],[1,"flex","flex-col"],[1,"flex","gap-2"],["pButton","","pRipple","","severity","secondary",1,"!h-9","!w-9",3,"click","disabled"],[1,"pi","pi-chevron-left"],[1,"pi","pi-chevron-right"],["pButton","","pRipple","","severity","danger",1,"!h-9","!w-9","ml-auto",3,"click"],[1,"pi","pi-trash"],[1,"flex","flex-col","gap-1","mt-4"],[1,"text-sm"],["optionLabel","label","optionValue","value","size","small",3,"ngModelChange","ngModel","options"],[1,"flex","h-14","w-full","pr-2","items-center","bg-[var(--p-primary-750)]","[border-bottom:1px_solid_var(--p-surface-700)]"],[1,"pi","pi-bell","!text-xl","w-18","text-center","-mt-[2px]","shrink-0"],[1,"text-lg","[text-box:trim-both_cap_alphabetic]","flex-1","cursor-default"],["pButton","","pRipple","","text","",1,"!h-10","!w-10","shrink-0",3,"click"],[1,"pi","pi-cog","!text-xl","text-center"],[1,"block","h-full"]],template:function(t,r){if(t&1){let n=W();E(0,"p-card",4,0),D(2,Z$e,6,0,"ng-template",null,1,Le)(4,Q$e,1,0,"ng-template",null,2,Le),T(),E(6,"p-popover",5,3)(8,"div",6)(9,"div",7)(10,"button",8),V("click",function(){return P(n),L(r.reorderPrev.emit())}),N(11,"i",9),T(),E(12,"button",8),V("click",function(){return P(n),L(r.reorderNext.emit())}),N(13,"i",10),T(),E(14,"button",11),V("click",function(){return P(n),L(r.delete.emit())}),N(15,"i",12),T()(),E(16,"div",13)(17,"span",14),J(18,"Column width"),T(),E(19,"p-select-button",15),V("ngModelChange",function(s){return P(n),L(r.widthChange.emit(s))}),T()()()()}if(t&2){let n=Ue(1);pt($e(7,z$e)),v(6),C("appendTo",n),v(4),C("disabled",r.firstIndex()),v(2),C("disabled",r.lastIndex()),v(7),C("ngModel",r.column().width)("options",Lo(12,X$e,$e(8,K$e),$e(9,H$e),$e(10,G$e),$e(11,W$e)))}},dependencies:[$n,$T,Vc,xr,ii,Cl,Yn,Qn,Xr],styles:["[_nghost-%COMP%]  .p-card-body{min-height:0}[_nghost-%COMP%]  .p-card-body .p-card-content{overflow:hidden}[_nghost-%COMP%]  .p-popover{width:100%;left:0!important;top:3rem!important;--p-popover-background: var(--p-primary-850);--p-popover-arrow-left: calc(100% - 3rem) !important}"],changeDetection:0})};var Y$e=()=>({"--p-card-body-padding":0,"--p-card-background":"var(--p-primary-800)",height:"100%",overflow:"hidden"}),J$e=()=>({label:"Small",value:400}),eze=()=>({label:"Medium",value:450}),tze=()=>({label:"Large",value:500}),ize=()=>({label:"Very Large",value:600}),rze=(i,e,t,r)=>[i,e,t,r];function nze(i,e){if(i&1){let t=W();E(0,"div",16),N(1,"i",17),E(2,"span",18),J(3),T(),E(4,"button",19),V("click",function(n){P(t),_();let o=Ue(7);return L(o.toggle(n))}),N(5,"i",20),T()()}if(i&2){let t=_();v(3),Ze("@"+t.column().handle)}}function oze(i,e){if(i&1&&N(0,"author-feed",21),i&2){let t=_();C("author",t.column().did)("includePins",!1)("filter",t.column().mode)}}var KT=class i{column=$s.required();firstIndex=$t(!1,{transform:de});lastIndex=$t(!1,{transform:de});reorderNext=qt();reorderPrev=qt();delete=qt();widthChange=qt();static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["author-deck-column"]],inputs:{column:[1,"column"],firstIndex:[1,"firstIndex"],lastIndex:[1,"lastIndex"]},outputs:{column:"columnChange",reorderNext:"reorderNext",reorderPrev:"reorderPrev",delete:"delete",widthChange:"widthChange"},decls:20,vars:17,consts:[["card",""],["header",""],["content",""],["settings",""],[1,"relative","block","h-full","overflow-hidden","border","border-[var(--p-content-border-color)]","rounded-[var(--p-card-border-radius)]","[&_.p-card-body]:!h-full","[&_.p-card-content]:!h-full"],[3,"appendTo"],[1,"flex","flex-col"],[1,"flex","gap-2"],["pButton","","pRipple","","severity","secondary",1,"!h-9","!w-9",3,"click","disabled"],[1,"pi","pi-chevron-left"],[1,"pi","pi-chevron-right"],["pButton","","pRipple","","severity","danger",1,"!h-9","!w-9","ml-auto",3,"click"],[1,"pi","pi-trash"],[1,"flex","flex-col","gap-1","mt-4"],[1,"text-sm"],["optionLabel","label","optionValue","value","size","small",3,"ngModelChange","ngModel","options"],[1,"flex","h-14","w-full","pr-2","items-center","bg-[var(--p-primary-750)]","[border-bottom:1px_solid_var(--p-surface-700)]"],[1,"pi","pi-user","!text-xl","w-18","text-center","-mt-[2px]","shrink-0"],[1,"text-lg","[text-box:trim-both_cap_alphabetic]","flex-1","cursor-default"],["pButton","","pRipple","","text","",1,"!h-10","!w-10","shrink-0",3,"click"],[1,"pi","pi-cog","!text-xl","text-center"],[1,"block","h-full",3,"author","includePins","filter"]],template:function(t,r){if(t&1){let n=W();E(0,"p-card",4,0),D(2,nze,6,1,"ng-template",null,1,Le)(4,oze,1,3,"ng-template",null,2,Le),T(),E(6,"p-popover",5,3)(8,"div",6)(9,"div",7)(10,"button",8),V("click",function(){return P(n),L(r.reorderPrev.emit())}),N(11,"i",9),T(),E(12,"button",8),V("click",function(){return P(n),L(r.reorderNext.emit())}),N(13,"i",10),T(),E(14,"button",11),V("click",function(){return P(n),L(r.delete.emit())}),N(15,"i",12),T()(),E(16,"div",13)(17,"span",14),J(18,"Column width"),T(),E(19,"p-select-button",15),V("ngModelChange",function(s){return P(n),L(r.widthChange.emit(s))}),T()()()()}if(t&2){let n=Ue(1);pt($e(7,Y$e)),v(6),C("appendTo",n),v(4),C("disabled",r.firstIndex()),v(2),C("disabled",r.lastIndex()),v(7),C("ngModel",r.column().width)("options",Lo(12,rze,$e(8,J$e),$e(9,eze),$e(10,tze),$e(11,ize)))}},dependencies:[$n,$f,xr,ii,Vc,Cl,Yn,Qn,Xr],styles:["[_nghost-%COMP%]  .p-card-body{min-height:0}[_nghost-%COMP%]  .p-card-body .p-card-content{overflow:hidden}[_nghost-%COMP%]  .p-popover{width:100%;left:0!important;top:3rem!important;--p-popover-background: var(--p-primary-850);--p-popover-arrow-left: calc(100% - 3rem) !important}"],changeDetection:0})};var HT=class i{transform(e){let t=e;return t&&t.type&&t.type=="TIMELINE"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isDeckColumnTimeline",type:i,pure:!0})};var WT=class i{transform(e){let t=e;return t&&t.type&&t.type=="NOTIFICATION"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isDeckColumnNotifications",type:i,pure:!0})};var XT=class i{transform(e){let t=e;return t&&t.type&&t.type=="AUTHOR"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isDeckColumnAuthor",type:i,pure:!0})};var ZT=class i{transform(e){let t=e;return t&&t.type&&t.type=="SEARCH"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isDeckColumnSearch",type:i,pure:!0})};var QT=class i{transform(e){let t=e;return t&&t.type&&t.type=="LIST"}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Ne({name:"isDeckColumnList",type:i,pure:!0})};var sze=()=>({"--p-card-body-padding":0,"--p-card-background":"var(--p-primary-800)",height:"100%",overflow:"hidden"}),aze=()=>({label:"Small",value:400}),lze=()=>({label:"Medium",value:450}),cze=()=>({label:"Large",value:500}),uze=()=>({label:"Very Large",value:600}),dze=(i,e,t,r)=>[i,e,t,r],pze=()=>({label:"Popular",value:"top"}),fze=()=>({label:"Latest",value:"latest"}),hze=(i,e)=>[i,e];function mze(i,e){if(i&1){let t=W();E(0,"div",16),N(1,"i",17),E(2,"span",18),J(3),T(),E(4,"button",19),V("click",function(n){P(t),_();let o=Ue(7);return L(o.toggle(n))}),N(5,"i",20),T()()}if(i&2){let t=_();v(3),Ze(t.column().query)}}function gze(i,e){if(i&1&&N(0,"search-feed",21),i&2){let t=_();C("query",t.column().query)("sort",t.column().sort)}}var JT=class i{column=$s.required();firstIndex=$t(!1,{transform:de});lastIndex=$t(!1,{transform:de});reorderNext=qt();reorderPrev=qt();delete=qt();widthChange=qt();sortChange=qt();static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["search-deck-column"]],inputs:{column:[1,"column"],firstIndex:[1,"firstIndex"],lastIndex:[1,"lastIndex"]},outputs:{column:"columnChange",reorderNext:"reorderNext",reorderPrev:"reorderPrev",delete:"delete",widthChange:"widthChange",sortChange:"sortChange"},decls:24,vars:24,consts:[["card",""],["header",""],["content",""],["settings",""],[1,"relative","block","h-full","overflow-hidden","border","border-[var(--p-content-border-color)]","rounded-[var(--p-card-border-radius)]","[&_.p-card-body]:!h-full","[&_.p-card-content]:!h-full"],[3,"appendTo"],[1,"flex","flex-col"],[1,"flex","gap-2"],["pButton","","pRipple","","severity","secondary",1,"!h-9","!w-9",3,"click","disabled"],[1,"pi","pi-chevron-left"],[1,"pi","pi-chevron-right"],["pButton","","pRipple","","severity","danger",1,"!h-9","!w-9","ml-auto",3,"click"],[1,"pi","pi-trash"],[1,"flex","flex-col","gap-1","mt-4"],[1,"text-sm"],["optionLabel","label","optionValue","value","size","small",3,"ngModelChange","ngModel","options"],[1,"flex","h-14","w-full","pr-2","items-center","bg-[var(--p-primary-750)]","[border-bottom:1px_solid_var(--p-surface-700)]"],[1,"pi","pi-search","!text-xl","w-18","text-center","-mt-[2px]","shrink-0"],[1,"text-lg","[text-box:trim-both_cap_alphabetic]","flex-1","cursor-default"],["pButton","","pRipple","","text","",1,"!h-10","!w-10","shrink-0",3,"click"],[1,"pi","pi-cog","!text-xl","text-center"],[1,"block","h-full",3,"query","sort"]],template:function(t,r){if(t&1){let n=W();E(0,"p-card",4,0),D(2,mze,6,1,"ng-template",null,1,Le)(4,gze,1,2,"ng-template",null,2,Le),T(),E(6,"p-popover",5,3)(8,"div",6)(9,"div",7)(10,"button",8),V("click",function(){return P(n),L(r.reorderPrev.emit())}),N(11,"i",9),T(),E(12,"button",8),V("click",function(){return P(n),L(r.reorderNext.emit())}),N(13,"i",10),T(),E(14,"button",11),V("click",function(){return P(n),L(r.delete.emit())}),N(15,"i",12),T()(),E(16,"div",13)(17,"span",14),J(18,"Column width"),T(),E(19,"p-select-button",15),V("ngModelChange",function(s){return P(n),L(r.widthChange.emit(s))}),T()(),E(20,"div",13)(21,"span",14),J(22,"Post sorting"),T(),E(23,"p-select-button",15),V("ngModelChange",function(s){return P(n),L(r.sortChange.emit(s))}),T()()()()}if(t&2){let n=Ue(1);pt($e(9,sze)),v(6),C("appendTo",n),v(4),C("disabled",r.firstIndex()),v(2),C("disabled",r.lastIndex()),v(7),C("ngModel",r.column().width)("options",Lo(14,dze,$e(10,aze),$e(11,lze),$e(12,cze),$e(13,uze))),v(4),C("ngModel",r.column().sort)("options",Rt(21,hze,$e(19,pze),$e(20,fze)))}},dependencies:[$n,Kf,xr,ii,Vc,Cl,Yn,Qn,Xr],styles:["[_nghost-%COMP%]  .p-card-body{min-height:0}[_nghost-%COMP%]  .p-card-body .p-card-content{overflow:hidden}[_nghost-%COMP%]  .p-popover{width:100%;left:0!important;top:3rem!important;--p-popover-background: var(--p-primary-850);--p-popover-arrow-left: calc(100% - 3rem) !important}"],changeDetection:0})};var tw=(i,e)=>({width:i,order:e}),yze=(i,e)=>e.uuid;function bze(i,e){if(i&1){let t=W();E(0,"timeline-deck-column",2),V("columnChange",function(n){P(t);let o=_(2);return L(o.onColumnChange(n))})("reorderPrev",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index-1))})("reorderNext",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index+1))})("delete",function(){P(t);let n=_().$implicit,o=_();return L(o.onDeleteColumn(n.uuid))})("widthChange",function(n){P(t);let o=_().$implicit,s=_();return L(s.widthChange(o.uuid,n))}),T()}if(i&2){let t=_().$implicit,r=_();pt(Rt(5,tw,t.width+"px",t.index)),C("column",t)("firstIndex",t.index==0)("lastIndex",t.index==r.columns().length-1)}}function _ze(i,e){if(i&1){let t=W();E(0,"notification-deck-column",2),V("columnChange",function(n){P(t);let o=_(2);return L(o.onColumnChange(n))})("reorderPrev",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index-1))})("reorderNext",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index+1))})("delete",function(){P(t);let n=_().$implicit,o=_();return L(o.onDeleteColumn(n.uuid))})("widthChange",function(n){P(t);let o=_().$implicit,s=_();return L(s.widthChange(o.uuid,n))}),T()}if(i&2){let t=_().$implicit,r=_();pt(Rt(5,tw,t.width+"px",t.index)),C("column",t)("firstIndex",t.index==0)("lastIndex",t.index==r.columns().length-1)}}function vze(i,e){if(i&1){let t=W();E(0,"author-deck-column",2),V("columnChange",function(n){P(t);let o=_(2);return L(o.onColumnChange(n))})("reorderPrev",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index-1))})("reorderNext",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index+1))})("delete",function(){P(t);let n=_().$implicit,o=_();return L(o.onDeleteColumn(n.uuid))})("widthChange",function(n){P(t);let o=_().$implicit,s=_();return L(s.widthChange(o.uuid,n))}),T()}if(i&2){let t=_().$implicit,r=_();pt(Rt(5,tw,t.width+"px",t.index)),C("column",t)("firstIndex",t.index==0)("lastIndex",t.index==r.columns().length-1)}}function xze(i,e){if(i&1){let t=W();E(0,"search-deck-column",3),V("columnChange",function(n){P(t);let o=_(2);return L(o.onColumnChange(n))})("reorderPrev",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index-1))})("reorderNext",function(){P(t);let n=_().$implicit,o=_();return L(o.reorder(n.index,n.index+1))})("delete",function(){P(t);let n=_().$implicit,o=_();return L(o.onDeleteColumn(n.uuid))})("widthChange",function(n){P(t);let o=_().$implicit,s=_();return L(s.widthChange(o.uuid,n))})("sortChange",function(n){P(t);let o=_().$implicit,s=_();return L(s.sortChange(o.uuid,n))}),T()}if(i&2){let t=_().$implicit,r=_();pt(Rt(5,tw,t.width+"px",t.index)),C("column",t)("firstIndex",t.index==0)("lastIndex",t.index==r.columns().length-1)}}function Cze(i,e){}function Eze(i,e){if(i&1&&(D(0,bze,1,8,"timeline-deck-column",1),fe(1,"isDeckColumnTimeline"),fe(2,"isDeckColumnNotifications"),fe(3,"isDeckColumnAuthor"),fe(4,"isDeckColumnSearch"),fe(5,"isDeckColumnList"),D(6,_ze,1,8,"notification-deck-column",1)(7,vze,1,8,"author-deck-column",1)(8,xze,1,8,"search-deck-column",1)(9,Cze,0,0)),i&2){let t=e.$implicit;ie(xe(1,1,t)?0:xe(2,3,t)?6:xe(3,5,t)?7:xe(4,7,t)?8:xe(5,9,t)?9:-1)}}var ew=class i{constructor(e,t,r,n){this.postService=e;this.dialogService=t;this.columnService=r;this.messageService=n;this.columns=r.getColumns()}columns;onColumnChange(e){this.columnService.updateColumn(e)}onDeleteColumn(e){this.messageService.confirm("Are you sure to delete this column?","Delete").then(()=>{this.columnService.deleteColumn(e)})}reorder(e,t){this.columns.update(r=>{let n=r.toSorted((s,a)=>s.index-a.index),o=n.splice(n.findIndex(s=>s.index==e),1)[0];return n.splice(t,0,o),n.forEach((s,a)=>r.find(l=>l.uuid==s.uuid).index=a),r}),this.columnService.saveColumns()}widthChange(e,t){this.columns.update(r=>(r.find(n=>n.uuid==e).width=t,r)),this.columnService.saveColumns()}sortChange(e,t){this.columns.update(r=>(r.find(n=>n.uuid==e).sort=t,r)),this.columnService.saveColumns()}static \u0275fac=function(t){return new(t||i)(ne(dr),ne(ri),ne(ma),ne(Qi))};static \u0275cmp=oe({type:i,selectors:[["deck"]],decls:3,vars:0,consts:[[1,"flex","gap-4"],[1,"shrink-0",3,"column","firstIndex","lastIndex","style"],[1,"shrink-0",3,"columnChange","reorderPrev","reorderNext","delete","widthChange","column","firstIndex","lastIndex"],[1,"shrink-0",3,"columnChange","reorderPrev","reorderNext","delete","widthChange","sortChange","column","firstIndex","lastIndex"]],template:function(t,r){t&1&&(E(0,"div",0),_i(1,Eze,10,11,null,null,yze),T()),t&2&&(v(),vi(r.columns()))},dependencies:[Zx,OT,zT,KT,HT,WT,XT,ZT,QT,JT],encapsulation:2,changeDetection:0})};var Tze=["header"],wze=["footer"],Sze=["indicator"],Aze=["caption"],Rze=["closeicon"],kze=["previousthumbnailicon"],Dze=["nextthumbnailicon"],Ize=["itempreviousicon"],Pze=["itemnexticon"],Lze=["item"],Bze=["thumbnail"],Oze=["mask"],Mze=["container"],Vze=()=>({"p-galleria-mask p-overlay-mask p-overlay-mask-enter":!0}),Nze=(i,e)=>({showTransitionParams:i,hideTransitionParams:e}),Fze=i=>({value:"visible",params:i});function Uze(i,e){if(i&1){let t=W();E(0,"p-galleriaContent",7),V("@animation.start",function(n){P(t);let o=_(3);return L(o.onAnimationStart(n))})("@animation.done",function(n){P(t);let o=_(3);return L(o.onAnimationEnd(n))})("maskHide",function(){P(t);let n=_(3);return L(n.onMaskHide())})("activeItemChange",function(n){P(t);let o=_(3);return L(o.onActiveItemChange(n))}),T()}if(i&2){let t=_(3);C("@animation",Fe(9,Fze,Rt(6,Nze,t.showTransitionOptions,t.hideTransitionOptions)))("value",t.value)("activeIndex",t.activeIndex)("numVisible",t.numVisibleLimit||t.numVisible)("ngStyle",t.containerStyle)("fullScreen",t.fullScreen)}}function jze(i,e){if(i&1&&(E(0,"div",5,2),D(2,Uze,1,11,"p-galleriaContent",6),T()),i&2){let t=_(2);we(t.maskClass),C("ngClass",$e(6,Vze)),ae("role",t.fullScreen?"dialog":"region")("aria-modal",t.fullScreen?"true":void 0),v(2),C("ngIf",t.visible)}}function qze(i,e){if(i&1&&(E(0,"div",null,1),D(2,jze,3,7,"div",4),T()),i&2){let t=_();v(2),C("ngIf",t.maskVisible)}}function $ze(i,e){if(i&1){let t=W();E(0,"p-galleriaContent",8),V("activeItemChange",function(n){P(t);let o=_();return L(o.onActiveItemChange(n))}),T()}if(i&2){let t=_();C("value",t.value)("activeIndex",t.activeIndex)("numVisible",t.numVisibleLimit||t.numVisible)}}var zze=["closeButton"],Kze=(i,e,t)=>({"p-galleria p-component":!0,"p-galleria-fullscreen":i,"p-galleria-inset-indicators":e,"p-galleria-hover-navigators":t}),Hze=()=>({});function Gze(i,e){i&1&&N(0,"TimesIcon",11),i&2&&C("styleClass","p-galleria-close-icon")}function Wze(i,e){}function Xze(i,e){i&1&&D(0,Wze,0,0,"ng-template")}function Zze(i,e){if(i&1){let t=W();E(0,"button",8),V("click",function(){P(t);let n=_(2);return L(n.maskHide.emit())}),D(1,Gze,1,1,"TimesIcon",9)(2,Xze,1,0,null,10),T()}if(i&2){let t=_(2);ae("aria-label",t.closeAriaLabel())("data-pc-section","closebutton"),v(),C("ngIf",!t.galleria.closeIconTemplate&&!t.galleria._closeIconTemplate),v(),C("ngTemplateOutlet",t.galleria.closeIconTemplate||t.galleria._closeIconTemplate)}}function Qze(i,e){if(i&1&&(E(0,"div",12),N(1,"p-galleriaItemSlot",13),T()),i&2){let t=_(2);v(),C("templates",t.galleria.templates)}}function Yze(i,e){if(i&1){let t=W();E(0,"p-galleriaThumbnails",14),V("onActiveIndexChange",function(n){P(t);let o=_(2);return L(o.onActiveIndexChange(n))})("stopSlideShow",function(){P(t);let n=_(2);return L(n.stopSlideShow())}),T()}if(i&2){let t=_(2);C("containerId",t.id)("value",t.value)("activeIndex",t.activeIndex)("templates",t.galleria.templates)("numVisible",t.numVisible)("responsiveOptions",t.galleria.responsiveOptions)("circular",t.galleria.circular)("isVertical",t.isVertical())("contentHeight",t.galleria.verticalThumbnailViewPortHeight)("showThumbnailNavigators",t.galleria.showThumbnailNavigators)("slideShowActive",t.slideShowActive)}}function Jze(i,e){if(i&1&&(E(0,"div",15),N(1,"p-galleriaItemSlot",16),T()),i&2){let t=_(2);v(),C("templates",t.galleria.templates)}}function eKe(i,e){if(i&1){let t=W();E(0,"div",1),D(1,Zze,3,4,"button",2)(2,Qze,2,1,"div",3),E(3,"div",4)(4,"p-galleriaItem",5),V("onActiveIndexChange",function(n){P(t);let o=_();return L(o.onActiveIndexChange(n))})("startSlideShow",function(){P(t);let n=_();return L(n.startSlideShow())})("stopSlideShow",function(){P(t);let n=_();return L(n.stopSlideShow())}),T(),D(5,Yze,1,11,"p-galleriaThumbnails",6),T(),D(6,Jze,2,1,"div",7),T()}if(i&2){let t=_();we(t.galleriaClass()),C("ngClass",zs(24,Kze,t.galleria.fullScreen,t.galleria.showIndicatorsOnItem,t.galleria.showItemNavigatorsOnHover&&!t.galleria.fullScreen))("ngStyle",t.galleria.fullScreen?$e(28,Hze):t.galleria.containerStyle)("pFocusTrapDisabled",!t.fullScreen),ae("id",t.id)("role","region"),v(),C("ngIf",t.galleria.fullScreen),v(),C("ngIf",t.galleria.templates&&(t.galleria.headerFacet||t.galleria.headerTemplate)),v(),ae("aria-live",t.galleria.autoPlay?"polite":"off"),v(),C("id",t.id)("value",t.value)("activeIndex",t.activeIndex)("circular",t.galleria.circular)("templates",t.galleria.templates)("showIndicators",t.galleria.showIndicators)("changeItemOnIndicatorHover",t.galleria.changeItemOnIndicatorHover)("indicatorFacet",t.galleria.indicatorFacet)("captionFacet",t.galleria.captionFacet)("showItemNavigators",t.galleria.showItemNavigators)("autoPlay",t.galleria.autoPlay)("slideShowActive",t.slideShowActive),v(),C("ngIf",t.galleria.showThumbnails),v(),C("ngIf",t.shouldRenderFooter())}}function tKe(i,e){i&1&&Pe(0)}function iKe(i,e){if(i&1&&(It(0),D(1,tKe,1,0,"ng-container",1),Pt()),i&2){let t=_();v(),C("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",t.context)}}var rKe=i=>({"p-galleria-prev-button p-galleria-nav-button":!0,"p-disabled":i}),nKe=i=>({"p-galleria-next-button p-galleria-nav-button":!0,"p-disabled":i}),oKe=i=>({"p-galleria-indicator":!0,"p-galleria-indicator-active":i});function sKe(i,e){i&1&&N(0,"ChevronLeftIcon",9),i&2&&C("styleClass","p-galleria-prev-icon")}function aKe(i,e){}function lKe(i,e){i&1&&D(0,aKe,0,0,"ng-template")}function cKe(i,e){if(i&1){let t=W();E(0,"button",6),V("click",function(n){P(t);let o=_();return L(o.navBackward(n))})("focus",function(){P(t);let n=_();return L(n.onButtonFocus("left"))})("blur",function(){P(t);let n=_();return L(n.onButtonBlur("left"))}),D(1,sKe,1,1,"ChevronLeftIcon",7)(2,lKe,1,0,null,8),T()}if(i&2){let t=_();C("ngClass",Fe(4,rKe,t.isNavBackwardDisabled()))("disabled",t.isNavBackwardDisabled()),v(),C("ngIf",!t.galleria.itemPreviousIconTemplate&&!t.galleria._itemPreviousIconTemplate),v(),C("ngTemplateOutlet",t.galleria.itemPreviousIconTemplate||t.galleria._itemPreviousIconTemplate)}}function uKe(i,e){i&1&&N(0,"ChevronRightIcon",9),i&2&&C("styleClass","p-galleria-next-icon")}function dKe(i,e){}function pKe(i,e){i&1&&D(0,dKe,0,0,"ng-template")}function fKe(i,e){if(i&1){let t=W();E(0,"button",6),V("click",function(n){P(t);let o=_();return L(o.navForward(n))})("focus",function(){P(t);let n=_();return L(n.onButtonFocus("right"))})("blur",function(){P(t);let n=_();return L(n.onButtonBlur("right"))}),D(1,uKe,1,1,"ChevronRightIcon",7)(2,pKe,1,0,null,8),T()}if(i&2){let t=_();C("ngClass",Fe(4,nKe,t.isNavForwardDisabled()))("disabled",t.isNavForwardDisabled()),v(),C("ngIf",!t.galleria.itemNextIconTemplate&&!t.galleria._itemNextIconTemplate),v(),C("ngTemplateOutlet",t.galleria.itemNextIconTemplate||t.galleria._itemNextIconTemplate)}}function hKe(i,e){if(i&1&&(E(0,"div",10),N(1,"p-galleriaItemSlot",11),T()),i&2){let t=_();v(),C("item",t.activeItem)("templates",t.templates)}}function mKe(i,e){i&1&&N(0,"button",17)}function gKe(i,e){if(i&1){let t=W();E(0,"li",14),V("click",function(){let n=P(t).index,o=_(2);return L(o.onIndicatorClick(n))})("mouseenter",function(){let n=P(t).index,o=_(2);return L(o.onIndicatorMouseEnter(n))})("keydown",function(n){let o=P(t).index,s=_(2);return L(s.onIndicatorKeyDown(n,o))}),D(1,mKe,1,0,"button",15),N(2,"p-galleriaItemSlot",16),T()}if(i&2){let t=e.index,r=_(2);C("ngClass",Fe(7,oKe,r.isIndicatorItemActive(t))),ae("aria-label",r.ariaPageLabel(t+1))("aria-selected",r.activeIndex===t)("aria-controls",r.id+"_item_"+t),v(),C("ngIf",!r.indicatorFacet&&!r.galleria.indicatorTemplate),v(),C("index",t)("templates",r.templates)}}function yKe(i,e){if(i&1&&(E(0,"ul",12),D(1,gKe,3,9,"li",13),T()),i&2){let t=_();v(),C("ngForOf",t.value)}}var bKe=["itemsContainer"],_Ke=i=>({height:i}),vKe=i=>({"p-galleria-thumbnail-prev-button p-galleria-thumbnail-nav-button":!0,"p-disabled":i}),xKe=(i,e,t,r)=>({"p-galleria-thumbnail-item":!0,"p-galleria-thumbnail-item-current":i,"p-galleria-thumbnail-item-active":e,"p-galleria-thumbnail-item-start":t,"p-galleria-thumbnail-item-end":r}),CKe=i=>({"p-galleria-thumbnail-next-button p-galleria-thumbnail-nav-button":!0,"p-disabled":i});function EKe(i,e){i&1&&N(0,"ChevronLeftIcon",11),i&2&&C("styleClass","p-galleria-thumbnail-prev-icon")}function TKe(i,e){i&1&&N(0,"ChevronUpIcon",11),i&2&&C("styleClass","p-galleria-thumbnail-prev-icon")}function wKe(i,e){if(i&1&&(It(0),D(1,EKe,1,1,"ChevronLeftIcon",10)(2,TKe,1,1,"ChevronUpIcon",10),Pt()),i&2){let t=_(2);v(),C("ngIf",!t.isVertical),v(),C("ngIf",t.isVertical)}}function SKe(i,e){}function AKe(i,e){i&1&&D(0,SKe,0,0,"ng-template")}function RKe(i,e){if(i&1){let t=W();E(0,"button",7),V("click",function(n){P(t);let o=_();return L(o.navBackward(n))}),D(1,wKe,3,2,"ng-container",8)(2,AKe,1,0,null,9),T()}if(i&2){let t=_();C("ngClass",Fe(5,vKe,t.isNavBackwardDisabled()))("disabled",t.isNavBackwardDisabled()),ae("aria-label",t.ariaPrevButtonLabel()),v(),C("ngIf",!t.galleria.previousThumbnailIconTemplate&&!t.galleria._previousThumbnailIconTemplate),v(),C("ngTemplateOutlet",t.galleria.previousThumbnailIconTemplate||t.galleria._previousThumbnailIconTemplate)}}function kKe(i,e){if(i&1){let t=W();E(0,"div",12),V("keydown",function(n){let o=P(t).index,s=_();return L(s.onThumbnailKeydown(n,o))}),E(1,"div",13),V("click",function(){let n=P(t).index,o=_();return L(o.onItemClick(n))})("touchend",function(){let n=P(t).index,o=_();return L(o.onItemClick(n))})("keydown.enter",function(){let n=P(t).index,o=_();return L(o.onItemClick(n))}),N(2,"p-galleriaItemSlot",14),T()()}if(i&2){let t=e.$implicit,r=e.index,n=_();C("ngClass",Lo(10,xKe,n.activeIndex===r,n.isItemActive(r),n.firstItemAciveIndex()===r,n.lastItemActiveIndex()===r)),ae("aria-selected",n.activeIndex===r)("aria-controls",n.containerId+"_item_"+r)("data-pc-section","thumbnailitem")("data-p-active",n.activeIndex===r),v(),ae("tabindex",n.activeIndex===r?0:-1)("aria-current",n.activeIndex===r?"page":void 0)("aria-label",n.ariaPageLabel(r+1)),v(),C("item",t)("templates",n.templates)}}function DKe(i,e){i&1&&N(0,"ChevronRightIcon",16),i&2&&C("ngClass","p-galleria-thumbnail-next-icon")}function IKe(i,e){i&1&&N(0,"ChevronDownIcon",16),i&2&&C("ngClass","p-galleria-thumbnail-next-icon")}function PKe(i,e){if(i&1&&(It(0),D(1,DKe,1,1,"ChevronRightIcon",15)(2,IKe,1,1,"ChevronDownIcon",15),Pt()),i&2){let t=_(2);v(),C("ngIf",!t.isVertical),v(),C("ngIf",t.isVertical)}}function LKe(i,e){}function BKe(i,e){i&1&&D(0,LKe,0,0,"ng-template")}function OKe(i,e){if(i&1){let t=W();E(0,"button",7),V("click",function(n){P(t);let o=_();return L(o.navForward(n))}),D(1,PKe,3,2,"ng-container",8)(2,BKe,1,0,null,9),T()}if(i&2){let t=_();C("ngClass",Fe(5,CKe,t.isNavForwardDisabled()))("disabled",t.isNavForwardDisabled()),ae("aria-label",t.ariaNextButtonLabel()),v(),C("ngIf",!t.galleria.nextThumbnailIconTemplate&&!t.galleria._nextThumbnailIconTemplate),v(),C("ngTemplateOutlet",t.galleria.nextThumbnailIconTemplate||t.galleria._nextThumbnailIconTemplate)}}var MKe=({dt:i})=>`
.p-galleria {
    overflow: hidden;
    border-style: solid;
    border-width: ${i("galleria.border.width")};
    border-color: ${i("galleria.border.color")};
    border-radius: ${i("galleria.border.radius")};
}

.p-galleria-content {
    display: flex;
    flex-direction: column;
}

.p-galleria-items-container {
    display: flex;
    flex-direction: column;
    position: relative;
}

.p-galleria-items {
    position: relative;
    display: flex;
    height: 100%;
}

.p-galleria-nav-button {
    position: absolute;
    top: 50%;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    background: ${i("galleria.nav.button.background")};
    color: ${i("galleria.nav.button.color")};
    width: ${i("galleria.nav.button.size")};
    height: ${i("galleria.nav.button.size")};
    transition: background ${i("galleria.transition.duration")}, color ${i("galleria.transition.duration")}, outline-color ${i("galleria.transition.duration")}, box-shadow ${i("galleria.transition.duration")};
    margin: calc(-1 * calc(${i("galleria.nav.button.size")}) / 2) ${i("galleria.nav.button.gutter")} 0 ${i("galleria.nav.button.gutter")};
    padding: 0;
    user-select: none;
    border: 0 none;
    cursor: pointer;
    outline-color: transparent;
}

.p-galleria-nav-button:not(.p-disabled):hover {
    background: ${i("galleria.nav.button.hover.background")};
    color: ${i("galleria.nav.button.hover.color")};
}

.p-galleria-nav-button:not(.p-disabled):focus-visible {
    box-shadow: ${i("galleria.nav.button.focus.ring.shadow")};
    outline: ${i("galleria.nav.button.focus.ring.width")} ${i("galleria.nav.button.focus.ring.style")} ${i("galleria.nav.button.focus.ring.color")};
    outline-offset: ${i("galleria.nav.button.focus.ring.offset")};
}

.p-galleria-next-icon,
.p-galleria-prev-icon {
    font-size: ${i("galleria.nav.icon.size")};
    width: ${i("galleria.nav.icon.size")};
    height: ${i("galleria.nav.icon.size")};
}

.p-galleria-prev-button {
    border-radius: ${i("galleria.nav.button.prev.border.radius")};
    left: 0;
}

.p-galleria-next-button {
    border-radius: ${i("galleria.nav.button.next.border.radius")};
    right: 0;
}

.p-galleria-prev-button:dir(rtl) {
    left: auto;
    right: 0;
    transform: rotate(180deg);
}

.p-galleria-next-button:dir(rtl) {
    right: auto;
    left: 0;
    transform: rotate(180deg);
}

.p-galleria-item {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    width: 100%;
}

.p-galleria-hover-navigators .p-galleria-nav-button {
    pointer-events: none;
    opacity: 0;
    transition: opacity ${i("galleria.transition.duration")} ease-in-out;
}

.p-galleria-hover-navigators .p-galleria-items-container:hover .p-galleria-nav-button {
    pointer-events: all;
    opacity: 1;
}

.p-galleria-hover-navigators .p-galleria-items-container:hover .p-galleria-nav-button.p-disabled {
    pointer-events: none;
}

.p-galleria-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: ${i("galleria.caption.background")};
    color: ${i("galleria.caption.color")};
    padding: ${i("galleria.caption.padding")};
}

.p-galleria-thumbnails {
    display: flex;
    flex-direction: column;
    overflow: auto;
    flex-shrink: 0;
}

.p-galleria-thumbnail-nav-button {
    align-self: center;
    flex: 0 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
    margin: 0 ${i("galleria.thumbnail.nav.button.gutter")};
    padding: 0;
    border: none;
    user-select: none;
    cursor: pointer;
    background: transparent;
    color: ${i("galleria.thumbnail.nav.button.color")};
    width: ${i("galleria.thumbnail.nav.button.size")};
    height: ${i("galleria.thumbnail.nav.button.size")};
    transition: background ${i("galleria.transition.duration")}, color ${i("galleria.transition.duration")}, outline-color ${i("galleria.transition.duration")};
    outline-color: transparent;
    border-radius: ${i("galleria.thumbnail.nav.button.border.radius")};
}

.p-galleria-thumbnail-nav-button:hover {
    background: ${i("galleria.thumbnail.nav.button.hover.background")};
    color: ${i("galleria.thumbnail.nav.button.hover.color")};
}

.p-galleria-thumbnail-nav-button:focus-visible {
    box-shadow: ${i("galleria.thumbnail.nav.button.focus.ring.shadow")};
    outline: ${i("galleria.thumbnail.nav.button.focus.ring.width")} ${i("galleria.thumbnail.nav.button.focus.ring.style")} ${i("galleria.thumbnail.nav.button.focus.ring.color")};
    outline-offset: ${i("galleria.thumbnail.nav.button.focus.ring.offset")};
}

.p-galleria-thumbnail-nav-button .p-galleria-thumbnail-next-icon,
.p-galleria-thumbnail-nav-button .p-galleria-thumbnail-prev-icon {
    font-size: ${i("galleria.thumbnail.nav.button.icon.size")};
    width: ${i("galleria.thumbnail.nav.button.icon.size")};
    height: ${i("galleria.thumbnail.nav.button.icon.size")};
}

.p-galleria-thumbnails-content {
    display: flex;
    flex-direction: row;
    background: ${i("galleria.thumbnails.content.background")};
    padding: ${i("galleria.thumbnails.content.padding")};
}

.p-galleria-thumbnails-viewport {
    overflow: hidden;
    width: 100%;
}

.p-galleria:not(.p-galleria-thumbnails-right):not(.p-galleria-thumbnails-left) .p-galleria-thumbnail-prev-button:dir(rtl),
.p-galleria:not(.p-galleria-thumbnails-right):not(.p-galleria-thumbnails-left) .p-galleria-thumbnail-next-button:dir(rtl) {
    transform: rotate(180deg);
}

.p-galleria-thumbnail-items {
    display: flex;
}

.p-galleria-thumbnail-item {
    overflow: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    opacity: 0.5;
}

.p-galleria-thumbnail {
    outline-color: transparent;
}

.p-galleria-thumbnail-item:hover {
    opacity: 1;
    transition: opacity 0.3s;
}

.p-galleria-thumbnail-item-current {
    opacity: 1;
}

.p-galleria-thumbnails-left .p-galleria-content,
.p-galleria-thumbnails-right .p-galleria-content {
    flex-direction: row;
}

.p-galleria-thumbnails-left .p-galleria-items-container,
.p-galleria-thumbnails-right .p-galleria-items-container {
    flex-direction: row;
}

.p-galleria-thumbnails-left .p-galleria-items-container,
.p-galleria-thumbnails-top .p-galleria-items-container {
    order: 2;
}

.p-galleria-thumbnails-left .p-galleria-thumbnails,
.p-galleria-thumbnails-top .p-galleria-thumbnails {
    order: 1;
}

.p-galleria-thumbnails-left .p-galleria-thumbnails-content,
.p-galleria-thumbnails-right .p-galleria-thumbnails-content {
    flex-direction: column;
    flex-grow: 1;
}

.p-galleria-thumbnails-left .p-galleria-thumbnail-items,
.p-galleria-thumbnails-right .p-galleria-thumbnail-items {
    flex-direction: column;
    height: 100%;
}

.p-galleria-indicator-list {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: ${i("galleria.indicator.list.padding")};
    gap: ${i("galleria.indicator.list.gap")};
    margin: 0;
    list-style: none;
}

.p-galleria-indicator-button {
    display: inline-flex;
    align-items: center;
    background: ${i("galleria.indicator.button.background")};
    width: ${i("galleria.indicator.button.width")};
    height: ${i("galleria.indicator.button.height")};
    transition: background ${i("galleria.transition.duration")}, color ${i("galleria.transition.duration")}, outline-color ${i("galleria.transition.duration")}, box-shadow ${i("galleria.transition.duration")};
    outline-color: transparent;
    border-radius: ${i("galleria.indicator.button.border.radius")};
    margin: 0;
    padding: 0;
    border: none;
    user-select: none;
    cursor: pointer;
}

.p-galleria-indicator-button:hover {
    background: ${i("galleria.indicator.button.hover.background")};
}

.p-galleria-indicator-button:focus-visible {
    box-shadow: ${i("galleria.indicator.button.focus.ring.shadow")};
    outline: ${i("galleria.indicator.button.focus.ring.width")} ${i("galleria.indicator.button.focus.ring.style")} ${i("galleria.indicator.button.focus.ring.color")};
    outline-offset: ${i("galleria.indicator.button.focus.ring.offset")};
}

.p-galleria-indicator-active .p-galleria-indicator-button {
    background: ${i("galleria.indicator.button.active.background")};
}

.p-galleria-indicators-left .p-galleria-items-container,
.p-galleria-indicators-right .p-galleria-items-container {
    flex-direction: row;
    align-items: center;
}

.p-galleria-indicators-left .p-galleria-items,
.p-galleria-indicators-top .p-galleria-items {
    order: 2;
}

.p-galleria-indicators-left .p-galleria-indicator-list,
.p-galleria-indicators-top .p-galleria-indicator-list {
    order: 1;
}

.p-galleria-indicators-left .p-galleria-indicator-list,
.p-galleria-indicators-right .p-galleria-indicator-list {
    flex-direction: column;
}

.p-galleria-inset-indicators .p-galleria-indicator-list {
    position: absolute;
    display: flex;
    z-index: 1;
    background: ${i("galleria.inset.indicator.list.background")};
}

.p-galleria-inset-indicators .p-galleria-indicator-button {
    background: ${i("galleria.inset.indicator.button.background")};
}

.p-galleria-inset-indicators .p-galleria-indicator-button:hover {
    background: ${i("galleria.inset.indicator.button.hover.background")};
}

.p-galleria-inset-indicators .p-galleria-indicator-active .p-galleria-indicator-button {
    background: ${i("galleria.inset.indicator.button.active.background")};
}

.p-galleria-inset-indicators.p-galleria-indicators-top .p-galleria-indicator-list {
    top: 0;
    left: 0;
    width: 100%;
    align-items: flex-start;
}

.p-galleria-inset-indicators.p-galleria-indicators-right .p-galleria-indicator-list {
    right: 0;
    top: 0;
    height: 100%;
    align-items: flex-end;
}

.p-galleria-inset-indicators.p-galleria-indicators-bottom .p-galleria-indicator-list {
    bottom: 0;
    left: 0;
    width: 100%;
    align-items: flex-end;
}

.p-galleria-inset-indicators.p-galleria-indicators-left .p-galleria-indicator-list {
    left: 0;
    top: 0;
    height: 100%;
    align-items: flex-start;
}

.p-galleria-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-galleria-close-button {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    margin: ${i("galleria.close.button.gutter")};
    background: ${i("galleria.close.button.background")};
    color: ${i("galleria.close.button.color")};
    width: ${i("galleria.close.button.size")};
    height: ${i("galleria.close.button.size")};
    padding: 0;
    border: none;
    user-select: none;
    cursor: pointer;
    border-radius: ${i("galleria.close.button.border.radius")};
    outline-color: transparent;
    transition: background ${i("galleria.transition.duration")}, color ${i("galleria.transition.duration")}, outline-color ${i("galleria.transition.duration")};
}

.p-galleria-close-icon {
    font-size: ${i("galleria.close.button.icon.size")};
    width: ${i("galleria.close.button.icon.size")};
    height: ${i("galleria.close.button.icon.size")};
}

.p-galleria-close-button:hover {
    background: ${i("galleria.close.button.hover.background")};
    color: ${i("galleria.close.button.hover.color")};
}

.p-galleria-close-button:focus-visible {
    box-shadow: ${i("galleria.close.button.focus.ring.shadow")};
    outline: ${i("galleria.close.button.focus.ring.width")} ${i("galleria.close.button.focus.ring.style")} ${i("galleria.close.button.focus.ring.color")};
    outline-offset: ${i("galleria.close.button.focus.ring.offset")};
}

.p-galleria-mask .p-galleria-nav-button {
    position: fixed;
    top: 50%;
}

.p-galleria-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}

.p-galleria-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.p-galleria-enter-from,
.p-galleria-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

.p-galleria-enter-active .p-galleria-nav-button {
    opacity: 0;
}

.p-items-hidden .p-galleria-thumbnail-item {
    visibility: hidden;
}

.p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active {
    visibility: visible;
}
`,VKe={mask:"p-galleria-mask p-overlay-mask p-overlay-mask-enter",root:({instance:i})=>{let e=i.$attrs.showThumbnails&&i.getPositionClass("p-galleria-thumbnails",i.$attrs.thumbnailsPosition),t=i.$attrs.showIndicators&&i.getPositionClass("p-galleria-indicators",i.$attrs.indicatorsPosition);return["p-galleria p-component",{"p-galleria-fullscreen":i.$attrs.fullScreen,"p-galleria-inset-indicators":i.$attrs.showIndicatorsOnItem,"p-galleria-hover-navigators":i.$attrs.showItemNavigatorsOnHover&&!i.$attrs.fullScreen},e,t]},closeButton:"p-galleria-close-button",closeIcon:"p-galleria-close-icon",header:"p-galleria-header",content:"p-galleria-content",footer:"p-galleria-footer",itemsContainer:"p-galleria-items-container",items:"p-galleria-items",prevButton:({instance:i})=>["p-galleria-prev-button p-galleria-nav-button",{"p-disabled":i.isNavBackwardDisabled()}],prevIcon:"p-galleria-prev-icon",item:"p-galleria-item",nextButton:({instance:i})=>["p-galleria-next-button p-galleria-nav-button",{"p-disabled":i.isNavForwardDisabled()}],nextIcon:"p-galleria-next-icon",caption:"p-galleria-caption",indicatorList:"p-galleria-indicator-list",indicator:({instance:i,index:e})=>["p-galleria-indicator",{"p-galleria-indicator-active":i.isIndicatorItemActive(e)}],indicatorButton:"p-galleria-indicator-button",thumbnails:"p-galleria-thumbnails",thumbnailContent:"p-galleria-thumbnails-content",thumbnailPrevButton:({instance:i})=>["p-galleria-thumbnail-prev-button p-galleria-thumbnail-nav-button",{"p-disabled":i.isNavBackwardDisabled()}],thumbnailPrevIcon:"p-galleria-thumbnail-prev-icon",thumbnailsViewport:"p-galleria-thumbnails-viewport",thumbnailItems:"p-galleria-thumbnail-items",thumbnailItem:({instance:i,index:e,activeIndex:t})=>["p-galleria-thumbnail-item",{"p-galleria-thumbnail-item-current":t===e,"p-galleria-thumbnail-item-active":i.isItemActive(e),"p-galleria-thumbnail-item-start":i.firstItemAciveIndex()===e,"p-galleria-thumbnail-item-end":i.lastItemActiveIndex()===e}],thumbnail:"p-galleria-thumbnail",thumbnailNextButton:({instance:i})=>["p-galleria-thumbnail-next-button  p-galleria-thumbnail-nav-button",{"p-disabled":i.isNavForwardDisabled()}],thumbnailNextIcon:"p-galleria-thumbnail-next-icon"},TQ=(()=>{class i extends lt{name="galleria";theme=MKe;classes=VKe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var Yf=(()=>{class i extends Je{platformId;element;cd;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t}fullScreen=!1;id;value;numVisible=3;responsiveOptions;showItemNavigators=!1;showThumbnailNavigators=!0;showItemNavigatorsOnHover=!1;changeItemOnIndicatorHover=!1;circular=!1;autoPlay=!1;shouldStopAutoplayByClick=!0;transitionInterval=4e3;showThumbnails=!0;thumbnailsPosition="bottom";verticalThumbnailViewPortHeight="300px";showIndicators=!1;showIndicatorsOnItem=!1;indicatorsPosition="bottom";baseZIndex=0;maskClass;containerClass;containerStyle;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}activeIndexChange=new Me;visibleChange=new Me;mask;container;_visible=!1;_activeIndex=0;headerTemplate;headerFacet;footerTemplate;footerFacet;indicatorTemplate;indicatorFacet;captionTemplate;captionFacet;_closeIconTemplate;closeIconTemplate;_previousThumbnailIconTemplate;previousThumbnailIconTemplate;_nextThumbnailIconTemplate;nextThumbnailIconTemplate;_itemPreviousIconTemplate;itemPreviousIconTemplate;_itemNextIconTemplate;itemNextIconTemplate;_itemTemplate;itemTemplate;_thumbnailTemplate;thumbnailTemplate;maskVisible=!1;numVisibleLimit=0;_componentStyle=se(TQ);constructor(t,r,n){super(),this.platformId=t,this.element=r,this.cd=n}templates;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerFacet=t.template;break;case"footer":this.footerFacet=t.template;break;case"indicator":this.indicatorFacet=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"itemnexticon":this.itemNextIconTemplate=t.template;break;case"itempreviousicon":this.itemPreviousIconTemplate=t.template;break;case"previousthumbnailicon":this.previousThumbnailIconTemplate=t.template;break;case"nextthumbnailicon":this.nextThumbnailIconTemplate=t.template;break;case"caption":this.captionFacet=t.template;break;case"item":this.itemTemplate=t.template;break;case"thumbnail":this.thumbnailTemplate=t.template;break}})}ngOnChanges(t){super.ngOnChanges(t),t.value&&t.value.currentValue?.length<this.numVisible?this.numVisibleLimit=t.value.currentValue.length:this.numVisibleLimit=0}onMaskHide(){this.visible=!1,this.visibleChange.emit(!1)}onActiveItemChange(t){this.activeIndex!==t&&(this.activeIndex=t,this.activeIndexChange.emit(t))}onAnimationStart(t){switch(t.toState){case"visible":this.enableModality(),setTimeout(()=>{yo(tr(this.container.nativeElement,'[data-pc-section="closebutton"]'))},25);break;case"void":zi(this.mask?.nativeElement,"p-overlay-mask-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.disableModality();break}}enableModality(){Uu(),this.cd.markForCheck(),this.mask&&li.set("modal",this.mask.nativeElement,this.baseZIndex||this.config.zIndex.modal)}disableModality(){ju(),this.maskVisible=!1,this.cd.markForCheck(),this.mask&&li.clear(this.mask.nativeElement)}ngOnDestroy(){this.fullScreen&&vr(this.document.body,"p-overflow-hidden"),this.mask&&this.disableModality()}static \u0275fac=function(r){return new(r||i)(ne(er),ne(Kt),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["p-galleria"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,Tze,4),Re(o,wze,4),Re(o,Sze,4),Re(o,Aze,4),Re(o,Rze,4),Re(o,kze,4),Re(o,Dze,4),Re(o,Ize,4),Re(o,Pze,4),Re(o,Lze,4),Re(o,Bze,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.headerTemplate=s.first),be(s=_e())&&(n.footerTemplate=s.first),be(s=_e())&&(n.indicatorTemplate=s.first),be(s=_e())&&(n.captionTemplate=s.first),be(s=_e())&&(n._closeIconTemplate=s.first),be(s=_e())&&(n._previousThumbnailIconTemplate=s.first),be(s=_e())&&(n._nextThumbnailIconTemplate=s.first),be(s=_e())&&(n._itemPreviousIconTemplate=s.first),be(s=_e())&&(n._itemNextIconTemplate=s.first),be(s=_e())&&(n._itemTemplate=s.first),be(s=_e())&&(n._thumbnailTemplate=s.first),be(s=_e())&&(n.templates=s)}},viewQuery:function(r,n){if(r&1&&(Zt(Oze,5),Zt(Mze,5)),r&2){let o;be(o=_e())&&(n.mask=o.first),be(o=_e())&&(n.container=o.first)}},inputs:{activeIndex:"activeIndex",fullScreen:[2,"fullScreen","fullScreen",de],id:"id",value:"value",numVisible:[2,"numVisible","numVisible",wt],responsiveOptions:"responsiveOptions",showItemNavigators:[2,"showItemNavigators","showItemNavigators",de],showThumbnailNavigators:[2,"showThumbnailNavigators","showThumbnailNavigators",de],showItemNavigatorsOnHover:[2,"showItemNavigatorsOnHover","showItemNavigatorsOnHover",de],changeItemOnIndicatorHover:[2,"changeItemOnIndicatorHover","changeItemOnIndicatorHover",de],circular:[2,"circular","circular",de],autoPlay:[2,"autoPlay","autoPlay",de],shouldStopAutoplayByClick:[2,"shouldStopAutoplayByClick","shouldStopAutoplayByClick",de],transitionInterval:[2,"transitionInterval","transitionInterval",wt],showThumbnails:[2,"showThumbnails","showThumbnails",de],thumbnailsPosition:"thumbnailsPosition",verticalThumbnailViewPortHeight:"verticalThumbnailViewPortHeight",showIndicators:[2,"showIndicators","showIndicators",de],showIndicatorsOnItem:[2,"showIndicatorsOnItem","showIndicatorsOnItem",de],indicatorsPosition:"indicatorsPosition",baseZIndex:[2,"baseZIndex","baseZIndex",wt],maskClass:"maskClass",containerClass:"containerClass",containerStyle:"containerStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",visible:"visible"},outputs:{activeIndexChange:"activeIndexChange",visibleChange:"visibleChange"},standalone:!1,features:[He([TQ]),Se,Ji],decls:3,vars:2,consts:[["windowed",""],["container",""],["mask",""],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass"],[3,"value","activeIndex","numVisible","ngStyle","fullScreen","maskHide","activeItemChange",4,"ngIf"],[3,"maskHide","activeItemChange","value","activeIndex","numVisible","ngStyle","fullScreen"],[3,"activeItemChange","value","activeIndex","numVisible"]],template:function(r,n){if(r&1&&D(0,qze,3,1,"div",3)(1,$ze,1,3,"ng-template",null,0,Le),r&2){let o=Ue(2);C("ngIf",n.fullScreen)("ngIfElse",o)}},dependencies:()=>[Gt,si,Ii,NKe],encapsulation:2,data:{animation:[Tr("animation",[Ci("void => visible",[ti({transform:"scale(0.7)",opacity:0}),Si("{{showTransitionParams}}")]),Ci("visible => void",[Si("{{hideTransitionParams}}",ti({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return i})(),NKe=(()=>{class i extends Je{galleria;cd;differs;elementRef;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t}value=[];numVisible;fullScreen;maskHide=new Me;activeItemChange=new Me;closeButton;id;_activeIndex=0;slideShowActive=!0;interval;styleClass;differ;constructor(t,r,n,o){super(),this.galleria=t,this.cd=r,this.differs=n,this.elementRef=o,this.id=this.galleria.id||gt("pn_id_"),this.differ=this.differs.find(this.galleria).create()}handleFullscreenChange(t){document?.fullscreenElement===this.elementRef.nativeElement?.children[0]?this.fullScreen=!0:this.fullScreen=!1}ngDoCheck(){if(Lt(this.galleria.platformId)){let t=this.differ.diff(this.galleria);t&&t.forEachItem.length>0&&this.cd.markForCheck()}}shouldRenderFooter(){return this.galleria.footerFacet&&this.galleria.templates.toArray().length>0||this.galleria.footerTemplate}galleriaClass(){let t=this.galleria.showThumbnails&&this.getPositionClass("p-galleria-thumbnails",this.galleria.thumbnailsPosition),r=this.galleria.showIndicators&&this.getPositionClass("p-galleria-indicators",this.galleria.indicatorsPosition);return(this.galleria.containerClass?this.galleria.containerClass+" ":"")+(t?t+" ":"")+(r?r+" ":"")}startSlideShow(){Lt(this.galleria.platformId)&&(this.interval=setInterval(()=>{let t=this.galleria.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1;this.onActiveIndexChange(t),this.activeIndex=t},this.galleria.transitionInterval),this.slideShowActive=!0)}stopSlideShow(){this.galleria.autoPlay&&!this.galleria.shouldStopAutoplayByClick||(this.interval&&clearInterval(this.interval),this.slideShowActive=!1)}getPositionClass(t,r){let o=["top","left","bottom","right"].find(s=>s===r);return o?`${t}-${o}`:""}isVertical(){return this.galleria.thumbnailsPosition==="left"||this.galleria.thumbnailsPosition==="right"}onActiveIndexChange(t){this.activeIndex!==t&&(this.activeIndex=t,this.activeItemChange.emit(this.activeIndex))}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}static \u0275fac=function(r){return new(r||i)(ne(Yf),ne(Wt),ne(x5),ne(Kt))};static \u0275cmp=oe({type:i,selectors:[["p-galleriaContent"]],viewQuery:function(r,n){if(r&1&&Zt(zze,5),r&2){let o;be(o=_e())&&(n.closeButton=o.first)}},hostBindings:function(r,n){r&1&&V("fullscreenchange",function(s){return n.handleFullscreenChange(s)},!1,_d)},inputs:{activeIndex:"activeIndex",value:"value",numVisible:[2,"numVisible","numVisible",wt],fullScreen:[2,"fullScreen","fullScreen",de]},outputs:{maskHide:"maskHide",activeItemChange:"activeItemChange"},standalone:!1,features:[Se],decls:1,vars:1,consts:[["pFocusTrap","",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],["type","button","class","p-galleria-close-button",3,"click",4,"ngIf"],["class","p-galleria-header",4,"ngIf"],[1,"p-galleria-content"],[3,"onActiveIndexChange","startSlideShow","stopSlideShow","id","value","activeIndex","circular","templates","showIndicators","changeItemOnIndicatorHover","indicatorFacet","captionFacet","showItemNavigators","autoPlay","slideShowActive"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow",4,"ngIf"],["class","p-galleria-footer",4,"ngIf"],["type","button",1,"p-galleria-close-button",3,"click"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-galleria-header"],["type","header",3,"templates"],[3,"onActiveIndexChange","stopSlideShow","containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive"],[1,"p-galleria-footer"],["type","footer",3,"templates"]],template:function(r,n){r&1&&D(0,eKe,7,29,"div",0),r&2&&C("ngIf",n.value&&n.value.length>0)},dependencies:()=>[Gt,si,rt,Ii,Bs,dc,q3,FKe,UKe],encapsulation:2,changeDetection:0})}return i})(),q3=(()=>{class i{templates;index;get item(){return this._item}shouldRender(){return this.contentTemplate||this.galleria._itemTemplate||this.galleria.itemTemplate||this.galleria.captionTemplate||this.galleria.captionTemplate||this.galleria.captionFacet||this.galleria.thumbnailTemplate||this.galleria._thumbnailTemplate||this.galleria.footerTemplate}galleria=se(Yf);set item(t){this._item=t,this.templates&&this.templates?.toArray().length>0?this.templates.forEach(r=>{if(r.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=r.template;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=r.template;break}}):this.getContentTemplate()}getContentTemplate(){switch(this.type){case"item":this.context={$implicit:this.item},this.contentTemplate=this.galleria._itemTemplate||this.galleria.itemTemplate;break;case"caption":this.context={$implicit:this.item},this.contentTemplate=this.galleria.captionTemplate||this.galleria.captionFacet;break;case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=this.galleria.thumbnailTemplate||this.galleria._thumbnailTemplate;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=this.galleria.indicatorTemplate||this.galleria.indicatorFacet;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=this.galleria.footerTemplate||this.galleria.footerFacet;break;default:this.context={$implicit:this.item},this.contentTemplate=this.galleria._itemTemplate||this.galleria.itemTemplate}}type;contentTemplate;context;_item;ngAfterContentInit(){this.templates&&this.templates.toArray().length>0?this.templates?.forEach(t=>{if(t.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=t.template;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=t.template;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=t.template;break;default:this.context={$implicit:this.item},this.contentTemplate=t.template;break}}):this.getContentTemplate()}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=oe({type:i,selectors:[["p-galleriaItemSlot"]],inputs:{templates:"templates",index:[2,"index","index",wt],item:"item",type:"type"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,n){r&1&&D(0,iKe,2,2,"ng-container",0),r&2&&C("ngIf",n.shouldRender())},dependencies:[si,rt],encapsulation:2,changeDetection:0})}return i})(),FKe=(()=>{class i{galleria;id;circular=!1;value;showItemNavigators=!1;showIndicators=!0;slideShowActive=!0;changeItemOnIndicatorHover=!0;autoPlay=!1;templates;indicatorFacet;captionFacet;startSlideShow=new Me;stopSlideShow=new Me;onActiveIndexChange=new Me;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t}get activeItem(){return this.value&&this.value[this._activeIndex]}_activeIndex=0;leftButtonFocused=!1;rightButtonFocused=!1;constructor(t){this.galleria=t}ngOnChanges({autoPlay:t}){t?.currentValue&&this.startSlideShow.emit(),t&&t.currentValue===!1&&this.stopTheSlideShow()}next(){let t=this.activeIndex+1,r=this.circular&&this.value.length-1===this.activeIndex?0:t;this.onActiveIndexChange.emit(r)}prev(){let t=this.activeIndex!==0?this.activeIndex-1:0,r=this.circular&&this.activeIndex===0?this.value.length-1:t;this.onActiveIndexChange.emit(r)}onButtonFocus(t){t==="left"?this.leftButtonFocused=!0:this.rightButtonFocused=!0}onButtonBlur(t){t==="left"?this.leftButtonFocused=!1:this.rightButtonFocused=!1}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}navForward(t){this.stopTheSlideShow(),this.next(),t&&t.cancelable&&t.preventDefault()}navBackward(t){this.stopTheSlideShow(),this.prev(),t&&t.cancelable&&t.preventDefault()}onIndicatorClick(t){this.stopTheSlideShow(),this.onActiveIndexChange.emit(t)}onIndicatorMouseEnter(t){this.changeItemOnIndicatorHover&&(this.stopTheSlideShow(),this.onActiveIndexChange.emit(t))}onIndicatorKeyDown(t,r){switch(t.code){case"Enter":case"Space":this.stopTheSlideShow(),this.onActiveIndexChange.emit(r),t.preventDefault();break;case"ArrowDown":case"ArrowUp":t.preventDefault();break;default:break}}isNavForwardDisabled(){return!this.circular&&this.activeIndex===this.value.length-1}isNavBackwardDisabled(){return!this.circular&&this.activeIndex===0}isIndicatorItemActive(t){return this.activeIndex===t}ariaSlideLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slide:void 0}ariaSlideNumber(t){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slideNumber.replace(/{slideNumber}/g,t):void 0}ariaPageLabel(t){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,t):void 0}static \u0275fac=function(r){return new(r||i)(ne(Yf))};static \u0275cmp=oe({type:i,selectors:[["p-galleriaItem"]],hostAttrs:[1,"p-galleria-items-container"],inputs:{id:"id",circular:[2,"circular","circular",de],value:"value",showItemNavigators:[2,"showItemNavigators","showItemNavigators",de],showIndicators:[2,"showIndicators","showIndicators",de],slideShowActive:[2,"slideShowActive","slideShowActive",de],changeItemOnIndicatorHover:[2,"changeItemOnIndicatorHover","changeItemOnIndicatorHover",de],autoPlay:[2,"autoPlay","autoPlay",de],templates:"templates",indicatorFacet:"indicatorFacet",captionFacet:"captionFacet",activeIndex:"activeIndex"},outputs:{startSlideShow:"startSlideShow",stopSlideShow:"stopSlideShow",onActiveIndexChange:"onActiveIndexChange"},standalone:!1,features:[Ji],decls:7,vars:9,consts:[[1,"p-galleria-items"],["type","button","role","navigation",3,"ngClass","disabled","click","focus","blur",4,"ngIf"],["role","group",1,"p-galleria-item",3,"id"],["type","item",1,"p-galleria-item",3,"item","templates"],["class","p-galleria-caption",4,"ngIf"],["class","p-galleria-indicator-list",4,"ngIf"],["type","button","role","navigation",3,"click","focus","blur","ngClass","disabled"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-galleria-caption"],["type","caption",3,"item","templates"],[1,"p-galleria-indicator-list"],["tabindex","0",3,"ngClass","click","mouseenter","keydown",4,"ngFor","ngForOf"],["tabindex","0",3,"click","mouseenter","keydown","ngClass"],["type","button","tabIndex","-1","class","p-galleria-indicator-button",4,"ngIf"],["type","indicator",3,"index","templates"],["type","button","tabIndex","-1",1,"p-galleria-indicator-button"]],template:function(r,n){r&1&&(E(0,"div",0),D(1,cKe,3,6,"button",1),E(2,"div",2),N(3,"p-galleriaItemSlot",3),T(),D(4,fKe,3,6,"button",1)(5,hKe,2,2,"div",4),T(),D(6,yKe,2,1,"ul",5)),r&2&&(v(),C("ngIf",n.showItemNavigators),v(),C("id",n.id+"_item_"+n.activeIndex),ae("aria-label",n.ariaSlideNumber(n.activeIndex+1))("aria-roledescription",n.ariaSlideLabel()),v(),C("item",n.activeItem)("templates",n.templates),v(),C("ngIf",n.showItemNavigators),v(),C("ngIf",n.captionFacet||n.galleria.captionTemplate),v(),C("ngIf",n.showIndicators))},dependencies:()=>[Gt,$a,si,rt,Yx,Qx,q3],encapsulation:2,changeDetection:0})}return i})(),UKe=(()=>{class i{galleria;document;platformId;renderer;cd;containerId;value;isVertical=!1;slideShowActive=!1;circular=!1;responsiveOptions;contentHeight="300px";showThumbnailNavigators=!0;templates;onActiveIndexChange=new Me;stopSlideShow=new Me;itemsContainer;get numVisible(){return this._numVisible}set numVisible(t){this._numVisible=t,this._oldNumVisible=this.d_numVisible,this.d_numVisible=t}get activeIndex(){return this._activeIndex}set activeIndex(t){this._oldactiveIndex=this._activeIndex,this._activeIndex=t}index;startPos=null;thumbnailsStyle=null;sortedResponsiveOptions=null;totalShiftedItems=0;page=0;documentResizeListener;_numVisible=0;d_numVisible=0;_oldNumVisible=0;_activeIndex=0;_oldactiveIndex=0;constructor(t,r,n,o,s){this.galleria=t,this.document=r,this.platformId=n,this.renderer=o,this.cd=s}ngOnInit(){Lt(this.platformId)&&(this.createStyle(),this.responsiveOptions&&this.bindDocumentListeners())}ngAfterContentChecked(){let t=this.totalShiftedItems;(this._oldNumVisible!==this.d_numVisible||this._oldactiveIndex!==this._activeIndex)&&this.itemsContainer&&(this._activeIndex<=this.getMedianItemIndex()?t=0:this.value.length-this.d_numVisible+this.getMedianItemIndex()<this._activeIndex?t=this.d_numVisible-this.value.length:this.value.length-this.d_numVisible<this._activeIndex&&this.d_numVisible%2===0?t=this._activeIndex*-1+this.getMedianItemIndex()+1:t=this._activeIndex*-1+this.getMedianItemIndex(),t!==this.totalShiftedItems&&(this.totalShiftedItems=t),this.itemsContainer&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${t*(100/this.d_numVisible)}%, 0)`:`translate3d(${t*(100/this.d_numVisible)}%, 0, 0)`),this._oldactiveIndex!==this._activeIndex&&(vr(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this._oldactiveIndex=this._activeIndex,this._oldNumVisible=this.d_numVisible)}ngAfterViewInit(){Lt(this.platformId)&&this.calculatePosition()}createStyle(){this.thumbnailsStyle||(this.thumbnailsStyle=this.document.createElement("style"),this.document.body.appendChild(this.thumbnailsStyle));let t=`
            #${this.containerId} .p-galleria-thumbnail-item {
                flex: 1 0 ${100/this.d_numVisible}%
            }
        `;if(this.responsiveOptions){this.sortedResponsiveOptions=[...this.responsiveOptions],this.sortedResponsiveOptions.sort((r,n)=>{let o=r.breakpoint,s=n.breakpoint,a=null;return o==null&&s!=null?a=-1:o!=null&&s==null?a=1:o==null&&s==null?a=0:typeof o=="string"&&typeof s=="string"?a=o.localeCompare(s,void 0,{numeric:!0}):a=o<s?-1:o>s?1:0,-1*a});for(let r=0;r<this.sortedResponsiveOptions.length;r++){let n=this.sortedResponsiveOptions[r];t+=`
                    @media screen and (max-width: ${n.breakpoint}) {
                        #${this.containerId} .p-galleria-thumbnail-item {
                            flex: 1 0 ${100/n.numVisible}%
                        }
                    }
                `}}this.thumbnailsStyle.innerHTML=t,Xo(this.thumbnailsStyle,"nonce",this.galleria.config?.csp()?.nonce)}calculatePosition(){if(Lt(this.platformId)&&this.itemsContainer&&this.sortedResponsiveOptions){let t=window.innerWidth,r={numVisible:this._numVisible};for(let n=0;n<this.sortedResponsiveOptions.length;n++){let o=this.sortedResponsiveOptions[n];parseInt(o.breakpoint,10)>=t&&(r=o)}this.d_numVisible!==r.numVisible&&(this.d_numVisible=r.numVisible,this.cd.markForCheck())}}getTabIndex(t){return this.isItemActive(t)?0:null}navForward(t){this.stopTheSlideShow();let r=this._activeIndex+1;r+this.totalShiftedItems>this.getMedianItemIndex()&&(-1*this.totalShiftedItems<this.getTotalPageNumber()-1||this.circular)&&this.step(-1);let n=this.circular&&this.value.length-1===this._activeIndex?0:r;this.onActiveIndexChange.emit(n),t.cancelable&&t.preventDefault()}navBackward(t){this.stopTheSlideShow();let r=this._activeIndex!==0?this._activeIndex-1:0,n=r+this.totalShiftedItems;this.d_numVisible-n-1>this.getMedianItemIndex()&&(-1*this.totalShiftedItems!==0||this.circular)&&this.step(1);let o=this.circular&&this._activeIndex===0?this.value.length-1:r;this.onActiveIndexChange.emit(o),t.cancelable&&t.preventDefault()}onItemClick(t){this.stopTheSlideShow();let r=t;if(r!==this._activeIndex){let n=r+this.totalShiftedItems,o=0;r<this._activeIndex?(o=this.d_numVisible-n-1-this.getMedianItemIndex(),o>0&&-1*this.totalShiftedItems!==0&&this.step(o)):(o=this.getMedianItemIndex()-n,o<0&&-1*this.totalShiftedItems<this.getTotalPageNumber()-1&&this.step(o)),this.activeIndex=r,this.onActiveIndexChange.emit(this.activeIndex)}}onThumbnailKeydown(t,r){switch((t.code==="Enter"||t.code==="Space")&&(this.onItemClick(r),t.preventDefault()),t.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey();break;case"Home":this.onHomeKey(),t.preventDefault();break;case"End":this.onEndKey(),t.preventDefault();break;case"ArrowUp":case"ArrowDown":t.preventDefault();break;case"Tab":this.onTabKey();break;default:break}}onRightKey(){let t=Wo(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),r=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(r,r+1===t.length?t.length-1:r+1)}onLeftKey(){let t=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(t,t-1<=0?0:t-1)}onHomeKey(){let t=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(t,0)}onEndKey(){let t=Wo(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),r=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(r,t.length-1)}onTabKey(){let t=[...Wo(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],r=t.findIndex(s=>S$(s,"data-p-active")===!0),n=tr(this.itemsContainer.nativeElement,'[tabindex="0"]'),o=t.findIndex(s=>s===n.parentElement);t[o].children[0].tabIndex="-1",t[r].children[0].tabIndex="0"}findFocusedIndicatorIndex(){let t=[...Wo(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],r=tr(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"] > [tabindex="0"]');return t.findIndex(n=>n===r.parentElement)}changedFocusedIndicator(t,r){let n=Wo(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]');n[t].children[0].tabIndex="-1",n[r].children[0].tabIndex="0",n[r].children[0].focus()}step(t){let r=this.totalShiftedItems+t;t<0&&-1*r+this.d_numVisible>this.value.length-1?r=this.d_numVisible-this.value.length:t>0&&r>0&&(r=0),this.circular&&(t<0&&this.value.length-1===this._activeIndex?r=0:t>0&&this._activeIndex===0&&(r=this.d_numVisible-this.value.length)),this.itemsContainer&&(vr(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${r*(100/this.d_numVisible)}%, 0)`:`translate3d(${r*(100/this.d_numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}changePageOnTouch(t,r){r<0?this.navForward(t):this.navBackward(t)}getTotalPageNumber(){return this.value.length>this.d_numVisible?this.value.length-this.d_numVisible+1:0}getMedianItemIndex(){let t=Math.floor(this.d_numVisible/2);return this.d_numVisible%2?t:t-1}onTransitionEnd(){this.itemsContainer&&this.itemsContainer.nativeElement&&(zi(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="")}onTouchEnd(t){let r=t.changedTouches[0];this.isVertical?this.changePageOnTouch(t,r.pageY-this.startPos.y):this.changePageOnTouch(t,r.pageX-this.startPos.x)}onTouchMove(t){t.cancelable&&t.preventDefault()}onTouchStart(t){let r=t.changedTouches[0];this.startPos={x:r.pageX,y:r.pageY}}isNavBackwardDisabled(){return!this.circular&&this._activeIndex===0||this.value.length<=this.d_numVisible}isNavForwardDisabled(){return!this.circular&&this._activeIndex===this.value.length-1||this.value.length<=this.d_numVisible}firstItemAciveIndex(){return this.totalShiftedItems*-1}lastItemActiveIndex(){return this.firstItemAciveIndex()+this.d_numVisible-1}isItemActive(t){return this.firstItemAciveIndex()<=t&&this.lastItemActiveIndex()>=t}bindDocumentListeners(){if(Lt(this.platformId)){let t=this.document.defaultView||"window";this.documentResizeListener=this.renderer.listen(t,"resize",()=>{this.calculatePosition()})}}unbindDocumentListeners(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.thumbnailsStyle&&this.thumbnailsStyle.parentNode?.removeChild(this.thumbnailsStyle)}ariaPrevButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.prevPageLabel:void 0}ariaNextButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.nextPageLabel:void 0}ariaPageLabel(t){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,t):void 0}static \u0275fac=function(r){return new(r||i)(ne(Yf),ne(ci),ne(er),ne(Po),ne(Wt))};static \u0275cmp=oe({type:i,selectors:[["p-galleriaThumbnails"]],viewQuery:function(r,n){if(r&1&&Zt(bKe,5),r&2){let o;be(o=_e())&&(n.itemsContainer=o.first)}},inputs:{containerId:"containerId",value:"value",isVertical:[2,"isVertical","isVertical",de],slideShowActive:[2,"slideShowActive","slideShowActive",de],circular:[2,"circular","circular",de],responsiveOptions:"responsiveOptions",contentHeight:"contentHeight",showThumbnailNavigators:"showThumbnailNavigators",templates:"templates",numVisible:"numVisible",activeIndex:"activeIndex"},outputs:{onActiveIndexChange:"onActiveIndexChange",stopSlideShow:"stopSlideShow"},standalone:!1,decls:8,vars:6,consts:[["itemsContainer",""],[1,"p-galleria-thumbnails"],[1,"p-galleria-thumbnails-content"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-galleria-thumbnails-viewport",3,"ngStyle"],["role","tablist",1,"p-galleria-thumbnail-items",3,"transitionend","touchstart","touchmove"],[3,"ngClass","keydown",4,"ngFor","ngForOf"],["type","button","pRipple","",3,"click","ngClass","disabled"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"keydown","ngClass"],[1,"p-galleria-thumbnail",3,"click","touchend","keydown.enter"],["type","thumbnail",3,"item","templates"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(r,n){if(r&1){let o=W();E(0,"div",1)(1,"div",2),D(2,RKe,3,7,"button",3),E(3,"div",4)(4,"div",5,0),V("transitionend",function(){return P(o),L(n.onTransitionEnd())})("touchstart",function(a){return P(o),L(n.onTouchStart(a))})("touchmove",function(a){return P(o),L(n.onTouchMove(a))}),D(6,kKe,3,15,"div",6),T()(),D(7,OKe,3,7,"button",3),T()()}r&2&&(v(2),C("ngIf",n.showThumbnailNavigators),v(),C("ngStyle",Fe(4,_Ke,n.isVertical?n.contentHeight:"")),v(3),C("ngForOf",n.value),v(),C("ngIf",n.showThumbnailNavigators))},dependencies:()=>[Gt,$a,si,rt,Ii,ii,Yx,UI,FI,Qx,q3],encapsulation:2,changeDetection:0})}return i})(),wQ=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=vt({type:i});static \u0275inj=bt({imports:[tt,yt,Bs,Yx,UI,FI,Qx,Mp,Vp,tt,yt]})}return i})();function qKe(i,e){if(i&1&&N(0,"img",6),i&2){let t=e.$implicit;C("src",t.fullsize,dt)}}var iw=class i{constructor(e,t){this.dialogService=e;this.postService=t}static \u0275fac=function(t){return new(t||i)(ne(ri),ne(dr))};static \u0275cmp=oe({type:i,selectors:[["app-dashboard"]],decls:7,vars:8,consts:[["item",""],[1,"flex","h-full","w-full","min-h-0","min-w-0"],[3,"onProfile","onSearch","onPost"],[1,"relative","flex-1","overflow-hidden"],[1,"relative","flex","w-full","h-full","max-h-full","min-h-0","p-4","overflow-x-auto"],["showIndicators","","fullScreen","",3,"visibleChange","keydown.escape","value","visible","activeIndex","showItemNavigators","showThumbnails","showIndicators","showItemNavigatorsOnHover","circular"],[2,"width","100%","display","block",3,"src"]],template:function(t,r){if(t&1){let n=W();E(0,"div",1)(1,"sidebar",2),V("onProfile",function(s){return P(n),L(r.dialogService.openAuthor(s))})("onSearch",function(){return P(n),L(r.dialogService.openSearch())})("onPost",function(){return P(n),L(r.postService.createPost())}),T(),E(2,"div",3),N(3,"deck",4),T()(),E(4,"p-galleria",5),V("visibleChange",function(){return P(n),L(r.dialogService.images.set(void 0))})("keydown.escape",function(){return P(n),L(r.dialogService.images.set(void 0))}),D(5,qKe,1,1,"ng-template",null,0,Le),T()}if(t&2){let n,o,s,a;v(4),C("value",(n=r.dialogService.images())==null?null:n.images)("visible",!!r.dialogService.images())("activeIndex",(o=r.dialogService.images())==null?null:o.index)("showItemNavigators",((s=r.dialogService.images())==null?null:s.images.length)>1)("showThumbnails",!1)("showIndicators",((a=r.dialogService.images())==null?null:a.images.length)>1)("showItemNavigatorsOnHover",!0)("circular",!0)}},dependencies:[Jx,ew,wQ,Yf],styles:["[_nghost-%COMP%]  p-galleria{--p-galleria-border-width: 0}[_nghost-%COMP%]  p-galleria .p-galleria-content{height:100vh}[_nghost-%COMP%]  p-galleria .p-galleria-items-container{min-height:0;height:100vh}[_nghost-%COMP%]  p-galleria .p-galleria-indicator-list{position:absolute;bottom:0;left:50%;transform:translate(-50%)}[_nghost-%COMP%]  p-galleria .p-galleria-item img{max-height:100%;object-fit:contain}[_nghost-%COMP%]  p-galleria .p-galleria-close-button{z-index:99999;background:transparent;outline:none}"],changeDetection:0})};var $Ke=["header"],zKe=["icons"],KKe=["content"],HKe=["footer"],GKe=["headericons"],WKe=["contentWrapper"],XKe=["*",[["p-header"]],[["p-footer"]]],ZKe=["*","p-header","p-footer"],QKe=(i,e)=>({"p-panel p-component":!0,"p-panel-toggleable":i,"p-panel-expanded":e}),YKe=i=>({transitionParams:i,height:"0",opacity:"0"}),JKe=i=>({value:"hidden",params:i}),eHe=i=>({transitionParams:i,height:"*",opacity:"1"}),tHe=i=>({value:"visible",params:i}),iHe=(i,e,t)=>({"p-panel-icons-start":i,"p-panel-icons-end":e,"p-panel-icons-center":t}),rHe=i=>({$implicit:i});function nHe(i,e){if(i&1&&(E(0,"span",12),J(1),T()),i&2){let t=_(2);ae("id",t.id+"_header"),v(),Ze(t._header)}}function oHe(i,e){i&1&&Pe(0)}function sHe(i,e){}function aHe(i,e){i&1&&D(0,sHe,0,0,"ng-template")}function lHe(i,e){if(i&1&&N(0,"span"),i&2){let t=_(6);we(t.expandIcon)}}function cHe(i,e){i&1&&N(0,"MinusIcon")}function uHe(i,e){if(i&1&&(It(0),D(1,lHe,1,2,"span",16)(2,cHe,1,0,"MinusIcon",14),Pt()),i&2){let t=_(5);v(),C("ngIf",t.expandIcon),v(),C("ngIf",!t.expandIcon)}}function dHe(i,e){if(i&1&&N(0,"span"),i&2){let t=_(6);we(t.collapseIcon)}}function pHe(i,e){i&1&&N(0,"PlusIcon")}function fHe(i,e){if(i&1&&(It(0),D(1,dHe,1,2,"span",16)(2,pHe,1,0,"PlusIcon",14),Pt()),i&2){let t=_(5);v(),C("ngIf",t.collapseIcon),v(),C("ngIf",!t.collapseIcon)}}function hHe(i,e){if(i&1&&(It(0),D(1,uHe,3,2,"ng-container",14)(2,fHe,3,2,"ng-container",14),Pt()),i&2){let t=_(4);v(),C("ngIf",!t.collapsed),v(),C("ngIf",t.collapsed)}}function mHe(i,e){}function gHe(i,e){i&1&&D(0,mHe,0,0,"ng-template")}function yHe(i,e){if(i&1&&D(0,hHe,3,2,"ng-container",14)(1,gHe,1,0,null,15),i&2){let t=_(3);C("ngIf",!t.headerIconsTemplate&&!t._headerIconsTemplate&&!(t.toggleButtonProps!=null&&t.toggleButtonProps.icon)),v(),C("ngTemplateOutlet",t.headerIconsTemplate||t._headerIconsTemplate)("ngTemplateOutletContext",Fe(3,rHe,t.collapsed))}}function bHe(i,e){if(i&1){let t=W();E(0,"p-button",13),V("click",function(n){P(t);let o=_(2);return L(o.onIconClick(n))})("keydown",function(n){P(t);let o=_(2);return L(o.onKeyDown(n))}),D(1,yHe,2,5,"ng-template",null,1,Le),T()}if(i&2){let t=_(2);C("text",!0)("rounded",!0)("buttonProps",t.toggleButtonProps),ae("id",t.id+"_header")("aria-label",t.buttonAriaLabel)("aria-controls",t.id+"_content")("aria-expanded",!t.collapsed)}}function _He(i,e){if(i&1){let t=W();E(0,"div",8),V("click",function(n){P(t);let o=_();return L(o.onHeaderClick(n))}),D(1,nHe,2,2,"span",9),xi(2,1),D(3,oHe,1,0,"ng-container",6),E(4,"div",10),D(5,aHe,1,0,null,6)(6,bHe,3,7,"p-button",11),T()()}if(i&2){let t=_();ae("id",t.id+"-titlebar"),v(),C("ngIf",t._header),v(2),C("ngTemplateOutlet",t.headerTemplate||t._headerTemplate),v(),C("ngClass",zs(6,iHe,t.iconPos==="start",t.iconPos==="end",t.iconPos==="center")),v(),C("ngTemplateOutlet",t.iconTemplate||t._iconTemplate),v(),C("ngIf",t.toggleable)}}function vHe(i,e){i&1&&Pe(0)}function xHe(i,e){i&1&&Pe(0)}function CHe(i,e){if(i&1&&(E(0,"div",17),xi(1,2),D(2,xHe,1,0,"ng-container",6),T()),i&2){let t=_();v(2),C("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var EHe=({dt:i})=>`
.p-panel {
    border: 1px solid ${i("panel.border.color")};
    border-radius: ${i("panel.border.radius")};
    background: ${i("panel.background")};
    color: ${i("panel.color")};
}

.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: ${i("panel.header.padding")};
    background: ${i("panel.header.background")};
    color: ${i("panel.header.color")};
    border-style: solid;
    border-width: ${i("panel.header.border.width")};
    border-color: ${i("panel.header.border.color")};
    border-radius: ${i("panel.header.border.radius")};
}

.p-panel-toggleable .p-panel-header {
    padding: ${i("panel.toggleable.header.padding")};
}

.p-panel-title {
    line-height: 1;
    font-weight: ${i("panel.title.font.weight")};
}

.p-panel-content {
    padding: ${i("panel.content.padding")};
}

.p-panel-footer {
    padding: ${i("panel.footer.padding")};
}

/* For PrimeNG */
.p-panel-toggleable.p-panel-expanded > .p-panel-content-container:not(.ng-animating) {
    overflow: visible
}

.p-panel-toggleable .p-panel-content-container {
    overflow: hidden;
}
`,THe={root:({props:i})=>["p-panel p-component",{"p-panel-toggleable":i.toggleable}],header:"p-panel-header",title:"p-panel-title",headerActions:"p-panel-header-actions",pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",content:"p-panel-content",footer:"p-panel-footer"},SQ=(()=>{class i extends lt{name="panel";theme=EHe;classes=THe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var AQ=(()=>{class i extends Je{toggleable;_header;collapsed;style;styleClass;iconPos="end";expandIcon;collapseIcon;showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";toggleButtonProps;collapsedChange=new Me;onBeforeToggle=new Me;onAfterToggle=new Me;footerFacet;animating;headerTemplate;iconTemplate;contentTemplate;footerTemplate;headerIconsTemplate;_headerTemplate;_iconTemplate;_contentTemplate;_footerTemplate;_headerIconsTemplate;contentWrapperViewChild;id=gt("pn_id_");get buttonAriaLabel(){return this._header}_componentStyle=se(SQ);onHeaderClick(t){this.toggler==="header"&&this.toggle(t)}onIconClick(t){this.toggler==="icon"&&this.toggle(t)}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),this.cd.markForCheck(),t.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}getBlockableElement(){return this.el.nativeElement.children[0]}updateTabIndex(){this.contentWrapperViewChild&&this.contentWrapperViewChild.nativeElement.querySelectorAll('input, button, select, a, textarea, [tabindex]:not([tabindex="-1"])').forEach(r=>{this.collapsed?r.setAttribute("tabindex","-1"):r.removeAttribute("tabindex")})}onKeyDown(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}onToggleDone(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}templates;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;case"icons":this._iconTemplate=t.template;break;case"headericons":this._headerIconsTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-panel"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,Dp,5),Re(o,$Ke,4),Re(o,zKe,4),Re(o,KKe,4),Re(o,HKe,4),Re(o,GKe,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.footerFacet=s.first),be(s=_e())&&(n.headerTemplate=s.first),be(s=_e())&&(n.iconTemplate=s.first),be(s=_e())&&(n.contentTemplate=s.first),be(s=_e())&&(n.footerTemplate=s.first),be(s=_e())&&(n.headerIconsTemplate=s.first),be(s=_e())&&(n.templates=s)}},viewQuery:function(r,n){if(r&1&&Zt(WKe,5),r&2){let o;be(o=_e())&&(n.contentWrapperViewChild=o.first)}},inputs:{toggleable:[2,"toggleable","toggleable",de],_header:[0,"header","_header"],collapsed:[2,"collapsed","collapsed",de],style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:[2,"showHeader","showHeader",de],toggler:"toggler",transitionOptions:"transitionOptions",toggleButtonProps:"toggleButtonProps"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[He([SQ]),Se],ngContentSelectors:ZKe,decls:8,vars:25,consts:[["contentWrapper",""],["icon",""],[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-panel-content-container",3,"id"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons",3,"ngClass"],["severity","secondary","type","button","role","button","styleClass","p-panel-header-icon p-panel-toggler p-link",3,"text","rounded","buttonProps","click","keydown",4,"ngIf"],[1,"p-panel-title"],["severity","secondary","type","button","role","button","styleClass","p-panel-header-icon p-panel-toggler p-link",3,"click","keydown","text","rounded","buttonProps"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"],[1,"p-panel-footer"]],template:function(r,n){if(r&1){let o=W();Wi(XKe),E(0,"div",2),D(1,_He,7,10,"div",3),E(2,"div",4),V("@panelContent.done",function(a){return P(o),L(n.onToggleDone(a))}),E(3,"div",5,0),xi(5),D(6,vHe,1,0,"ng-container",6),T(),D(7,CHe,3,1,"div",7),T()()}r&2&&(we(n.styleClass),C("ngClass",Rt(14,QKe,n.toggleable,!n.collapsed&&n.toggleable))("ngStyle",n.style),ae("id",n.id)("data-pc-name","panel"),v(),C("ngIf",n.showHeader),v(),C("id",n.id+"_content")("@panelContent",n.collapsed?Fe(19,JKe,Fe(17,YKe,n.animating?n.transitionOptions:"0ms")):Fe(23,tHe,Fe(21,eHe,n.animating?n.transitionOptions:"0ms"))),ae("aria-labelledby",n.id+"_header")("aria-hidden",n.collapsed)("tabindex",n.collapsed?"-1":void 0),v(4),C("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),v(),C("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[tt,Gt,si,rt,Ii,cz,lz,_z,Os,yt],encapsulation:2,data:{animation:[Tr("panelContent",[Ks("hidden",ti({height:"0"})),Ks("void",ti({height:"{{height}}"}),{params:{height:"0"}}),Ks("visible",ti({height:"*"})),Ci("visible <=> hidden",[Si("{{transitionParams}}")]),Ci("void => hidden",Si("{{transitionParams}}")),Ci("void => visible",Si("{{transitionParams}}"))])]},changeDetection:0})}return i})();var wHe=["*"],SHe=({dt:i})=>`
.p-iftalabel {
    display: block;
    position: relative;
}

.p-iftalabel label {
    position: absolute;
    pointer-events: none;
    top: ${i("iftalabel.top")};
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
    font-size: ${i("iftalabel.font.size")};
    font-weight: ${i("iftalabel.font.weight")};
    inset-inline-start: ${i("iftalabel.position.x")};
    color: ${i("iftalabel.color")};
    transition-duration: ${i("iftalabel.transition.duration")};
}

.p-iftalabel > .p-inputtext,
.p-iftalabel .p-textarea,
.p-iftalabel .p-select-label,
.p-iftalabel .p-multiselect-label-container,
.p-iftalabel .p-autocomplete-input-multiple,
.p-iftalabel .p-cascadeselect-label,
.p-iftalabel .p-treeselect-label,
.p-iftalabel .p-datepicker-input,
.p-iftalabel .p-inputmask,
.p-iftalabel .p-autocomplete .p-inputtext,
.p-iftalabel .p-inputnumber .p-inputtext,
.p-iftalabel .p-password .p-inputtext,
.p-iftalabel > .p-iconfield .p-inputtext {
    padding-top: ${i("iftalabel.input.padding.top")};
}

.p-iftalabel:has(.ng-invalid.ng-dirty) label {
    color: ${i("iftalabel.invalid.color")};
}

.p-iftalabel:has(input:focus) label,
.p-iftalabel:has(input:-webkit-autofill) label,
.p-iftalabel:has(textarea:focus) label,
.p-iftalabel:has(.p-inputwrapper-focus) label {
    color: ${i("iftalabel.focus.color")};
}

.p-iftalabel > .p-iconfield .p-inputicon {
    top: ${i("iftalabel.input.padding.top")};
    transform: translateY(25%);
    margin-top: 0;
}

/*.p-iftalabel .p-placeholder,
.p-iftalabel input::placeholder,
.p-iftalabel .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-iftalabel .p-focus .p-placeholder,
.p-iftalabel input:focus::placeholder,
.p-iftalabel .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}*/
`,AHe={root:"p-iftalabel"},RQ=(()=>{class i extends lt{name="iftalabel";theme=SHe;classes=AHe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var kQ=(()=>{class i extends Je{_componentStyle=se(RQ);static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-iftalabel"],["p-iftaLabel"],["p-ifta-label"]],hostAttrs:[1,"p-iftalabel"],features:[He([RQ]),Se],ngContentSelectors:wHe,decls:1,vars:0,template:function(r,n){r&1&&(Wi(),xi(0))},encapsulation:2,changeDetection:0})}return i})();function RHe(i,e){i&1&&(E(0,"span",9),J(1," Bsky App "),T())}var rw=class i{constructor(e,t){this.authService=e;this.messageService=t}credentials=mt({identifier:"",password:""});onLogin(){this.credentials().identifier=this.credentials().identifier.trim(),this.credentials().identifier.length?this.authService.login(this.credentials()):this.messageService.warn("Please check your credentials.","Oops!")}static \u0275fac=function(t){return new(t||i)(ne(qn),ne(Qi))};static \u0275cmp=oe({type:i,selectors:[["app-login"]],decls:14,vars:2,consts:[["header",""],[1,"h-full","w-full","flex","flex-col","items-center","justify-center"],[1,"w-sm","p-4"],[1,"mt-2"],["pInputText","",1,"w-full",3,"ngModelChange","keydown.enter","ngModel"],[1,"mt-4"],["pInputText","","type","password",1,"w-full",3,"ngModelChange","keydown.enter","ngModel"],[1,"mt-4","flex","justify-center"],["label","Login",1,"leading-[1rem]",3,"click"],[1,"text-2xl","uppercase","tracking-widest","font-bold","w-full","text-center"]],template:function(t,r){if(t&1){let n=W();E(0,"div",1)(1,"p-panel",2),D(2,RHe,2,0,"ng-template",null,0,Le),E(4,"p-iftalabel",3)(5,"input",4),Wc("ngModelChange",function(s){return P(n),Gc(r.credentials().identifier,s)||(r.credentials().identifier=s),L(s)}),V("keydown.enter",function(){return P(n),L(r.onLogin())}),T(),E(6,"label"),J(7,"Username"),T()(),E(8,"p-iftalabel",5)(9,"input",6),Wc("ngModelChange",function(s){return P(n),Gc(r.credentials().password,s)||(r.credentials().password=s),L(s)}),V("keydown.enter",function(){return P(n),L(r.onLogin())}),T(),E(10,"label"),J(11,"Password"),T()(),E(12,"div",7)(13,"p-button",8),V("click",function(){return P(n),L(r.onLogin())}),T()()()()}t&2&&(v(5),Hc("ngModel",r.credentials().identifier),v(4),Hc("ngModel",r.credentials().password))},dependencies:[AQ,kQ,IT,Os,Yn,Zf,Qn,Xr],encapsulation:2})};var DQ=[{path:"",canActivate:[Wx],component:iw,pathMatch:"full"},{path:"login",component:rw}];var IQ={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}};var PQ={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var LQ={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}};var BQ={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var OQ={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}};var MQ={root:{borderRadius:"{content.border.radius}"}};var VQ={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var NQ={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var FQ={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}};var UQ={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}};var jQ={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var qQ={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}};var $Q={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var zQ={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var KQ={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var HQ={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var GQ={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var WQ={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var XQ={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}};var ZQ={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var QQ={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var YQ={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}};var JQ={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var eY={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var tY={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}};var iY={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}};var rY={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}};var nY={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var oY={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}};var sY={icon:{color:"{form.field.icon.color}"}};var aY={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}};var lY={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var cY={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var uY={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}};var dY={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var pY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}};var fY={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}};var hY={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}};var mY={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var gY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var yY={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}};var bY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}};var _Y={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var vY={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var xY={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var CY={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var EY={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}};var TY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}};var wY={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var SY={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var AY={root:{outline:{width:"2px",color:"{content.background}"}}};var RY={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var kY={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}};var DY={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var IY={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}};var PY={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var LY={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var BY={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}};var OY={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}};var MY={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}};var VY={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var NY={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}};var FY={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}};var UY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}};var jY={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var qY={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var $Y={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}};var zY={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var KY={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var HY={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var GY={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var WY={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}};var XY={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}};var ZY={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var QY={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var YY={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var JY={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var eJ={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var tJ={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var iJ={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var rJ={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}};var nJ={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}};var oJ={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}};var sJ={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}};var aJ={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}};var lJ={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var cJ={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}};var uJ={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var dJ={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var pJ=ue(R({},OQ),{components:{accordion:IQ,autocomplete:PQ,avatar:LQ,badge:BQ,blockui:MQ,breadcrumb:VQ,button:NQ,datepicker:ZQ,card:FQ,carousel:UQ,cascadeselect:jQ,checkbox:qQ,chip:$Q,colorpicker:zQ,confirmdialog:KQ,confirmpopup:HQ,contextmenu:GQ,dataview:XQ,datatable:WQ,dialog:QQ,divider:YQ,dock:JQ,drawer:eY,editor:tY,fieldset:iY,fileupload:rY,iftalabel:aY,floatlabel:nY,galleria:oY,iconfield:sY,image:lY,imagecompare:cY,inlinemessage:uY,inplace:dY,inputchips:pY,inputgroup:fY,inputnumber:hY,inputotp:mY,inputtext:gY,knob:yY,listbox:bY,megamenu:_Y,menu:vY,menubar:xY,message:CY,metergroup:EY,multiselect:TY,orderlist:wY,organizationchart:SY,overlaybadge:AY,popover:LY,paginator:RY,password:IY,panel:kY,panelmenu:DY,picklist:PY,progressbar:BY,progressspinner:OY,radiobutton:MY,rating:VY,scrollpanel:FY,select:UY,selectbutton:jY,skeleton:qY,slider:$Y,speeddial:zY,splitter:HY,splitbutton:KY,stepper:GY,steps:WY,tabmenu:XY,tabs:ZY,tabview:QY,textarea:eJ,tieredmenu:tJ,tag:YY,terminal:JY,timeline:iJ,togglebutton:nJ,toggleswitch:oJ,tree:lJ,treeselect:cJ,treetable:uJ,toast:rJ,toolbar:sJ,virtualscroller:dJ,tooltip:aJ,ripple:NY}});var kHe="@",DHe=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=se(to);loadingSchedulerFn=se(IHe,{optional:!0});_engine;constructor(t,r,n,o,s){this.doc=t,this.delegate=r,this.zone=n,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-YPZPZXQG.js").then(n=>n),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(n=>{throw new ei(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,r){let n=this.delegate.createRenderer(t,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new $3(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(t,r);o.use(a),this.scheduler??=this.injector.get(Y4,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(r){Py()};static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),$3=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,n){this.delegate.insertBefore(e,t,r,n)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,n){this.delegate.setAttribute(e,t,r,n)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,n){this.delegate.setStyle(e,t,r,n)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,n){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,r,n)),this.delegate.listen(e,t,r,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(kHe)}},IHe=new jt("");function fJ(i="animations"){return Zw("NgAsyncAnimations"),Ua([{provide:vd,useFactory:(e,t,r)=>new DHe(e,t,r,i),deps:[ci,Xy,Bi]},{provide:t5,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var PHe=H$(pJ,{semantic:{primary:{50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",750:"#2C2D33",800:"{zinc.800}",850:"#1E1F25",900:"{zinc.900}",950:"{zinc.950}"},colorScheme:{light:{primary:{color:"{zinc.950}",inverseColor:"#ffffff",hoverColor:"{zinc.900}",activeColor:"{zinc.800}"},highlight:{background:"{zinc.950}",focusBackground:"{zinc.700}",color:"#ffffff",focusColor:"#ffffff"}},dark:{primary:{color:"{zinc.50}",inverseColor:"{zinc.950}",hoverColor:"{zinc.100}",activeColor:"{zinc.200}"},highlight:{background:"rgba(250, 250, 250, .16)",focusBackground:"rgba(250, 250, 250, .24)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"}}}}}),hJ={providers:[v5({eventCoalescing:!0}),XB(DQ),W5(),Q$({theme:{preset:PHe},ripple:!0}),fJ(),kp,pc,Rp]};var mJ=["container"],LHe=(i,e,t,r)=>({showTransformParams:i,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:r}),BHe=i=>({value:"visible",params:i}),OHe=(i,e)=>({$implicit:i,closeFn:e}),MHe=i=>({$implicit:i});function VHe(i,e){i&1&&Pe(0)}function NHe(i,e){if(i&1&&D(0,VHe,1,0,"ng-container",3),i&2){let t=_();C("ngTemplateOutlet",t.headlessTemplate)("ngTemplateOutletContext",Rt(2,OHe,t.message,t.onCloseIconClick))}}function FHe(i,e){if(i&1&&N(0,"span",4),i&2){let t=_(3);C("ngClass",t.cx("messageIcon"))}}function UHe(i,e){i&1&&N(0,"CheckIcon"),i&2&&ae("aria-hidden",!0)("data-pc-section","icon")}function jHe(i,e){i&1&&N(0,"InfoCircleIcon"),i&2&&ae("aria-hidden",!0)("data-pc-section","icon")}function qHe(i,e){i&1&&N(0,"TimesCircleIcon"),i&2&&ae("aria-hidden",!0)("data-pc-section","icon")}function $He(i,e){i&1&&N(0,"ExclamationTriangleIcon"),i&2&&ae("aria-hidden",!0)("data-pc-section","icon")}function zHe(i,e){i&1&&N(0,"InfoCircleIcon"),i&2&&ae("aria-hidden",!0)("data-pc-section","icon")}function KHe(i,e){if(i&1&&(E(0,"span",4),D(1,UHe,1,2,"CheckIcon")(2,jHe,1,2,"InfoCircleIcon")(3,qHe,1,2,"TimesCircleIcon")(4,$He,1,2,"ExclamationTriangleIcon")(5,zHe,1,2,"InfoCircleIcon"),T()),i&2){let t,r=_(3);C("ngClass",r.cx("messageIcon")),ae("aria-hidden",!0)("data-pc-section","icon"),v(),ie((t=r.message.severity)==="success"?1:t==="info"?2:t==="error"?3:t==="warn"?4:5)}}function HHe(i,e){if(i&1&&(It(0),D(1,FHe,1,1,"span",6)(2,KHe,6,4,"span",6),E(3,"div",4)(4,"div",4),J(5),T(),E(6,"div",4),J(7),T()(),Pt()),i&2){let t=_(2);v(),C("ngIf",t.message.icon),v(),C("ngIf",!t.message.icon),v(),C("ngClass",t.cx("messageText")),ae("data-pc-section","text"),v(),C("ngClass",t.cx("summary")),ae("data-pc-section","summary"),v(),ft(" ",t.message.summary," "),v(),C("ngClass",t.cx("detail")),ae("data-pc-section","detail"),v(),Ze(t.message.detail)}}function GHe(i,e){i&1&&Pe(0)}function WHe(i,e){if(i&1&&N(0,"span",4),i&2){let t=_(4);C("ngClass",t.cx("closeIcon"))}}function XHe(i,e){if(i&1&&D(0,WHe,1,1,"span",6),i&2){let t=_(3);C("ngIf",t.message.closeIcon)}}function ZHe(i,e){if(i&1&&N(0,"TimesIcon",4),i&2){let t=_(3);C("ngClass",t.cx("closeIcon")),ae("aria-hidden",!0)("data-pc-section","closeicon")}}function QHe(i,e){if(i&1){let t=W();E(0,"div")(1,"button",7),V("click",function(n){P(t);let o=_(2);return L(o.onCloseIconClick(n))})("keydown.enter",function(n){P(t);let o=_(2);return L(o.onCloseIconClick(n))}),D(2,XHe,1,1,"span",4)(3,ZHe,1,3,"TimesIcon",4),T()()}if(i&2){let t=_(2);v(),C("ariaLabel",t.closeAriaLabel),ae("class",t.cx("closeButton"))("data-pc-section","closebutton"),v(),ie(t.message.closeIcon?2:3)}}function YHe(i,e){if(i&1&&(E(0,"div",4),D(1,HHe,8,10,"ng-container",5)(2,GHe,1,0,"ng-container",3)(3,QHe,4,4,"div"),T()),i&2){let t=_();we(t.message==null?null:t.message.contentStyleClass),C("ngClass",t.cx("messageContent")),ae("data-pc-section","content"),v(),C("ngIf",!t.template),v(),C("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Fe(8,MHe,t.message)),v(),ie((t.message==null?null:t.message.closable)!==!1?3:-1)}}var JHe=["message"],eGe=["headless"];function tGe(i,e){if(i&1){let t=W();E(0,"p-toastItem",3),V("onClose",function(n){P(t);let o=_();return L(o.onMessageClose(n))})("@toastAnimation.start",function(n){P(t);let o=_();return L(o.onAnimationStart(n))})("@toastAnimation.done",function(n){P(t);let o=_();return L(o.onAnimationEnd(n))}),T()}if(i&2){let t=e.$implicit,r=e.index,n=_();C("message",t)("index",r)("life",n.life)("template",n.template||n._template)("headlessTemplate",n.headlessTemplate||n._headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",n.showTransformOptions)("hideTransformOptions",n.hideTransformOptions)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}}var iGe=({dt:i})=>`
.p-toast {
    width: ${i("toast.width")};
    white-space: pre-line;
    word-break: break-word;
}

.p-toast-message {
    margin: 0 0 1rem 0;
}

.p-toast-message-icon {
    flex-shrink: 0;
    font-size: ${i("toast.icon.size")};
    width: ${i("toast.icon.size")};
    height: ${i("toast.icon.size")};
}

.p-toast-message-content {
    display: flex;
    align-items: flex-start;
    padding: ${i("toast.content.padding")};
    gap: ${i("toast.content.gap")};
}

.p-toast-message-text {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    gap: ${i("toast.text.gap")};
}

.p-toast-summary {
    font-weight: ${i("toast.summary.font.weight")};
    font-size: ${i("toast.summary.font.size")};
}

.p-toast-detail {
    font-weight: ${i("toast.detail.font.weight")};
    font-size: ${i("toast.detail.font.size")};
}

.p-toast-close-button {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    background: transparent;
    transition: background ${i("toast.transition.duration")}, color ${i("toast.transition.duration")}, outline-color ${i("toast.transition.duration")}, box-shadow ${i("toast.transition.duration")};
    outline-color: transparent;
    color: inherit;
    width: ${i("toast.close.button.width")};
    height: ${i("toast.close.button.height")};
    border-radius: ${i("toast.close.button.border.radius")};
    margin: -25% 0 0 0;
    right: -25%;
    padding: 0;
    border: none;
    user-select: none;
}

.p-toast-close-button:dir(rtl) {
    margin: -25% 0 0 auto;
    left: -25%;
    right: auto;
}

.p-toast-message-info,
.p-toast-message-success,
.p-toast-message-warn,
.p-toast-message-error,
.p-toast-message-secondary,
.p-toast-message-contrast {
    border-width: ${i("toast.border.width")};
    border-style: solid;
    backdrop-filter: blur(${i("toast.blur")});
    border-radius: ${i("toast.border.radius")};
}

.p-toast-close-icon {
    font-size: ${i("toast.close.icon.size")};
    width: ${i("toast.close.icon.size")};
    height: ${i("toast.close.icon.size")};
}

.p-toast-close-button:focus-visible {
    outline-width: ${i("focus.ring.width")};
    outline-style: ${i("focus.ring.style")};
    outline-offset: ${i("focus.ring.offset")};
}

.p-toast-message-info {
    background: ${i("toast.info.background")};
    border-color: ${i("toast.info.border.color")};
    color: ${i("toast.info.color")};
    box-shadow: ${i("toast.info.shadow")};
}

.p-toast-message-info .p-toast-detail {
    color: ${i("toast.info.detail.color")};
}

.p-toast-message-info .p-toast-close-button:focus-visible {
    outline-color: ${i("toast.info.close.button.focus.ring.color")};
    box-shadow: ${i("toast.info.close.button.focus.ring.shadow")};
}

.p-toast-message-info .p-toast-close-button:hover {
    background: ${i("toast.info.close.button.hover.background")};
}

.p-toast-message-success {
    background: ${i("toast.success.background")};
    border-color: ${i("toast.success.border.color")};
    color: ${i("toast.success.color")};
    box-shadow: ${i("toast.success.shadow")};
}

.p-toast-message-success .p-toast-detail {
    color: ${i("toast.success.detail.color")};
}

.p-toast-message-success .p-toast-close-button:focus-visible {
    outline-color: ${i("toast.success.close.button.focus.ring.color")};
    box-shadow: ${i("toast.success.close.button.focus.ring.shadow")};
}

.p-toast-message-success .p-toast-close-button:hover {
    background: ${i("toast.success.close.button.hover.background")};
}

.p-toast-message-warn {
    background: ${i("toast.warn.background")};
    border-color: ${i("toast.warn.border.color")};
    color: ${i("toast.warn.color")};
    box-shadow: ${i("toast.warn.shadow")};
}

.p-toast-message-warn .p-toast-detail {
    color: ${i("toast.warn.detail.color")};
}

.p-toast-message-warn .p-toast-close-button:focus-visible {
    outline-color: ${i("toast.warn.close.button.focus.ring.color")};
    box-shadow: ${i("toast.warn.close.button.focus.ring.shadow")};
}

.p-toast-message-warn .p-toast-close-button:hover {
    background: ${i("toast.warn.close.button.hover.background")};
}

.p-toast-message-error {
    background: ${i("toast.error.background")};
    border-color: ${i("toast.error.border.color")};
    color: ${i("toast.error.color")};
    box-shadow: ${i("toast.error.shadow")};
}

.p-toast-message-error .p-toast-detail {
    color: ${i("toast.error.detail.color")};
}

.p-toast-message-error .p-toast-close-button:focus-visible {
    outline-color: ${i("toast.error.close.button.focus.ring.color")};
    box-shadow: ${i("toast.error.close.button.focus.ring.shadow")};
}

.p-toast-message-error .p-toast-close-button:hover {
    background: ${i("toast.error.close.button.hover.background")};
}

.p-toast-message-secondary {
    background: ${i("toast.secondary.background")};
    border-color: ${i("toast.secondary.border.color")};
    color: ${i("toast.secondary.color")};
    box-shadow: ${i("toast.secondary.shadow")};
}

.p-toast-message-secondary .p-toast-detail {
    color: ${i("toast.secondary.detail.color")};
}

.p-toast-message-secondary .p-toast-close-button:focus-visible {
    outline-color: ${i("toast.secondary.close.button.focus.ring.color")};
    box-shadow: ${i("toast.secondary.close.button.focus.ring.shadow")};
}

.p-toast-message-secondary .p-toast-close-button:hover {
    background: ${i("toast.secondary.close.button.hover.background")};
}

.p-toast-message-contrast {
    background: ${i("toast.contrast.background")};
    border-color: ${i("toast.contrast.border.color")};
    color: ${i("toast.contrast.color")};
    box-shadow: ${i("toast.contrast.shadow")};
}

.p-toast-message-contrast .p-toast-detail {
    color: ${i("toast.contrast.detail.color")};
}

.p-toast-message-contrast .p-toast-close-button:focus-visible {
    outline-color: ${i("toast.contrast.close.button.focus.ring.color")};
    box-shadow: ${i("toast.contrast.close.button.focus.ring.shadow")};
}

.p-toast-message-contrast .p-toast-close-button:hover {
    background: ${i("toast.contrast.close.button.hover.background")};
}

.p-toast-top-center {
    transform: translateX(-50%);
}

.p-toast-bottom-center {
    transform: translateX(-50%);
}

.p-toast-center {
    min-width: 20vw;
    transform: translate(-50%, -50%);
}

.p-toast-message-enter-from {
    opacity: 0;
    transform: translateY(50%);
}

.p-toast-message-leave-from {
    max-height: 1000px;
}

.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}

.p-toast-message-enter-active {
    transition: transform 0.3s, opacity 0.3s;
}

.p-toast-message-leave-active {
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`,rGe={root:({instance:i})=>{let{_position:e}=i;return{position:"fixed",top:e==="top-right"||e==="top-left"||e==="top-center"?"20px":e==="center"?"50%":null,right:(e==="top-right"||e==="bottom-right")&&"20px",bottom:(e==="bottom-left"||e==="bottom-right"||e==="bottom-center")&&"20px",left:e==="top-left"||e==="bottom-left"?"20px":e==="center"||e==="top-center"||e==="bottom-center"?"50%":null}}},nGe={root:({instance:i})=>({"p-toast p-component":!0,[`p-toast-${i._position}`]:!!i._position}),message:({instance:i})=>({"p-toast-message":!0,"p-toast-message-info":i.message.severity==="info"||i.message.severity===void 0,"p-toast-message-warn":i.message.severity==="warn","p-toast-message-error":i.message.severity==="error","p-toast-message-success":i.message.severity==="success","p-toast-message-secondary":i.message.severity==="secondary","p-toast-message-contrast":i.message.severity==="contrast"}),messageContent:"p-toast-message-content",messageIcon:({instance:i})=>({"p-toast-message-icon":!0,[`pi ${i.message.icon}`]:!!i.message.icon}),messageText:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail",closeButton:"p-toast-close-button",closeIcon:({instance:i})=>({"p-toast-close-icon":!0,[`pi ${i.message.closeIcon}`]:!!i.message.closeIcon})},nw=(()=>{class i extends lt{name="toast";theme=iGe;classes=nGe;inlineStyles=rGe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var oGe=(()=>{class i extends Je{zone;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new Me;containerViewChild;_componentStyle=se(nw);timeout;constructor(t){super(),this.zone=t}ngAfterViewInit(){super.ngAfterViewInit(),this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=t=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||i)(ne(Bi))};static \u0275cmp=oe({type:i,selectors:[["p-toastItem"]],viewQuery:function(r,n){if(r&1&&Zt(mJ,5),r&2){let o;be(o=_e())&&(n.containerViewChild=o.first)}},inputs:{message:"message",index:[2,"index","index",wt],life:[2,"life","life",wt],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[He([nw]),Se],decls:4,vars:15,consts:[["container",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[3,"ngClass","class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","button","autofocus","",3,"click","keydown.enter","ariaLabel"]],template:function(r,n){if(r&1){let o=W();E(0,"div",1,0),V("mouseenter",function(){return P(o),L(n.onMouseEnter())})("mouseleave",function(){return P(o),L(n.onMouseLeave())}),D(2,NHe,1,5,"ng-container")(3,YHe,4,10,"div",2),T()}r&2&&(we(n.message==null?null:n.message.styleClass),C("ngClass",n.cx("message"))("@messageState",Fe(13,BHe,Lo(8,LHe,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),ae("id",n.message==null?null:n.message.id)("data-pc-name","toast")("data-pc-section","root"),v(2),ie(n.headlessTemplate?2:3))},dependencies:[tt,Gt,si,rt,nz,oz,az,Bs,hz,yt],encapsulation:2,data:{animation:[Tr("messageState",[Ks("visible",ti({transform:"translateY(0)",opacity:1})),Ci("void => *",[ti({transform:"{{showTransformParams}}",opacity:0}),Si("{{showTransitionParams}}")]),Ci("* => void",[Si("{{hideTransitionParams}}",ti({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return i})(),gJ=(()=>{class i extends Je{key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(t){this._position=t,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new Me;template;headlessTemplate;containerViewChild;messageSubscription;clearSubscription;messages;messagesArchieve;_position="top-right";messageService=se(kp);_componentStyle=se(nw);styleElement;id=gt("pn_id_");templates;ngOnInit(){super.ngOnInit(),this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(Array.isArray(t)){let r=t.filter(n=>this.canAdd(n));this.add(r)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}_template;_headlessTemplate;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"message":this._template=t.template;break;case"headless":this._headlessTemplate=t.template;break;default:this._template=t.template;break}})}ngAfterViewInit(){super.ngAfterViewInit(),this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let r=this.key===t.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,t)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,t)),r}containsMessage(t,r){return t?t.find(n=>n.summary===r.summary&&n.detail==r.detail&&n.severity===r.severity)!=null:!1}onMessageClose(t){this.messages?.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){t.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&li.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){t.toState==="void"&&this.autoZIndex&&Sr(this.messages)&&li.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints){let n="";for(let o in this.breakpoints[r])n+=o+":"+this.breakpoints[r][o]+" !important;";t+=`
                    @media screen and (max-width: ${r}) {
                        .p-toast[${this.id}] {
                           ${n}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",t),Xo(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&li.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-toast"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,JHe,5),Re(o,eGe,5),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.template=s.first),be(s=_e())&&(n.headlessTemplate=s.first),be(s=_e())&&(n.templates=s)}},viewQuery:function(r,n){if(r&1&&Zt(mJ,5),r&2){let o;be(o=_e())&&(n.containerViewChild=o.first)}},inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",de],baseZIndex:[2,"baseZIndex","baseZIndex",wt],life:[2,"life","life",wt],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",de],preventDuplicates:[2,"preventDuplicates","preventDuplicates",de],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[He([nw]),Se],decls:3,vars:7,consts:[["container",""],[3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(r,n){r&1&&(E(0,"div",1,0),D(2,tGe,1,10,"p-toastItem",2),T()),r&2&&(pt(n.style),we(n.styleClass),C("ngClass",n.cx("root"))("ngStyle",n.sx("root")),v(2),C("ngForOf",n.messages))},dependencies:[tt,Gt,$a,Ii,oGe,yt],encapsulation:2,data:{animation:[Tr("toastAnimation",[Ci(":enter, :leave",[B5("@*",L5())])])]},changeDetection:0})}return i})();var sGe=["header"],aGe=["footer"],lGe=["rejecticon"],cGe=["accepticon"],uGe=["message"],dGe=["icon"],pGe=["headless"],fGe=[[["p-footer"]]],hGe=["p-footer"],mGe=(i,e,t)=>({$implicit:i,onAccept:e,onReject:t}),gGe=i=>({$implicit:i});function yGe(i,e){i&1&&Pe(0)}function bGe(i,e){if(i&1&&D(0,yGe,1,0,"ng-container",6),i&2){let t=_(2);C("ngTemplateOutlet",t.headlessTemplate||t._headlessTemplate)("ngTemplateOutletContext",zs(2,mGe,t.confirmation,t.onAccept.bind(t),t.onReject.bind(t)))}}function _Ge(i,e){i&1&&D(0,bGe,1,6,"ng-template",null,2,Le)}function vGe(i,e){i&1&&Pe(0)}function xGe(i,e){if(i&1&&(E(0,"div",7),D(1,vGe,1,0,"ng-container",8),T()),i&2){let t=_(3);C("ngClass",t.cx("header")),v(),C("ngTemplateOutlet",t.headerTemplate||t._headerTemplate)}}function CGe(i,e){i&1&&D(0,xGe,2,2,"ng-template",null,4,Le)}function EGe(i,e){}function TGe(i,e){i&1&&D(0,EGe,0,0,"ng-template")}function wGe(i,e){if(i&1&&D(0,TGe,1,0,null,8),i&2){let t=_(3);C("ngTemplateOutlet",t.iconTemplate||t._iconTemplate)}}function SGe(i,e){if(i&1&&N(0,"i",7),i&2){let t=_(4);we(t.option("icon")),C("ngClass",t.cx("icon"))}}function AGe(i,e){if(i&1&&D(0,SGe,1,3,"i",11),i&2){let t=_(3);C("ngIf",t.option("icon"))}}function RGe(i,e){}function kGe(i,e){i&1&&D(0,RGe,0,0,"ng-template")}function DGe(i,e){if(i&1&&D(0,kGe,1,0,null,6),i&2){let t=_(3);C("ngTemplateOutlet",t.messageTemplate||t._messageTemplate)("ngTemplateOutletContext",Fe(2,gGe,t.confirmation))}}function IGe(i,e){if(i&1&&N(0,"span",10),i&2){let t=_(3);C("ngClass",t.cx("message"))("innerHTML",t.option("message"),zc)}}function PGe(i,e){if(i&1&&D(0,wGe,1,1)(1,AGe,1,1,"i",9)(2,DGe,1,4)(3,IGe,1,2,"span",10),i&2){let t=_(2);ie(t.iconTemplate||t._iconTemplate?0:!t.iconTemplate&&!t._iconTemplate&&!t._messageTemplate&&!t.messageTemplate?1:-1),v(2),ie(t.messageTemplate||t._messageTemplate?2:3)}}function LGe(i,e){if(i&1&&D(0,CGe,2,0)(1,PGe,4,2,"ng-template",null,3,Le),i&2){let t=_();ie(t.headerTemplate||t._headerTemplate?0:-1)}}function BGe(i,e){i&1&&Pe(0)}function OGe(i,e){if(i&1&&(xi(0),D(1,BGe,1,0,"ng-container",8)),i&2){let t=_(2);v(),C("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}function MGe(i,e){if(i&1&&N(0,"i"),i&2){let t=_(5);we(t.option("rejectIcon"))}}function VGe(i,e){if(i&1&&D(0,MGe,1,2,"i",15),i&2){let t=_(4);C("ngIf",t.option("rejectIcon"))}}function NGe(i,e){}function FGe(i,e){i&1&&D(0,NGe,0,0,"ng-template")}function UGe(i,e){if(i&1){let t=W();E(0,"p-button",13),V("onClick",function(){P(t);let n=_(3);return L(n.onReject())}),D(1,VGe,1,1,"i",14)(2,FGe,1,0,null,8),T()}if(i&2){let t=_(3);C("label",t.rejectButtonLabel)("styleClass",t.getButtonStyleClass("pcRejectButton","rejectButtonStyleClass"))("ariaLabel",t.option("rejectButtonProps","ariaLabel"))("buttonProps",t.getRejectButtonProps()),v(),ie(t.rejectIcon&&!t.rejectIconTemplate&&!t._rejectIconTemplate?1:-1),v(),C("ngTemplateOutlet",t.rejectIconTemplate||t._rejectIconTemplate)}}function jGe(i,e){if(i&1&&N(0,"i"),i&2){let t=_(5);we(t.option("acceptIcon"))}}function qGe(i,e){if(i&1&&D(0,jGe,1,2,"i",15),i&2){let t=_(4);C("ngIf",t.option("acceptIcon"))}}function $Ge(i,e){}function zGe(i,e){i&1&&D(0,$Ge,0,0,"ng-template")}function KGe(i,e){if(i&1){let t=W();E(0,"p-button",13),V("onClick",function(){P(t);let n=_(3);return L(n.onAccept())}),D(1,qGe,1,1,"i",14)(2,zGe,1,0,null,8),T()}if(i&2){let t=_(3);C("label",t.acceptButtonLabel)("styleClass",t.getButtonStyleClass("pcAcceptButton","acceptButtonStyleClass"))("ariaLabel",t.option("acceptButtonProps","ariaLabel"))("buttonProps",t.getAcceptButtonProps()),v(),ie(t.acceptIcon&&!t._acceptIconTemplate&&!t.acceptIconTemplate?1:-1),v(),C("ngTemplateOutlet",t.acceptIconTemplate||t._acceptIconTemplate)}}function HGe(i,e){if(i&1&&D(0,UGe,3,6,"p-button",12)(1,KGe,3,6,"p-button",12),i&2){let t=_(2);C("ngIf",t.option("rejectVisible")),v(),C("ngIf",t.option("acceptVisible"))}}function GGe(i,e){if(i&1&&D(0,OGe,2,1)(1,HGe,2,2),i&2){let t=_();ie(t.footerTemplate||t._footerTemplate?0:-1),v(),ie(!t.footerTemplate&&!t._footerTemplate?1:-1)}}var WGe=({dt:i})=>`
.p-confirmdialog .p-dialog-content {
    display: flex;
    align-items: center;
    gap:  ${i("confirmdialog.content.gap")};
}

.p-confirmdialog .p-confirmdialog-icon {
    color: ${i("confirmdialog.icon.color")};
    font-size: ${i("confirmdialog.icon.size")};
    width: ${i("confirmdialog.icon.size")};
    height: ${i("confirmdialog.icon.size")};
}
`,XGe={root:"p-confirmdialog",icon:"p-confirmdialog-icon",message:"p-confirmdialog-message",pcRejectButton:"p-confirmdialog-reject-button",pcAcceptButton:"p-confirmdialog-accept-button"},yJ=(()=>{class i extends lt{name="confirmdialog";theme=WGe;classes=XGe;static \u0275fac=(()=>{let t;return function(n){return(t||(t=ve(i)))(n||i)}})();static \u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();var ZGe=za([ti({transform:"{{transform}}",opacity:0}),Si("{{transition}}",ti({transform:"none",opacity:1}))]),QGe=za([Si("{{transition}}",ti({transform:"{{transform}}",opacity:0}))]),bJ=(()=>{class i extends Je{confirmationService;zone;header;icon;message;get style(){return this._style}set style(t){this._style=t,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo="body";key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new Me;footer;_componentStyle=se(yJ);headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;templates;_headerTemplate;_footerTemplate;_rejectIconTemplate;_acceptIconTemplate;_messageTemplate;_iconTemplate;_headlessTemplate;confirmation;_visible;_style;maskVisible;dialog;wrapper;contentContainer;subscription;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=gt("pn_id_");ariaLabelledBy=this.getAriaLabelledBy();translationSubscription;get containerClass(){return this.cx("root")+" "+this.styleClass||" "}constructor(t,r){super(),this.confirmationService=t,this.zone=r,this.subscription=this.confirmationService.requireConfirmation$.subscribe(n=>{if(!n){this.hide();return}n.key===this.key&&(this.confirmation=n,Object.keys(n).forEach(s=>{this[s]=n[s]}),this.confirmation.accept&&(this.confirmation.acceptEvent=new Me,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new Me,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){super.ngOnInit(),this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;case"message":this._messageTemplate=t.template;break;case"icon":this._iconTemplate=t.template;break;case"rejecticon":this._rejectIconTemplate=t.template;break;case"accepticon":this._acceptIconTemplate=t.template;break;case"headless":this._headlessTemplate=t.template;break}})}getAriaLabelledBy(){return this.header!==null?gt("pn_id_")+"_header":null}option(t,r){let n=this||this;if(n.hasOwnProperty(t))return r?n[r]:n[t]}getButtonStyleClass(t,r){let n=this.cx(t),o=this.option(r);return[n,o].filter(Boolean).join(" ")}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return tr(this.dialog.el.nativeElement,".p-confirm-dialog-accept");case"reject":return tr(this.dialog.el.nativeElement,".p-confirm-dialog-reject");case"close":return tr(this.dialog.el.nativeElement,".p-dialog-header-close");case"none":return null;default:return tr(this.dialog.el.nativeElement,".p-confirm-dialog-accept")}}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",this.document.head.appendChild(this.styleElement);let t="";for(let r in this.breakpoints)t+=`
                    @media screen and (max-width: ${r}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[r]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=t,Xo(this.styleElement,"nonce",this.config?.csp()?.nonce)}}close(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(zu.CANCEL),this.hide(zu.CANCEL)}hide(t){this.onHide.emit(t),this.visible=!1,this.confirmation=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle(),super.ngOnDestroy()}onVisibleChange(t){t?this.visible=t:this.close()}onAccept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(zu.ACCEPT)}onReject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(zu.REJECT),this.hide(zu.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(Ku.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(Ku.REJECT)}getAcceptButtonProps(){return this.option("acceptButtonProps")}getRejectButtonProps(){return this.option("rejectButtonProps")}static \u0275fac=function(r){return new(r||i)(ne(Rp),ne(Bi))};static \u0275cmp=oe({type:i,selectors:[["p-confirmDialog"],["p-confirmdialog"],["p-confirm-dialog"]],contentQueries:function(r,n,o){if(r&1&&(Re(o,Dp,5),Re(o,sGe,4),Re(o,aGe,4),Re(o,lGe,4),Re(o,cGe,4),Re(o,uGe,4),Re(o,dGe,4),Re(o,pGe,4),Re(o,Mi,4)),r&2){let s;be(s=_e())&&(n.footer=s.first),be(s=_e())&&(n.headerTemplate=s.first),be(s=_e())&&(n.footerTemplate=s.first),be(s=_e())&&(n.rejectIconTemplate=s.first),be(s=_e())&&(n.acceptIconTemplate=s.first),be(s=_e())&&(n.messageTemplate=s.first),be(s=_e())&&(n.iconTemplate=s.first),be(s=_e())&&(n.headlessTemplate=s.first),be(s=_e())&&(n.templates=s)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",de],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",de],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",de],dismissableMask:[2,"dismissableMask","dismissableMask",de],blockScroll:[2,"blockScroll","blockScroll",de],rtl:[2,"rtl","rtl",de],closable:[2,"closable","closable",de],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",de],baseZIndex:[2,"baseZIndex","baseZIndex",wt],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",de],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[He([yJ]),Se],ngContentSelectors:hGe,decls:6,vars:13,consts:[["dialog",""],["footer",""],["headless",""],["content",""],["header",""],["role","alertdialog",3,"visibleChange","visible","closable","styleClass","modal","header","closeOnEscape","blockScroll","appendTo","position","dismissableMask"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[4,"ngTemplateOutlet"],[3,"ngClass","class"],[3,"ngClass","innerHTML"],[3,"ngClass","class",4,"ngIf"],[3,"label","styleClass","ariaLabel","buttonProps","onClick",4,"ngIf"],[3,"onClick","label","styleClass","ariaLabel","buttonProps"],[3,"class"],[3,"class",4,"ngIf"]],template:function(r,n){if(r&1){let o=W();Wi(fGe),E(0,"p-dialog",5,0),V("visibleChange",function(a){return P(o),L(n.onVisibleChange(a))}),D(2,_Ge,2,0)(3,LGe,3,1)(4,GGe,2,2,"ng-template",null,1,Le),T()}r&2&&(pt(n.style),C("visible",n.visible)("closable",n.option("closable"))("styleClass",n.containerClass)("modal",!0)("header",n.option("header"))("closeOnEscape",n.option("closeOnEscape"))("blockScroll",n.option("blockScroll"))("appendTo",n.option("appendTo"))("position",n.position)("dismissableMask",n.dismissableMask),v(2),ie(n.headlessTemplate||n._headlessTemplate?2:3))},dependencies:[tt,Gt,si,rt,Os,kz,yt],encapsulation:2,data:{animation:[Tr("animation",[Ci("void => visible",[Ka(ZGe)]),Ci("visible => void",[Ka(QGe)])])]},changeDetection:0})}return i})();var ow=class i{constructor(e,t){this.authService=e;this.router=t;this.initApp()}initApp(){this.authService.authenticationState.pipe(G4(e=>!e,!0)).subscribe(e=>{e?this.router.navigate([""]):this.router.navigate(["login"])})}static \u0275fac=function(t){return new(t||i)(ne(qn),ne(fn))};static \u0275cmp=oe({type:i,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"app-container"],[3,"baseZIndex"]],template:function(t,r){t&1&&(E(0,"div",0),N(1,"router-outlet"),T(),N(2,"p-toast",1)(3,"p-confirm-dialog")),t&2&&(v(2),C("baseZIndex",1e6))},dependencies:[HS,gJ,bJ],styles:["[_nghost-%COMP%]{--p-toast-detail-font-weight: 400}  p-tooltip{font-size:14px}  .video-js .vjs-control-bar{background:linear-gradient(to top,rgba(43,51,63,.7),transparent)}  .video-js>.vjs-remaining-time{height:0;position:absolute;bottom:0;right:0;font-size:.75rem;font-family:Open Sans,sans-serif;opacity:0}  .video-js.vjs-user-inactive .vjs-remaining-time{height:2rem;opacity:1;transition:1.5s opacity ease}"]})};nB(ow,hJ).catch(i=>console.error(i));
